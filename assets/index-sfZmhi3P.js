(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function xD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var A0={exports:{}},ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function bD(){if($w)return ku;$w=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:a}}return ku.Fragment=t,ku.jsx=e,ku.jsxs=e,ku}var Gw;function _D(){return Gw||(Gw=1,A0.exports=bD()),A0.exports}var y=_D(),C0={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function wD(){if(Ww)return Lt;Ww=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function C(U,st,dt){this.props=U,this.context=st,this.refs=E,this.updater=dt||w}C.prototype.isReactComponent={},C.prototype.setState=function(U,st){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,st,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function N(){}N.prototype=C.prototype;function j(U,st,dt){this.props=U,this.context=st,this.refs=E,this.updater=dt||w}var B=j.prototype=new N;B.constructor=j,T(B,C.prototype),B.isPureReactComponent=!0;var W=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function M(U,st,dt,nt,pt,bt){return dt=bt.ref,{$$typeof:n,type:U,key:st,ref:dt!==void 0?dt:null,props:bt}}function R(U,st){return M(U.type,st,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function P(U){var st={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(dt){return st[dt]})}var L=/\/+/g;function z(U,st){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):st.toString(36)}function V(){}function et(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(V,V):(U.status="pending",U.then(function(st){U.status==="pending"&&(U.status="fulfilled",U.value=st)},function(st){U.status==="pending"&&(U.status="rejected",U.reason=st)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function it(U,st,dt,nt,pt){var bt=typeof U;(bt==="undefined"||bt==="boolean")&&(U=null);var ft=!1;if(U===null)ft=!0;else switch(bt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(U.$$typeof){case n:case t:ft=!0;break;case m:return ft=U._init,it(ft(U._payload),st,dt,nt,pt)}}if(ft)return pt=pt(U),ft=nt===""?"."+z(U,0):nt,W(pt)?(dt="",ft!=null&&(dt=ft.replace(L,"$&/")+"/"),it(pt,st,dt,"",function(ie){return ie})):pt!=null&&(I(pt)&&(pt=R(pt,dt+(pt.key==null||U&&U.key===pt.key?"":(""+pt.key).replace(L,"$&/")+"/")+ft)),st.push(pt)),1;ft=0;var At=nt===""?".":nt+":";if(W(U))for(var It=0;It<U.length;It++)nt=U[It],bt=At+z(nt,It),ft+=it(nt,st,dt,bt,pt);else if(It=x(U),typeof It=="function")for(U=It.call(U),It=0;!(nt=U.next()).done;)nt=nt.value,bt=At+z(nt,It++),ft+=it(nt,st,dt,bt,pt);else if(bt==="object"){if(typeof U.then=="function")return it(et(U),st,dt,nt,pt);throw st=String(U),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return ft}function G(U,st,dt){if(U==null)return U;var nt=[],pt=0;return it(U,nt,"","",function(bt){return st.call(dt,bt,pt++)}),nt}function Z(U){if(U._status===-1){var st=U._result;st=st(),st.then(function(dt){(U._status===0||U._status===-1)&&(U._status=1,U._result=dt)},function(dt){(U._status===0||U._status===-1)&&(U._status=2,U._result=dt)}),U._status===-1&&(U._status=0,U._result=st)}if(U._status===1)return U._result.default;throw U._result}var at=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function mt(){}return Lt.Children={map:G,forEach:function(U,st,dt){G(U,function(){st.apply(this,arguments)},dt)},count:function(U){var st=0;return G(U,function(){st++}),st},toArray:function(U){return G(U,function(st){return st})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Lt.Component=C,Lt.Fragment=e,Lt.Profiler=s,Lt.PureComponent=j,Lt.StrictMode=i,Lt.Suspense=h,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return F.H.useMemoCache(U)}},Lt.cache=function(U){return function(){return U.apply(null,arguments)}},Lt.cloneElement=function(U,st,dt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var nt=T({},U.props),pt=U.key,bt=void 0;if(st!=null)for(ft in st.ref!==void 0&&(bt=void 0),st.key!==void 0&&(pt=""+st.key),st)!q.call(st,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&st.ref===void 0||(nt[ft]=st[ft]);var ft=arguments.length-2;if(ft===1)nt.children=dt;else if(1<ft){for(var At=Array(ft),It=0;It<ft;It++)At[It]=arguments[It+2];nt.children=At}return M(U.type,pt,void 0,void 0,bt,nt)},Lt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Lt.createElement=function(U,st,dt){var nt,pt={},bt=null;if(st!=null)for(nt in st.key!==void 0&&(bt=""+st.key),st)q.call(st,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(pt[nt]=st[nt]);var ft=arguments.length-2;if(ft===1)pt.children=dt;else if(1<ft){for(var At=Array(ft),It=0;It<ft;It++)At[It]=arguments[It+2];pt.children=At}if(U&&U.defaultProps)for(nt in ft=U.defaultProps,ft)pt[nt]===void 0&&(pt[nt]=ft[nt]);return M(U,bt,void 0,void 0,null,pt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(U){return{$$typeof:c,render:U}},Lt.isValidElement=I,Lt.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:Z}},Lt.memo=function(U,st){return{$$typeof:d,type:U,compare:st===void 0?null:st}},Lt.startTransition=function(U){var st=F.T,dt={};F.T=dt;try{var nt=U(),pt=F.S;pt!==null&&pt(dt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(mt,at)}catch(bt){at(bt)}finally{F.T=st}},Lt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Lt.use=function(U){return F.H.use(U)},Lt.useActionState=function(U,st,dt){return F.H.useActionState(U,st,dt)},Lt.useCallback=function(U,st){return F.H.useCallback(U,st)},Lt.useContext=function(U){return F.H.useContext(U)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(U,st){return F.H.useDeferredValue(U,st)},Lt.useEffect=function(U,st,dt){var nt=F.H;if(typeof dt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(U,st)},Lt.useId=function(){return F.H.useId()},Lt.useImperativeHandle=function(U,st,dt){return F.H.useImperativeHandle(U,st,dt)},Lt.useInsertionEffect=function(U,st){return F.H.useInsertionEffect(U,st)},Lt.useLayoutEffect=function(U,st){return F.H.useLayoutEffect(U,st)},Lt.useMemo=function(U,st){return F.H.useMemo(U,st)},Lt.useOptimistic=function(U,st){return F.H.useOptimistic(U,st)},Lt.useReducer=function(U,st,dt){return F.H.useReducer(U,st,dt)},Lt.useRef=function(U){return F.H.useRef(U)},Lt.useState=function(U){return F.H.useState(U)},Lt.useSyncExternalStore=function(U,st,dt){return F.H.useSyncExternalStore(U,st,dt)},Lt.useTransition=function(){return F.H.useTransition()},Lt.version="19.1.1",Lt}var Yw;function Cv(){return Yw||(Yw=1,C0.exports=wD()),C0.exports}var O=Cv();const Rv=xD(O);var R0={exports:{}},Mu={},N0={exports:{}},k0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw;function TD(){return Qw||(Qw=1,function(n){function t(G,Z){var at=G.length;G.push(Z);t:for(;0<at;){var mt=at-1>>>1,U=G[mt];if(0<s(U,Z))G[mt]=Z,G[at]=U,at=mt;else break t}}function e(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],at=G.pop();if(at!==Z){G[0]=at;t:for(var mt=0,U=G.length,st=U>>>1;mt<st;){var dt=2*(mt+1)-1,nt=G[dt],pt=dt+1,bt=G[pt];if(0>s(nt,at))pt<U&&0>s(bt,nt)?(G[mt]=bt,G[pt]=at,mt=pt):(G[mt]=nt,G[dt]=at,mt=dt);else if(pt<U&&0>s(bt,at))G[mt]=bt,G[pt]=at,mt=pt;else break t}}return Z}function s(G,Z){var at=G.sortIndex-Z.sortIndex;return at!==0?at:G.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],d=[],m=1,v=null,x=3,w=!1,T=!1,E=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function W(G){for(var Z=e(d);Z!==null;){if(Z.callback===null)i(d);else if(Z.startTime<=G)i(d),Z.sortIndex=Z.expirationTime,t(h,Z);else break;Z=e(d)}}function F(G){if(E=!1,W(G),!T)if(e(h)!==null)T=!0,q||(q=!0,z());else{var Z=e(d);Z!==null&&it(F,Z.startTime-G)}}var q=!1,M=-1,R=5,I=-1;function P(){return C?!0:!(n.unstable_now()-I<R)}function L(){if(C=!1,q){var G=n.unstable_now();I=G;var Z=!0;try{t:{T=!1,E&&(E=!1,j(M),M=-1),w=!0;var at=x;try{e:{for(W(G),v=e(h);v!==null&&!(v.expirationTime>G&&P());){var mt=v.callback;if(typeof mt=="function"){v.callback=null,x=v.priorityLevel;var U=mt(v.expirationTime<=G);if(G=n.unstable_now(),typeof U=="function"){v.callback=U,W(G),Z=!0;break e}v===e(h)&&i(h),W(G)}else i(h);v=e(h)}if(v!==null)Z=!0;else{var st=e(d);st!==null&&it(F,st.startTime-G),Z=!1}}break t}finally{v=null,x=at,w=!1}Z=void 0}}finally{Z?z():q=!1}}}var z;if(typeof B=="function")z=function(){B(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,et=V.port2;V.port1.onmessage=L,z=function(){et.postMessage(null)}}else z=function(){N(L,0)};function it(G,Z){M=N(function(){G(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(G){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var at=x;x=Z;try{return G()}finally{x=at}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var at=x;x=G;try{return Z()}finally{x=at}},n.unstable_scheduleCallback=function(G,Z,at){var mt=n.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?mt+at:mt):at=mt,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=at+U,G={id:m++,callback:Z,priorityLevel:G,startTime:at,expirationTime:U,sortIndex:-1},at>mt?(G.sortIndex=at,t(d,G),e(h)===null&&G===e(d)&&(E?(j(M),M=-1):E=!0,it(F,at-mt))):(G.sortIndex=U,t(h,G),T||w||(T=!0,q||(q=!0,z()))),G},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(G){var Z=x;return function(){var at=x;x=Z;try{return G.apply(this,arguments)}finally{x=at}}}}(k0)),k0}var Kw;function SD(){return Kw||(Kw=1,N0.exports=TD()),N0.exports}var M0={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function ED(){if(Xw)return An;Xw=1;var n=Cv();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:d,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,An.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,m)},An.flushSync=function(h){var d=l.T,m=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=m,i.d.f()}},An.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},An.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},An.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,v=c(m,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):m==="script"&&i.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},An.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},An.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,v=c(m,d.crossOrigin);i.d.L(h,m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},An.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},An.requestFormReset=function(h){i.d.r(h)},An.unstable_batchedUpdates=function(h,d){return h(d)},An.useFormState=function(h,d,m){return l.H.useFormState(h,d,m)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.1.1",An}var Zw;function AD(){if(Zw)return M0.exports;Zw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),M0.exports=ED(),M0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function CD(){if(Jw)return Mu;Jw=1;var n=SD(),t=Cv(),e=AD();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,f=o;;){var g=u.return;if(g===null)break;var b=g.alternate;if(b===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===u)return c(g),r;if(b===f)return c(g),o;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=g,f=b;else{for(var A=!1,k=g.child;k;){if(k===u){A=!0,u=g,f=b;break}if(k===f){A=!0,f=g,u=b;break}k=k.sibling}if(!A){for(k=b.child;k;){if(k===u){A=!0,u=b,f=g;break}if(k===f){A=!0,f=b,u=g;break}k=k.sibling}if(!A)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function d(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=d(r),o!==null)return o;r=r.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),B=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function et(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case F:return"Suspense";case q:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case B:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case W:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return o=r.displayName||null,o!==null?o:et(r.type)||"Memo";case R:o=r._payload,r=r._init;try{return et(r(o))}catch{}}return null}var it=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},mt=[],U=-1;function st(r){return{current:r}}function dt(r){0>U||(r.current=mt[U],mt[U]=null,U--)}function nt(r,o){U++,mt[U]=r.current,r.current=o}var pt=st(null),bt=st(null),ft=st(null),At=st(null);function It(r,o){switch(nt(ft,o),nt(bt,r),nt(pt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?xw(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=xw(o),r=bw(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}dt(pt),nt(pt,r)}function ie(){dt(pt),dt(bt),dt(ft)}function Fe(r){r.memoizedState!==null&&nt(At,r);var o=pt.current,u=bw(o,r.type);o!==u&&(nt(bt,r),nt(pt,u))}function _t(r){bt.current===r&&(dt(pt),dt(bt)),At.current===r&&(dt(At),Eu._currentValue=at)}var ee=Object.prototype.hasOwnProperty,Dt=n.unstable_scheduleCallback,Ne=n.unstable_cancelCallback,Xe=n.unstable_shouldYield,Jn=n.unstable_requestPaint,Ot=n.unstable_now,Es=n.unstable_getCurrentPriorityLevel,Gi=n.unstable_ImmediatePriority,br=n.unstable_UserBlockingPriority,$n=n.unstable_NormalPriority,Tc=n.unstable_LowPriority,Fo=n.unstable_IdlePriority,Sc=n.log,nd=n.unstable_setDisableYieldValue,ke=null,ae=null;function ti(r){if(typeof Sc=="function"&&nd(r),ae&&typeof ae.setStrictMode=="function")try{ae.setStrictMode(ke,r)}catch{}}var Sn=Math.clz32?Math.clz32:ka,id=Math.log,Rp=Math.LN2;function ka(r){return r>>>=0,r===0?32:31-(id(r)/Rp|0)|0}var Ma=256,Ia=4194304;function Mi(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ho(r,o,u){var f=r.pendingLanes;if(f===0)return 0;var g=0,b=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var k=f&134217727;return k!==0?(f=k&~b,f!==0?g=Mi(f):(A&=k,A!==0?g=Mi(A):u||(u=k&~r,u!==0&&(g=Mi(u))))):(k=f&~b,k!==0?g=Mi(k):A!==0?g=Mi(A):u||(u=f&~r,u!==0&&(g=Mi(u)))),g===0?0:o!==0&&o!==g&&(o&b)===0&&(b=g&-g,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:g}function Da(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Ec(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(){var r=Ma;return Ma<<=1,(Ma&4194048)===0&&(Ma=256),r}function Cc(){var r=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),r}function As(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function Cs(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Rc(r,o,u,f,g,b){var A=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var k=r.entanglements,H=r.expirationTimes,X=r.hiddenUpdates;for(u=A&~u;0<u;){var ot=31-Sn(u),ut=1<<ot;k[ot]=0,H[ot]=-1;var J=X[ot];if(J!==null)for(X[ot]=null,ot=0;ot<J.length;ot++){var tt=J[ot];tt!==null&&(tt.lane&=-536870913)}u&=~ut}f!==0&&Wi(r,f,0),b!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=b&~(A&~o))}function Wi(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-Sn(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function Nc(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var f=31-Sn(u),g=1<<f;g&o|r[f]&o&&(r[f]|=o),u&=~g}}function _r(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function qo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function wr(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:zw(r.type))}function sd(r,o){var u=Z.p;try{return Z.p=r,o()}finally{Z.p=u}}var be=Math.random().toString(36).slice(2),Ze="__reactFiber$"+be,He="__reactProps$"+be,hi="__reactContainer$"+be,kc="__reactEvents$"+be,Np="__reactListeners$"+be,Tr="__reactHandles$"+be,rd="__reactResources$"+be,Pa="__reactMarker$"+be;function Sr(r){delete r[Ze],delete r[He],delete r[kc],delete r[Np],delete r[Tr]}function Rs(r){var o=r[Ze];if(o)return o;for(var u=r.parentNode;u;){if(o=u[hi]||u[Ze]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=Sw(r);r!==null;){if(u=r[Ze])return u;r=Sw(r)}return o}r=u,u=r.parentNode}return null}function Yi(r){if(r=r[Ze]||r[hi]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Qi(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function zn(r){var o=r[rd];return o||(o=r[rd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Oe(r){r[Pa]=!0}var Mc=new Set,$o={};function Ii(r,o){Ns(r,o),Ns(r+"Capture",o)}function Ns(r,o){for($o[r]=o,r=0;r<o.length;r++)Mc.add(o[r])}var ad=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),od={},Oa={};function ld(r){return ee.call(Oa,r)?!0:ee.call(od,r)?!1:ad.test(r)?Oa[r]=!0:(od[r]=!0,!1)}function Er(r,o,u){if(ld(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Ki(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function pn(r,o,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+f)}}var ja,cd;function ks(r){if(ja===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ja=o&&o[1]||"",cd=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+r+cd}var Go=!1;function Wo(r,o){if(!r||Go)return"";Go=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(tt){var J=tt}Reflect.construct(r,[],ut)}else{try{ut.call()}catch(tt){J=tt}r.call(ut.prototype)}}else{try{throw Error()}catch(tt){J=tt}(ut=r())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(tt){if(tt&&J&&typeof tt.stack=="string")return[tt.stack,J.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),A=b[0],k=b[1];if(A&&k){var H=A.split(`
`),X=k.split(`
`);for(g=f=0;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;for(;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;if(f===H.length||g===X.length)for(f=H.length-1,g=X.length-1;1<=f&&0<=g&&H[f]!==X[g];)g--;for(;1<=f&&0<=g;f--,g--)if(H[f]!==X[g]){if(f!==1||g!==1)do if(f--,g--,0>g||H[f]!==X[g]){var ot=`
`+H[f].replace(" at new "," at ");return r.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",r.displayName)),ot}while(1<=f&&0<=g);break}}}finally{Go=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ks(u):""}function Ic(r){switch(r.tag){case 26:case 27:case 5:return ks(r.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 15:return Wo(r.type,!1);case 11:return Wo(r.type.render,!1);case 1:return Wo(r.type,!0);case 31:return ks("Activity");default:return""}}function Yo(r){try{var o="";do o+=Ic(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Dc(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kp(r){var o=Dc(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,b=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){f=""+A,b.call(this,A)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Qo(r){r._valueTracker||(r._valueTracker=kp(r))}function Pc(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return r&&(f=Dc(r)?r.checked?"true":"false":r.value),r=f,r!==u?(o.setValue(r),!0):!1}function Va(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Mp=/[\n"\\]/g;function qe(r){return r.replace(Mp,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ei(r,o,u,f,g,b,A,k){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),o!=null?A==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Bn(o)):r.value!==""+Bn(o)&&(r.value=""+Bn(o)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),o!=null?Ar(r,A,Bn(o)):u!=null?Ar(r,A,Bn(u)):f!=null&&r.removeAttribute("value"),g==null&&b!=null&&(r.defaultChecked=!!b),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+Bn(k):r.removeAttribute("name")}function La(r,o,u,f,g,b,A,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+Bn(u):"",o=o!=null?""+Bn(o):u,k||o===r.value||(r.value=o),r.defaultValue=o}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=k?r.checked:!!f,r.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function Ar(r,o,u){o==="number"&&Va(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Ms(r,o,u,f){if(r=r.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=o.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&f&&(r[u].defaultSelected=!0)}else{for(u=""+Bn(u),o=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function ue(r,o,u){if(o!=null&&(o=""+Bn(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+Bn(u):""}function za(r,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(it(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=Bn(o),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function di(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var Ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ud(r,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,u):typeof u!="number"||u===0||Ba.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Oc(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var g in o)f=o[g],o.hasOwnProperty(g)&&u[g]!==f&&ud(r,g,f)}else for(var b in o)o.hasOwnProperty(b)&&ud(r,b,o[b])}function jc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ko(r){return Dp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Is=null;function fi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ds=null,Ps=null;function Vc(r){var o=Yi(r);if(o&&(r=o.stateNode)){var u=r[He]||null;t:switch(r=o.stateNode,o.type){case"input":if(ei(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+qe(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==r&&f.form===r.form){var g=f[He]||null;if(!g)throw Error(i(90));ei(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===r.form&&Pc(f)}break t;case"textarea":ue(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&Ms(r,!!u.multiple,o,!1)}}}var Xi=!1;function hd(r,o,u){if(Xi)return r(o,u);Xi=!0;try{var f=r(o);return f}finally{if(Xi=!1,(Ds!==null||Ps!==null)&&(rf(),Ds&&(o=Ds,r=Ps,Ps=Ds=null,Vc(o),r)))for(o=0;o<r.length;o++)Vc(r[o])}}function Ua(r,o){var u=r.stateNode;if(u===null)return null;var f=u[He]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mi=!1;if(Di)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){mi=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{mi=!1}var Zi=null,Cr=null,Os=null;function Lc(){if(Os)return Os;var r,o=Cr,u=o.length,f,g="value"in Zi?Zi.value:Zi.textContent,b=g.length;for(r=0;r<u&&o[r]===g[r];r++);var A=u-r;for(f=1;f<=A&&o[u-f]===g[b-f];f++);return Os=g.slice(r,1<f?1-f:void 0)}function Ji(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function ts(){return!0}function zc(){return!1}function an(r){function o(u,f,g,b,A){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(u=r[k],this[k]=u?u(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ts:zc,this.isPropagationStopped=zc,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),o}var se={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=an(se),Ha=m({},se,{view:0,detail:0}),dd=an(Ha),Zo,Jo,es,qa=m({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==es&&(es&&r.type==="mousemove"?(Zo=r.screenX-es.screenX,Jo=r.screenY-es.screenY):Jo=Zo=0,es=r),Zo)},movementY:function(r){return"movementY"in r?r.movementY:Jo}}),pi=an(qa),fd=m({},qa,{dataTransfer:0}),Pp=an(fd),$a=m({},Ha,{relatedTarget:0}),tl=an($a),Bc=m({},se,{animationName:0,elapsedTime:0,pseudoElement:0}),el=an(Bc),md=m({},se,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),nl=an(md),Op=m({},se,{data:0}),Uc=an(Op),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fc(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=gd[r])?!!o[r]:!1}function Wa(){return Fc}var yd=m({},Ha,{key:function(r){if(r.key){var o=Ga[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ji(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(r){return r.type==="keypress"?Ji(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ji(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),il=an(yd),vd=m({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=an(vd),js=m({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),xd=an(js),bd=m({},se,{propertyName:0,elapsedTime:0,pseudoElement:0}),_d=an(bd),wd=m({},qa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),sl=an(wd),Un=m({},se,{newState:0,oldState:0}),Td=an(Un),Sd=[9,13,27,32],ns=Di&&"CompositionEvent"in window,p=null;Di&&"documentMode"in document&&(p=document.documentMode);var _=Di&&"TextEvent"in window&&!p,S=Di&&(!ns||p&&8<p&&11>=p),D=" ",Q=!1;function rt(r,o){switch(r){case"keyup":return Sd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Yt=!1;function Je(r,o){switch(r){case"compositionend":return gt(o);case"keypress":return o.which!==32?null:(Q=!0,D);case"textInput":return r=o.data,r===D&&Q?null:r;default:return null}}function Qt(r,o){if(Yt)return r==="compositionend"||!ns&&rt(r,o)?(r=Lc(),Os=Cr=Zi=null,Yt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!on[r.type]:o==="textarea"}function Vs(r,o,u,f){Ds?Ps?Ps.push(f):Ps=[f]:Ds=f,o=hf(o,"onChange"),0<o.length&&(u=new Xo("onChange","change",null,u,f),r.push({event:u,listeners:o}))}var gn=null,is=null;function qc(r){mw(r,0)}function Ed(r){var o=Qi(r);if(Pc(o))return r}function Ob(r,o){if(r==="change")return o}var jb=!1;if(Di){var jp;if(Di){var Vp="oninput"in document;if(!Vp){var Vb=document.createElement("div");Vb.setAttribute("oninput","return;"),Vp=typeof Vb.oninput=="function"}jp=Vp}else jp=!1;jb=jp&&(!document.documentMode||9<document.documentMode)}function Lb(){gn&&(gn.detachEvent("onpropertychange",zb),is=gn=null)}function zb(r){if(r.propertyName==="value"&&Ed(is)){var o=[];Vs(o,is,r,fi(r)),hd(qc,o)}}function QM(r,o,u){r==="focusin"?(Lb(),gn=o,is=u,gn.attachEvent("onpropertychange",zb)):r==="focusout"&&Lb()}function KM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ed(is)}function XM(r,o){if(r==="click")return Ed(o)}function ZM(r,o){if(r==="input"||r==="change")return Ed(o)}function JM(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var ni=typeof Object.is=="function"?Object.is:JM;function $c(r,o){if(ni(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!ee.call(o,g)||!ni(r[g],o[g]))return!1}return!0}function Bb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ub(r,o){var u=Bb(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=o&&f>=o)return{node:u,offset:o-r};r=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Bb(u)}}function Fb(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Fb(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Hb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Va(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=Va(r.document)}return o}function Lp(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var tI=Di&&"documentMode"in document&&11>=document.documentMode,rl=null,zp=null,Gc=null,Bp=!1;function qb(r,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bp||rl==null||rl!==Va(f)||(f=rl,"selectionStart"in f&&Lp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Gc&&$c(Gc,f)||(Gc=f,f=hf(zp,"onSelect"),0<f.length&&(o=new Xo("onSelect","select",null,o,u),r.push({event:o,listeners:f}),o.target=rl)))}function Ya(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var al={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},Up={},$b={};Di&&($b=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Qa(r){if(Up[r])return Up[r];if(!al[r])return r;var o=al[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in $b)return Up[r]=o[u];return r}var Gb=Qa("animationend"),Wb=Qa("animationiteration"),Yb=Qa("animationstart"),eI=Qa("transitionrun"),nI=Qa("transitionstart"),iI=Qa("transitioncancel"),Qb=Qa("transitionend"),Kb=new Map,Fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fp.push("scrollEnd");function Pi(r,o){Kb.set(r,o),Ii(o,[r])}var Xb=new WeakMap;function gi(r,o){if(typeof r=="object"&&r!==null){var u=Xb.get(r);return u!==void 0?u:(o={value:r,source:o,stack:Yo(o)},Xb.set(r,o),o)}return{value:r,source:o,stack:Yo(o)}}var yi=[],ol=0,Hp=0;function Ad(){for(var r=ol,o=Hp=ol=0;o<r;){var u=yi[o];yi[o++]=null;var f=yi[o];yi[o++]=null;var g=yi[o];yi[o++]=null;var b=yi[o];if(yi[o++]=null,f!==null&&g!==null){var A=f.pending;A===null?g.next=g:(g.next=A.next,A.next=g),f.pending=g}b!==0&&Zb(u,g,b)}}function Cd(r,o,u,f){yi[ol++]=r,yi[ol++]=o,yi[ol++]=u,yi[ol++]=f,Hp|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function qp(r,o,u,f){return Cd(r,o,u,f),Rd(r)}function ll(r,o){return Cd(r,null,null,o),Rd(r)}function Zb(r,o,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var g=!1,b=r.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(g=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,g&&o!==null&&(g=31-Sn(u),r=b.hiddenUpdates,f=r[g],f===null?r[g]=[o]:f.push(o),o.lane=u|536870912),b):null}function Rd(r){if(50<yu)throw yu=0,Kg=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var cl={};function sI(r,o,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(r,o,u,f){return new sI(r,o,u,f)}function $p(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ls(r,o){var u=r.alternate;return u===null?(u=ii(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Jb(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Nd(r,o,u,f,g,b){var A=0;if(f=r,typeof r=="function")$p(r)&&(A=1);else if(typeof r=="string")A=aD(r,u,pt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case I:return r=ii(31,u,o,g),r.elementType=I,r.lanes=b,r;case T:return Ka(u.children,g,b,o);case E:A=8,g|=24;break;case C:return r=ii(12,u,o,g|2),r.elementType=C,r.lanes=b,r;case F:return r=ii(13,u,o,g),r.elementType=F,r.lanes=b,r;case q:return r=ii(19,u,o,g),r.elementType=q,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:case B:A=10;break t;case j:A=9;break t;case W:A=11;break t;case M:A=14;break t;case R:A=16,f=null;break t}A=29,u=Error(i(130,r===null?"null":typeof r,"")),f=null}return o=ii(A,u,o,g),o.elementType=r,o.type=f,o.lanes=b,o}function Ka(r,o,u,f){return r=ii(7,r,f,o),r.lanes=u,r}function Gp(r,o,u){return r=ii(6,r,null,o),r.lanes=u,r}function Wp(r,o,u){return o=ii(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var ul=[],hl=0,kd=null,Md=0,vi=[],xi=0,Xa=null,zs=1,Bs="";function Za(r,o){ul[hl++]=Md,ul[hl++]=kd,kd=r,Md=o}function t_(r,o,u){vi[xi++]=zs,vi[xi++]=Bs,vi[xi++]=Xa,Xa=r;var f=zs;r=Bs;var g=32-Sn(f)-1;f&=~(1<<g),u+=1;var b=32-Sn(o)+g;if(30<b){var A=g-g%5;b=(f&(1<<A)-1).toString(32),f>>=A,g-=A,zs=1<<32-Sn(o)+g|u<<g|f,Bs=b+r}else zs=1<<b|u<<g|f,Bs=r}function Yp(r){r.return!==null&&(Za(r,1),t_(r,1,0))}function Qp(r){for(;r===kd;)kd=ul[--hl],ul[hl]=null,Md=ul[--hl],ul[hl]=null;for(;r===Xa;)Xa=vi[--xi],vi[xi]=null,Bs=vi[--xi],vi[xi]=null,zs=vi[--xi],vi[xi]=null}var Fn=null,Me=null,ne=!1,Ja=null,ss=!1,Kp=Error(i(519));function to(r){var o=Error(i(418,""));throw Qc(gi(o,r)),Kp}function e_(r){var o=r.stateNode,u=r.type,f=r.memoizedProps;switch(o[Ze]=r,o[He]=f,u){case"dialog":Ft("cancel",o),Ft("close",o);break;case"iframe":case"object":case"embed":Ft("load",o);break;case"video":case"audio":for(u=0;u<xu.length;u++)Ft(xu[u],o);break;case"source":Ft("error",o);break;case"img":case"image":case"link":Ft("error",o),Ft("load",o);break;case"details":Ft("toggle",o);break;case"input":Ft("invalid",o),La(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Qo(o);break;case"select":Ft("invalid",o);break;case"textarea":Ft("invalid",o),za(o,f.value,f.defaultValue,f.children),Qo(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||vw(o.textContent,u)?(f.popover!=null&&(Ft("beforetoggle",o),Ft("toggle",o)),f.onScroll!=null&&Ft("scroll",o),f.onScrollEnd!=null&&Ft("scrollend",o),f.onClick!=null&&(o.onclick=df),o=!0):o=!1,o||to(r)}function n_(r){for(Fn=r.return;Fn;)switch(Fn.tag){case 5:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:Fn=Fn.return}}function Wc(r){if(r!==Fn)return!1;if(!ne)return n_(r),ne=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||d0(r.type,r.memoizedProps)),u=!u),u&&Me&&to(r),n_(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){Me=ji(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}Me=null}}else o===27?(o=Me,Hr(r.type)?(r=g0,g0=null,Me=r):Me=o):Me=Fn?ji(r.stateNode.nextSibling):null;return!0}function Yc(){Me=Fn=null,ne=!1}function i_(){var r=Ja;return r!==null&&(Yn===null?Yn=r:Yn.push.apply(Yn,r),Ja=null),r}function Qc(r){Ja===null?Ja=[r]:Ja.push(r)}var Xp=st(null),eo=null,Us=null;function Rr(r,o,u){nt(Xp,o._currentValue),o._currentValue=u}function Fs(r){r._currentValue=Xp.current,dt(Xp)}function Zp(r,o,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===u)break;r=r.return}}function Jp(r,o,u,f){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var b=g.dependencies;if(b!==null){var A=g.child;b=b.firstContext;t:for(;b!==null;){var k=b;b=g;for(var H=0;H<o.length;H++)if(k.context===o[H]){b.lanes|=u,k=b.alternate,k!==null&&(k.lanes|=u),Zp(b.return,u,r),f||(A=null);break t}b=k.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(i(341));A.lanes|=u,b=A.alternate,b!==null&&(b.lanes|=u),Zp(A,u,r),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===r){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Kc(r,o,u,f){r=null;for(var g=o,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var k=g.type;ni(g.pendingProps.value,A.value)||(r!==null?r.push(k):r=[k])}}else if(g===At.current){if(A=g.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Eu):r=[Eu])}g=g.return}r!==null&&Jp(o,r,u,f),o.flags|=262144}function Id(r){for(r=r.firstContext;r!==null;){if(!ni(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function no(r){eo=r,Us=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function En(r){return s_(eo,r)}function Dd(r,o){return eo===null&&no(r),s_(r,o)}function s_(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Us===null){if(r===null)throw Error(i(308));Us=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Us=Us.next=o;return u}var rI=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},aI=n.unstable_scheduleCallback,oI=n.unstable_NormalPriority,en={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tg(){return{controller:new rI,data:new Map,refCount:0}}function Xc(r){r.refCount--,r.refCount===0&&aI(oI,function(){r.controller.abort()})}var Zc=null,eg=0,dl=0,fl=null;function lI(r,o){if(Zc===null){var u=Zc=[];eg=0,dl=i0(),fl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return eg++,o.then(r_,r_),o}function r_(){if(--eg===0&&Zc!==null){fl!==null&&(fl.status="fulfilled");var r=Zc;Zc=null,dl=0,fl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function cI(r,o){var u=[],f={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var g=0;g<u.length;g++)(0,u[g])(o)},function(g){for(f.status="rejected",f.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),f}var a_=G.S;G.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&lI(r,o),a_!==null&&a_(r,o)};var io=st(null);function ng(){var r=io.current;return r!==null?r:pe.pooledCache}function Pd(r,o){o===null?nt(io,io.current):nt(io,o.pool)}function o_(){var r=ng();return r===null?null:{parent:en._currentValue,pool:r}}var Jc=Error(i(460)),l_=Error(i(474)),Od=Error(i(542)),ig={then:function(){}};function c_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function jd(){}function u_(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(jd,jd),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,d_(r),r;default:if(typeof o.status=="string")o.then(jd,jd);else{if(r=pe,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=f}},function(f){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,d_(r),r}throw tu=o,Jc}}var tu=null;function h_(){if(tu===null)throw Error(i(459));var r=tu;return tu=null,r}function d_(r){if(r===Jc||r===Od)throw Error(i(483))}var Nr=!1;function sg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function kr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Mr(r,o,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(oe&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,o=Rd(r),Zb(r,null,u),o}return Cd(r,f,o,u),Rd(r)}function eu(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,Nc(r,u)}}function ag(r,o){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?g=b=A:b=b.next=A,u=u.next}while(u!==null);b===null?g=b=o:b=b.next=o}else g=b=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var og=!1;function nu(){if(og){var r=fl;if(r!==null)throw r}}function iu(r,o,u,f){og=!1;var g=r.updateQueue;Nr=!1;var b=g.firstBaseUpdate,A=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var H=k,X=H.next;H.next=null,A===null?b=X:A.next=X,A=H;var ot=r.alternate;ot!==null&&(ot=ot.updateQueue,k=ot.lastBaseUpdate,k!==A&&(k===null?ot.firstBaseUpdate=X:k.next=X,ot.lastBaseUpdate=H))}if(b!==null){var ut=g.baseState;A=0,ot=X=H=null,k=b;do{var J=k.lane&-536870913,tt=J!==k.lane;if(tt?(Kt&J)===J:(f&J)===J){J!==0&&J===dl&&(og=!0),ot!==null&&(ot=ot.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Nt=r,St=k;J=o;var fe=u;switch(St.tag){case 1:if(Nt=St.payload,typeof Nt=="function"){ut=Nt.call(fe,ut,J);break t}ut=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=St.payload,J=typeof Nt=="function"?Nt.call(fe,ut,J):Nt,J==null)break t;ut=m({},ut,J);break t;case 2:Nr=!0}}J=k.callback,J!==null&&(r.flags|=64,tt&&(r.flags|=8192),tt=g.callbacks,tt===null?g.callbacks=[J]:tt.push(J))}else tt={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ot===null?(X=ot=tt,H=ut):ot=ot.next=tt,A|=J;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;tt=k,k=tt.next,tt.next=null,g.lastBaseUpdate=tt,g.shared.pending=null}}while(!0);ot===null&&(H=ut),g.baseState=H,g.firstBaseUpdate=X,g.lastBaseUpdate=ot,b===null&&(g.shared.lanes=0),zr|=A,r.lanes=A,r.memoizedState=ut}}function f_(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function m_(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)f_(u[r],o)}var ml=st(null),Vd=st(0);function p_(r,o){r=Qs,nt(Vd,r),nt(ml,o),Qs=r|o.baseLanes}function lg(){nt(Vd,Qs),nt(ml,ml.current)}function cg(){Qs=Vd.current,dt(ml),dt(Vd)}var Ir=0,zt=null,he=null,$e=null,Ld=!1,pl=!1,so=!1,zd=0,su=0,gl=null,uI=0;function je(){throw Error(i(321))}function ug(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!ni(r[u],o[u]))return!1;return!0}function hg(r,o,u,f,g,b){return Ir=b,zt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=r===null||r.memoizedState===null?Z_:J_,so=!1,b=u(f,g),so=!1,pl&&(b=y_(o,u,f,g)),g_(r),b}function g_(r){G.H=$d;var o=he!==null&&he.next!==null;if(Ir=0,$e=he=zt=null,Ld=!1,su=0,gl=null,o)throw Error(i(300));r===null||ln||(r=r.dependencies,r!==null&&Id(r)&&(ln=!0))}function y_(r,o,u,f){zt=r;var g=0;do{if(pl&&(gl=null),su=0,pl=!1,25<=g)throw Error(i(301));if(g+=1,$e=he=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}G.H=yI,b=o(u,f)}while(pl);return b}function hI(){var r=G.H,o=r.useState()[0];return o=typeof o.then=="function"?ru(o):o,r=r.useState()[0],(he!==null?he.memoizedState:null)!==r&&(zt.flags|=1024),o}function dg(){var r=zd!==0;return zd=0,r}function fg(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function mg(r){if(Ld){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ld=!1}Ir=0,$e=he=zt=null,pl=!1,su=zd=0,gl=null}function Gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?zt.memoizedState=$e=r:$e=$e.next=r,$e}function Ge(){if(he===null){var r=zt.alternate;r=r!==null?r.memoizedState:null}else r=he.next;var o=$e===null?zt.memoizedState:$e.next;if(o!==null)$e=o,he=r;else{if(r===null)throw zt.alternate===null?Error(i(467)):Error(i(310));he=r,r={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},$e===null?zt.memoizedState=$e=r:$e=$e.next=r}return $e}function pg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ru(r){var o=su;return su+=1,gl===null&&(gl=[]),r=u_(gl,r,o),o=zt,($e===null?o.memoizedState:$e.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?Z_:J_),r}function Bd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ru(r);if(r.$$typeof===B)return En(r)}throw Error(i(438,String(r)))}function gg(r){var o=null,u=zt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=zt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=pg(),zt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),f=0;f<r;f++)u[f]=P;return o.index++,u}function Hs(r,o){return typeof o=="function"?o(r):o}function Ud(r){var o=Ge();return yg(o,he,r)}function yg(r,o,u){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var g=r.baseQueue,b=f.pending;if(b!==null){if(g!==null){var A=g.next;g.next=b.next,b.next=A}o.baseQueue=g=b,f.pending=null}if(b=r.baseState,g===null)r.memoizedState=b;else{o=g.next;var k=A=null,H=null,X=o,ot=!1;do{var ut=X.lane&-536870913;if(ut!==X.lane?(Kt&ut)===ut:(Ir&ut)===ut){var J=X.revertLane;if(J===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ut===dl&&(ot=!0);else if((Ir&J)===J){X=X.next,J===dl&&(ot=!0);continue}else ut={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(k=H=ut,A=b):H=H.next=ut,zt.lanes|=J,zr|=J;ut=X.action,so&&u(b,ut),b=X.hasEagerState?X.eagerState:u(b,ut)}else J={lane:ut,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(k=H=J,A=b):H=H.next=J,zt.lanes|=ut,zr|=ut;X=X.next}while(X!==null&&X!==o);if(H===null?A=b:H.next=k,!ni(b,r.memoizedState)&&(ln=!0,ot&&(u=fl,u!==null)))throw u;r.memoizedState=b,r.baseState=A,r.baseQueue=H,f.lastRenderedState=b}return g===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function vg(r){var o=Ge(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var f=u.dispatch,g=u.pending,b=o.memoizedState;if(g!==null){u.pending=null;var A=g=g.next;do b=r(b,A.action),A=A.next;while(A!==g);ni(b,o.memoizedState)||(ln=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,f]}function v_(r,o,u){var f=zt,g=Ge(),b=ne;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var A=!ni((he||g).memoizedState,u);A&&(g.memoizedState=u,ln=!0),g=g.queue;var k=__.bind(null,f,g,r);if(au(2048,8,k,[r]),g.getSnapshot!==o||A||$e!==null&&$e.memoizedState.tag&1){if(f.flags|=2048,yl(9,Fd(),b_.bind(null,f,g,u,o),null),pe===null)throw Error(i(349));b||(Ir&124)!==0||x_(f,o,u)}return u}function x_(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=zt.updateQueue,o===null?(o=pg(),zt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function b_(r,o,u,f){o.value=u,o.getSnapshot=f,w_(o)&&T_(r)}function __(r,o,u){return u(function(){w_(o)&&T_(r)})}function w_(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!ni(r,u)}catch{return!0}}function T_(r){var o=ll(r,2);o!==null&&li(o,r,2)}function xg(r){var o=Gn();if(typeof r=="function"){var u=r;if(r=u(),so){ti(!0);try{u()}finally{ti(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:r},o}function S_(r,o,u,f){return r.baseState=u,yg(r,he,typeof f=="function"?f:Hs)}function dI(r,o,u,f,g){if(qd(r))throw Error(i(485));if(r=o.action,r!==null){var b={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};G.T!==null?u(!0):b.isTransition=!1,f(b),u=o.pending,u===null?(b.next=o.pending=b,E_(o,b)):(b.next=u.next,o.pending=u.next=b)}}function E_(r,o){var u=o.action,f=o.payload,g=r.state;if(o.isTransition){var b=G.T,A={};G.T=A;try{var k=u(g,f),H=G.S;H!==null&&H(A,k),A_(r,o,k)}catch(X){bg(r,o,X)}finally{G.T=b}}else try{b=u(g,f),A_(r,o,b)}catch(X){bg(r,o,X)}}function A_(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){C_(r,o,f)},function(f){return bg(r,o,f)}):C_(r,o,u)}function C_(r,o,u){o.status="fulfilled",o.value=u,R_(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,E_(r,u)))}function bg(r,o,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,R_(o),o=o.next;while(o!==f)}r.action=null}function R_(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function N_(r,o){return o}function k_(r,o){if(ne){var u=pe.formState;if(u!==null){t:{var f=zt;if(ne){if(Me){e:{for(var g=Me,b=ss;g.nodeType!==8;){if(!b){g=null;break e}if(g=ji(g.nextSibling),g===null){g=null;break e}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Me=ji(g.nextSibling),f=g.data==="F!";break t}}to(f)}f=!1}f&&(o=u[0])}}return u=Gn(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N_,lastRenderedState:o},u.queue=f,u=Q_.bind(null,zt,f),f.dispatch=u,f=xg(!1),b=Eg.bind(null,zt,!1,f.queue),f=Gn(),g={state:o,dispatch:null,action:r,pending:null},f.queue=g,u=dI.bind(null,zt,g,b,u),g.dispatch=u,f.memoizedState=r,[o,u,!1]}function M_(r){var o=Ge();return I_(o,he,r)}function I_(r,o,u){if(o=yg(r,o,N_)[0],r=Ud(Hs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=ru(o)}catch(A){throw A===Jc?Od:A}else f=o;o=Ge();var g=o.queue,b=g.dispatch;return u!==o.memoizedState&&(zt.flags|=2048,yl(9,Fd(),fI.bind(null,g,u),null)),[f,b,r]}function fI(r,o){r.action=o}function D_(r){var o=Ge(),u=he;if(u!==null)return I_(o,u,r);Ge(),o=o.memoizedState,u=Ge();var f=u.queue.dispatch;return u.memoizedState=r,[o,f,!1]}function yl(r,o,u,f){return r={tag:r,create:u,deps:f,inst:o,next:null},o=zt.updateQueue,o===null&&(o=pg(),zt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,o.lastEffect=r),r}function Fd(){return{destroy:void 0,resource:void 0}}function P_(){return Ge().memoizedState}function Hd(r,o,u,f){var g=Gn();f=f===void 0?null:f,zt.flags|=r,g.memoizedState=yl(1|o,Fd(),u,f)}function au(r,o,u,f){var g=Ge();f=f===void 0?null:f;var b=g.memoizedState.inst;he!==null&&f!==null&&ug(f,he.memoizedState.deps)?g.memoizedState=yl(o,b,u,f):(zt.flags|=r,g.memoizedState=yl(1|o,b,u,f))}function O_(r,o){Hd(8390656,8,r,o)}function j_(r,o){au(2048,8,r,o)}function V_(r,o){return au(4,2,r,o)}function L_(r,o){return au(4,4,r,o)}function z_(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function B_(r,o,u){u=u!=null?u.concat([r]):null,au(4,4,z_.bind(null,o,r),u)}function _g(){}function U_(r,o){var u=Ge();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&ug(o,f[1])?f[0]:(u.memoizedState=[r,o],r)}function F_(r,o){var u=Ge();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&ug(o,f[1]))return f[0];if(f=r(),so){ti(!0);try{r()}finally{ti(!1)}}return u.memoizedState=[f,o],f}function wg(r,o,u){return u===void 0||(Ir&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=$1(),zt.lanes|=r,zr|=r,u)}function H_(r,o,u,f){return ni(u,o)?u:ml.current!==null?(r=wg(r,u,f),ni(r,o)||(ln=!0),r):(Ir&42)===0?(ln=!0,r.memoizedState=u):(r=$1(),zt.lanes|=r,zr|=r,o)}function q_(r,o,u,f,g){var b=Z.p;Z.p=b!==0&&8>b?b:8;var A=G.T,k={};G.T=k,Eg(r,!1,o,u);try{var H=g(),X=G.S;if(X!==null&&X(k,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ot=cI(H,f);ou(r,o,ot,oi(r))}else ou(r,o,f,oi(r))}catch(ut){ou(r,o,{then:function(){},status:"rejected",reason:ut},oi())}finally{Z.p=b,G.T=A}}function mI(){}function Tg(r,o,u,f){if(r.tag!==5)throw Error(i(476));var g=$_(r).queue;q_(r,g,o,at,u===null?mI:function(){return G_(r),u(f)})}function $_(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:at},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function G_(r){var o=$_(r).next.queue;ou(r,o,{},oi())}function Sg(){return En(Eu)}function W_(){return Ge().memoizedState}function Y_(){return Ge().memoizedState}function pI(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=oi();r=kr(u);var f=Mr(o,r,u);f!==null&&(li(f,o,u),eu(f,o,u)),o={cache:tg()},r.payload=o;return}o=o.return}}function gI(r,o,u){var f=oi();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},qd(r)?K_(o,u):(u=qp(r,o,u,f),u!==null&&(li(u,r,f),X_(u,o,f)))}function Q_(r,o,u){var f=oi();ou(r,o,u,f)}function ou(r,o,u,f){var g={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(qd(r))K_(o,g);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var A=o.lastRenderedState,k=b(A,u);if(g.hasEagerState=!0,g.eagerState=k,ni(k,A))return Cd(r,o,g,0),pe===null&&Ad(),!1}catch{}finally{}if(u=qp(r,o,g,f),u!==null)return li(u,r,f),X_(u,o,f),!0}return!1}function Eg(r,o,u,f){if(f={lane:2,revertLane:i0(),action:f,hasEagerState:!1,eagerState:null,next:null},qd(r)){if(o)throw Error(i(479))}else o=qp(r,u,f,2),o!==null&&li(o,r,2)}function qd(r){var o=r.alternate;return r===zt||o!==null&&o===zt}function K_(r,o){pl=Ld=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function X_(r,o,u){if((u&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,Nc(r,u)}}var $d={readContext:En,use:Bd,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je},Z_={readContext:En,use:Bd,useCallback:function(r,o){return Gn().memoizedState=[r,o===void 0?null:o],r},useContext:En,useEffect:O_,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Hd(4194308,4,z_.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Hd(4194308,4,r,o)},useInsertionEffect:function(r,o){Hd(4,2,r,o)},useMemo:function(r,o){var u=Gn();o=o===void 0?null:o;var f=r();if(so){ti(!0);try{r()}finally{ti(!1)}}return u.memoizedState=[f,o],f},useReducer:function(r,o,u){var f=Gn();if(u!==void 0){var g=u(o);if(so){ti(!0);try{u(o)}finally{ti(!1)}}}else g=o;return f.memoizedState=f.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},f.queue=r,r=r.dispatch=gI.bind(null,zt,r),[f.memoizedState,r]},useRef:function(r){var o=Gn();return r={current:r},o.memoizedState=r},useState:function(r){r=xg(r);var o=r.queue,u=Q_.bind(null,zt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:_g,useDeferredValue:function(r,o){var u=Gn();return wg(u,r,o)},useTransition:function(){var r=xg(!1);return r=q_.bind(null,zt,r.queue,!0,!1),Gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var f=zt,g=Gn();if(ne){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),pe===null)throw Error(i(349));(Kt&124)!==0||x_(f,o,u)}g.memoizedState=u;var b={value:u,getSnapshot:o};return g.queue=b,O_(__.bind(null,f,b,r),[r]),f.flags|=2048,yl(9,Fd(),b_.bind(null,f,b,u,o),null),u},useId:function(){var r=Gn(),o=pe.identifierPrefix;if(ne){var u=Bs,f=zs;u=(f&~(1<<32-Sn(f)-1)).toString(32)+u,o=""+o+"R"+u,u=zd++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=uI++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:Sg,useFormState:k_,useActionState:k_,useOptimistic:function(r){var o=Gn();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Eg.bind(null,zt,!0,u),u.dispatch=o,[r,o]},useMemoCache:gg,useCacheRefresh:function(){return Gn().memoizedState=pI.bind(null,zt)}},J_={readContext:En,use:Bd,useCallback:U_,useContext:En,useEffect:j_,useImperativeHandle:B_,useInsertionEffect:V_,useLayoutEffect:L_,useMemo:F_,useReducer:Ud,useRef:P_,useState:function(){return Ud(Hs)},useDebugValue:_g,useDeferredValue:function(r,o){var u=Ge();return H_(u,he.memoizedState,r,o)},useTransition:function(){var r=Ud(Hs)[0],o=Ge().memoizedState;return[typeof r=="boolean"?r:ru(r),o]},useSyncExternalStore:v_,useId:W_,useHostTransitionStatus:Sg,useFormState:M_,useActionState:M_,useOptimistic:function(r,o){var u=Ge();return S_(u,he,r,o)},useMemoCache:gg,useCacheRefresh:Y_},yI={readContext:En,use:Bd,useCallback:U_,useContext:En,useEffect:j_,useImperativeHandle:B_,useInsertionEffect:V_,useLayoutEffect:L_,useMemo:F_,useReducer:vg,useRef:P_,useState:function(){return vg(Hs)},useDebugValue:_g,useDeferredValue:function(r,o){var u=Ge();return he===null?wg(u,r,o):H_(u,he.memoizedState,r,o)},useTransition:function(){var r=vg(Hs)[0],o=Ge().memoizedState;return[typeof r=="boolean"?r:ru(r),o]},useSyncExternalStore:v_,useId:W_,useHostTransitionStatus:Sg,useFormState:D_,useActionState:D_,useOptimistic:function(r,o){var u=Ge();return he!==null?S_(u,he,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:gg,useCacheRefresh:Y_},vl=null,lu=0;function Gd(r){var o=lu;return lu+=1,vl===null&&(vl=[]),u_(vl,r,o)}function cu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Wd(r,o){throw o.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function t1(r){var o=r._init;return o(r._payload)}function e1(r){function o(Y,$){if(r){var K=Y.deletions;K===null?(Y.deletions=[$],Y.flags|=16):K.push($)}}function u(Y,$){if(!r)return null;for(;$!==null;)o(Y,$),$=$.sibling;return null}function f(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function g(Y,$){return Y=Ls(Y,$),Y.index=0,Y.sibling=null,Y}function b(Y,$,K){return Y.index=K,r?(K=Y.alternate,K!==null?(K=K.index,K<$?(Y.flags|=67108866,$):K):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function A(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function k(Y,$,K,lt){return $===null||$.tag!==6?($=Gp(K,Y.mode,lt),$.return=Y,$):($=g($,K),$.return=Y,$)}function H(Y,$,K,lt){var xt=K.type;return xt===T?ot(Y,$,K.props.children,lt,K.key):$!==null&&($.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===R&&t1(xt)===$.type)?($=g($,K.props),cu($,K),$.return=Y,$):($=Nd(K.type,K.key,K.props,null,Y.mode,lt),cu($,K),$.return=Y,$)}function X(Y,$,K,lt){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=Wp(K,Y.mode,lt),$.return=Y,$):($=g($,K.children||[]),$.return=Y,$)}function ot(Y,$,K,lt,xt){return $===null||$.tag!==7?($=Ka(K,Y.mode,lt,xt),$.return=Y,$):($=g($,K),$.return=Y,$)}function ut(Y,$,K){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Gp(""+$,Y.mode,K),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return K=Nd($.type,$.key,$.props,null,Y.mode,K),cu(K,$),K.return=Y,K;case w:return $=Wp($,Y.mode,K),$.return=Y,$;case R:var lt=$._init;return $=lt($._payload),ut(Y,$,K)}if(it($)||z($))return $=Ka($,Y.mode,K,null),$.return=Y,$;if(typeof $.then=="function")return ut(Y,Gd($),K);if($.$$typeof===B)return ut(Y,Dd(Y,$),K);Wd(Y,$)}return null}function J(Y,$,K,lt){var xt=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return xt!==null?null:k(Y,$,""+K,lt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===xt?H(Y,$,K,lt):null;case w:return K.key===xt?X(Y,$,K,lt):null;case R:return xt=K._init,K=xt(K._payload),J(Y,$,K,lt)}if(it(K)||z(K))return xt!==null?null:ot(Y,$,K,lt,null);if(typeof K.then=="function")return J(Y,$,Gd(K),lt);if(K.$$typeof===B)return J(Y,$,Dd(Y,K),lt);Wd(Y,K)}return null}function tt(Y,$,K,lt,xt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Y=Y.get(K)||null,k($,Y,""+lt,xt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case x:return Y=Y.get(lt.key===null?K:lt.key)||null,H($,Y,lt,xt);case w:return Y=Y.get(lt.key===null?K:lt.key)||null,X($,Y,lt,xt);case R:var Bt=lt._init;return lt=Bt(lt._payload),tt(Y,$,K,lt,xt)}if(it(lt)||z(lt))return Y=Y.get(K)||null,ot($,Y,lt,xt,null);if(typeof lt.then=="function")return tt(Y,$,K,Gd(lt),xt);if(lt.$$typeof===B)return tt(Y,$,K,Dd($,lt),xt);Wd($,lt)}return null}function Nt(Y,$,K,lt){for(var xt=null,Bt=null,wt=$,Et=$=0,un=null;wt!==null&&Et<K.length;Et++){wt.index>Et?(un=wt,wt=null):un=wt.sibling;var Jt=J(Y,wt,K[Et],lt);if(Jt===null){wt===null&&(wt=un);break}r&&wt&&Jt.alternate===null&&o(Y,wt),$=b(Jt,$,Et),Bt===null?xt=Jt:Bt.sibling=Jt,Bt=Jt,wt=un}if(Et===K.length)return u(Y,wt),ne&&Za(Y,Et),xt;if(wt===null){for(;Et<K.length;Et++)wt=ut(Y,K[Et],lt),wt!==null&&($=b(wt,$,Et),Bt===null?xt=wt:Bt.sibling=wt,Bt=wt);return ne&&Za(Y,Et),xt}for(wt=f(wt);Et<K.length;Et++)un=tt(wt,Y,Et,K[Et],lt),un!==null&&(r&&un.alternate!==null&&wt.delete(un.key===null?Et:un.key),$=b(un,$,Et),Bt===null?xt=un:Bt.sibling=un,Bt=un);return r&&wt.forEach(function(Yr){return o(Y,Yr)}),ne&&Za(Y,Et),xt}function St(Y,$,K,lt){if(K==null)throw Error(i(151));for(var xt=null,Bt=null,wt=$,Et=$=0,un=null,Jt=K.next();wt!==null&&!Jt.done;Et++,Jt=K.next()){wt.index>Et?(un=wt,wt=null):un=wt.sibling;var Yr=J(Y,wt,Jt.value,lt);if(Yr===null){wt===null&&(wt=un);break}r&&wt&&Yr.alternate===null&&o(Y,wt),$=b(Yr,$,Et),Bt===null?xt=Yr:Bt.sibling=Yr,Bt=Yr,wt=un}if(Jt.done)return u(Y,wt),ne&&Za(Y,Et),xt;if(wt===null){for(;!Jt.done;Et++,Jt=K.next())Jt=ut(Y,Jt.value,lt),Jt!==null&&($=b(Jt,$,Et),Bt===null?xt=Jt:Bt.sibling=Jt,Bt=Jt);return ne&&Za(Y,Et),xt}for(wt=f(wt);!Jt.done;Et++,Jt=K.next())Jt=tt(wt,Y,Et,Jt.value,lt),Jt!==null&&(r&&Jt.alternate!==null&&wt.delete(Jt.key===null?Et:Jt.key),$=b(Jt,$,Et),Bt===null?xt=Jt:Bt.sibling=Jt,Bt=Jt);return r&&wt.forEach(function(vD){return o(Y,vD)}),ne&&Za(Y,Et),xt}function fe(Y,$,K,lt){if(typeof K=="object"&&K!==null&&K.type===T&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:t:{for(var xt=K.key;$!==null;){if($.key===xt){if(xt=K.type,xt===T){if($.tag===7){u(Y,$.sibling),lt=g($,K.props.children),lt.return=Y,Y=lt;break t}}else if($.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===R&&t1(xt)===$.type){u(Y,$.sibling),lt=g($,K.props),cu(lt,K),lt.return=Y,Y=lt;break t}u(Y,$);break}else o(Y,$);$=$.sibling}K.type===T?(lt=Ka(K.props.children,Y.mode,lt,K.key),lt.return=Y,Y=lt):(lt=Nd(K.type,K.key,K.props,null,Y.mode,lt),cu(lt,K),lt.return=Y,Y=lt)}return A(Y);case w:t:{for(xt=K.key;$!==null;){if($.key===xt)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){u(Y,$.sibling),lt=g($,K.children||[]),lt.return=Y,Y=lt;break t}else{u(Y,$);break}else o(Y,$);$=$.sibling}lt=Wp(K,Y.mode,lt),lt.return=Y,Y=lt}return A(Y);case R:return xt=K._init,K=xt(K._payload),fe(Y,$,K,lt)}if(it(K))return Nt(Y,$,K,lt);if(z(K)){if(xt=z(K),typeof xt!="function")throw Error(i(150));return K=xt.call(K),St(Y,$,K,lt)}if(typeof K.then=="function")return fe(Y,$,Gd(K),lt);if(K.$$typeof===B)return fe(Y,$,Dd(Y,K),lt);Wd(Y,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,$!==null&&$.tag===6?(u(Y,$.sibling),lt=g($,K),lt.return=Y,Y=lt):(u(Y,$),lt=Gp(K,Y.mode,lt),lt.return=Y,Y=lt),A(Y)):u(Y,$)}return function(Y,$,K,lt){try{lu=0;var xt=fe(Y,$,K,lt);return vl=null,xt}catch(wt){if(wt===Jc||wt===Od)throw wt;var Bt=ii(29,wt,null,Y.mode);return Bt.lanes=lt,Bt.return=Y,Bt}finally{}}}var xl=e1(!0),n1=e1(!1),bi=st(null),rs=null;function Dr(r){var o=r.alternate;nt(nn,nn.current&1),nt(bi,r),rs===null&&(o===null||ml.current!==null||o.memoizedState!==null)&&(rs=r)}function i1(r){if(r.tag===22){if(nt(nn,nn.current),nt(bi,r),rs===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(rs=r)}}else Pr()}function Pr(){nt(nn,nn.current),nt(bi,bi.current)}function qs(r){dt(bi),rs===r&&(rs=null),dt(nn)}var nn=st(0);function Yd(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||p0(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Ag(r,o,u,f){o=r.memoizedState,u=u(f,o),u=u==null?o:m({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Cg={enqueueSetState:function(r,o,u){r=r._reactInternals;var f=oi(),g=kr(f);g.payload=o,u!=null&&(g.callback=u),o=Mr(r,g,f),o!==null&&(li(o,r,f),eu(o,r,f))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var f=oi(),g=kr(f);g.tag=1,g.payload=o,u!=null&&(g.callback=u),o=Mr(r,g,f),o!==null&&(li(o,r,f),eu(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=oi(),f=kr(u);f.tag=2,o!=null&&(f.callback=o),o=Mr(r,f,u),o!==null&&(li(o,r,u),eu(o,r,u))}};function s1(r,o,u,f,g,b,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,b,A):o.prototype&&o.prototype.isPureReactComponent?!$c(u,f)||!$c(g,b):!0}function r1(r,o,u,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==r&&Cg.enqueueReplaceState(o,o.state,null)}function ro(r,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(r=r.defaultProps){u===o&&(u=m({},u));for(var g in r)u[g]===void 0&&(u[g]=r[g])}return u}var Qd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function a1(r){Qd(r)}function o1(r){console.error(r)}function l1(r){Qd(r)}function Kd(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function c1(r,o,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Rg(r,o,u){return u=kr(u),u.tag=3,u.payload={element:null},u.callback=function(){Kd(r,o)},u}function u1(r){return r=kr(r),r.tag=3,r}function h1(r,o,u,f){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var b=f.value;r.payload=function(){return g(b)},r.callback=function(){c1(o,u,f)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){c1(o,u,f),typeof g!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function vI(r,o,u,f,g){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Kc(o,u,g,!0),u=bi.current,u!==null){switch(u.tag){case 13:return rs===null?Zg():u.alternate===null&&Ie===0&&(Ie=3),u.flags&=-257,u.flags|=65536,u.lanes=g,f===ig?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),t0(r,f,g)),!1;case 22:return u.flags|=65536,f===ig?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),t0(r,f,g)),!1}throw Error(i(435,u.tag))}return t0(r,f,g),Zg(),!1}if(ne)return o=bi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,f!==Kp&&(r=Error(i(422),{cause:f}),Qc(gi(r,u)))):(f!==Kp&&(o=Error(i(423),{cause:f}),Qc(gi(o,u))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,f=gi(f,u),g=Rg(r.stateNode,f,g),ag(r,g),Ie!==4&&(Ie=2)),!1;var b=Error(i(520),{cause:f});if(b=gi(b,u),gu===null?gu=[b]:gu.push(b),Ie!==4&&(Ie=2),o===null)return!0;f=gi(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=g&-g,u.lanes|=r,r=Rg(u.stateNode,f,r),ag(u,r),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Br===null||!Br.has(b))))return u.flags|=65536,g&=-g,u.lanes|=g,g=u1(g),h1(g,r,u,f),ag(u,g),!1}u=u.return}while(u!==null);return!1}var d1=Error(i(461)),ln=!1;function yn(r,o,u,f){o.child=r===null?n1(o,null,u,f):xl(o,r.child,u,f)}function f1(r,o,u,f,g){u=u.render;var b=o.ref;if("ref"in f){var A={};for(var k in f)k!=="ref"&&(A[k]=f[k])}else A=f;return no(o),f=hg(r,o,u,A,b,g),k=dg(),r!==null&&!ln?(fg(r,o,g),$s(r,o,g)):(ne&&k&&Yp(o),o.flags|=1,yn(r,o,f,g),o.child)}function m1(r,o,u,f,g){if(r===null){var b=u.type;return typeof b=="function"&&!$p(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,p1(r,o,b,f,g)):(r=Nd(u.type,null,f,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,!jg(r,g)){var A=b.memoizedProps;if(u=u.compare,u=u!==null?u:$c,u(A,f)&&r.ref===o.ref)return $s(r,o,g)}return o.flags|=1,r=Ls(b,f),r.ref=o.ref,r.return=o,o.child=r}function p1(r,o,u,f,g){if(r!==null){var b=r.memoizedProps;if($c(b,f)&&r.ref===o.ref)if(ln=!1,o.pendingProps=f=b,jg(r,g))(r.flags&131072)!==0&&(ln=!0);else return o.lanes=r.lanes,$s(r,o,g)}return Ng(r,o,u,f,g)}function g1(r,o,u){var f=o.pendingProps,g=f.children,b=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,r!==null){for(g=o.child=r.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;o.childLanes=b&~f}else o.childLanes=0,o.child=null;return y1(r,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Pd(o,b!==null?b.cachePool:null),b!==null?p_(o,b):lg(),i1(o);else return o.lanes=o.childLanes=536870912,y1(r,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(Pd(o,b.cachePool),p_(o,b),Pr(),o.memoizedState=null):(r!==null&&Pd(o,null),lg(),Pr());return yn(r,o,g,u),o.child}function y1(r,o,u,f){var g=ng();return g=g===null?null:{parent:en._currentValue,pool:g},o.memoizedState={baseLanes:u,cachePool:g},r!==null&&Pd(o,null),lg(),i1(o),r!==null&&Kc(r,o,f,!0),null}function Xd(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function Ng(r,o,u,f,g){return no(o),u=hg(r,o,u,f,void 0,g),f=dg(),r!==null&&!ln?(fg(r,o,g),$s(r,o,g)):(ne&&f&&Yp(o),o.flags|=1,yn(r,o,u,g),o.child)}function v1(r,o,u,f,g,b){return no(o),o.updateQueue=null,u=y_(o,f,u,g),g_(r),f=dg(),r!==null&&!ln?(fg(r,o,b),$s(r,o,b)):(ne&&f&&Yp(o),o.flags|=1,yn(r,o,u,b),o.child)}function x1(r,o,u,f,g){if(no(o),o.stateNode===null){var b=cl,A=u.contextType;typeof A=="object"&&A!==null&&(b=En(A)),b=new u(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Cg,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},sg(o),A=u.contextType,b.context=typeof A=="object"&&A!==null?En(A):cl,b.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Ag(o,u,A,f),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Cg.enqueueReplaceState(b,b.state,null),iu(o,f,b,g),nu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){b=o.stateNode;var k=o.memoizedProps,H=ro(u,k);b.props=H;var X=b.context,ot=u.contextType;A=cl,typeof ot=="object"&&ot!==null&&(A=En(ot));var ut=u.getDerivedStateFromProps;ot=typeof ut=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,ot||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||X!==A)&&r1(o,b,f,A),Nr=!1;var J=o.memoizedState;b.state=J,iu(o,f,b,g),nu(),X=o.memoizedState,k||J!==X||Nr?(typeof ut=="function"&&(Ag(o,u,ut,f),X=o.memoizedState),(H=Nr||s1(o,u,H,f,J,X,A))?(ot||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=X),b.props=f,b.state=X,b.context=A,f=H):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,rg(r,o),A=o.memoizedProps,ot=ro(u,A),b.props=ot,ut=o.pendingProps,J=b.context,X=u.contextType,H=cl,typeof X=="object"&&X!==null&&(H=En(X)),k=u.getDerivedStateFromProps,(X=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==ut||J!==H)&&r1(o,b,f,H),Nr=!1,J=o.memoizedState,b.state=J,iu(o,f,b,g),nu();var tt=o.memoizedState;A!==ut||J!==tt||Nr||r!==null&&r.dependencies!==null&&Id(r.dependencies)?(typeof k=="function"&&(Ag(o,u,k,f),tt=o.memoizedState),(ot=Nr||s1(o,u,ot,f,J,tt,H)||r!==null&&r.dependencies!==null&&Id(r.dependencies))?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,tt,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,tt,H)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=tt),b.props=f,b.state=tt,b.context=H,f=ot):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=1024),f=!1)}return b=f,Xd(r,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,r!==null&&f?(o.child=xl(o,r.child,null,g),o.child=xl(o,null,u,g)):yn(r,o,u,g),o.memoizedState=b.state,r=o.child):r=$s(r,o,g),r}function b1(r,o,u,f){return Yc(),o.flags|=256,yn(r,o,u,f),o.child}var kg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mg(r){return{baseLanes:r,cachePool:o_()}}function Ig(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=_i),r}function _1(r,o,u){var f=o.pendingProps,g=!1,b=(o.flags&128)!==0,A;if((A=b)||(A=r!==null&&r.memoizedState===null?!1:(nn.current&2)!==0),A&&(g=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,r===null){if(ne){if(g?Dr(o):Pr(),ne){var k=Me,H;if(H=k){t:{for(H=k,k=ss;H.nodeType!==8;){if(!k){k=null;break t}if(H=ji(H.nextSibling),H===null){k=null;break t}}k=H}k!==null?(o.memoizedState={dehydrated:k,treeContext:Xa!==null?{id:zs,overflow:Bs}:null,retryLane:536870912,hydrationErrors:null},H=ii(18,null,null,0),H.stateNode=k,H.return=o,o.child=H,Fn=o,Me=null,H=!0):H=!1}H||to(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return p0(k)?o.lanes=32:o.lanes=536870912,null;qs(o)}return k=f.children,f=f.fallback,g?(Pr(),g=o.mode,k=Zd({mode:"hidden",children:k},g),f=Ka(f,g,u,null),k.return=o,f.return=o,k.sibling=f,o.child=k,g=o.child,g.memoizedState=Mg(u),g.childLanes=Ig(r,A,u),o.memoizedState=kg,f):(Dr(o),Dg(o,k))}if(H=r.memoizedState,H!==null&&(k=H.dehydrated,k!==null)){if(b)o.flags&256?(Dr(o),o.flags&=-257,o=Pg(r,o,u)):o.memoizedState!==null?(Pr(),o.child=r.child,o.flags|=128,o=null):(Pr(),g=f.fallback,k=o.mode,f=Zd({mode:"visible",children:f.children},k),g=Ka(g,k,u,null),g.flags|=2,f.return=o,g.return=o,f.sibling=g,o.child=f,xl(o,r.child,null,u),f=o.child,f.memoizedState=Mg(u),f.childLanes=Ig(r,A,u),o.memoizedState=kg,o=g);else if(Dr(o),p0(k)){if(A=k.nextSibling&&k.nextSibling.dataset,A)var X=A.dgst;A=X,f=Error(i(419)),f.stack="",f.digest=A,Qc({value:f,source:null,stack:null}),o=Pg(r,o,u)}else if(ln||Kc(r,o,u,!1),A=(u&r.childLanes)!==0,ln||A){if(A=pe,A!==null&&(f=u&-u,f=(f&42)!==0?1:_r(f),f=(f&(A.suspendedLanes|u))!==0?0:f,f!==0&&f!==H.retryLane))throw H.retryLane=f,ll(r,f),li(A,r,f),d1;k.data==="$?"||Zg(),o=Pg(r,o,u)}else k.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=H.treeContext,Me=ji(k.nextSibling),Fn=o,ne=!0,Ja=null,ss=!1,r!==null&&(vi[xi++]=zs,vi[xi++]=Bs,vi[xi++]=Xa,zs=r.id,Bs=r.overflow,Xa=o),o=Dg(o,f.children),o.flags|=4096);return o}return g?(Pr(),g=f.fallback,k=o.mode,H=r.child,X=H.sibling,f=Ls(H,{mode:"hidden",children:f.children}),f.subtreeFlags=H.subtreeFlags&65011712,X!==null?g=Ls(X,g):(g=Ka(g,k,u,null),g.flags|=2),g.return=o,f.return=o,f.sibling=g,o.child=f,f=g,g=o.child,k=r.child.memoizedState,k===null?k=Mg(u):(H=k.cachePool,H!==null?(X=en._currentValue,H=H.parent!==X?{parent:X,pool:X}:H):H=o_(),k={baseLanes:k.baseLanes|u,cachePool:H}),g.memoizedState=k,g.childLanes=Ig(r,A,u),o.memoizedState=kg,f):(Dr(o),u=r.child,r=u.sibling,u=Ls(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,r!==null&&(A=o.deletions,A===null?(o.deletions=[r],o.flags|=16):A.push(r)),o.child=u,o.memoizedState=null,u)}function Dg(r,o){return o=Zd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Zd(r,o){return r=ii(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Pg(r,o,u){return xl(o,r.child,null,u),r=Dg(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function w1(r,o,u){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),Zp(r.return,o,u)}function Og(r,o,u,f,g){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=g)}function T1(r,o,u){var f=o.pendingProps,g=f.revealOrder,b=f.tail;if(yn(r,o,f.children,u),f=nn.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&w1(r,u,o);else if(r.tag===19)w1(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(nt(nn,f),g){case"forwards":for(u=o.child,g=null;u!==null;)r=u.alternate,r!==null&&Yd(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Og(o,!1,g,u,b);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&Yd(r)===null){o.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}Og(o,!0,u,null,b);break;case"together":Og(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function $s(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),zr|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Kc(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=Ls(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=Ls(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function jg(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Id(r)))}function xI(r,o,u){switch(o.tag){case 3:It(o,o.stateNode.containerInfo),Rr(o,en,r.memoizedState.cache),Yc();break;case 27:case 5:Fe(o);break;case 4:It(o,o.stateNode.containerInfo);break;case 10:Rr(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Dr(o),o.flags|=128,null):(u&o.child.childLanes)!==0?_1(r,o,u):(Dr(o),r=$s(r,o,u),r!==null?r.sibling:null);Dr(o);break;case 19:var g=(r.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Kc(r,o,u,!1),f=(u&o.childLanes)!==0),g){if(f)return T1(r,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),nt(nn,nn.current),f)break;return null;case 22:case 23:return o.lanes=0,g1(r,o,u);case 24:Rr(o,en,r.memoizedState.cache)}return $s(r,o,u)}function S1(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)ln=!0;else{if(!jg(r,u)&&(o.flags&128)===0)return ln=!1,xI(r,o,u);ln=(r.flags&131072)!==0}else ln=!1,ne&&(o.flags&1048576)!==0&&t_(o,Md,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var f=o.elementType,g=f._init;if(f=g(f._payload),o.type=f,typeof f=="function")$p(f)?(r=ro(f,r),o.tag=1,o=x1(null,o,f,r,u)):(o.tag=0,o=Ng(null,o,f,r,u));else{if(f!=null){if(g=f.$$typeof,g===W){o.tag=11,o=f1(null,o,f,r,u);break t}else if(g===M){o.tag=14,o=m1(null,o,f,r,u);break t}}throw o=et(f)||f,Error(i(306,o,""))}}return o;case 0:return Ng(r,o,o.type,o.pendingProps,u);case 1:return f=o.type,g=ro(f,o.pendingProps),x1(r,o,f,g,u);case 3:t:{if(It(o,o.stateNode.containerInfo),r===null)throw Error(i(387));f=o.pendingProps;var b=o.memoizedState;g=b.element,rg(r,o),iu(o,f,null,u);var A=o.memoizedState;if(f=A.cache,Rr(o,en,f),f!==b.cache&&Jp(o,[en],u,!0),nu(),f=A.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=b1(r,o,f,u);break t}else if(f!==g){g=gi(Error(i(424)),o),Qc(g),o=b1(r,o,f,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Me=ji(r.firstChild),Fn=o,ne=!0,Ja=null,ss=!0,u=n1(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Yc(),f===g){o=$s(r,o,u);break t}yn(r,o,f,u)}o=o.child}return o;case 26:return Xd(r,o),r===null?(u=Rw(o.type,null,o.pendingProps,null))?o.memoizedState=u:ne||(u=o.type,r=o.pendingProps,f=ff(ft.current).createElement(u),f[Ze]=o,f[He]=r,xn(f,u,r),Oe(f),o.stateNode=f):o.memoizedState=Rw(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Fe(o),r===null&&ne&&(f=o.stateNode=Ew(o.type,o.pendingProps,ft.current),Fn=o,ss=!0,g=Me,Hr(o.type)?(g0=g,Me=ji(f.firstChild)):Me=g),yn(r,o,o.pendingProps.children,u),Xd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&ne&&((g=f=Me)&&(f=WI(f,o.type,o.pendingProps,ss),f!==null?(o.stateNode=f,Fn=o,Me=ji(f.firstChild),ss=!1,g=!0):g=!1),g||to(o)),Fe(o),g=o.type,b=o.pendingProps,A=r!==null?r.memoizedProps:null,f=b.children,d0(g,b)?f=null:A!==null&&d0(g,A)&&(o.flags|=32),o.memoizedState!==null&&(g=hg(r,o,hI,null,null,u),Eu._currentValue=g),Xd(r,o),yn(r,o,f,u),o.child;case 6:return r===null&&ne&&((r=u=Me)&&(u=YI(u,o.pendingProps,ss),u!==null?(o.stateNode=u,Fn=o,Me=null,r=!0):r=!1),r||to(o)),null;case 13:return _1(r,o,u);case 4:return It(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=xl(o,null,f,u):yn(r,o,f,u),o.child;case 11:return f1(r,o,o.type,o.pendingProps,u);case 7:return yn(r,o,o.pendingProps,u),o.child;case 8:return yn(r,o,o.pendingProps.children,u),o.child;case 12:return yn(r,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Rr(o,o.type,f.value),yn(r,o,f.children,u),o.child;case 9:return g=o.type._context,f=o.pendingProps.children,no(o),g=En(g),f=f(g),o.flags|=1,yn(r,o,f,u),o.child;case 14:return m1(r,o,o.type,o.pendingProps,u);case 15:return p1(r,o,o.type,o.pendingProps,u);case 19:return T1(r,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},r===null?(u=Zd(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Ls(r.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return g1(r,o,u);case 24:return no(o),f=En(en),r===null?(g=ng(),g===null&&(g=pe,b=tg(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=u),g=b),o.memoizedState={parent:f,cache:g},sg(o),Rr(o,en,g)):((r.lanes&u)!==0&&(rg(r,o),iu(o,null,null,u),nu()),g=r.memoizedState,b=o.memoizedState,g.parent!==f?(g={parent:f,cache:f},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Rr(o,en,f)):(f=b.cache,Rr(o,en,f),f!==g.cache&&Jp(o,[en],u,!0))),yn(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Gs(r){r.flags|=4}function E1(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Dw(o)){if(o=bi.current,o!==null&&((Kt&4194048)===Kt?rs!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||o!==rs))throw tu=ig,l_;r.flags|=8192}}function Jd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Cc():536870912,r.lanes|=o,Tl|=o)}function uu(r,o){if(!ne)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Ee(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(o)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=u,o}function bI(r,o,u){var f=o.pendingProps;switch(Qp(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(o),null;case 1:return Ee(o),null;case 3:return u=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Fs(en),ie(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Wc(o)?Gs(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,i_())),Ee(o),null;case 26:return u=o.memoizedState,r===null?(Gs(o),u!==null?(Ee(o),E1(o,u)):(Ee(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Gs(o),Ee(o),E1(o,u)):(Ee(o),o.flags&=-16777217):(r.memoizedProps!==f&&Gs(o),Ee(o),o.flags&=-16777217),null;case 27:_t(o),u=ft.current;var g=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Gs(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ee(o),null}r=pt.current,Wc(o)?e_(o):(r=Ew(g,f,u),o.stateNode=r,Gs(o))}return Ee(o),null;case 5:if(_t(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Gs(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ee(o),null}if(r=pt.current,Wc(o))e_(o);else{switch(g=ff(ft.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?g.createElement(u,{is:f.is}):g.createElement(u)}}r[Ze]=o,r[He]=f;t:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break t;for(;g.sibling===null;){if(g.return===null||g.return===o)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=r;t:switch(xn(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Gs(o)}}return Ee(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&Gs(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(r=ft.current,Wc(o)){if(r=o.stateNode,u=o.memoizedProps,f=null,g=Fn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}r[Ze]=o,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||vw(r.nodeValue,u)),r||to(o)}else r=ff(r).createTextNode(f),r[Ze]=o,o.stateNode=r}return Ee(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Wc(o),f!==null&&f.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ze]=o}else Yc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ee(o),g=!1}else g=i_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(qs(o),o):(qs(o),null)}if(qs(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=o.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),Jd(o,o.updateQueue),Ee(o),null;case 4:return ie(),r===null&&o0(o.stateNode.containerInfo),Ee(o),null;case 10:return Fs(o.type),Ee(o),null;case 19:if(dt(nn),g=o.memoizedState,g===null)return Ee(o),null;if(f=(o.flags&128)!==0,b=g.rendering,b===null)if(f)uu(g,!1);else{if(Ie!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(b=Yd(r),b!==null){for(o.flags|=128,uu(g,!1),r=b.updateQueue,o.updateQueue=r,Jd(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)Jb(u,r),u=u.sibling;return nt(nn,nn.current&1|2),o.child}r=r.sibling}g.tail!==null&&Ot()>nf&&(o.flags|=128,f=!0,uu(g,!1),o.lanes=4194304)}else{if(!f)if(r=Yd(b),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,Jd(o,r),uu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!ne)return Ee(o),null}else 2*Ot()-g.renderingStartTime>nf&&u!==536870912&&(o.flags|=128,f=!0,uu(g,!1),o.lanes=4194304);g.isBackwards?(b.sibling=o.child,o.child=b):(r=g.last,r!==null?r.sibling=b:o.child=b,g.last=b)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Ot(),o.sibling=null,r=nn.current,nt(nn,f?r&1|2:r&1),o):(Ee(o),null);case 22:case 23:return qs(o),cg(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Ee(o),o.subtreeFlags&6&&(o.flags|=8192)):Ee(o),u=o.updateQueue,u!==null&&Jd(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),r!==null&&dt(io),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Fs(en),Ee(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function _I(r,o){switch(Qp(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Fs(en),ie(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return _t(o),null;case 13:if(qs(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Yc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return dt(nn),null;case 4:return ie(),null;case 10:return Fs(o.type),null;case 22:case 23:return qs(o),cg(),r!==null&&dt(io),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Fs(en),null;case 25:return null;default:return null}}function A1(r,o){switch(Qp(o),o.tag){case 3:Fs(en),ie();break;case 26:case 27:case 5:_t(o);break;case 4:ie();break;case 13:qs(o);break;case 19:dt(nn);break;case 10:Fs(o.type);break;case 22:case 23:qs(o),cg(),r!==null&&dt(io);break;case 24:Fs(en)}}function hu(r,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){f=void 0;var b=u.create,A=u.inst;f=b(),A.destroy=f}u=u.next}while(u!==g)}}catch(k){me(o,o.return,k)}}function Or(r,o,u){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var b=g.next;f=b;do{if((f.tag&r)===r){var A=f.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,g=o;var H=u,X=k;try{X()}catch(ot){me(g,H,ot)}}}f=f.next}while(f!==b)}}catch(ot){me(o,o.return,ot)}}function C1(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{m_(o,u)}catch(f){me(r,r.return,f)}}}function R1(r,o,u){u.props=ro(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){me(r,o,f)}}function du(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(g){me(r,o,g)}}function as(r,o){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(g){me(r,o,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){me(r,o,g)}else u.current=null}function N1(r){var o=r.type,u=r.memoizedProps,f=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(g){me(r,r.return,g)}}function Vg(r,o,u){try{var f=r.stateNode;FI(f,r.type,u,o),f[He]=o}catch(g){me(r,r.return,g)}}function k1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Hr(r.type)||r.tag===4}function Lg(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||k1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Hr(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zg(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=df));else if(f!==4&&(f===27&&Hr(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(zg(r,o,u),r=r.sibling;r!==null;)zg(r,o,u),r=r.sibling}function tf(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(f!==4&&(f===27&&Hr(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(tf(r,o,u),r=r.sibling;r!==null;)tf(r,o,u),r=r.sibling}function M1(r){var o=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);xn(o,f,u),o[Ze]=r,o[He]=u}catch(b){me(r,r.return,b)}}var Ws=!1,Ve=!1,Bg=!1,I1=typeof WeakSet=="function"?WeakSet:Set,cn=null;function wI(r,o){if(r=r.containerInfo,u0=xf,r=Hb(r),Lp(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var A=0,k=-1,H=-1,X=0,ot=0,ut=r,J=null;e:for(;;){for(var tt;ut!==u||g!==0&&ut.nodeType!==3||(k=A+g),ut!==b||f!==0&&ut.nodeType!==3||(H=A+f),ut.nodeType===3&&(A+=ut.nodeValue.length),(tt=ut.firstChild)!==null;)J=ut,ut=tt;for(;;){if(ut===r)break e;if(J===u&&++X===g&&(k=A),J===b&&++ot===f&&(H=A),(tt=ut.nextSibling)!==null)break;ut=J,J=ut.parentNode}ut=tt}u=k===-1||H===-1?null:{start:k,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(h0={focusedElem:r,selectionRange:u},xf=!1,cn=o;cn!==null;)if(o=cn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,cn=r;else for(;cn!==null;){switch(o=cn,b=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,u=o,g=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var Nt=ro(u.type,g,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(Nt,b),f.__reactInternalSnapshotBeforeUpdate=r}catch(St){me(u,u.return,St)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)m0(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":m0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,cn=r;break}cn=o.return}}function D1(r,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:jr(r,u),f&4&&hu(5,u);break;case 1:if(jr(r,u),f&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(A){me(u,u.return,A)}else{var g=ro(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(g,o,r.__reactInternalSnapshotBeforeUpdate)}catch(A){me(u,u.return,A)}}f&64&&C1(u),f&512&&du(u,u.return);break;case 3:if(jr(r,u),f&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{m_(r,o)}catch(A){me(u,u.return,A)}}break;case 27:o===null&&f&4&&M1(u);case 26:case 5:jr(r,u),o===null&&f&4&&N1(u),f&512&&du(u,u.return);break;case 12:jr(r,u);break;case 13:jr(r,u),f&4&&j1(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=MI.bind(null,u),QI(r,u))));break;case 22:if(f=u.memoizedState!==null||Ws,!f){o=o!==null&&o.memoizedState!==null||Ve,g=Ws;var b=Ve;Ws=f,(Ve=o)&&!b?Vr(r,u,(u.subtreeFlags&8772)!==0):jr(r,u),Ws=g,Ve=b}break;case 30:break;default:jr(r,u)}}function P1(r){var o=r.alternate;o!==null&&(r.alternate=null,P1(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Sr(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _e=null,Wn=!1;function Ys(r,o,u){for(u=u.child;u!==null;)O1(r,o,u),u=u.sibling}function O1(r,o,u){if(ae&&typeof ae.onCommitFiberUnmount=="function")try{ae.onCommitFiberUnmount(ke,u)}catch{}switch(u.tag){case 26:Ve||as(u,o),Ys(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ve||as(u,o);var f=_e,g=Wn;Hr(u.type)&&(_e=u.stateNode,Wn=!1),Ys(r,o,u),_u(u.stateNode),_e=f,Wn=g;break;case 5:Ve||as(u,o);case 6:if(f=_e,g=Wn,_e=null,Ys(r,o,u),_e=f,Wn=g,_e!==null)if(Wn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(u.stateNode)}catch(b){me(u,o,b)}else try{_e.removeChild(u.stateNode)}catch(b){me(u,o,b)}break;case 18:_e!==null&&(Wn?(r=_e,Tw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Nu(r)):Tw(_e,u.stateNode));break;case 4:f=_e,g=Wn,_e=u.stateNode.containerInfo,Wn=!0,Ys(r,o,u),_e=f,Wn=g;break;case 0:case 11:case 14:case 15:Ve||Or(2,u,o),Ve||Or(4,u,o),Ys(r,o,u);break;case 1:Ve||(as(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&R1(u,o,f)),Ys(r,o,u);break;case 21:Ys(r,o,u);break;case 22:Ve=(f=Ve)||u.memoizedState!==null,Ys(r,o,u),Ve=f;break;default:Ys(r,o,u)}}function j1(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Nu(r)}catch(u){me(o,o.return,u)}}function TI(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new I1),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new I1),o;default:throw Error(i(435,r.tag))}}function Ug(r,o){var u=TI(r);o.forEach(function(f){var g=II.bind(null,r,f);u.has(f)||(u.add(f),f.then(g,g))})}function si(r,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f],b=r,A=o,k=A;t:for(;k!==null;){switch(k.tag){case 27:if(Hr(k.type)){_e=k.stateNode,Wn=!1;break t}break;case 5:_e=k.stateNode,Wn=!1;break t;case 3:case 4:_e=k.stateNode.containerInfo,Wn=!0;break t}k=k.return}if(_e===null)throw Error(i(160));O1(b,A,g),_e=null,Wn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)V1(o,r),o=o.sibling}var Oi=null;function V1(r,o){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:si(o,r),ri(r),f&4&&(Or(3,r,r.return),hu(3,r),Or(5,r,r.return));break;case 1:si(o,r),ri(r),f&512&&(Ve||u===null||as(u,u.return)),f&64&&Ws&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var g=Oi;if(si(o,r),ri(r),f&512&&(Ve||u===null||as(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){t:{f=r.type,u=r.memoizedProps,g=g.ownerDocument||g;e:switch(f){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Pa]||b[Ze]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(f),g.head.insertBefore(b,g.querySelector("head > title"))),xn(b,f,u),b[Ze]=r,Oe(b),f=b;break t;case"link":var A=Mw("link","href",g).get(f+(u.href||""));if(A){for(var k=0;k<A.length;k++)if(b=A[k],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(k,1);break e}}b=g.createElement(f),xn(b,f,u),g.head.appendChild(b);break;case"meta":if(A=Mw("meta","content",g).get(f+(u.content||""))){for(k=0;k<A.length;k++)if(b=A[k],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(k,1);break e}}b=g.createElement(f),xn(b,f,u),g.head.appendChild(b);break;default:throw Error(i(468,f))}b[Ze]=r,Oe(b),f=b}r.stateNode=f}else Iw(g,r.type,r.stateNode);else r.stateNode=kw(g,f,r.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?Iw(g,r.type,r.stateNode):kw(g,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Vg(r,r.memoizedProps,u.memoizedProps)}break;case 27:si(o,r),ri(r),f&512&&(Ve||u===null||as(u,u.return)),u!==null&&f&4&&Vg(r,r.memoizedProps,u.memoizedProps);break;case 5:if(si(o,r),ri(r),f&512&&(Ve||u===null||as(u,u.return)),r.flags&32){g=r.stateNode;try{di(g,"")}catch(tt){me(r,r.return,tt)}}f&4&&r.stateNode!=null&&(g=r.memoizedProps,Vg(r,g,u!==null?u.memoizedProps:g)),f&1024&&(Bg=!0);break;case 6:if(si(o,r),ri(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(tt){me(r,r.return,tt)}}break;case 3:if(gf=null,g=Oi,Oi=mf(o.containerInfo),si(o,r),Oi=g,ri(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Nu(o.containerInfo)}catch(tt){me(r,r.return,tt)}Bg&&(Bg=!1,L1(r));break;case 4:f=Oi,Oi=mf(r.stateNode.containerInfo),si(o,r),ri(r),Oi=f;break;case 12:si(o,r),ri(r);break;case 13:si(o,r),ri(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Wg=Ot()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Ug(r,f)));break;case 22:g=r.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,X=Ws,ot=Ve;if(Ws=X||g,Ve=ot||H,si(o,r),Ve=ot,Ws=X,ri(r),f&8192)t:for(o=r.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(u===null||H||Ws||Ve||ao(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(b=H.stateNode,g)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{k=H.stateNode;var ut=H.memoizedProps.style,J=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(tt){me(H,H.return,tt)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(tt){me(H,H.return,tt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Ug(r,u))));break;case 19:si(o,r),ri(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Ug(r,f)));break;case 30:break;case 21:break;default:si(o,r),ri(r)}}function ri(r){var o=r.flags;if(o&2){try{for(var u,f=r.return;f!==null;){if(k1(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var g=u.stateNode,b=Lg(r);tf(r,b,g);break;case 5:var A=u.stateNode;u.flags&32&&(di(A,""),u.flags&=-33);var k=Lg(r);tf(r,k,A);break;case 3:case 4:var H=u.stateNode.containerInfo,X=Lg(r);zg(r,X,H);break;default:throw Error(i(161))}}catch(ot){me(r,r.return,ot)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function L1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;L1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function jr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)D1(r,o.alternate,o),o=o.sibling}function ao(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Or(4,o,o.return),ao(o);break;case 1:as(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&R1(o,o.return,u),ao(o);break;case 27:_u(o.stateNode);case 26:case 5:as(o,o.return),ao(o);break;case 22:o.memoizedState===null&&ao(o);break;case 30:ao(o);break;default:ao(o)}r=r.sibling}}function Vr(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,g=r,b=o,A=b.flags;switch(b.tag){case 0:case 11:case 15:Vr(g,b,u),hu(4,b);break;case 1:if(Vr(g,b,u),f=b,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(X){me(f,f.return,X)}if(f=b,g=f.updateQueue,g!==null){var k=f.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)f_(H[g],k)}catch(X){me(f,f.return,X)}}u&&A&64&&C1(b),du(b,b.return);break;case 27:M1(b);case 26:case 5:Vr(g,b,u),u&&f===null&&A&4&&N1(b),du(b,b.return);break;case 12:Vr(g,b,u);break;case 13:Vr(g,b,u),u&&A&4&&j1(g,b);break;case 22:b.memoizedState===null&&Vr(g,b,u),du(b,b.return);break;case 30:break;default:Vr(g,b,u)}o=o.sibling}}function Fg(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Xc(u))}function Hg(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Xc(r))}function os(r,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)z1(r,o,u,f),o=o.sibling}function z1(r,o,u,f){var g=o.flags;switch(o.tag){case 0:case 11:case 15:os(r,o,u,f),g&2048&&hu(9,o);break;case 1:os(r,o,u,f);break;case 3:os(r,o,u,f),g&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Xc(r)));break;case 12:if(g&2048){os(r,o,u,f),r=o.stateNode;try{var b=o.memoizedProps,A=b.id,k=b.onPostCommit;typeof k=="function"&&k(A,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){me(o,o.return,H)}}else os(r,o,u,f);break;case 13:os(r,o,u,f);break;case 23:break;case 22:b=o.stateNode,A=o.alternate,o.memoizedState!==null?b._visibility&2?os(r,o,u,f):fu(r,o):b._visibility&2?os(r,o,u,f):(b._visibility|=2,bl(r,o,u,f,(o.subtreeFlags&10256)!==0)),g&2048&&Fg(A,o);break;case 24:os(r,o,u,f),g&2048&&Hg(o.alternate,o);break;default:os(r,o,u,f)}}function bl(r,o,u,f,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=r,A=o,k=u,H=f,X=A.flags;switch(A.tag){case 0:case 11:case 15:bl(b,A,k,H,g),hu(8,A);break;case 23:break;case 22:var ot=A.stateNode;A.memoizedState!==null?ot._visibility&2?bl(b,A,k,H,g):fu(b,A):(ot._visibility|=2,bl(b,A,k,H,g)),g&&X&2048&&Fg(A.alternate,A);break;case 24:bl(b,A,k,H,g),g&&X&2048&&Hg(A.alternate,A);break;default:bl(b,A,k,H,g)}o=o.sibling}}function fu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,f=o,g=f.flags;switch(f.tag){case 22:fu(u,f),g&2048&&Fg(f.alternate,f);break;case 24:fu(u,f),g&2048&&Hg(f.alternate,f);break;default:fu(u,f)}o=o.sibling}}var mu=8192;function _l(r){if(r.subtreeFlags&mu)for(r=r.child;r!==null;)B1(r),r=r.sibling}function B1(r){switch(r.tag){case 26:_l(r),r.flags&mu&&r.memoizedState!==null&&lD(Oi,r.memoizedState,r.memoizedProps);break;case 5:_l(r);break;case 3:case 4:var o=Oi;Oi=mf(r.stateNode.containerInfo),_l(r),Oi=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=mu,mu=16777216,_l(r),mu=o):_l(r));break;default:_l(r)}}function U1(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function pu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];cn=f,H1(f,r)}U1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)F1(r),r=r.sibling}function F1(r){switch(r.tag){case 0:case 11:case 15:pu(r),r.flags&2048&&Or(9,r,r.return);break;case 3:pu(r);break;case 12:pu(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,ef(r)):pu(r);break;default:pu(r)}}function ef(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];cn=f,H1(f,r)}U1(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Or(8,o,o.return),ef(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,ef(o));break;default:ef(o)}r=r.sibling}}function H1(r,o){for(;cn!==null;){var u=cn;switch(u.tag){case 0:case 11:case 15:Or(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Xc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,cn=f;else t:for(u=r;cn!==null;){f=cn;var g=f.sibling,b=f.return;if(P1(f),f===u){cn=null;break t}if(g!==null){g.return=b,cn=g;break t}cn=b}}}var SI={getCacheForType:function(r){var o=En(en),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},EI=typeof WeakMap=="function"?WeakMap:Map,oe=0,pe=null,Ut=null,Kt=0,le=0,ai=null,Lr=!1,wl=!1,qg=!1,Qs=0,Ie=0,zr=0,oo=0,$g=0,_i=0,Tl=0,gu=null,Yn=null,Gg=!1,Wg=0,nf=1/0,sf=null,Br=null,vn=0,Ur=null,Sl=null,El=0,Yg=0,Qg=null,q1=null,yu=0,Kg=null;function oi(){if((oe&2)!==0&&Kt!==0)return Kt&-Kt;if(G.T!==null){var r=dl;return r!==0?r:i0()}return wr()}function $1(){_i===0&&(_i=(Kt&536870912)===0||ne?Ac():536870912);var r=bi.current;return r!==null&&(r.flags|=32),_i}function li(r,o,u){(r===pe&&(le===2||le===9)||r.cancelPendingCommit!==null)&&(Al(r,0),Fr(r,Kt,_i,!1)),Cs(r,u),((oe&2)===0||r!==pe)&&(r===pe&&((oe&2)===0&&(oo|=u),Ie===4&&Fr(r,Kt,_i,!1)),ls(r))}function G1(r,o,u){if((oe&6)!==0)throw Error(i(327));var f=!u&&(o&124)===0&&(o&r.expiredLanes)===0||Da(r,o),g=f?RI(r,o):Jg(r,o,!0),b=f;do{if(g===0){wl&&!f&&Fr(r,o,0,!1);break}else{if(u=r.current.alternate,b&&!AI(u)){g=Jg(r,o,!1),b=!1;continue}if(g===2){if(b=o,r.errorRecoveryDisabledLanes&b)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;t:{var k=r;g=gu;var H=k.current.memoizedState.isDehydrated;if(H&&(Al(k,A).flags|=256),A=Jg(k,A,!1),A!==2){if(qg&&!H){k.errorRecoveryDisabledLanes|=b,oo|=b,g=4;break t}b=Yn,Yn=g,b!==null&&(Yn===null?Yn=b:Yn.push.apply(Yn,b))}g=A}if(b=!1,g!==2)continue}}if(g===1){Al(r,0),Fr(r,o,0,!0);break}t:{switch(f=r,b=g,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Fr(f,o,_i,!Lr);break t;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=Wg+300-Ot(),10<g)){if(Fr(f,o,_i,!Lr),Ho(f,0,!0)!==0)break t;f.timeoutHandle=_w(W1.bind(null,f,u,Yn,sf,Gg,o,_i,oo,Tl,Lr,b,2,-0,0),g);break t}W1(f,u,Yn,sf,Gg,o,_i,oo,Tl,Lr,b,0,-0,0)}}break}while(!0);ls(r)}function W1(r,o,u,f,g,b,A,k,H,X,ot,ut,J,tt){if(r.timeoutHandle=-1,ut=o.subtreeFlags,(ut&8192||(ut&16785408)===16785408)&&(Su={stylesheets:null,count:0,unsuspend:oD},B1(o),ut=cD(),ut!==null)){r.cancelPendingCommit=ut(tw.bind(null,r,o,b,u,f,g,A,k,H,ot,1,J,tt)),Fr(r,b,A,!X);return}tw(r,o,b,u,f,g,A,k,H)}function AI(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var g=u[f],b=g.getSnapshot;g=g.value;try{if(!ni(b(),g))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Fr(r,o,u,f){o&=~$g,o&=~oo,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var g=o;0<g;){var b=31-Sn(g),A=1<<b;f[b]=-1,g&=~A}u!==0&&Wi(r,u,o)}function rf(){return(oe&6)===0?(vu(0),!1):!0}function Xg(){if(Ut!==null){if(le===0)var r=Ut.return;else r=Ut,Us=eo=null,mg(r),vl=null,lu=0,r=Ut;for(;r!==null;)A1(r.alternate,r),r=r.return;Ut=null}}function Al(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,qI(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Xg(),pe=r,Ut=u=Ls(r.current,null),Kt=o,le=0,ai=null,Lr=!1,wl=Da(r,o),qg=!1,Tl=_i=$g=oo=zr=Ie=0,Yn=gu=null,Gg=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var g=31-Sn(f),b=1<<g;o|=r[g],f&=~b}return Qs=o,Ad(),u}function Y1(r,o){zt=null,G.H=$d,o===Jc||o===Od?(o=h_(),le=3):o===l_?(o=h_(),le=4):le=o===d1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ai=o,Ut===null&&(Ie=1,Kd(r,gi(o,r.current)))}function Q1(){var r=G.H;return G.H=$d,r===null?$d:r}function K1(){var r=G.A;return G.A=SI,r}function Zg(){Ie=4,Lr||(Kt&4194048)!==Kt&&bi.current!==null||(wl=!0),(zr&134217727)===0&&(oo&134217727)===0||pe===null||Fr(pe,Kt,_i,!1)}function Jg(r,o,u){var f=oe;oe|=2;var g=Q1(),b=K1();(pe!==r||Kt!==o)&&(sf=null,Al(r,o)),o=!1;var A=Ie;t:do try{if(le!==0&&Ut!==null){var k=Ut,H=ai;switch(le){case 8:Xg(),A=6;break t;case 3:case 2:case 9:case 6:bi.current===null&&(o=!0);var X=le;if(le=0,ai=null,Cl(r,k,H,X),u&&wl){A=0;break t}break;default:X=le,le=0,ai=null,Cl(r,k,H,X)}}CI(),A=Ie;break}catch(ot){Y1(r,ot)}while(!0);return o&&r.shellSuspendCounter++,Us=eo=null,oe=f,G.H=g,G.A=b,Ut===null&&(pe=null,Kt=0,Ad()),A}function CI(){for(;Ut!==null;)X1(Ut)}function RI(r,o){var u=oe;oe|=2;var f=Q1(),g=K1();pe!==r||Kt!==o?(sf=null,nf=Ot()+500,Al(r,o)):wl=Da(r,o);t:do try{if(le!==0&&Ut!==null){o=Ut;var b=ai;e:switch(le){case 1:le=0,ai=null,Cl(r,o,b,1);break;case 2:case 9:if(c_(b)){le=0,ai=null,Z1(o);break}o=function(){le!==2&&le!==9||pe!==r||(le=7),ls(r)},b.then(o,o);break t;case 3:le=7;break t;case 4:le=5;break t;case 7:c_(b)?(le=0,ai=null,Z1(o)):(le=0,ai=null,Cl(r,o,b,7));break;case 5:var A=null;switch(Ut.tag){case 26:A=Ut.memoizedState;case 5:case 27:var k=Ut;if(!A||Dw(A)){le=0,ai=null;var H=k.sibling;if(H!==null)Ut=H;else{var X=k.return;X!==null?(Ut=X,af(X)):Ut=null}break e}}le=0,ai=null,Cl(r,o,b,5);break;case 6:le=0,ai=null,Cl(r,o,b,6);break;case 8:Xg(),Ie=6;break t;default:throw Error(i(462))}}NI();break}catch(ot){Y1(r,ot)}while(!0);return Us=eo=null,G.H=f,G.A=g,oe=u,Ut!==null?0:(pe=null,Kt=0,Ad(),Ie)}function NI(){for(;Ut!==null&&!Xe();)X1(Ut)}function X1(r){var o=S1(r.alternate,r,Qs);r.memoizedProps=r.pendingProps,o===null?af(r):Ut=o}function Z1(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=v1(u,o,o.pendingProps,o.type,void 0,Kt);break;case 11:o=v1(u,o,o.pendingProps,o.type.render,o.ref,Kt);break;case 5:mg(o);default:A1(u,o),o=Ut=Jb(o,Qs),o=S1(u,o,Qs)}r.memoizedProps=r.pendingProps,o===null?af(r):Ut=o}function Cl(r,o,u,f){Us=eo=null,mg(o),vl=null,lu=0;var g=o.return;try{if(vI(r,g,o,u,Kt)){Ie=1,Kd(r,gi(u,r.current)),Ut=null;return}}catch(b){if(g!==null)throw Ut=g,b;Ie=1,Kd(r,gi(u,r.current)),Ut=null;return}o.flags&32768?(ne||f===1?r=!0:wl||(Kt&536870912)!==0?r=!1:(Lr=r=!0,(f===2||f===9||f===3||f===6)&&(f=bi.current,f!==null&&f.tag===13&&(f.flags|=16384))),J1(o,r)):af(o)}function af(r){var o=r;do{if((o.flags&32768)!==0){J1(o,Lr);return}r=o.return;var u=bI(o.alternate,o,Qs);if(u!==null){Ut=u;return}if(o=o.sibling,o!==null){Ut=o;return}Ut=o=r}while(o!==null);Ie===0&&(Ie=5)}function J1(r,o){do{var u=_I(r.alternate,r);if(u!==null){u.flags&=32767,Ut=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Ut=r;return}Ut=r=u}while(r!==null);Ie=6,Ut=null}function tw(r,o,u,f,g,b,A,k,H){r.cancelPendingCommit=null;do of();while(vn!==0);if((oe&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=Hp,Rc(r,u,b,A,k,H),r===pe&&(Ut=pe=null,Kt=0),Sl=o,Ur=r,El=u,Yg=b,Qg=g,q1=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,DI($n,function(){return rw(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=G.T,G.T=null,g=Z.p,Z.p=2,A=oe,oe|=4;try{wI(r,o,u)}finally{oe=A,Z.p=g,G.T=f}}vn=1,ew(),nw(),iw()}}function ew(){if(vn===1){vn=0;var r=Ur,o=Sl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var f=Z.p;Z.p=2;var g=oe;oe|=4;try{V1(o,r);var b=h0,A=Hb(r.containerInfo),k=b.focusedElem,H=b.selectionRange;if(A!==k&&k&&k.ownerDocument&&Fb(k.ownerDocument.documentElement,k)){if(H!==null&&Lp(k)){var X=H.start,ot=H.end;if(ot===void 0&&(ot=X),"selectionStart"in k)k.selectionStart=X,k.selectionEnd=Math.min(ot,k.value.length);else{var ut=k.ownerDocument||document,J=ut&&ut.defaultView||window;if(J.getSelection){var tt=J.getSelection(),Nt=k.textContent.length,St=Math.min(H.start,Nt),fe=H.end===void 0?St:Math.min(H.end,Nt);!tt.extend&&St>fe&&(A=fe,fe=St,St=A);var Y=Ub(k,St),$=Ub(k,fe);if(Y&&$&&(tt.rangeCount!==1||tt.anchorNode!==Y.node||tt.anchorOffset!==Y.offset||tt.focusNode!==$.node||tt.focusOffset!==$.offset)){var K=ut.createRange();K.setStart(Y.node,Y.offset),tt.removeAllRanges(),St>fe?(tt.addRange(K),tt.extend($.node,$.offset)):(K.setEnd($.node,$.offset),tt.addRange(K))}}}}for(ut=[],tt=k;tt=tt.parentNode;)tt.nodeType===1&&ut.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ut.length;k++){var lt=ut[k];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}xf=!!u0,h0=u0=null}finally{oe=g,Z.p=f,G.T=u}}r.current=o,vn=2}}function nw(){if(vn===2){vn=0;var r=Ur,o=Sl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var f=Z.p;Z.p=2;var g=oe;oe|=4;try{D1(r,o.alternate,o)}finally{oe=g,Z.p=f,G.T=u}}vn=3}}function iw(){if(vn===4||vn===3){vn=0,Jn();var r=Ur,o=Sl,u=El,f=q1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?vn=5:(vn=0,Sl=Ur=null,sw(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Br=null),qo(u),o=o.stateNode,ae&&typeof ae.onCommitFiberRoot=="function")try{ae.onCommitFiberRoot(ke,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=G.T,g=Z.p,Z.p=2,G.T=null;try{for(var b=r.onRecoverableError,A=0;A<f.length;A++){var k=f[A];b(k.value,{componentStack:k.stack})}}finally{G.T=o,Z.p=g}}(El&3)!==0&&of(),ls(r),g=r.pendingLanes,(u&4194090)!==0&&(g&42)!==0?r===Kg?yu++:(yu=0,Kg=r):yu=0,vu(0)}}function sw(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Xc(o)))}function of(r){return ew(),nw(),iw(),rw()}function rw(){if(vn!==5)return!1;var r=Ur,o=Yg;Yg=0;var u=qo(El),f=G.T,g=Z.p;try{Z.p=32>u?32:u,G.T=null,u=Qg,Qg=null;var b=Ur,A=El;if(vn=0,Sl=Ur=null,El=0,(oe&6)!==0)throw Error(i(331));var k=oe;if(oe|=4,F1(b.current),z1(b,b.current,A,u),oe=k,vu(0,!1),ae&&typeof ae.onPostCommitFiberRoot=="function")try{ae.onPostCommitFiberRoot(ke,b)}catch{}return!0}finally{Z.p=g,G.T=f,sw(r,o)}}function aw(r,o,u){o=gi(u,o),o=Rg(r.stateNode,o,2),r=Mr(r,o,2),r!==null&&(Cs(r,2),ls(r))}function me(r,o,u){if(r.tag===3)aw(r,r,u);else for(;o!==null;){if(o.tag===3){aw(o,r,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Br===null||!Br.has(f))){r=gi(u,r),u=u1(2),f=Mr(o,u,2),f!==null&&(h1(u,f,o,r),Cs(f,2),ls(f));break}}o=o.return}}function t0(r,o,u){var f=r.pingCache;if(f===null){f=r.pingCache=new EI;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(qg=!0,g.add(u),r=kI.bind(null,r,o,u),o.then(r,r))}function kI(r,o,u){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,pe===r&&(Kt&u)===u&&(Ie===4||Ie===3&&(Kt&62914560)===Kt&&300>Ot()-Wg?(oe&2)===0&&Al(r,0):$g|=u,Tl===Kt&&(Tl=0)),ls(r)}function ow(r,o){o===0&&(o=Cc()),r=ll(r,o),r!==null&&(Cs(r,o),ls(r))}function MI(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),ow(r,u)}function II(r,o){var u=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),ow(r,u)}function DI(r,o){return Dt(r,o)}var lf=null,Rl=null,e0=!1,cf=!1,n0=!1,lo=0;function ls(r){r!==Rl&&r.next===null&&(Rl===null?lf=Rl=r:Rl=Rl.next=r),cf=!0,e0||(e0=!0,OI())}function vu(r,o){if(!n0&&cf){n0=!0;do for(var u=!1,f=lf;f!==null;){if(r!==0){var g=f.pendingLanes;if(g===0)var b=0;else{var A=f.suspendedLanes,k=f.pingedLanes;b=(1<<31-Sn(42|r)+1)-1,b&=g&~(A&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,hw(f,b))}else b=Kt,b=Ho(f,f===pe?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Da(f,b)||(u=!0,hw(f,b));f=f.next}while(u);n0=!1}}function PI(){lw()}function lw(){cf=e0=!1;var r=0;lo!==0&&(HI()&&(r=lo),lo=0);for(var o=Ot(),u=null,f=lf;f!==null;){var g=f.next,b=cw(f,o);b===0?(f.next=null,u===null?lf=g:u.next=g,g===null&&(Rl=u)):(u=f,(r!==0||(b&3)!==0)&&(cf=!0)),f=g}vu(r)}function cw(r,o){for(var u=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var A=31-Sn(b),k=1<<A,H=g[A];H===-1?((k&u)===0||(k&f)!==0)&&(g[A]=Ec(k,o)):H<=o&&(r.expiredLanes|=k),b&=~k}if(o=pe,u=Kt,u=Ho(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===o&&(le===2||le===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Ne(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Da(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(f!==null&&Ne(f),qo(u)){case 2:case 8:u=br;break;case 32:u=$n;break;case 268435456:u=Fo;break;default:u=$n}return f=uw.bind(null,r),u=Dt(u,f),r.callbackPriority=o,r.callbackNode=u,o}return f!==null&&f!==null&&Ne(f),r.callbackPriority=2,r.callbackNode=null,2}function uw(r,o){if(vn!==0&&vn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(of()&&r.callbackNode!==u)return null;var f=Kt;return f=Ho(r,r===pe?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(G1(r,f,o),cw(r,Ot()),r.callbackNode!=null&&r.callbackNode===u?uw.bind(null,r):null)}function hw(r,o){if(of())return null;G1(r,o,!0)}function OI(){$I(function(){(oe&6)!==0?Dt(Gi,PI):lw()})}function i0(){return lo===0&&(lo=Ac()),lo}function dw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ko(""+r)}function fw(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function jI(r,o,u,f,g){if(o==="submit"&&u&&u.stateNode===g){var b=dw((g[He]||null).action),A=f.submitter;A&&(o=(o=A[He]||null)?dw(o.formAction):A.getAttribute("formAction"),o!==null&&(b=o,A=null));var k=new Xo("action","action",null,f,g);r.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(lo!==0){var H=A?fw(g,A):new FormData(g);Tg(u,{pending:!0,data:H,method:g.method,action:b},null,H)}}else typeof b=="function"&&(k.preventDefault(),H=A?fw(g,A):new FormData(g),Tg(u,{pending:!0,data:H,method:g.method,action:b},b,H))},currentTarget:g}]})}}for(var s0=0;s0<Fp.length;s0++){var r0=Fp[s0],VI=r0.toLowerCase(),LI=r0[0].toUpperCase()+r0.slice(1);Pi(VI,"on"+LI)}Pi(Gb,"onAnimationEnd"),Pi(Wb,"onAnimationIteration"),Pi(Yb,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(eI,"onTransitionRun"),Pi(nI,"onTransitionStart"),Pi(iI,"onTransitionCancel"),Pi(Qb,"onTransitionEnd"),Ns("onMouseEnter",["mouseout","mouseover"]),Ns("onMouseLeave",["mouseout","mouseover"]),Ns("onPointerEnter",["pointerout","pointerover"]),Ns("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function mw(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],g=f.event;f=f.listeners;t:{var b=void 0;if(o)for(var A=f.length-1;0<=A;A--){var k=f[A],H=k.instance,X=k.currentTarget;if(k=k.listener,H!==b&&g.isPropagationStopped())break t;b=k,g.currentTarget=X;try{b(g)}catch(ot){Qd(ot)}g.currentTarget=null,b=H}else for(A=0;A<f.length;A++){if(k=f[A],H=k.instance,X=k.currentTarget,k=k.listener,H!==b&&g.isPropagationStopped())break t;b=k,g.currentTarget=X;try{b(g)}catch(ot){Qd(ot)}g.currentTarget=null,b=H}}}}function Ft(r,o){var u=o[kc];u===void 0&&(u=o[kc]=new Set);var f=r+"__bubble";u.has(f)||(pw(o,r,2,!1),u.add(f))}function a0(r,o,u){var f=0;o&&(f|=4),pw(u,r,f,o)}var uf="_reactListening"+Math.random().toString(36).slice(2);function o0(r){if(!r[uf]){r[uf]=!0,Mc.forEach(function(u){u!=="selectionchange"&&(zI.has(u)||a0(u,!1,r),a0(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[uf]||(o[uf]=!0,a0("selectionchange",!1,o))}}function pw(r,o,u,f){switch(zw(o)){case 2:var g=dD;break;case 8:g=fD;break;default:g=_0}u=g.bind(null,o,u,r),g=void 0,!mi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(o,u,{capture:!0,passive:g}):r.addEventListener(o,u,!0):g!==void 0?r.addEventListener(o,u,{passive:g}):r.addEventListener(o,u,!1)}function l0(r,o,u,f,g){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var k=f.stateNode.containerInfo;if(k===g)break;if(A===4)for(A=f.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;k!==null;){if(A=Rs(k),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){f=b=A;continue t}k=k.parentNode}}f=f.return}hd(function(){var X=b,ot=fi(u),ut=[];t:{var J=Kb.get(r);if(J!==void 0){var tt=Xo,Nt=r;switch(r){case"keypress":if(Ji(u)===0)break t;case"keydown":case"keyup":tt=il;break;case"focusin":Nt="focus",tt=tl;break;case"focusout":Nt="blur",tt=tl;break;case"beforeblur":case"afterblur":tt=tl;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=xd;break;case Gb:case Wb:case Yb:tt=el;break;case Qb:tt=_d;break;case"scroll":case"scrollend":tt=dd;break;case"wheel":tt=sl;break;case"copy":case"cut":case"paste":tt=nl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Hc;break;case"toggle":case"beforetoggle":tt=Td}var St=(o&4)!==0,fe=!St&&(r==="scroll"||r==="scrollend"),Y=St?J!==null?J+"Capture":null:J;St=[];for(var $=X,K;$!==null;){var lt=$;if(K=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||K===null||Y===null||(lt=Ua($,Y),lt!=null&&St.push(bu($,lt,K))),fe)break;$=$.return}0<St.length&&(J=new tt(J,Nt,null,u,ot),ut.push({event:J,listeners:St}))}}if((o&7)===0){t:{if(J=r==="mouseover"||r==="pointerover",tt=r==="mouseout"||r==="pointerout",J&&u!==Is&&(Nt=u.relatedTarget||u.fromElement)&&(Rs(Nt)||Nt[hi]))break t;if((tt||J)&&(J=ot.window===ot?ot:(J=ot.ownerDocument)?J.defaultView||J.parentWindow:window,tt?(Nt=u.relatedTarget||u.toElement,tt=X,Nt=Nt?Rs(Nt):null,Nt!==null&&(fe=a(Nt),St=Nt.tag,Nt!==fe||St!==5&&St!==27&&St!==6)&&(Nt=null)):(tt=null,Nt=X),tt!==Nt)){if(St=pi,lt="onMouseLeave",Y="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(St=Hc,lt="onPointerLeave",Y="onPointerEnter",$="pointer"),fe=tt==null?J:Qi(tt),K=Nt==null?J:Qi(Nt),J=new St(lt,$+"leave",tt,u,ot),J.target=fe,J.relatedTarget=K,lt=null,Rs(ot)===X&&(St=new St(Y,$+"enter",Nt,u,ot),St.target=K,St.relatedTarget=fe,lt=St),fe=lt,tt&&Nt)e:{for(St=tt,Y=Nt,$=0,K=St;K;K=Nl(K))$++;for(K=0,lt=Y;lt;lt=Nl(lt))K++;for(;0<$-K;)St=Nl(St),$--;for(;0<K-$;)Y=Nl(Y),K--;for(;$--;){if(St===Y||Y!==null&&St===Y.alternate)break e;St=Nl(St),Y=Nl(Y)}St=null}else St=null;tt!==null&&gw(ut,J,tt,St,!1),Nt!==null&&fe!==null&&gw(ut,fe,Nt,St,!0)}}t:{if(J=X?Qi(X):window,tt=J.nodeName&&J.nodeName.toLowerCase(),tt==="select"||tt==="input"&&J.type==="file")var xt=Ob;else if(tn(J))if(jb)xt=ZM;else{xt=KM;var Bt=QM}else tt=J.nodeName,!tt||tt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&jc(X.elementType)&&(xt=Ob):xt=XM;if(xt&&(xt=xt(r,X))){Vs(ut,xt,u,ot);break t}Bt&&Bt(r,J,X),r==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Ar(J,"number",J.value)}switch(Bt=X?Qi(X):window,r){case"focusin":(tn(Bt)||Bt.contentEditable==="true")&&(rl=Bt,zp=X,Gc=null);break;case"focusout":Gc=zp=rl=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,qb(ut,u,ot);break;case"selectionchange":if(tI)break;case"keydown":case"keyup":qb(ut,u,ot)}var wt;if(ns)t:{switch(r){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Yt?rt(r,u)&&(Et="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Et="onCompositionStart");Et&&(S&&u.locale!=="ko"&&(Yt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Yt&&(wt=Lc()):(Zi=ot,Cr="value"in Zi?Zi.value:Zi.textContent,Yt=!0)),Bt=hf(X,Et),0<Bt.length&&(Et=new Uc(Et,r,null,u,ot),ut.push({event:Et,listeners:Bt}),wt?Et.data=wt:(wt=gt(u),wt!==null&&(Et.data=wt)))),(wt=_?Je(r,u):Qt(r,u))&&(Et=hf(X,"onBeforeInput"),0<Et.length&&(Bt=new Uc("onBeforeInput","beforeinput",null,u,ot),ut.push({event:Bt,listeners:Et}),Bt.data=wt)),jI(ut,r,X,u,ot)}mw(ut,o)})}function bu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function hf(r,o){for(var u=o+"Capture",f=[];r!==null;){var g=r,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Ua(r,u),g!=null&&f.unshift(bu(r,g,b)),g=Ua(r,o),g!=null&&f.push(bu(r,g,b))),r.tag===3)return f;r=r.return}return[]}function Nl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function gw(r,o,u,f,g){for(var b=o._reactName,A=[];u!==null&&u!==f;){var k=u,H=k.alternate,X=k.stateNode;if(k=k.tag,H!==null&&H===f)break;k!==5&&k!==26&&k!==27||X===null||(H=X,g?(X=Ua(u,b),X!=null&&A.unshift(bu(u,X,H))):g||(X=Ua(u,b),X!=null&&A.push(bu(u,X,H)))),u=u.return}A.length!==0&&r.push({event:o,listeners:A})}var BI=/\r\n?/g,UI=/\u0000|\uFFFD/g;function yw(r){return(typeof r=="string"?r:""+r).replace(BI,`
`).replace(UI,"")}function vw(r,o){return o=yw(o),yw(r)===o}function df(){}function de(r,o,u,f,g,b){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||di(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&di(r,""+f);break;case"className":Ki(r,"class",f);break;case"tabIndex":Ki(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(r,u,f);break;case"style":Oc(r,f,b);break;case"data":if(o!=="object"){Ki(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=Ko(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&de(r,o,"name",g.name,g,null),de(r,o,"formEncType",g.formEncType,g,null),de(r,o,"formMethod",g.formMethod,g,null),de(r,o,"formTarget",g.formTarget,g,null)):(de(r,o,"encType",g.encType,g,null),de(r,o,"method",g.method,g,null),de(r,o,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=Ko(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=df);break;case"onScroll":f!=null&&Ft("scroll",r);break;case"onScrollEnd":f!=null&&Ft("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=Ko(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":Ft("beforetoggle",r),Ft("toggle",r),Er(r,"popover",f);break;case"xlinkActuate":pn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":pn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":pn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":pn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":pn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":pn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":pn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":pn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":pn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Er(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Ip.get(u)||u,Er(r,u,f))}}function c0(r,o,u,f,g,b){switch(u){case"style":Oc(r,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof f=="string"?di(r,f):(typeof f=="number"||typeof f=="bigint")&&di(r,""+f);break;case"onScroll":f!=null&&Ft("scroll",r);break;case"onScrollEnd":f!=null&&Ft("scrollend",r);break;case"onClick":f!=null&&(r.onclick=df);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),o=u.slice(2,g?u.length-7:void 0),b=r[He]||null,b=b!=null?b[u]:null,typeof b=="function"&&r.removeEventListener(o,b,g),typeof f=="function")){typeof b!="function"&&b!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,f,g);break t}u in r?r[u]=f:f===!0?r.setAttribute(u,""):Er(r,u,f)}}}function xn(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",r),Ft("load",r);var f=!1,g=!1,b;for(b in u)if(u.hasOwnProperty(b)){var A=u[b];if(A!=null)switch(b){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:de(r,o,b,A,u,null)}}g&&de(r,o,"srcSet",u.srcSet,u,null),f&&de(r,o,"src",u.src,u,null);return;case"input":Ft("invalid",r);var k=b=A=g=null,H=null,X=null;for(f in u)if(u.hasOwnProperty(f)){var ot=u[f];if(ot!=null)switch(f){case"name":g=ot;break;case"type":A=ot;break;case"checked":H=ot;break;case"defaultChecked":X=ot;break;case"value":b=ot;break;case"defaultValue":k=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,o));break;default:de(r,o,f,ot,u,null)}}La(r,b,k,H,X,A,g,!1),Qo(r);return;case"select":Ft("invalid",r),f=A=b=null;for(g in u)if(u.hasOwnProperty(g)&&(k=u[g],k!=null))switch(g){case"value":b=k;break;case"defaultValue":A=k;break;case"multiple":f=k;default:de(r,o,g,k,u,null)}o=b,u=A,r.multiple=!!f,o!=null?Ms(r,!!f,o,!1):u!=null&&Ms(r,!!f,u,!0);return;case"textarea":Ft("invalid",r),b=g=f=null;for(A in u)if(u.hasOwnProperty(A)&&(k=u[A],k!=null))switch(A){case"value":f=k;break;case"defaultValue":g=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:de(r,o,A,k,u,null)}za(r,f,g,b),Qo(r);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(f=u[H],f!=null))switch(H){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:de(r,o,H,f,u,null)}return;case"dialog":Ft("beforetoggle",r),Ft("toggle",r),Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":Ft("load",r);break;case"video":case"audio":for(f=0;f<xu.length;f++)Ft(xu[f],r);break;case"image":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"embed":case"source":case"link":Ft("error",r),Ft("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:de(r,o,X,f,u,null)}return;default:if(jc(o)){for(ot in u)u.hasOwnProperty(ot)&&(f=u[ot],f!==void 0&&c0(r,o,ot,f,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(f=u[k],f!=null&&de(r,o,k,f,u,null))}function FI(r,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,A=null,k=null,H=null,X=null,ot=null;for(tt in u){var ut=u[tt];if(u.hasOwnProperty(tt)&&ut!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":H=ut;default:f.hasOwnProperty(tt)||de(r,o,tt,null,f,ut)}}for(var J in f){var tt=f[J];if(ut=u[J],f.hasOwnProperty(J)&&(tt!=null||ut!=null))switch(J){case"type":b=tt;break;case"name":g=tt;break;case"checked":X=tt;break;case"defaultChecked":ot=tt;break;case"value":A=tt;break;case"defaultValue":k=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,o));break;default:tt!==ut&&de(r,o,J,tt,f,ut)}}ei(r,A,k,H,X,ot,b,g);return;case"select":tt=A=k=J=null;for(b in u)if(H=u[b],u.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":tt=H;default:f.hasOwnProperty(b)||de(r,o,b,null,f,H)}for(g in f)if(b=f[g],H=u[g],f.hasOwnProperty(g)&&(b!=null||H!=null))switch(g){case"value":J=b;break;case"defaultValue":k=b;break;case"multiple":A=b;default:b!==H&&de(r,o,g,b,f,H)}o=k,u=A,f=tt,J!=null?Ms(r,!!u,J,!1):!!f!=!!u&&(o!=null?Ms(r,!!u,o,!0):Ms(r,!!u,u?[]:"",!1));return;case"textarea":tt=J=null;for(k in u)if(g=u[k],u.hasOwnProperty(k)&&g!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:de(r,o,k,null,f,g)}for(A in f)if(g=f[A],b=u[A],f.hasOwnProperty(A)&&(g!=null||b!=null))switch(A){case"value":J=g;break;case"defaultValue":tt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==b&&de(r,o,A,g,f,b)}ue(r,J,tt);return;case"option":for(var Nt in u)if(J=u[Nt],u.hasOwnProperty(Nt)&&J!=null&&!f.hasOwnProperty(Nt))switch(Nt){case"selected":r.selected=!1;break;default:de(r,o,Nt,null,f,J)}for(H in f)if(J=f[H],tt=u[H],f.hasOwnProperty(H)&&J!==tt&&(J!=null||tt!=null))switch(H){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:de(r,o,H,J,f,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in u)J=u[St],u.hasOwnProperty(St)&&J!=null&&!f.hasOwnProperty(St)&&de(r,o,St,null,f,J);for(X in f)if(J=f[X],tt=u[X],f.hasOwnProperty(X)&&J!==tt&&(J!=null||tt!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,o));break;default:de(r,o,X,J,f,tt)}return;default:if(jc(o)){for(var fe in u)J=u[fe],u.hasOwnProperty(fe)&&J!==void 0&&!f.hasOwnProperty(fe)&&c0(r,o,fe,void 0,f,J);for(ot in f)J=f[ot],tt=u[ot],!f.hasOwnProperty(ot)||J===tt||J===void 0&&tt===void 0||c0(r,o,ot,J,f,tt);return}}for(var Y in u)J=u[Y],u.hasOwnProperty(Y)&&J!=null&&!f.hasOwnProperty(Y)&&de(r,o,Y,null,f,J);for(ut in f)J=f[ut],tt=u[ut],!f.hasOwnProperty(ut)||J===tt||J==null&&tt==null||de(r,o,ut,J,f,tt)}var u0=null,h0=null;function ff(r){return r.nodeType===9?r:r.ownerDocument}function xw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bw(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function d0(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var f0=null;function HI(){var r=window.event;return r&&r.type==="popstate"?r===f0?!1:(f0=r,!0):(f0=null,!1)}var _w=typeof setTimeout=="function"?setTimeout:void 0,qI=typeof clearTimeout=="function"?clearTimeout:void 0,ww=typeof Promise=="function"?Promise:void 0,$I=typeof queueMicrotask=="function"?queueMicrotask:typeof ww<"u"?function(r){return ww.resolve(null).then(r).catch(GI)}:_w;function GI(r){setTimeout(function(){throw r})}function Hr(r){return r==="head"}function Tw(r,o){var u=o,f=0,g=0;do{var b=u.nextSibling;if(r.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var A=r.ownerDocument;if(u&1&&_u(A.documentElement),u&2&&_u(A.body),u&4)for(u=A.head,_u(u),A=u.firstChild;A;){var k=A.nextSibling,H=A.nodeName;A[Pa]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=k}}if(g===0){r.removeChild(b),Nu(o);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);Nu(o)}function m0(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":m0(u),Sr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function WI(r,o,u,f){for(;r.nodeType===1;){var g=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Pa])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=ji(r.nextSibling),r===null)break}return null}function YI(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ji(r.nextSibling),r===null))return null;return r}function p0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function QI(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function ji(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var g0=null;function Sw(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function Ew(r,o,u){switch(o=ff(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function _u(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Sr(r)}var wi=new Map,Aw=new Set;function mf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ks=Z.d;Z.d={f:KI,r:XI,D:ZI,C:JI,L:tD,m:eD,X:iD,S:nD,M:sD};function KI(){var r=Ks.f(),o=rf();return r||o}function XI(r){var o=Yi(r);o!==null&&o.tag===5&&o.type==="form"?G_(o):Ks.r(r)}var kl=typeof document>"u"?null:document;function Cw(r,o,u){var f=kl;if(f&&typeof o=="string"&&o){var g=qe(o);g='link[rel="'+r+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),Aw.has(g)||(Aw.add(g),r={rel:r,crossOrigin:u,href:o},f.querySelector(g)===null&&(o=f.createElement("link"),xn(o,"link",r),Oe(o),f.head.appendChild(o)))}}function ZI(r){Ks.D(r),Cw("dns-prefetch",r,null)}function JI(r,o){Ks.C(r,o),Cw("preconnect",r,o)}function tD(r,o,u){Ks.L(r,o,u);var f=kl;if(f&&r&&o){var g='link[rel="preload"][as="'+qe(o)+'"]';o==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+qe(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+qe(u.imageSizes)+'"]')):g+='[href="'+qe(r)+'"]';var b=g;switch(o){case"style":b=Ml(r);break;case"script":b=Il(r)}wi.has(b)||(r=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),wi.set(b,r),f.querySelector(g)!==null||o==="style"&&f.querySelector(wu(b))||o==="script"&&f.querySelector(Tu(b))||(o=f.createElement("link"),xn(o,"link",r),Oe(o),f.head.appendChild(o)))}}function eD(r,o){Ks.m(r,o);var u=kl;if(u&&r){var f=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+qe(f)+'"][href="'+qe(r)+'"]',b=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Il(r)}if(!wi.has(b)&&(r=m({rel:"modulepreload",href:r},o),wi.set(b,r),u.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Tu(b)))return}f=u.createElement("link"),xn(f,"link",r),Oe(f),u.head.appendChild(f)}}}function nD(r,o,u){Ks.S(r,o,u);var f=kl;if(f&&r){var g=zn(f).hoistableStyles,b=Ml(r);o=o||"default";var A=g.get(b);if(!A){var k={loading:0,preload:null};if(A=f.querySelector(wu(b)))k.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":o},u),(u=wi.get(b))&&y0(r,u);var H=A=f.createElement("link");Oe(H),xn(H,"link",r),H._p=new Promise(function(X,ot){H.onload=X,H.onerror=ot}),H.addEventListener("load",function(){k.loading|=1}),H.addEventListener("error",function(){k.loading|=2}),k.loading|=4,pf(A,o,f)}A={type:"stylesheet",instance:A,count:1,state:k},g.set(b,A)}}}function iD(r,o){Ks.X(r,o);var u=kl;if(u&&r){var f=zn(u).hoistableScripts,g=Il(r),b=f.get(g);b||(b=u.querySelector(Tu(g)),b||(r=m({src:r,async:!0},o),(o=wi.get(g))&&v0(r,o),b=u.createElement("script"),Oe(b),xn(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function sD(r,o){Ks.M(r,o);var u=kl;if(u&&r){var f=zn(u).hoistableScripts,g=Il(r),b=f.get(g);b||(b=u.querySelector(Tu(g)),b||(r=m({src:r,async:!0,type:"module"},o),(o=wi.get(g))&&v0(r,o),b=u.createElement("script"),Oe(b),xn(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function Rw(r,o,u,f){var g=(g=ft.current)?mf(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ml(u.href),u=zn(g).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Ml(u.href);var b=zn(g).hoistableStyles,A=b.get(r);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,A),(b=g.querySelector(wu(r)))&&!b._p&&(A.instance=b,A.state.loading=5),wi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},wi.set(r,u),b||rD(g,r,u,A.state))),o&&f===null)throw Error(i(528,""));return A}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Il(u),u=zn(g).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ml(r){return'href="'+qe(r)+'"'}function wu(r){return'link[rel="stylesheet"]['+r+"]"}function Nw(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function rD(r,o,u,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),xn(o,"link",u),Oe(o),r.head.appendChild(o))}function Il(r){return'[src="'+qe(r)+'"]'}function Tu(r){return"script[async]"+r}function kw(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+qe(u.href)+'"]');if(f)return o.instance=f,Oe(f),f;var g=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Oe(f),xn(f,"style",g),pf(f,u.precedence,r),o.instance=f;case"stylesheet":g=Ml(u.href);var b=r.querySelector(wu(g));if(b)return o.state.loading|=4,o.instance=b,Oe(b),b;f=Nw(u),(g=wi.get(g))&&y0(f,g),b=(r.ownerDocument||r).createElement("link"),Oe(b);var A=b;return A._p=new Promise(function(k,H){A.onload=k,A.onerror=H}),xn(b,"link",f),o.state.loading|=4,pf(b,u.precedence,r),o.instance=b;case"script":return b=Il(u.src),(g=r.querySelector(Tu(b)))?(o.instance=g,Oe(g),g):(f=u,(g=wi.get(b))&&(f=m({},u),v0(f,g)),r=r.ownerDocument||r,g=r.createElement("script"),Oe(g),xn(g,"link",f),r.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,pf(f,u.precedence,r));return o.instance}function pf(r,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,b=g,A=0;A<f.length;A++){var k=f[A];if(k.dataset.precedence===o)b=k;else if(b!==g)break}b?b.parentNode.insertBefore(r,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function y0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function v0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var gf=null;function Mw(r,o,u){if(gf===null){var f=new Map,g=gf=new Map;g.set(u,f)}else g=gf,f=g.get(u),f||(f=new Map,g.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),g=0;g<u.length;g++){var b=u[g];if(!(b[Pa]||b[Ze]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(o)||"";A=r+A;var k=f.get(A);k?k.push(b):f.set(A,[b])}}return f}function Iw(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function aD(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Dw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Su=null;function oD(){}function lD(r,o,u){if(Su===null)throw Error(i(475));var f=Su;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Ml(u.href),b=r.querySelector(wu(g));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=yf.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=b,Oe(b);return}b=r.ownerDocument||r,u=Nw(u),(g=wi.get(g))&&y0(u,g),b=b.createElement("link"),Oe(b);var A=b;A._p=new Promise(function(k,H){A.onload=k,A.onerror=H}),xn(b,"link",u),o.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=yf.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function cD(){if(Su===null)throw Error(i(475));var r=Su;return r.stylesheets&&r.count===0&&x0(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&x0(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function yf(){if(this.count--,this.count===0){if(this.stylesheets)x0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var vf=null;function x0(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,vf=new Map,o.forEach(uD,r),vf=null,yf.call(r))}function uD(r,o){if(!(o.state.loading&4)){var u=vf.get(r);if(u)var f=u.get(null);else{u=new Map,vf.set(r,u);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var A=g[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),f=A)}f&&u.set(null,f)}g=o.instance,A=g.getAttribute("data-precedence"),b=u.get(A)||f,b===f&&u.set(null,g),u.set(A,g),this.count++,f=yf.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),b?b.parentNode.insertBefore(g,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),o.state.loading|=4}}var Eu={$$typeof:B,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function hD(r,o,u,f,g,b,A,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=As(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.hiddenUpdates=As(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Pw(r,o,u,f,g,b,A,k,H,X,ot,ut){return r=new hD(r,o,u,A,k,H,X,ut),o=1,b===!0&&(o|=24),b=ii(3,null,null,o),r.current=b,b.stateNode=r,o=tg(),o.refCount++,r.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:o},sg(b),r}function Ow(r){return r?(r=cl,r):cl}function jw(r,o,u,f,g,b){g=Ow(g),f.context===null?f.context=g:f.pendingContext=g,f=kr(o),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Mr(r,f,o),u!==null&&(li(u,r,o),eu(u,r,o))}function Vw(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function b0(r,o){Vw(r,o),(r=r.alternate)&&Vw(r,o)}function Lw(r){if(r.tag===13){var o=ll(r,67108864);o!==null&&li(o,r,67108864),b0(r,67108864)}}var xf=!0;function dD(r,o,u,f){var g=G.T;G.T=null;var b=Z.p;try{Z.p=2,_0(r,o,u,f)}finally{Z.p=b,G.T=g}}function fD(r,o,u,f){var g=G.T;G.T=null;var b=Z.p;try{Z.p=8,_0(r,o,u,f)}finally{Z.p=b,G.T=g}}function _0(r,o,u,f){if(xf){var g=w0(f);if(g===null)l0(r,o,f,bf,u),Bw(r,f);else if(pD(g,r,o,u,f))f.stopPropagation();else if(Bw(r,f),o&4&&-1<mD.indexOf(r)){for(;g!==null;){var b=Yi(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Mi(b.pendingLanes);if(A!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var H=1<<31-Sn(A);k.entanglements[1]|=H,A&=~H}ls(b),(oe&6)===0&&(nf=Ot()+500,vu(0))}}break;case 13:k=ll(b,2),k!==null&&li(k,b,2),rf(),b0(b,2)}if(b=w0(f),b===null&&l0(r,o,f,bf,u),b===g)break;g=b}g!==null&&f.stopPropagation()}else l0(r,o,f,null,u)}}function w0(r){return r=fi(r),T0(r)}var bf=null;function T0(r){if(bf=null,r=Rs(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return bf=r,null}function zw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Gi:return 2;case br:return 8;case $n:case Tc:return 32;case Fo:return 268435456;default:return 32}default:return 32}}var S0=!1,qr=null,$r=null,Gr=null,Au=new Map,Cu=new Map,Wr=[],mD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bw(r,o){switch(r){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Au.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(o.pointerId)}}function Ru(r,o,u,f,g,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[g]},o!==null&&(o=Yi(o),o!==null&&Lw(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function pD(r,o,u,f,g){switch(o){case"focusin":return qr=Ru(qr,r,o,u,f,g),!0;case"dragenter":return $r=Ru($r,r,o,u,f,g),!0;case"mouseover":return Gr=Ru(Gr,r,o,u,f,g),!0;case"pointerover":var b=g.pointerId;return Au.set(b,Ru(Au.get(b)||null,r,o,u,f,g)),!0;case"gotpointercapture":return b=g.pointerId,Cu.set(b,Ru(Cu.get(b)||null,r,o,u,f,g)),!0}return!1}function Uw(r){var o=Rs(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,sd(r.priority,function(){if(u.tag===13){var f=oi();f=_r(f);var g=ll(u,f);g!==null&&li(g,u,f),b0(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _f(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=w0(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);Is=f,u.target.dispatchEvent(f),Is=null}else return o=Yi(u),o!==null&&Lw(o),r.blockedOn=u,!1;o.shift()}return!0}function Fw(r,o,u){_f(r)&&u.delete(o)}function gD(){S0=!1,qr!==null&&_f(qr)&&(qr=null),$r!==null&&_f($r)&&($r=null),Gr!==null&&_f(Gr)&&(Gr=null),Au.forEach(Fw),Cu.forEach(Fw)}function wf(r,o){r.blockedOn===o&&(r.blockedOn=null,S0||(S0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gD)))}var Tf=null;function Hw(r){Tf!==r&&(Tf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tf===r&&(Tf=null);for(var o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],g=r[o+2];if(typeof f!="function"){if(T0(f||u)===null)continue;break}var b=Yi(u);b!==null&&(r.splice(o,3),o-=3,Tg(b,{pending:!0,data:g,method:u.method,action:f},f,g))}}))}function Nu(r){function o(H){return wf(H,r)}qr!==null&&wf(qr,r),$r!==null&&wf($r,r),Gr!==null&&wf(Gr,r),Au.forEach(o),Cu.forEach(o);for(var u=0;u<Wr.length;u++){var f=Wr[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Wr.length&&(u=Wr[0],u.blockedOn===null);)Uw(u),u.blockedOn===null&&Wr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var g=u[f],b=u[f+1],A=g[He]||null;if(typeof b=="function")A||Hw(u);else if(A){var k=null;if(b&&b.hasAttribute("formAction")){if(g=b,A=b[He]||null)k=A.formAction;else if(T0(g)!==null)continue}else k=A.action;typeof k=="function"?u[f+1]=k:(u.splice(f,3),f-=3),Hw(u)}}}function E0(r){this._internalRoot=r}Sf.prototype.render=E0.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=oi();jw(u,f,r,o,null,null)},Sf.prototype.unmount=E0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;jw(r.current,2,null,r,null,null),rf(),o[hi]=null}};function Sf(r){this._internalRoot=r}Sf.prototype.unstable_scheduleHydration=function(r){if(r){var o=wr();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Wr.length&&o!==0&&o<Wr[u].priority;u++);Wr.splice(u,0,r),u===0&&Uw(r)}};var qw=t.version;if(qw!=="19.1.1")throw Error(i(527,qw,"19.1.1"));Z.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var yD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{ke=Ef.inject(yD),ae=Ef}catch{}}return Mu.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,f="",g=a1,b=o1,A=l1,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=Pw(r,1,!1,null,null,u,f,g,b,A,k,null),r[hi]=o.current,o0(r),new E0(o)},Mu.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var f=!1,g="",b=a1,A=o1,k=l1,H=null,X=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(H=u.unstable_transitionCallbacks),u.formState!==void 0&&(X=u.formState)),o=Pw(r,1,!0,o,u??null,f,g,b,A,k,H,X),o.context=Ow(null),u=o.current,f=oi(),f=_r(f),g=kr(f),g.callback=null,Mr(u,g,f),u=f,o.current.lanes=u,Cs(o,u),ls(o),r[hi]=o.current,o0(r),new Sf(o)},Mu.version="19.1.1",Mu}var tT;function RD(){if(tT)return R0.exports;tT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),R0.exports=CD(),R0.exports}var ND=RD();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eT="popstate";function kD(n={}){function t(i,s){let{pathname:a,search:l,hash:c}=i.location;return _y("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:dh(s)}return ID(t,e,null,n)}function Ce(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function _s(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MD(){return Math.random().toString(36).substring(2,10)}function nT(n,t){return{usr:n.state,key:n.key,idx:t}}function _y(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?cc(t):t,state:e,key:t&&t.key||i||MD()}}function dh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function cc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function ID(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",h=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function v(){c="POP";let C=m(),N=C==null?null:C-d;d=C,h&&h({action:c,location:E.location,delta:N})}function x(C,N){c="PUSH";let j=_y(E.location,C,N);d=m()+1;let B=nT(j,d),W=E.createHref(j);try{l.pushState(B,"",W)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(W)}a&&h&&h({action:c,location:E.location,delta:1})}function w(C,N){c="REPLACE";let j=_y(E.location,C,N);d=m();let B=nT(j,d),W=E.createHref(j);l.replaceState(B,"",W),a&&h&&h({action:c,location:E.location,delta:0})}function T(C){return DD(C)}let E={get action(){return c},get location(){return n(s,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(eT,v),h=C,()=>{s.removeEventListener(eT,v),h=null}},createHref(C){return t(s,C)},createURL:T,encodeLocation(C){let N=T(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:w,go(C){return l.go(C)}};return E}function DD(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ce(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:dh(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function vA(n,t,e="/"){return PD(n,t,e,!1)}function PD(n,t,e,i){let s=typeof t=="string"?cc(t):t,a=ur(s.pathname||"/",e);if(a==null)return null;let l=xA(n);OD(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=GD(a);c=qD(l[h],d,i)}return c}function xA(n,t=[],e=[],i=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Ce(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=or([i,h.relativePath]),m=e.concat(h);a.children&&a.children.length>0&&(Ce(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),xA(a.children,t,m,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:FD(d,a.index),routesMeta:m})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let c of bA(a.path))s(a,l,c)}),t}function bA(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=bA(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function OD(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:HD(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var jD=/^:[\w-]+$/,VD=3,LD=2,zD=1,BD=10,UD=-2,iT=n=>n==="*";function FD(n,t){let e=n.split("/"),i=e.length;return e.some(iT)&&(i+=UD),t&&(i+=LD),e.filter(s=>!iT(s)).reduce((s,a)=>s+(jD.test(a)?VD:a===""?zD:BD),i)}function HD(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function qD(n,t,e=!1){let{routesMeta:i}=n,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,m=a==="/"?t:t.slice(a.length)||"/",v=pm({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),x=h.route;if(!v&&d&&e&&!i[i.length-1].route.index&&(v=pm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:or([a,v.pathname]),pathnameBase:KD(or([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=or([a,v.pathnameBase]))}return l}function pm(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=$D(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:v},x)=>{if(m==="*"){let T=c[x]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const w=c[x];return v&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:n}}function $D(n,t=!1,e=!0){_s(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function GD(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _s(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ur(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function WD(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?cc(n):n;return{pathname:e?e.startsWith("/")?e:YD(e,t):t,search:XD(i),hash:ZD(s)}}function YD(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function I0(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QD(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function _A(n){let t=QD(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function wA(n,t,e,i=!1){let s;typeof n=="string"?s=cc(n):(s={...n},Ce(!s.pathname||!s.pathname.includes("?"),I0("?","pathname","search",s)),Ce(!s.pathname||!s.pathname.includes("#"),I0("#","pathname","hash",s)),Ce(!s.search||!s.search.includes("#"),I0("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=e;else{let v=t.length-1;if(!i&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}c=v>=0?t[v]:"/"}let h=WD(s,c),d=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}var or=n=>n.join("/").replace(/\/\/+/g,"/"),KD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var TA=["POST","PUT","PATCH","DELETE"];new Set(TA);var tP=["GET",...TA];new Set(tP);var uc=O.createContext(null);uc.displayName="DataRouter";var Qm=O.createContext(null);Qm.displayName="DataRouterState";O.createContext(!1);var SA=O.createContext({isTransitioning:!1});SA.displayName="ViewTransition";var eP=O.createContext(new Map);eP.displayName="Fetchers";var nP=O.createContext(null);nP.displayName="Await";var Ts=O.createContext(null);Ts.displayName="Navigation";var Oh=O.createContext(null);Oh.displayName="Location";var $i=O.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var Nv=O.createContext(null);Nv.displayName="RouteError";function iP(n,{relative:t}={}){Ce(jh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=O.useContext(Ts),{hash:s,pathname:a,search:l}=Vh(n,{relative:t}),c=a;return e!=="/"&&(c=a==="/"?e:or([e,a])),i.createHref({pathname:c,search:l,hash:s})}function jh(){return O.useContext(Oh)!=null}function Ss(){return Ce(jh(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Oh).location}var EA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AA(n){O.useContext(Ts).static||O.useLayoutEffect(n)}function qn(){let{isDataRoute:n}=O.useContext($i);return n?vP():sP()}function sP(){Ce(jh(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(uc),{basename:t,navigator:e}=O.useContext(Ts),{matches:i}=O.useContext($i),{pathname:s}=Ss(),a=JSON.stringify(_A(i)),l=O.useRef(!1);return AA(()=>{l.current=!0}),O.useCallback((h,d={})=>{if(_s(l.current,EA),!l.current)return;if(typeof h=="number"){e.go(h);return}let m=wA(h,JSON.parse(a),s,d.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:or([t,m.pathname])),(d.replace?e.replace:e.push)(m,d.state,d)},[t,e,a,s,n])}var rP=O.createContext(null);function aP(n){let t=O.useContext($i).outlet;return t&&O.createElement(rP.Provider,{value:n},t)}function kv(){let{matches:n}=O.useContext($i),t=n[n.length-1];return t?t.params:{}}function Vh(n,{relative:t}={}){let{matches:e}=O.useContext($i),{pathname:i}=Ss(),s=JSON.stringify(_A(e));return O.useMemo(()=>wA(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function oP(n,t){return CA(n,t)}function CA(n,t,e,i){Ce(jh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Ts),{matches:a}=O.useContext($i),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let N=m&&m.path||"";RA(h,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=Ss(),x;if(t){let N=typeof t=="string"?cc(t):t;Ce(d==="/"||N.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=v;let w=x.pathname||"/",T=w;if(d!=="/"){let N=d.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=vA(n,{pathname:T});_s(m||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),_s(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=dP(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:or([d,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:or([d,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,e,i);return t&&C?O.createElement(Oh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function lP(){let n=yP(),t=JD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),e?O.createElement("pre",{style:s},e):null,l)}var cP=O.createElement(lP,null),uP=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?O.createElement($i.Provider,{value:this.props.routeContext},O.createElement(Nv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hP({routeContext:n,match:t,children:e}){let i=O.useContext(uc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement($i.Provider,{value:n},e)}function dP(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,a=e?.errors;if(a!=null){let h=s.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);Ce(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(e)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:m,errors:v}=e,x=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,m)=>{let v,x=!1,w=null,T=null;e&&(v=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||cP,l&&(c<0&&m===0?(RA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,T=null):c===m&&(x=!0,T=d.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,m+1)),C=()=>{let N;return v?N=w:x?N=T:d.route.Component?N=O.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=h,O.createElement(hP,{match:d,routeContext:{outlet:h,matches:E,isDataRoute:e!=null},children:N})};return e&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?O.createElement(uP,{location:e.location,revalidation:e.revalidation,component:w,error:v,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}function Mv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fP(n){let t=O.useContext(uc);return Ce(t,Mv(n)),t}function mP(n){let t=O.useContext(Qm);return Ce(t,Mv(n)),t}function pP(n){let t=O.useContext($i);return Ce(t,Mv(n)),t}function Iv(n){let t=pP(n),e=t.matches[t.matches.length-1];return Ce(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function gP(){return Iv("useRouteId")}function yP(){let n=O.useContext(Nv),t=mP("useRouteError"),e=Iv("useRouteError");return n!==void 0?n:t.errors?.[e]}function vP(){let{router:n}=fP("useNavigate"),t=Iv("useNavigate"),e=O.useRef(!1);return AA(()=>{e.current=!0}),O.useCallback(async(s,a={})=>{_s(e.current,EA),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...a}))},[n,t])}var sT={};function RA(n,t,e){!t&&!sT[n]&&(sT[n]=!0,_s(!1,e))}O.memo(xP);function xP({routes:n,future:t,state:e}){return CA(n,void 0,e,t)}function bP(n){return aP(n.context)}function Rn(n){Ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _P({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:a=!1}){Ce(!jh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof e=="string"&&(e=cc(e));let{pathname:h="/",search:d="",hash:m="",state:v=null,key:x="default"}=e,w=O.useMemo(()=>{let T=ur(h,l);return T==null?null:{location:{pathname:T,search:d,hash:m,state:v,key:x},navigationType:i}},[l,h,d,m,v,x,i]);return _s(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:O.createElement(Ts.Provider,{value:c},O.createElement(Oh.Provider,{children:t,value:w}))}function wP({children:n,location:t}){return oP(wy(n),t)}function wy(n,t=[]){let e=[];return O.Children.forEach(n,(i,s)=>{if(!O.isValidElement(i))return;let a=[...t,s];if(i.type===O.Fragment){e.push.apply(e,wy(i.props.children,a));return}Ce(i.type===Rn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ce(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=wy(i.props.children,a)),e.push(l)}),e}var Xf="get",Zf="application/x-www-form-urlencoded";function Km(n){return n!=null&&typeof n.tagName=="string"}function TP(n){return Km(n)&&n.tagName.toLowerCase()==="button"}function SP(n){return Km(n)&&n.tagName.toLowerCase()==="form"}function EP(n){return Km(n)&&n.tagName.toLowerCase()==="input"}function AP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CP(n,t){return n.button===0&&(!t||t==="_self")&&!AP(n)}var Af=null;function RP(){if(Af===null)try{new FormData(document.createElement("form"),0),Af=!1}catch{Af=!0}return Af}var NP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function D0(n){return n!=null&&!NP.has(n)?(_s(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zf}"`),null):n}function kP(n,t){let e,i,s,a,l;if(SP(n)){let c=n.getAttribute("action");i=c?ur(c,t):null,e=n.getAttribute("method")||Xf,s=D0(n.getAttribute("enctype"))||Zf,a=new FormData(n)}else if(TP(n)||EP(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?ur(h,t):null,e=n.getAttribute("formmethod")||c.getAttribute("method")||Xf,s=D0(n.getAttribute("formenctype"))||D0(c.getAttribute("enctype"))||Zf,a=new FormData(c,n),!RP()){let{name:d,type:m,value:v}=n;if(m==="image"){let x=d?`${d}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else d&&a.append(d,v)}}else{if(Km(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Xf,i=null,s=Zf,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dv(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function MP(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&ur(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function IP(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function PP(n,t,e){let i=await Promise.all(n.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await IP(a,e);return l.links?l.links():[]}return[]}));return LP(i.flat(1).filter(DP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rT(n,t,e,i,s,a){let l=(h,d)=>e[d]?h.route.id!==e[d].route.id:!0,c=(h,d)=>e[d].pathname!==h.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==h.params["*"];return a==="assets"?t.filter((h,d)=>l(h,d)||c(h,d)):a==="data"?t.filter((h,d)=>{let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function OP(n,t,{includeHydrateFallback:e}={}){return jP(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function jP(n){return[...new Set(n)]}function VP(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function LP(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let a=JSON.stringify(VP(s));return e.has(a)||(e.add(a),i.push({key:a,link:s})),i},[])}function NA(){let n=O.useContext(uc);return Dv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zP(){let n=O.useContext(Qm);return Dv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Pv=O.createContext(void 0);Pv.displayName="FrameworkContext";function kA(){let n=O.useContext(Pv);return Dv(n,"You must render this element inside a <HydratedRouter> element"),n}function BP(n,t){let e=O.useContext(Pv),[i,s]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:m,onTouchStart:v}=t,x=O.useRef(null);O.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let E=N=>{N.forEach(j=>{l(j.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[n]),O.useEffect(()=>{if(i){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[i]);let w=()=>{s(!0)},T=()=>{s(!1),l(!1)};return e?n!=="intent"?[a,x,{}]:[a,x,{onFocus:Iu(c,w),onBlur:Iu(h,T),onMouseEnter:Iu(d,w),onMouseLeave:Iu(m,T),onTouchStart:Iu(v,w)}]:[!1,x,{}]}function Iu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function UP({page:n,...t}){let{router:e}=NA(),i=O.useMemo(()=>vA(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?O.createElement(HP,{page:n,matches:i,...t}):null}function FP(n){let{manifest:t,routeModules:e}=kA(),[i,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return PP(n,t,e).then(l=>{a||s(l)}),()=>{a=!0}},[n,t,e]),i}function HP({page:n,matches:t,...e}){let i=Ss(),{manifest:s,routeModules:a}=kA(),{basename:l}=NA(),{loaderData:c,matches:h}=zP(),d=O.useMemo(()=>rT(n,t,h,s,i,"data"),[n,t,h,s,i]),m=O.useMemo(()=>rT(n,t,h,s,i,"assets"),[n,t,h,s,i]),v=O.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let T=new Set,E=!1;if(t.forEach(N=>{let j=s.routes[N.route.id];!j||!j.hasLoader||(!d.some(B=>B.route.id===N.route.id)&&N.route.id in c&&a[N.route.id]?.shouldRevalidate||j.hasClientLoader?E=!0:T.add(N.route.id))}),T.size===0)return[];let C=MP(n,l,"data");return E&&T.size>0&&C.searchParams.set("_routes",t.filter(N=>T.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[l,c,i,s,d,t,n,a]),x=O.useMemo(()=>OP(m,s),[m,s]),w=FP(m);return O.createElement(O.Fragment,null,v.map(T=>O.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...e})),x.map(T=>O.createElement("link",{key:T,rel:"modulepreload",href:T,...e})),w.map(({key:T,link:E})=>O.createElement("link",{key:T,...E})))}function qP(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var MA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MA&&(window.__reactRouterVersion="7.7.1")}catch{}function $P({basename:n,children:t,window:e}){let i=O.useRef();i.current==null&&(i.current=kD({window:e,v5Compat:!0}));let s=i.current,[a,l]=O.useState({action:s.action,location:s.location}),c=O.useCallback(h=>{O.startTransition(()=>l(h))},[l]);return O.useLayoutEffect(()=>s.listen(c),[s,c]),O.createElement(_P,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:s})}var IA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ta=O.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:d,preventScrollReset:m,viewTransition:v,...x},w){let{basename:T}=O.useContext(Ts),E=typeof d=="string"&&IA.test(d),C,N=!1;if(typeof d=="string"&&E&&(C=d,MA))try{let I=new URL(window.location.href),P=d.startsWith("//")?new URL(I.protocol+d):new URL(d),L=ur(P.pathname,T);P.origin===I.origin&&L!=null?d=L+P.search+P.hash:N=!0}catch{_s(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=iP(d,{relative:s}),[B,W,F]=BP(i,x),q=QP(d,{replace:l,state:c,target:h,preventScrollReset:m,relative:s,viewTransition:v});function M(I){t&&t(I),I.defaultPrevented||q(I)}let R=O.createElement("a",{...x,...F,href:C||j,onClick:N||a?t:M,ref:qP(w,W),target:h,"data-discover":!E&&e==="render"?"true":void 0});return B&&!E?O.createElement(O.Fragment,null,R,O.createElement(UP,{page:j})):R});ta.displayName="Link";var GP=O.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...d},m){let v=Vh(l,{relative:d.relative}),x=Ss(),w=O.useContext(Qm),{navigator:T,basename:E}=O.useContext(Ts),C=w!=null&&tO(v)&&c===!0,N=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,j=x.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(j=j.toLowerCase(),B=B?B.toLowerCase():null,N=N.toLowerCase()),B&&E&&(B=ur(B,E)||B);const W=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let F=j===N||!s&&j.startsWith(N)&&j.charAt(W)==="/",q=B!=null&&(B===N||!s&&B.startsWith(N)&&B.charAt(N.length)==="/"),M={isActive:F,isPending:q,isTransitioning:C},R=F?t:void 0,I;typeof i=="function"?I=i(M):I=[i,F?"active":null,q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(M):a;return O.createElement(ta,{...d,"aria-current":R,className:I,ref:m,style:P,to:l,viewTransition:c},typeof h=="function"?h(M):h)});GP.displayName="NavLink";var WP=O.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:a,method:l=Xf,action:c,onSubmit:h,relative:d,preventScrollReset:m,viewTransition:v,...x},w)=>{let T=ZP(),E=JP(c,{relative:d}),C=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&IA.test(c),j=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let W=B.nativeEvent.submitter,F=W?.getAttribute("formmethod")||l;T(W||B.currentTarget,{fetcherKey:t,method:F,navigate:e,replace:s,state:a,relative:d,preventScrollReset:m,viewTransition:v})};return O.createElement("form",{ref:w,method:C,action:E,onSubmit:i?h:j,...x,"data-discover":!N&&n==="render"?"true":void 0})});WP.displayName="Form";function YP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(n){let t=O.useContext(uc);return Ce(t,YP(n)),t}function QP(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=qn(),h=Ss(),d=Vh(n,{relative:a});return O.useCallback(m=>{if(CP(m,t)){m.preventDefault();let v=e!==void 0?e:dh(h)===dh(d);c(n,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,d,e,i,t,n,s,a,l])}var KP=0,XP=()=>`__${String(++KP)}__`;function ZP(){let{router:n}=DA("useSubmit"),{basename:t}=O.useContext(Ts),e=gP();return O.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:h,body:d}=kP(i,t);if(s.navigate===!1){let m=s.fetcherKey||XP();await n.fetch(m,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function JP(n,{relative:t}={}){let{basename:e}=O.useContext(Ts),i=O.useContext($i);Ce(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Vh(n||".",{relative:t})},l=Ss();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:or([e,a.pathname])),dh(a)}function tO(n,{relative:t}={}){let e=O.useContext(SA);Ce(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=DA("useViewTransitionState"),s=Vh(n,{relative:t});if(!e.isTransitioning)return!1;let a=ur(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=ur(e.nextLocation.pathname,i)||e.nextLocation.pathname;return pm(s.pathname,l)!=null||pm(s.pathname,a)!=null}const eO=()=>{};var aT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},nO=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[e++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[e++],l=n[e++],c=n[e++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},OA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,h=s+2<n.length,d=h?n[s+2]:0,m=a>>2,v=(a&3)<<4|c>>4;let x=(c&15)<<2|d>>6,w=d&63;h||(w=64,l||(x=64)),i.push(e[m],e[v],e[x],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(PA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):nO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=e[n.charAt(s++)],c=s<n.length?e[n.charAt(s)]:0;++s;const d=s<n.length?e[n.charAt(s)]:64;++s;const v=s<n.length?e[n.charAt(s)]:64;if(++s,a==null||c==null||d==null||v==null)throw new iO;const x=a<<2|c>>4;if(i.push(x),d!==64){const w=c<<4&240|d>>2;if(i.push(w),v!==64){const T=d<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sO=function(n){const t=PA(n);return OA.encodeByteArray(t,!0)},gm=function(n){return sO(n).replace(/\./g,"")},jA=function(n){try{return OA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=()=>rO().__FIREBASE_DEFAULTS__,oO=()=>{if(typeof process>"u"||typeof aT>"u")return;const n=aT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&jA(n[1]);return t&&JSON.parse(t)},Xm=()=>{try{return eO()||aO()||oO()||lO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},VA=n=>Xm()?.emulatorHosts?.[n],cO=n=>{const t=VA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},LA=()=>Xm()?.config,zA=n=>Xm()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[gm(JSON.stringify(e)),gm(JSON.stringify(l)),""].join(".")}const Ku={};function dO(){const n={prod:[],emulator:[]};for(const t of Object.keys(Ku))Ku[t]?n.emulator.push(t):n.prod.push(t);return n}function fO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let oT=!1;function UA(n,t){if(typeof window>"u"||typeof document>"u"||!hc(window.location.host)||Ku[n]===t||Ku[n]||oT)return;Ku[n]=t;function e(x){return`__firebase__banner__${x}`}const i="__firebase__banner",a=dO().prod.length>0;function l(){const x=document.getElementById(i);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function d(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{oT=!0,l()},x}function m(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=fO(i),w=e("text"),T=document.getElementById(w)||document.createElement("span"),E=e("learnmore"),C=document.getElementById(E)||document.createElement("a"),N=e("preprendIcon"),j=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const B=x.element;c(B),m(C,E);const W=d();h(j,N),B.append(j,T,C,W),document.body.appendChild(B)}a?(T.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function pO(){const n=Xm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xO(){const n=jn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bO(){return!pO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _O(){try{return typeof indexedDB=="object"}catch{return!1}}function wO(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="FirebaseError";class yr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=TO,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lh.prototype.create)}}class Lh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?SO(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new yr(s,c,i)}}function SO(n,t){return n.replace(EO,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const EO=/\{\$([^}]+)}/g;function AO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function No(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const a=n[s],l=t[s];if(lT(a)&&lT(l)){if(!No(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function lT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function zu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function Bu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function CO(n,t){const e=new RO(n,t);return e.subscribe.bind(e)}class RO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");NO(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=P0),s.error===void 0&&(s.error=P0),s.complete===void 0&&(s.complete=P0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function P0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(n){return n&&n._delegate?n._delegate:n}class ko{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new uO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(IO(t))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=po){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=po){return this.instances.has(t)}getOptions(t=po){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=po){return this.component?this.component.multipleInstances?t:po:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MO(n){return n===po?void 0:n}function IO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new kO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const PO={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},OO=qt.INFO,jO={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},VO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=jO[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ov{constructor(t){this.name=t,this._logLevel=OO,this._logHandler=VO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const LO=(n,t)=>t.some(e=>n instanceof e);let cT,uT;function zO(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BO(){return uT||(uT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FA=new WeakMap,Ty=new WeakMap,HA=new WeakMap,O0=new WeakMap,jv=new WeakMap;function UO(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(aa(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&FA.set(e,n)}).catch(()=>{}),jv.set(t,n),t}function FO(n){if(Ty.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Ty.set(n,t)}let Sy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Ty.get(n);if(t==="objectStoreNames")return n.objectStoreNames||HA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return aa(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function HO(n){Sy=n(Sy)}function qO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(j0(this),t,...e);return HA.set(i,t.sort?t.sort():[t]),aa(i)}:BO().includes(n)?function(...t){return n.apply(j0(this),t),aa(FA.get(this))}:function(...t){return aa(n.apply(j0(this),t))}}function $O(n){return typeof n=="function"?qO(n):(n instanceof IDBTransaction&&FO(n),LO(n,zO())?new Proxy(n,Sy):n)}function aa(n){if(n instanceof IDBRequest)return UO(n);if(O0.has(n))return O0.get(n);const t=$O(n);return t!==n&&(O0.set(n,t),jv.set(t,n)),t}const j0=n=>jv.get(n);function GO(n,t,{blocked:e,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(n,t),c=aa(l);return i&&l.addEventListener("upgradeneeded",h=>{i(aa(l.result),h.oldVersion,h.newVersion,aa(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const WO=["get","getKey","getAll","getAllKeys","count"],YO=["put","add","delete","clear"],V0=new Map;function hT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(V0.get(t))return V0.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=YO.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||WO.includes(e)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),s&&h.done]))[0]};return V0.set(t,a),a}HO(n=>({...n,get:(t,e,i)=>hT(t,e)||n.get(t,e,i),has:(t,e)=>!!hT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(KO(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function KO(n){return n.getComponent()?.type==="VERSION"}const Ey="@firebase/app",dT="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Ov("@firebase/app"),XO="@firebase/app-compat",ZO="@firebase/analytics-compat",JO="@firebase/analytics",tj="@firebase/app-check-compat",ej="@firebase/app-check",nj="@firebase/auth",ij="@firebase/auth-compat",sj="@firebase/database",rj="@firebase/data-connect",aj="@firebase/database-compat",oj="@firebase/functions",lj="@firebase/functions-compat",cj="@firebase/installations",uj="@firebase/installations-compat",hj="@firebase/messaging",dj="@firebase/messaging-compat",fj="@firebase/performance",mj="@firebase/performance-compat",pj="@firebase/remote-config",gj="@firebase/remote-config-compat",yj="@firebase/storage",vj="@firebase/storage-compat",xj="@firebase/firestore",bj="@firebase/ai",_j="@firebase/firestore-compat",wj="firebase",Tj="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="[DEFAULT]",Sj={[Ey]:"fire-core",[XO]:"fire-core-compat",[JO]:"fire-analytics",[ZO]:"fire-analytics-compat",[ej]:"fire-app-check",[tj]:"fire-app-check-compat",[nj]:"fire-auth",[ij]:"fire-auth-compat",[sj]:"fire-rtdb",[rj]:"fire-data-connect",[aj]:"fire-rtdb-compat",[oj]:"fire-fn",[lj]:"fire-fn-compat",[cj]:"fire-iid",[uj]:"fire-iid-compat",[hj]:"fire-fcm",[dj]:"fire-fcm-compat",[fj]:"fire-perf",[mj]:"fire-perf-compat",[pj]:"fire-rc",[gj]:"fire-rc-compat",[yj]:"fire-gcs",[vj]:"fire-gcs-compat",[xj]:"fire-fst",[_j]:"fire-fst-compat",[bj]:"fire-vertex","fire-js":"fire-js",[wj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new Map,Ej=new Map,Cy=new Map;function fT(n,t){try{n.container.addComponent(t)}catch(e){hr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Kl(n){const t=n.name;if(Cy.has(t))return hr.debug(`There were multiple attempts to register component ${t}.`),!1;Cy.set(t,n);for(const e of ym.values())fT(e,n);for(const e of Ej.values())fT(e,n);return!0}function Vv(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ui(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new Lh("app","Firebase",Aj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=Tj;function qA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Ay,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw oa.create("bad-app-name",{appName:String(s)});if(e||(e=LA()),!e)throw oa.create("no-options");const a=ym.get(s);if(a){if(No(e,a.options)&&No(i,a.config))return a;throw oa.create("duplicate-app",{appName:s})}const l=new DO(s);for(const h of Cy.values())l.addComponent(h);const c=new Cj(e,i,l);return ym.set(s,c),c}function $A(n=Ay){const t=ym.get(n);if(!t&&n===Ay&&LA())return qA();if(!t)throw oa.create("no-app",{appName:n});return t}function la(n,t,e){let i=Sj[n]??n;e&&(i+=`-${e}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hr.warn(l.join(" "));return}Kl(new ko(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="firebase-heartbeat-database",Nj=1,fh="firebase-heartbeat-store";let L0=null;function GA(){return L0||(L0=GO(Rj,Nj,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(fh)}catch(e){console.warn(e)}}}}).catch(n=>{throw oa.create("idb-open",{originalErrorMessage:n.message})})),L0}async function kj(n){try{const e=(await GA()).transaction(fh),i=await e.objectStore(fh).get(WA(n));return await e.done,i}catch(t){if(t instanceof yr)hr.warn(t.message);else{const e=oa.create("idb-get",{originalErrorMessage:t?.message});hr.warn(e.message)}}}async function mT(n,t){try{const i=(await GA()).transaction(fh,"readwrite");await i.objectStore(fh).put(t,WA(n)),await i.done}catch(e){if(e instanceof yr)hr.warn(e.message);else{const i=oa.create("idb-set",{originalErrorMessage:e?.message});hr.warn(i.message)}}}function WA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=1024,Ij=30;class Dj{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Oj(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=pT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>Ij){const s=jj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pT(),{heartbeatsToSend:e,unsentEntries:i}=Pj(this._heartbeatsCache.heartbeats),s=gm(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return hr.warn(t),""}}}function pT(){return new Date().toISOString().substring(0,10)}function Pj(n,t=Mj){const e=[];let i=n.slice();for(const s of n){const a=e.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),gT(e)>t){a.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),gT(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class Oj{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _O()?wO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await kj(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return mT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return mT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function gT(n){return gm(JSON.stringify({version:2,heartbeats:n})).length}function jj(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(n){Kl(new ko("platform-logger",t=>new QO(t),"PRIVATE")),Kl(new ko("heartbeat",t=>new Dj(t),"PRIVATE")),la(Ey,dT,n),la(Ey,dT,"esm2020"),la("fire-js","")}Vj("");function YA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lj=YA,QA=new Lh("auth","Firebase",YA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Ov("@firebase/auth");function zj(n,...t){vm.logLevel<=qt.WARN&&vm.warn(`Auth (${dc}): ${n}`,...t)}function Jf(n,...t){vm.logLevel<=qt.ERROR&&vm.error(`Auth (${dc}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(n,...t){throw zv(n,...t)}function Fi(n,...t){return zv(n,...t)}function Lv(n,t,e){const i={...Lj(),[t]:e};return new Lh("auth","Firebase",i).create(t,{appName:n.name})}function lr(n){return Lv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bj(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&ki(n,"argument-error"),Lv(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zv(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return QA.create(n,...t)}function Ct(n,t,...e){if(!n)throw zv(t,...e)}function nr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Jf(t),new Error(t)}function dr(n,t){n||nr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){return typeof self<"u"&&self.location?.href||""}function Uj(){return yT()==="http:"||yT()==="https:"}function yT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uj()||yO()||"connection"in navigator)?navigator.onLine:!0}function Hj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,e){this.shortDelay=t,this.longDelay=e,dr(e>t,"Short delay should be less than long delay!"),this.isMobile=mO()||vO()}get(){return Fj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n,t){dr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Gj=new Bh(3e4,6e4);function Sa(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function vr(n,t,e,i,s={}){return XA(n,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const c=zh({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:h,...a};return gO()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&hc(n.emulatorConfig.host)&&(d.credentials="include"),KA.fetch()(await ZA(n,n.config.apiHost,e,c),d)})}async function XA(n,t,e){n._canInitEmulator=!1;const i={...qj,...t};try{const s=new Yj(n),a=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Cf(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Cf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Cf(n,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Lv(n,m,d);ki(n,m)}}catch(s){if(s instanceof yr)throw s;ki(n,"network-request-failed",{message:String(s)})}}async function Uh(n,t,e,i,s={}){const a=await vr(n,t,e,i,s);return"mfaPendingCredential"in a&&ki(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function ZA(n,t,e,i){const s=`${t}${e}?${i}`,a=n,l=a.config.emulator?Bv(n.config,s):`${n.config.apiScheme}://${s}`;return $j.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Wj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Fi(this.auth,"network-request-failed")),Gj.get())})}}function Cf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=Fi(n,t,i);return s.customData._tokenResponse=e,s}function vT(n){return n!==void 0&&n.enterprise!==void 0}class Qj{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Wj(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kj(n,t){return vr(n,"GET","/v2/recaptchaConfig",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(n,t){return vr(n,"POST","/v1/accounts:delete",t)}async function xm(n,t){return vr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Zj(n,t=!1){const e=Vn(n),i=await e.getIdToken(t),s=Uv(i);Ct(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:i,authTime:Xu(z0(s.auth_time)),issuedAtTime:Xu(z0(s.iat)),expirationTime:Xu(z0(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function z0(n){return Number(n)*1e3}function Uv(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Jf("JWT malformed, contained fewer than 3 sections"),null;try{const s=jA(e);return s?JSON.parse(s):(Jf("Failed to decode base64 JWT payload"),null)}catch(s){return Jf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function xT(n){const t=Uv(n);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof yr&&Jj(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Jj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(n){const t=n.auth,e=await n.getIdToken(),i=await Xl(n,xm(t,{idToken:e}));Ct(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?JA(s.providerUserInfo):[],l=n4(n.providerData,a),c=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,d=c?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ny(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,m)}async function e4(n){const t=Vn(n);await bm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function n4(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function JA(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(n,t){const e=await XA(n,{},async()=>{const i=zh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await ZA(n,s,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return n.emulatorConfig&&hc(n.emulatorConfig.host)&&(h.credentials="include"),KA.fetch()(l,h)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function s4(n,t){return vr(n,"POST","/v2/accounts:revokeToken",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const e=xT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:a}=await i4(t,e);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:a}=e,l=new ql;return i&&(Ct(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Ct(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(Ct(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(n,t){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Li{constructor({uid:t,auth:e,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new t4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ny(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Xl(this,this.stsTokenManager.getToken(this.auth,t));return Ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Zj(this,t)}reload(){return e4(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await bm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(lr(this.auth));const t=await this.getIdToken();return await Xl(this,Xj(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,s=e.email??void 0,a=e.phoneNumber??void 0,l=e.photoURL??void 0,c=e.tenantId??void 0,h=e._redirectEventId??void 0,d=e.createdAt??void 0,m=e.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:w,providerData:T,stsTokenManager:E}=e;Ct(v&&E,t,"internal-error");const C=ql.fromJSON(this.name,E);Ct(typeof v=="string",t,"internal-error"),Qr(i,t.name),Qr(s,t.name),Ct(typeof x=="boolean",t,"internal-error"),Ct(typeof w=="boolean",t,"internal-error"),Qr(a,t.name),Qr(l,t.name),Qr(c,t.name),Qr(h,t.name),Qr(d,t.name),Qr(m,t.name);const N=new Li({uid:v,auth:t,email:s,emailVerified:x,displayName:i,isAnonymous:w,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:C,createdAt:d,lastLoginAt:m});return T&&Array.isArray(T)&&(N.providerData=T.map(j=>({...j}))),h&&(N._redirectEventId=h),N}static async _fromIdTokenResponse(t,e,i=!1){const s=new ql;s.updateFromServerResponse(e);const a=new Li({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await bm(a),a}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];Ct(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?JA(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new ql;c.updateFromIdToken(i);const h=new Li({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ny(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;function ir(n){dr(n instanceof Function,"Expected a class definition");let t=bT.get(n);return t?(dr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,bT.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}tC.type="NONE";const _T=tC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(n,t,e){return`firebase:${n}:${t}:${e}`}class $l{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=tm(this.userKey,s.apiKey,a),this.fullPersistenceKey=tm("persistence",s.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await xm(this.auth,{idToken:t}).catch(()=>{});return e?Li._fromGetAccountInfoResponse(this.auth,e,t):null}return Li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new $l(ir(_T),t,i);const s=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||ir(_T);const l=tm(i,t.config.apiKey,t.name);let c=null;for(const d of e)try{const m=await d._get(l);if(m){let v;if(typeof m=="string"){const x=await xm(t,{idToken:m}).catch(()=>{});if(!x)break;v=await Li._fromGetAccountInfoResponse(t,x,m)}else v=Li._fromJSON(t,m);d!==a&&(c=v),a=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new $l(a,t,i):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(e.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new $l(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aC(t))return"Blackberry";if(oC(t))return"Webos";if(nC(t))return"Safari";if((t.includes("chrome/")||iC(t))&&!t.includes("edge/"))return"Chrome";if(rC(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function eC(n=jn()){return/firefox\//i.test(n)}function nC(n=jn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function iC(n=jn()){return/crios\//i.test(n)}function sC(n=jn()){return/iemobile/i.test(n)}function rC(n=jn()){return/android/i.test(n)}function aC(n=jn()){return/blackberry/i.test(n)}function oC(n=jn()){return/webos/i.test(n)}function Fv(n=jn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function r4(n=jn()){return Fv(n)&&!!window.navigator?.standalone}function a4(){return xO()&&document.documentMode===10}function lC(n=jn()){return Fv(n)||rC(n)||oC(n)||aC(n)||/windows phone/i.test(n)||sC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n,t=[]){let e;switch(n){case"Browser":e=wT(jn());break;case"Worker":e=`${wT(jn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${dc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(n,t={}){return vr(n,"GET","/v2/passwordPolicy",Sa(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=6;class u4{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??c4,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TT(this),this.idTokenSubscription=new TT(this),this.beforeStateQueue=new o4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ir(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $l.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await xm(this,{idToken:t}),i=await Li._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ui(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=i?._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await bm(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Hj()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ui(this.app))return Promise.reject(lr(this));const e=t?Vn(t):null;return e&&Ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ui(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await l4(this),e=new u4(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Lh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await s4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ir(t)||this._popupRedirectResolver;Ct(e,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[ir(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&zj(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ea(n){return Vn(n)}class TT{constructor(t){this.auth=t,this.observer=null,this.addObserver=CO(e=>this.observer=e)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d4(n){Zm=n}function uC(n){return Zm.loadJS(n)}function f4(){return Zm.recaptchaEnterpriseScript}function m4(){return Zm.gapiScript}function p4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class g4{constructor(){this.enterprise=new y4}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class y4{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const v4="recaptcha-enterprise",hC="NO_RECAPTCHA";class x4{constructor(t){this.type=v4,this.auth=Ea(t)}async verify(t="verify",e=!1){async function i(a){if(!e){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{Kj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new Qj(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function s(a,l,c){const h=window.grecaptcha;vT(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(d=>{l(d)}).catch(()=>{l(hC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g4().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(c=>{if(!e&&vT(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=f4();h.length!==0&&(h+=c),uC(h).then(()=>{s(c,a,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function ST(n,t,e,i=!1,s=!1){const a=new x4(n);let l;if(s)l=hC;else try{l=await a.verify(e)}catch{l=await a.verify(e,!0)}const c={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ky(n,t,e,i,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ST(n,t,e,e==="getOobCode");return i(n,a)}else return i(n,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ST(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(n,t){const e=Vv(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),a=e.getOptions();if(No(a,t??{}))return s;ki(s,"already-initialized")}return e.initialize({options:t})}function _4(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(ir);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function w4(n,t,e){const i=Ea(n);Ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=dC(t),{host:l,port:c}=T4(t),h=c===null?"":`:${c}`,d={url:`${a}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ct(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ct(No(d,i.config.emulator)&&No(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,hc(l)?(BA(`${a}//${l}${h}`),UA("Auth",!0)):S4()}function dC(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function T4(n){const t=dC(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:ET(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:ET(l)}}}function ET(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function S4(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return nr("not implemented")}_getIdTokenResponse(t){return nr("not implemented")}_linkToIdToken(t,e){return nr("not implemented")}_getReauthenticationResolver(t){return nr("not implemented")}}async function E4(n,t){return vr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(n,t){return Uh(n,"POST","/v1/accounts:signInWithPassword",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(n,t){return Uh(n,"POST","/v1/accounts:signInWithEmailLink",Sa(n,t))}async function R4(n,t){return Uh(n,"POST","/v1/accounts:signInWithEmailLink",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Hv{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new mh(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new mh(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(t,e,"signInWithPassword",A4);case"emailLink":return C4(t,{email:this._email,oobCode:this._password});default:ki(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(t,i,"signUpPassword",E4);case"emailLink":return R4(t,{idToken:e,email:this._email,oobCode:this._password});default:ki(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(n,t){return Uh(n,"POST","/v1/accounts:signInWithIdp",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="http://localhost";class Mo extends Hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Mo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ki("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...a}=e;if(!i||!s)return null;const l=new Mo(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Gl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Gl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Gl(t,e)}buildRequest(){const t={requestUri:N4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=zh(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M4(n){const t=zu(Bu(n)).link,e=t?zu(Bu(t)).deep_link_id:null,i=zu(Bu(n)).deep_link_id;return(i?zu(Bu(i)).link:null)||i||e||t||n}class qv{constructor(t){const e=zu(Bu(t)),i=e.apiKey??null,s=e.oobCode??null,a=k4(e.mode??null);Ct(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=M4(t);try{return new qv(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.providerId=fc.PROVIDER_ID}static credential(t,e){return mh._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=qv.parseLink(e);return Ct(i,"argument-error"),mh._fromEmailAndCode(t,i.code,i.tenantId)}}fc.PROVIDER_ID="password";fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Fh{constructor(){super("facebook.com")}static credential(t){return Mo._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xr.credential(t.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Fh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Mo._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return er.credential(e,i)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Fh{constructor(){super("github.com")}static credential(t){return Mo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Fh{constructor(){super("twitter.com")}static credential(t,e){return Mo._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Jr.credential(e,i)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(n,t){return Uh(n,"POST","/v1/accounts:signUp",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const a=await Li._fromIdTokenResponse(t,i,s),l=AT(i);return new Io({user:a,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=AT(i);return new Io({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function AT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends yr{constructor(t,e,i,s){super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new _m(t,e,i,s)}}function fC(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(n,a,t,i):a})}async function D4(n,t,e=!1){const i=await Xl(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Io._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(n,t,e=!1){const{auth:i}=n;if(ui(i.app))return Promise.reject(lr(i));const s="reauthenticate";try{const a=await Xl(n,fC(i,s,t,n),e);Ct(a.idToken,i,"internal-error");const l=Uv(a.idToken);Ct(l,i,"internal-error");const{sub:c}=l;return Ct(n.uid===c,i,"user-mismatch"),Io._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&ki(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(n,t,e=!1){if(ui(n.app))return Promise.reject(lr(n));const i="signIn",s=await fC(n,i,t),a=await Io._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(a.user),a}async function O4(n,t){return mC(Ea(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(n){const t=Ea(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function j4(n,t,e){if(ui(n.app))return Promise.reject(lr(n));const i=Ea(n),l=await ky(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I4).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&pC(n),h}),c=await Io._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function V4(n,t,e){return ui(n.app)?Promise.reject(lr(n)):O4(Vn(n),fc.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&pC(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(n,t){return vr(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=Vn(n),a={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},l=await Xl(i,L4(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function B4(n,t,e,i){return Vn(n).onIdTokenChanged(t,e,i)}function U4(n,t,e){return Vn(n).beforeAuthStateChanged(t,e)}function F4(n){return Vn(n).signOut()}const wm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(wm,"1"),this.storage.removeItem(wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=1e3,q4=10;class yC extends gC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);a4()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,q4):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},H4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}yC.type="LOCAL";const $4=yC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC extends gC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}vC.type="SESSION";const xC=vC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new Jm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:a}=e.data,l=this.handlersMap[s];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async d=>d(e.origin,a)),h=await G4(c);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const d=Gv("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===d)switch(x.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(x.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return window}function Y4(n){ds().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function Q4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K4(){return navigator?.serviceWorker?.controller||null}function X4(){return bC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="firebaseLocalStorageDb",Z4=1,Tm="firebaseLocalStorage",wC="fbase_key";class Hh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function tp(n,t){return n.transaction([Tm],t?"readwrite":"readonly").objectStore(Tm)}function J4(){const n=indexedDB.deleteDatabase(_C);return new Hh(n).toPromise()}function My(){const n=indexedDB.open(_C,Z4);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Tm,{keyPath:wC})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Tm)?t(i):(i.close(),await J4(),t(await My()))})})}async function CT(n,t,e){const i=tp(n,!0).put({[wC]:t,value:e});return new Hh(i).toPromise()}async function tV(n,t){const e=tp(n,!1).get(t),i=await new Hh(e).toPromise();return i===void 0?null:i.value}function RT(n,t){const e=tp(n,!0).delete(t);return new Hh(e).toPromise()}const eV=800,nV=3;class TC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await My(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>nV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jm._getInstance(X4()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Q4(),!this.activeServiceWorker)return;this.sender=new W4(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||K4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await My();return await CT(t,wm,"1"),await RT(t,wm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>CT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>tV(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>RT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=tp(s,!1).getAll();return new Hh(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TC.type="LOCAL";const iV=TC;new Bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(n,t){return t?ir(t):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Hv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Gl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Gl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Gl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function sV(n){return mC(n.auth,new Wv(n),n.bypassAuthState)}function rV(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),P4(e,new Wv(n),n.bypassAuthState)}async function aV(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),D4(e,new Wv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t,e,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sV;case"linkViaPopup":case"linkViaRedirect":return aV;case"reauthViaPopup":case"reauthViaRedirect":return rV;default:ki(this.auth,"internal-error")}}resolve(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new Bh(2e3,1e4);async function lV(n,t,e){if(ui(n.app))return Promise.reject(Fi(n,"operation-not-supported-in-this-environment"));const i=Ea(n);Bj(n,t,$v);const s=SC(i,e);return new xo(i,"signInViaPopup",t,s).executeNotNull()}class xo extends EC{constructor(t,e,i,s,a){super(t,e,s,a),this.provider=i,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const t=Gv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,oV.get())};t()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="pendingRedirect",em=new Map;class uV extends EC{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=em.get(this.auth._key());if(!t){try{const i=await hV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}em.set(this.auth._key(),t)}return this.bypassAuthState||em.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hV(n,t){const e=mV(t),i=fV(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function dV(n,t){em.set(n._key(),t)}function fV(n){return ir(n._redirectPersistence)}function mV(n){return tm(cV,n.config.apiKey,n.name)}async function pV(n,t,e=!1){if(ui(n.app))return Promise.reject(lr(n));const i=Ea(n),s=SC(i,t),l=await new uV(i,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=600*1e3;class yV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vV(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!AC(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Fi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gV&&this.cachedEventUids.clear(),this.cachedEventUids.has(NT(t))}saveEventToCache(t){this.cachedEventUids.add(NT(t)),this.lastProcessedEventTime=Date.now()}}function NT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function AC({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function vV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(n,t={}){return vr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_V=/^https?/;async function wV(n){if(n.config.emulator)return;const{authorizedDomains:t}=await xV(n);for(const e of t)try{if(TV(e))return}catch{}ki(n,"unauthorized-domain")}function TV(n){const t=Ry(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!_V.test(e))return!1;if(bV.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new Bh(3e4,6e4);function kT(){const n=ds().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function EV(n){return new Promise((t,e)=>{function i(){kT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kT(),e(Fi(n,"network-request-failed"))},timeout:SV.get()})}if(ds().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ds().gapi?.load)i();else{const s=p4("iframefcb");return ds()[s]=()=>{gapi.load?i():e(Fi(n,"network-request-failed"))},uC(`${m4()}?onload=${s}`).catch(a=>e(a))}}).catch(t=>{throw nm=null,t})}let nm=null;function AV(n){return nm=nm||EV(n),nm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new Bh(5e3,15e3),RV="__/auth/iframe",NV="emulator/auth/iframe",kV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IV(n){const t=n.config;Ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Bv(t,NV):`https://${n.config.authDomain}/${RV}`,i={apiKey:t.apiKey,appName:n.name,v:dc},s=MV.get(n.config.apiHost);s&&(i.eid=s);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${e}?${zh(i).slice(1)}`}async function DV(n){const t=await AV(n),e=ds().gapi;return Ct(e,n,"internal-error"),t.open({where:document.body,url:IV(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kV,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=Fi(n,"network-request-failed"),c=ds().setTimeout(()=>{a(l)},CV.get());function h(){ds().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OV=500,jV=600,VV="_blank",LV="http://localhost";class MT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zV(n,t,e,i=OV,s=jV){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h={...PV,width:i.toString(),height:s.toString(),top:a,left:l},d=jn().toLowerCase();e&&(c=iC(d)?VV:e),eC(d)&&(t=t||LV,h.scrollbars="yes");const m=Object.entries(h).reduce((x,[w,T])=>`${x}${w}=${T},`,"");if(r4(d)&&c!=="_self")return BV(t||"",c),new MT(null);const v=window.open(t||"",c,m);Ct(v,n,"popup-blocked");try{v.focus()}catch{}return new MT(v)}function BV(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="__/auth/handler",FV="emulator/auth/handler",HV=encodeURIComponent("fac");async function IT(n,t,e,i,s,a){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:dc,eventId:s};if(t instanceof $v){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",AO(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(t instanceof Fh){const m=t.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await n._getAppCheckToken(),d=h?`#${HV}=${encodeURIComponent(h)}`:"";return`${qV(n)}?${zh(c).slice(1)}${d}`}function qV({config:n}){return n.emulator?Bv(n,FV):`https://${n.authDomain}/${UV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="webStorageSupport";class $V{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xC,this._completeRedirectFn=pV,this._overrideRedirectResult=dV}async _openPopup(t,e,i,s){dr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const a=await IT(t,e,i,Ry(),s);return zV(t,a,Gv())}async _openRedirect(t,e,i,s){await this._originValidation(t);const a=await IT(t,e,i,Ry(),s);return Y4(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:a}=this.eventManagers[e];return s?Promise.resolve(s):(dr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await DV(t),i=new yV(t);return e.register("authEvent",s=>(Ct(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(B0,{type:B0},s=>{const a=s?.[0]?.[B0];a!==void 0&&e(!!a),ki(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=wV(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return lC()||nC()||Fv()}}const GV=$V;var DT="@firebase/auth",PT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QV(n){Kl(new ko("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Ct(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(n)},d=new h4(i,s,a,h);return _4(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Kl(new ko("auth-internal",t=>{const e=Ea(t.getProvider("auth").getImmediate());return(i=>new WV(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),la(DT,PT,YV(n)),la(DT,PT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=300,XV=zA("authIdTokenMaxAge")||KV;let OT=null;const ZV=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>XV)return;const s=e?.token;OT!==s&&(OT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function CC(n=$A()){const t=Vv(n,"auth");if(t.isInitialized())return t.getImmediate();const e=b4(n,{popupRedirectResolver:GV,persistence:[iV,$4,xC]}),i=zA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=ZV(a.toString());U4(e,l,()=>l(e.currentUser)),B4(e,c=>l(c))}}const s=VA("auth");return s&&w4(e,`http://${s}`),e}function JV(){return document.getElementsByTagName("head")?.[0]??document}d4({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const a=Fi("internal-error");a.customData=s,e(a)},i.type="text/javascript",i.charset="UTF-8",JV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QV("Browser");var t5="firebase",e5="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */la(t5,e5,"app");var jT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ca,RC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,R){function I(){}I.prototype=R.prototype,M.D=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(P,L,z){for(var V=Array(arguments.length-2),et=2;et<arguments.length;et++)V[et-2]=arguments[et];return R.prototype[L].apply(P,V)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,R,I){I||(I=0);var P=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)P[L]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(L=0;16>L;++L)P[L]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],L=M.g[2];var z=M.g[3],V=R+(z^I&(L^z))+P[0]+3614090360&4294967295;R=I+(V<<7&4294967295|V>>>25),V=z+(L^R&(I^L))+P[1]+3905402710&4294967295,z=R+(V<<12&4294967295|V>>>20),V=L+(I^z&(R^I))+P[2]+606105819&4294967295,L=z+(V<<17&4294967295|V>>>15),V=I+(R^L&(z^R))+P[3]+3250441966&4294967295,I=L+(V<<22&4294967295|V>>>10),V=R+(z^I&(L^z))+P[4]+4118548399&4294967295,R=I+(V<<7&4294967295|V>>>25),V=z+(L^R&(I^L))+P[5]+1200080426&4294967295,z=R+(V<<12&4294967295|V>>>20),V=L+(I^z&(R^I))+P[6]+2821735955&4294967295,L=z+(V<<17&4294967295|V>>>15),V=I+(R^L&(z^R))+P[7]+4249261313&4294967295,I=L+(V<<22&4294967295|V>>>10),V=R+(z^I&(L^z))+P[8]+1770035416&4294967295,R=I+(V<<7&4294967295|V>>>25),V=z+(L^R&(I^L))+P[9]+2336552879&4294967295,z=R+(V<<12&4294967295|V>>>20),V=L+(I^z&(R^I))+P[10]+4294925233&4294967295,L=z+(V<<17&4294967295|V>>>15),V=I+(R^L&(z^R))+P[11]+2304563134&4294967295,I=L+(V<<22&4294967295|V>>>10),V=R+(z^I&(L^z))+P[12]+1804603682&4294967295,R=I+(V<<7&4294967295|V>>>25),V=z+(L^R&(I^L))+P[13]+4254626195&4294967295,z=R+(V<<12&4294967295|V>>>20),V=L+(I^z&(R^I))+P[14]+2792965006&4294967295,L=z+(V<<17&4294967295|V>>>15),V=I+(R^L&(z^R))+P[15]+1236535329&4294967295,I=L+(V<<22&4294967295|V>>>10),V=R+(L^z&(I^L))+P[1]+4129170786&4294967295,R=I+(V<<5&4294967295|V>>>27),V=z+(I^L&(R^I))+P[6]+3225465664&4294967295,z=R+(V<<9&4294967295|V>>>23),V=L+(R^I&(z^R))+P[11]+643717713&4294967295,L=z+(V<<14&4294967295|V>>>18),V=I+(z^R&(L^z))+P[0]+3921069994&4294967295,I=L+(V<<20&4294967295|V>>>12),V=R+(L^z&(I^L))+P[5]+3593408605&4294967295,R=I+(V<<5&4294967295|V>>>27),V=z+(I^L&(R^I))+P[10]+38016083&4294967295,z=R+(V<<9&4294967295|V>>>23),V=L+(R^I&(z^R))+P[15]+3634488961&4294967295,L=z+(V<<14&4294967295|V>>>18),V=I+(z^R&(L^z))+P[4]+3889429448&4294967295,I=L+(V<<20&4294967295|V>>>12),V=R+(L^z&(I^L))+P[9]+568446438&4294967295,R=I+(V<<5&4294967295|V>>>27),V=z+(I^L&(R^I))+P[14]+3275163606&4294967295,z=R+(V<<9&4294967295|V>>>23),V=L+(R^I&(z^R))+P[3]+4107603335&4294967295,L=z+(V<<14&4294967295|V>>>18),V=I+(z^R&(L^z))+P[8]+1163531501&4294967295,I=L+(V<<20&4294967295|V>>>12),V=R+(L^z&(I^L))+P[13]+2850285829&4294967295,R=I+(V<<5&4294967295|V>>>27),V=z+(I^L&(R^I))+P[2]+4243563512&4294967295,z=R+(V<<9&4294967295|V>>>23),V=L+(R^I&(z^R))+P[7]+1735328473&4294967295,L=z+(V<<14&4294967295|V>>>18),V=I+(z^R&(L^z))+P[12]+2368359562&4294967295,I=L+(V<<20&4294967295|V>>>12),V=R+(I^L^z)+P[5]+4294588738&4294967295,R=I+(V<<4&4294967295|V>>>28),V=z+(R^I^L)+P[8]+2272392833&4294967295,z=R+(V<<11&4294967295|V>>>21),V=L+(z^R^I)+P[11]+1839030562&4294967295,L=z+(V<<16&4294967295|V>>>16),V=I+(L^z^R)+P[14]+4259657740&4294967295,I=L+(V<<23&4294967295|V>>>9),V=R+(I^L^z)+P[1]+2763975236&4294967295,R=I+(V<<4&4294967295|V>>>28),V=z+(R^I^L)+P[4]+1272893353&4294967295,z=R+(V<<11&4294967295|V>>>21),V=L+(z^R^I)+P[7]+4139469664&4294967295,L=z+(V<<16&4294967295|V>>>16),V=I+(L^z^R)+P[10]+3200236656&4294967295,I=L+(V<<23&4294967295|V>>>9),V=R+(I^L^z)+P[13]+681279174&4294967295,R=I+(V<<4&4294967295|V>>>28),V=z+(R^I^L)+P[0]+3936430074&4294967295,z=R+(V<<11&4294967295|V>>>21),V=L+(z^R^I)+P[3]+3572445317&4294967295,L=z+(V<<16&4294967295|V>>>16),V=I+(L^z^R)+P[6]+76029189&4294967295,I=L+(V<<23&4294967295|V>>>9),V=R+(I^L^z)+P[9]+3654602809&4294967295,R=I+(V<<4&4294967295|V>>>28),V=z+(R^I^L)+P[12]+3873151461&4294967295,z=R+(V<<11&4294967295|V>>>21),V=L+(z^R^I)+P[15]+530742520&4294967295,L=z+(V<<16&4294967295|V>>>16),V=I+(L^z^R)+P[2]+3299628645&4294967295,I=L+(V<<23&4294967295|V>>>9),V=R+(L^(I|~z))+P[0]+4096336452&4294967295,R=I+(V<<6&4294967295|V>>>26),V=z+(I^(R|~L))+P[7]+1126891415&4294967295,z=R+(V<<10&4294967295|V>>>22),V=L+(R^(z|~I))+P[14]+2878612391&4294967295,L=z+(V<<15&4294967295|V>>>17),V=I+(z^(L|~R))+P[5]+4237533241&4294967295,I=L+(V<<21&4294967295|V>>>11),V=R+(L^(I|~z))+P[12]+1700485571&4294967295,R=I+(V<<6&4294967295|V>>>26),V=z+(I^(R|~L))+P[3]+2399980690&4294967295,z=R+(V<<10&4294967295|V>>>22),V=L+(R^(z|~I))+P[10]+4293915773&4294967295,L=z+(V<<15&4294967295|V>>>17),V=I+(z^(L|~R))+P[1]+2240044497&4294967295,I=L+(V<<21&4294967295|V>>>11),V=R+(L^(I|~z))+P[8]+1873313359&4294967295,R=I+(V<<6&4294967295|V>>>26),V=z+(I^(R|~L))+P[15]+4264355552&4294967295,z=R+(V<<10&4294967295|V>>>22),V=L+(R^(z|~I))+P[6]+2734768916&4294967295,L=z+(V<<15&4294967295|V>>>17),V=I+(z^(L|~R))+P[13]+1309151649&4294967295,I=L+(V<<21&4294967295|V>>>11),V=R+(L^(I|~z))+P[4]+4149444226&4294967295,R=I+(V<<6&4294967295|V>>>26),V=z+(I^(R|~L))+P[11]+3174756917&4294967295,z=R+(V<<10&4294967295|V>>>22),V=L+(R^(z|~I))+P[2]+718787259&4294967295,L=z+(V<<15&4294967295|V>>>17),V=I+(z^(L|~R))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+z&4294967295}i.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var I=R-this.blockSize,P=this.B,L=this.h,z=0;z<R;){if(L==0)for(;z<=I;)s(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(P[L++]=M.charCodeAt(z++),L==this.blockSize){s(this,P),L=0;break}}else for(;z<R;)if(P[L++]=M[z++],L==this.blockSize){s(this,P),L=0;break}}this.h=L,this.o+=R},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var I=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=I&255,I/=256;for(this.u(M),M=Array(16),R=I=0;4>R;++R)for(var P=0;32>P;P+=8)M[I++]=this.g[R]>>>P&255;return M};function a(M,R){var I=c;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function l(M,R){this.h=R;for(var I=[],P=!0,L=M.length-1;0<=L;L--){var z=M[L]|0;P&&z==R||(I[L]=z,P=!1)}this.g=I}var c={};function h(M){return-128<=M&&128>M?a(M,function(R){return new l([R|0],0>R?-1:0)}):new l([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return C(d(-M));for(var R=[],I=1,P=0;M>=I;P++)R[P]=M/I|0,I*=4294967296;return new l(R,0)}function m(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return C(m(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(R,8)),P=v,L=0;L<M.length;L+=8){var z=Math.min(8,M.length-L),V=parseInt(M.substring(L,L+z),R);8>z?(z=d(Math.pow(R,z)),P=P.j(z).add(d(V))):(P=P.j(I),P=P.add(d(V)))}return P}var v=h(0),x=h(1),w=h(16777216);n=l.prototype,n.m=function(){if(E(this))return-C(this).m();for(var M=0,R=1,I=0;I<this.g.length;I++){var P=this.i(I);M+=(0<=P?P:4294967296+P)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(E(this))return"-"+C(this).toString(M);for(var R=d(Math.pow(M,6)),I=this,P="";;){var L=W(I,R).g;I=N(I,L.j(R));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=L,T(I))return z+P;for(;6>z.length;)z="0"+z;P=z+P}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function E(M){return M.h==-1}n.l=function(M){return M=N(this,M),E(M)?-1:T(M)?0:1};function C(M){for(var R=M.g.length,I=[],P=0;P<R;P++)I[P]=~M.g[P];return new l(I,~M.h).add(x)}n.abs=function(){return E(this)?C(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],P=0,L=0;L<=R;L++){var z=P+(this.i(L)&65535)+(M.i(L)&65535),V=(z>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);P=V>>>16,z&=65535,V&=65535,I[L]=V<<16|z}return new l(I,I[I.length-1]&-2147483648?-1:0)};function N(M,R){return M.add(C(R))}n.j=function(M){if(T(this)||T(M))return v;if(E(this))return E(M)?C(this).j(C(M)):C(C(this).j(M));if(E(M))return C(this.j(C(M)));if(0>this.l(w)&&0>M.l(w))return d(this.m()*M.m());for(var R=this.g.length+M.g.length,I=[],P=0;P<2*R;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<M.g.length;L++){var z=this.i(P)>>>16,V=this.i(P)&65535,et=M.i(L)>>>16,it=M.i(L)&65535;I[2*P+2*L]+=V*it,j(I,2*P+2*L),I[2*P+2*L+1]+=z*it,j(I,2*P+2*L+1),I[2*P+2*L+1]+=V*et,j(I,2*P+2*L+1),I[2*P+2*L+2]+=z*et,j(I,2*P+2*L+2)}for(P=0;P<R;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=R;P<2*R;P++)I[P]=0;return new l(I,0)};function j(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function B(M,R){this.g=M,this.h=R}function W(M,R){if(T(R))throw Error("division by zero");if(T(M))return new B(v,v);if(E(M))return R=W(C(M),R),new B(C(R.g),C(R.h));if(E(R))return R=W(M,C(R)),new B(C(R.g),R.h);if(30<M.g.length){if(E(M)||E(R))throw Error("slowDivide_ only works with positive integers.");for(var I=x,P=R;0>=P.l(M);)I=F(I),P=F(P);var L=q(I,1),z=q(P,1);for(P=q(P,2),I=q(I,2);!T(P);){var V=z.add(P);0>=V.l(M)&&(L=L.add(I),z=V),P=q(P,1),I=q(I,1)}return R=N(M,L.j(R)),new B(L,R)}for(L=v;0<=M.l(R);){for(I=Math.max(1,Math.floor(M.m()/R.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),z=d(I),V=z.j(R);E(V)||0<V.l(M);)I-=P,z=d(I),V=z.j(R);T(z)&&(z=x),L=L.add(z),M=N(M,V)}return new B(L,M)}n.A=function(M){return W(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)&M.i(P);return new l(I,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)|M.i(P);return new l(I,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)^M.i(P);return new l(I,this.h^M.h)};function F(M){for(var R=M.g.length+1,I=[],P=0;P<R;P++)I[P]=M.i(P)<<1|M.i(P-1)>>>31;return new l(I,M.h)}function q(M,R){var I=R>>5;R%=32;for(var P=M.g.length-I,L=[],z=0;z<P;z++)L[z]=0<R?M.i(z+I)>>>R|M.i(z+I+1)<<32-R:M.i(z+I);return new l(L,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,RC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,ca=l}).apply(typeof jT<"u"?jT:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NC,Uu,kC,im,Iy,MC,IC,DC;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,S){return p==Array.prototype||p==Object.prototype||(p[_]=S.value),p};function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var _=0;_<p.length;++_){var S=p[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=e(this);function s(p,_){if(_)t:{var S=i;p=p.split(".");for(var D=0;D<p.length-1;D++){var Q=p[D];if(!(Q in S))break t;S=S[Q]}p=p[p.length-1],D=S[p],_=_(D),_!=D&&_!=null&&t(S,p,{configurable:!0,writable:!0,value:_})}}function a(p,_){p instanceof String&&(p+="");var S=0,D=!1,Q={next:function(){if(!D&&S<p.length){var rt=S++;return{value:_(rt,p[rt]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(p){return p||function(){return a(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function d(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function m(p,_,S){return p.call.apply(p.bind,arguments)}function v(p,_,S){if(!p)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),p.apply(_,Q)}}return function(){return p.apply(_,arguments)}}function x(p,_,S){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,x.apply(null,arguments)}function w(p,_){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function T(p,_){function S(){}S.prototype=_.prototype,p.aa=_.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(D,Q,rt){for(var gt=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)gt[Yt-2]=arguments[Yt];return _.prototype[Q].apply(D,gt)}}function E(p){const _=p.length;if(0<_){const S=Array(_);for(let D=0;D<_;D++)S[D]=p[D];return S}return[]}function C(p,_){for(let S=1;S<arguments.length;S++){const D=arguments[S];if(h(D)){const Q=p.length||0,rt=D.length||0;p.length=Q+rt;for(let gt=0;gt<rt;gt++)p[Q+gt]=D[gt]}else p.push(D)}}class N{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(p){return/^[\s\xa0]*$/.test(p)}function B(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function W(p){return W[" "](p),p}W[" "]=function(){};var F=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function q(p,_,S){for(const D in p)_.call(S,p[D],D,p)}function M(p,_){for(const S in p)_.call(void 0,p[S],S,p)}function R(p){const _={};for(const S in p)_[S]=p[S];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(p,_){let S,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(S in D)p[S]=D[S];for(let rt=0;rt<I.length;rt++)S=I[rt],Object.prototype.hasOwnProperty.call(D,S)&&(p[S]=D[S])}}function L(p){var _=1;p=p.split(":");const S=[];for(;0<_&&p.length;)S.push(p.shift()),_--;return p.length&&S.push(p.join(":")),S}function z(p){c.setTimeout(()=>{throw p},0)}function V(){var p=mt;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class et{constructor(){this.h=this.g=null}add(_,S){const D=it.get();D.set(_,S),this.h?this.h.next=D:this.g=D,this.h=D}}var it=new N(()=>new G,p=>p.reset());class G{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,at=!1,mt=new et,U=()=>{const p=c.Promise.resolve(void 0);Z=()=>{p.then(st)}};var st=()=>{for(var p;p=V();){try{p.h.call(p.g)}catch(S){z(S)}var _=it;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}at=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};c.addEventListener("test",S,_),c.removeEventListener("test",S,_)}catch{}return p}();function bt(p,_){if(nt.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(F){t:{try{W(_.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(_=null)}}else S=="mouseover"?_=p.fromElement:S=="mouseout"&&(_=p.toElement);this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ft[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&bt.aa.h.call(this)}}T(bt,nt);var ft={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),It=0;function ie(p,_,S,D,Q){this.listener=p,this.proxy=null,this.src=_,this.type=S,this.capture=!!D,this.ha=Q,this.key=++It,this.da=this.fa=!1}function Fe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function _t(p){this.src=p,this.g={},this.h=0}_t.prototype.add=function(p,_,S,D,Q){var rt=p.toString();p=this.g[rt],p||(p=this.g[rt]=[],this.h++);var gt=Dt(p,_,D,Q);return-1<gt?(_=p[gt],S||(_.fa=!1)):(_=new ie(_,this.src,rt,!!D,Q),_.fa=S,p.push(_)),_};function ee(p,_){var S=_.type;if(S in p.g){var D=p.g[S],Q=Array.prototype.indexOf.call(D,_,void 0),rt;(rt=0<=Q)&&Array.prototype.splice.call(D,Q,1),rt&&(Fe(_),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Dt(p,_,S,D){for(var Q=0;Q<p.length;++Q){var rt=p[Q];if(!rt.da&&rt.listener==_&&rt.capture==!!S&&rt.ha==D)return Q}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),Xe={};function Jn(p,_,S,D,Q){if(Array.isArray(_)){for(var rt=0;rt<_.length;rt++)Jn(p,_[rt],S,D,Q);return null}return S=nd(S),p&&p[At]?p.K(_,S,d(D)?!!D.capture:!1,Q):Ot(p,_,S,!1,D,Q)}function Ot(p,_,S,D,Q,rt){if(!_)throw Error("Invalid event type");var gt=d(Q)?!!Q.capture:!!Q,Yt=Fo(p);if(Yt||(p[Ne]=Yt=new _t(p)),S=Yt.add(_,S,D,gt,rt),S.proxy)return S;if(D=Es(),S.proxy=D,D.src=p,D.listener=S,p.addEventListener)pt||(Q=gt),Q===void 0&&(Q=!1),p.addEventListener(_.toString(),D,Q);else if(p.attachEvent)p.attachEvent($n(_.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Es(){function p(S){return _.call(p.src,p.listener,S)}const _=Tc;return p}function Gi(p,_,S,D,Q){if(Array.isArray(_))for(var rt=0;rt<_.length;rt++)Gi(p,_[rt],S,D,Q);else D=d(D)?!!D.capture:!!D,S=nd(S),p&&p[At]?(p=p.i,_=String(_).toString(),_ in p.g&&(rt=p.g[_],S=Dt(rt,S,D,Q),-1<S&&(Fe(rt[S]),Array.prototype.splice.call(rt,S,1),rt.length==0&&(delete p.g[_],p.h--)))):p&&(p=Fo(p))&&(_=p.g[_.toString()],p=-1,_&&(p=Dt(_,S,D,Q)),(S=-1<p?_[p]:null)&&br(S))}function br(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[At])ee(_.i,p);else{var S=p.type,D=p.proxy;_.removeEventListener?_.removeEventListener(S,D,p.capture):_.detachEvent?_.detachEvent($n(S),D):_.addListener&&_.removeListener&&_.removeListener(D),(S=Fo(_))?(ee(S,p),S.h==0&&(S.src=null,_[Ne]=null)):Fe(p)}}}function $n(p){return p in Xe?Xe[p]:Xe[p]="on"+p}function Tc(p,_){if(p.da)p=!0;else{_=new bt(_,this);var S=p.listener,D=p.ha||p.src;p.fa&&br(p),p=S.call(D,_)}return p}function Fo(p){return p=p[Ne],p instanceof _t?p:null}var Sc="__closure_events_fn_"+(1e9*Math.random()>>>0);function nd(p){return typeof p=="function"?p:(p[Sc]||(p[Sc]=function(_){return p.handleEvent(_)}),p[Sc])}function ke(){dt.call(this),this.i=new _t(this),this.M=this,this.F=null}T(ke,dt),ke.prototype[At]=!0,ke.prototype.removeEventListener=function(p,_,S,D){Gi(this,p,_,S,D)};function ae(p,_){var S,D=p.F;if(D)for(S=[];D;D=D.F)S.push(D);if(p=p.M,D=_.type||_,typeof _=="string")_=new nt(_,p);else if(_ instanceof nt)_.target=_.target||p;else{var Q=_;_=new nt(D,p),P(_,Q)}if(Q=!0,S)for(var rt=S.length-1;0<=rt;rt--){var gt=_.g=S[rt];Q=ti(gt,D,!0,_)&&Q}if(gt=_.g=p,Q=ti(gt,D,!0,_)&&Q,Q=ti(gt,D,!1,_)&&Q,S)for(rt=0;rt<S.length;rt++)gt=_.g=S[rt],Q=ti(gt,D,!1,_)&&Q}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var S=p.g[_],D=0;D<S.length;D++)Fe(S[D]);delete p.g[_],p.h--}}this.F=null},ke.prototype.K=function(p,_,S,D){return this.i.add(String(p),_,!1,S,D)},ke.prototype.L=function(p,_,S,D){return this.i.add(String(p),_,!0,S,D)};function ti(p,_,S,D){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,rt=0;rt<_.length;++rt){var gt=_[rt];if(gt&&!gt.da&&gt.capture==S){var Yt=gt.listener,Je=gt.ha||gt.src;gt.fa&&ee(p.i,gt),Q=Yt.call(Je,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function Sn(p,_,S){if(typeof p=="function")S&&(p=x(p,S));else if(p&&typeof p.handleEvent=="function")p=x(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(p,_||0)}function id(p){p.g=Sn(()=>{p.g=null,p.i&&(p.i=!1,id(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class Rp extends dt{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:id(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(p){dt.call(this),this.h=p,this.g={}}T(ka,dt);var Ma=[];function Ia(p){q(p.g,function(_,S){this.g.hasOwnProperty(S)&&br(_)},p),p.g={}}ka.prototype.N=function(){ka.aa.N.call(this),Ia(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=c.JSON.stringify,Ho=c.JSON.parse,Da=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Ec(){}Ec.prototype.h=null;function Ac(p){return p.h||(p.h=p.i())}function Cc(){}var As={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cs(){nt.call(this,"d")}T(Cs,nt);function Rc(){nt.call(this,"c")}T(Rc,nt);var Wi={},Nc=null;function _r(){return Nc=Nc||new ke}Wi.La="serverreachability";function qo(p){nt.call(this,Wi.La,p)}T(qo,nt);function wr(p){const _=_r();ae(_,new qo(_))}Wi.STAT_EVENT="statevent";function sd(p,_){nt.call(this,Wi.STAT_EVENT,p),this.stat=_}T(sd,nt);function be(p){const _=_r();ae(_,new sd(_,p))}Wi.Ma="timingevent";function Ze(p,_){nt.call(this,Wi.Ma,p),this.size=_}T(Ze,nt);function He(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},_)}function hi(){this.g=!0}hi.prototype.xa=function(){this.g=!1};function kc(p,_,S,D,Q,rt){p.info(function(){if(p.g)if(rt)for(var gt="",Yt=rt.split("&"),Je=0;Je<Yt.length;Je++){var Qt=Yt[Je].split("=");if(1<Qt.length){var on=Qt[0];Qt=Qt[1];var tn=on.split("_");gt=2<=tn.length&&tn[1]=="type"?gt+(on+"="+Qt+"&"):gt+(on+"=redacted&")}}else gt=null;else gt=rt;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+_+`
`+S+`
`+gt})}function Np(p,_,S,D,Q,rt,gt){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+_+`
`+S+`
`+rt+" "+gt})}function Tr(p,_,S,D){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+Pa(p,S)+(D?" "+D:"")})}function rd(p,_){p.info(function(){return"TIMEOUT: "+_})}hi.prototype.info=function(){};function Pa(p,_){if(!p.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var D=S[p];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var rt=Q[0];if(rt!="noop"&&rt!="stop"&&rt!="close")for(var gt=1;gt<Q.length;gt++)Q[gt]=""}}}}return Mi(S)}catch{return _}}var Sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yi;function Qi(){}T(Qi,Ec),Qi.prototype.g=function(){return new XMLHttpRequest},Qi.prototype.i=function(){return{}},Yi=new Qi;function zn(p,_,S,D){this.j=p,this.i=_,this.l=S,this.R=D||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}var Mc={},$o={};function Ii(p,_,S){p.L=1,p.v=za(ei(_)),p.m=S,p.P=!0,Ns(p,null)}function Ns(p,_){p.F=Date.now(),Oa(p),p.A=ei(p.v);var S=p.A,D=p.R;Array.isArray(D)||(D=[String(D)]),Vc(S.i,"t",D),p.C=0,S=p.j.J,p.h=new Oe,p.g=_d(p.j,S?_:null,!p.m),0<p.O&&(p.M=new Rp(x(p.Y,p,p.g),p.O)),_=p.U,S=p.g,D=p.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ma[0]=Q.toString()),Q=Ma);for(var rt=0;rt<Q.length;rt++){var gt=Jn(S,Q[rt],D||_.handleEvent,!1,_.h||_);if(!gt)break;_.g[gt.key]=gt}_=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),wr(),kc(p.i,p.u,p.A,p.l,p.R,p.m)}zn.prototype.ca=function(p){p=p.target;const _=this.M;_&&pi(p)==3?_.j():this.Y(p)},zn.prototype.Y=function(p){try{if(p==this.g)t:{const tn=pi(this.g);var _=this.g.Ba();const Vs=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||fd(this.g)))){this.J||tn!=4||_==7||(_==8||0>=Vs?wr(3):wr(2)),Er(this);var S=this.g.Z();this.X=S;e:if(ad(this)){var D=fd(this.g);p="";var Q=D.length,rt=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Ki(this);var gt="";break e}this.h.i=new c.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,p+=this.h.i.decode(D[_],{stream:!(rt&&_==Q-1)});D.length=0,this.h.g+=p,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=S==200,Np(this.i,this.u,this.A,this.l,this.R,tn,S),this.o){if(this.T&&!this.K){e:{if(this.g){var Yt,Je=this.g;if((Yt=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Yt)){var Qt=Yt;break e}}Qt=null}if(S=Qt)Tr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,S);else{this.o=!1,this.s=3,be(12),pn(this),Ki(this);break t}}if(this.P){S=!0;let gn;for(;!this.J&&this.C<gt.length;)if(gn=od(this,gt),gn==$o){tn==4&&(this.s=4,be(14),S=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Mc){this.s=4,be(15),Tr(this.i,this.l,gt,"[Invalid Chunk]"),S=!1;break}else Tr(this.i,this.l,gn,null),ja(this,gn);if(ad(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||gt.length!=0||this.h.h||(this.s=1,be(16),S=!1),this.o=this.o&&S,!S)Tr(this.i,this.l,gt,"[Invalid Chunked Response]"),pn(this),Ki(this);else if(0<gt.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),Wa(on),on.M=!0,be(11))}}else Tr(this.i,this.l,gt,null),ja(this,gt);tn==4&&pn(this),this.o&&!this.J&&(tn==4?vd(this.j,this):(this.o=!1,Oa(this)))}else Pp(this.g),S==400&&0<gt.indexOf("Unknown SID")?(this.s=3,be(12)):(this.s=0,be(13)),pn(this),Ki(this)}}}catch{}finally{}};function ad(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function od(p,_){var S=p.C,D=_.indexOf(`
`,S);return D==-1?$o:(S=Number(_.substring(S,D)),isNaN(S)?Mc:(D+=1,D+S>_.length?$o:(_=_.slice(D,D+S),p.C=D+S,_)))}zn.prototype.cancel=function(){this.J=!0,pn(this)};function Oa(p){p.S=Date.now()+p.I,ld(p,p.I)}function ld(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=He(x(p.ba,p),_)}function Er(p){p.B&&(c.clearTimeout(p.B),p.B=null)}zn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(rd(this.i,this.A),this.L!=2&&(wr(),be(17)),pn(this),this.s=2,Ki(this)):ld(this,this.S-p)};function Ki(p){p.j.G==0||p.J||vd(p.j,p)}function pn(p){Er(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,Ia(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function ja(p,_){try{var S=p.j;if(S.G!=0&&(S.g==p||Ic(S.h,p))){if(!p.K&&Ic(S.h,p)&&S.G==3){try{var D=S.Da.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){t:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)il(S),el(S);else break t;Fc(S),be(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=He(x(S.Za,S),6e3));if(1>=Wo(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else js(S,11)}else if((p.K||S.g==p)&&il(S),!j(_))for(Q=S.Da.g.parse(_),_=0;_<Q.length;_++){let Qt=Q[_];if(S.T=Qt[0],Qt=Qt[1],S.G==2)if(Qt[0]=="c"){S.K=Qt[1],S.ia=Qt[2];const on=Qt[3];on!=null&&(S.la=on,S.j.info("VER="+S.la));const tn=Qt[4];tn!=null&&(S.Aa=tn,S.j.info("SVER="+S.Aa));const Vs=Qt[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(D=1.5*Vs,S.L=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const gn=p.g;if(gn){const is=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var rt=D.h;rt.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(Yo(rt,rt.h),rt.h=null))}if(D.D){const qc=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;qc&&(D.ya=qc,ue(D.I,D.D,qc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),D=S;var gt=p;if(D.qa=bd(D,D.J?D.ia:null,D.W),gt.K){Bn(D.h,gt);var Yt=gt,Je=D.L;Je&&(Yt.I=Je),Yt.B&&(Er(Yt),Oa(Yt)),D.g=gt}else gd(D);0<S.i.length&&nl(S)}else Qt[0]!="stop"&&Qt[0]!="close"||js(S,7);else S.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?js(S,7):Bc(S):Qt[0]!="noop"&&S.l&&S.l.ta(Qt),S.v=0)}}wr(4)}catch{}}var cd=class{constructor(p,_){this.g=p,this.map=_}};function ks(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Go(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Wo(p){return p.h?1:p.g?p.g.size:0}function Ic(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function Yo(p,_){p.g?p.g.add(_):p.h=_}function Bn(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}ks.prototype.cancel=function(){if(this.i=Dc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Dc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const S of p.g.values())_=_.concat(S.D);return _}return E(p.i)}function kp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var _=[],S=p.length,D=0;D<S;D++)_.push(p[D]);return _}_=[],S=0;for(D in p)_[S++]=p[D];return _}function Qo(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var _=[];p=p.length;for(var S=0;S<p;S++)_.push(S);return _}_=[],S=0;for(const D in p)_[S++]=D;return _}}}function Pc(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var S=Qo(p),D=kp(p),Q=D.length,rt=0;rt<Q;rt++)_.call(void 0,D[rt],S&&S[rt],p)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mp(p,_){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var D=p[S].indexOf("="),Q=null;if(0<=D){var rt=p[S].substring(0,D);Q=p[S].substring(D+1)}else rt=p[S];_(rt,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function qe(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof qe){this.h=p.h,La(this,p.j),this.o=p.o,this.g=p.g,Ar(this,p.s),this.l=p.l;var _=p.i,S=new Is;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),Ms(this,S),this.m=p.m}else p&&(_=String(p).match(Va))?(this.h=!1,La(this,_[1]||"",!0),this.o=di(_[2]||""),this.g=di(_[3]||"",!0),Ar(this,_[4]),this.l=di(_[5]||"",!0),Ms(this,_[6]||"",!0),this.m=di(_[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}qe.prototype.toString=function(){var p=[],_=this.j;_&&p.push(Ba(_,Oc,!0),":");var S=this.g;return(S||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Ba(_,Oc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(Ba(S,S.charAt(0)=="/"?Ip:jc,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",Ba(S,Ko)),p.join("")};function ei(p){return new qe(p)}function La(p,_,S){p.j=S?di(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Ar(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function Ms(p,_,S){_ instanceof Is?(p.i=_,hd(p.i,p.h)):(S||(_=Ba(_,Dp)),p.i=new Is(_,p.h))}function ue(p,_,S){p.i.set(_,S)}function za(p){return ue(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function di(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ba(p,_,S){return typeof p=="string"?(p=encodeURI(p).replace(_,ud),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ud(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Oc=/[#\/\?@]/g,jc=/[#\?:]/g,Ip=/[#\?]/g,Dp=/[#\?@]/g,Ko=/#/g;function Is(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function fi(p){p.g||(p.g=new Map,p.h=0,p.i&&Mp(p.i,function(_,S){p.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=Is.prototype,n.add=function(p,_){fi(this),this.i=null,p=Xi(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(_),this.h+=1,this};function Ds(p,_){fi(p),_=Xi(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Ps(p,_){return fi(p),_=Xi(p,_),p.g.has(_)}n.forEach=function(p,_){fi(this),this.g.forEach(function(S,D){S.forEach(function(Q){p.call(_,Q,D,this)},this)},this)},n.na=function(){fi(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let D=0;D<_.length;D++){const Q=p[D];for(let rt=0;rt<Q.length;rt++)S.push(_[D])}return S},n.V=function(p){fi(this);let _=[];if(typeof p=="string")Ps(this,p)&&(_=_.concat(this.g.get(Xi(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)_=_.concat(p[S])}return _},n.set=function(p,_){return fi(this),this.i=null,p=Xi(this,p),Ps(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},n.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function Vc(p,_,S){Ds(p,_),0<S.length&&(p.i=null,p.g.set(Xi(p,_),E(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var D=_[S];const rt=encodeURIComponent(String(D)),gt=this.V(D);for(D=0;D<gt.length;D++){var Q=rt;gt[D]!==""&&(Q+="="+encodeURIComponent(String(gt[D]))),p.push(Q)}}return this.i=p.join("&")};function Xi(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function hd(p,_){_&&!p.j&&(fi(p),p.i=null,p.g.forEach(function(S,D){var Q=D.toLowerCase();D!=Q&&(Ds(this,D),Vc(this,Q,S))},p)),p.j=_}function Ua(p,_){const S=new hi;if(c.Image){const D=new Image;D.onload=w(mi,S,"TestLoadImage: loaded",!0,_,D),D.onerror=w(mi,S,"TestLoadImage: error",!1,_,D),D.onabort=w(mi,S,"TestLoadImage: abort",!1,_,D),D.ontimeout=w(mi,S,"TestLoadImage: timeout",!1,_,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else _(!1)}function Di(p,_){const S=new hi,D=new AbortController,Q=setTimeout(()=>{D.abort(),mi(S,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:D.signal}).then(rt=>{clearTimeout(Q),rt.ok?mi(S,"TestPingServer: ok",!0,_):mi(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),mi(S,"TestPingServer: error",!1,_)})}function mi(p,_,S,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(S)}catch{}}function Fa(){this.g=new Da}function Zi(p,_,S){const D=S||"";try{Pc(p,function(Q,rt){let gt=Q;d(Q)&&(gt=Mi(Q)),_.push(D+rt+"="+encodeURIComponent(gt))})}catch(Q){throw _.push(D+"type="+encodeURIComponent("_badmap")),Q}}function Cr(p){this.l=p.Ub||null,this.j=p.eb||!1}T(Cr,Ec),Cr.prototype.g=function(){return new Os(this.l,this.j)},Cr.prototype.i=function(p){return function(){return p}}({});function Os(p,_){ke.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Os,ke),n=Os.prototype,n.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,ts(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?Ji(this):ts(this),this.readyState==3&&Lc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Ji(this))},n.Qa=function(p){this.g&&(this.response=p,Ji(this))},n.ga=function(){this.g&&Ji(this)};function Ji(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ts(p)}n.setRequestHeader=function(p,_){this.u.append(p,_)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=_.next();return p.join(`\r
`)};function ts(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function zc(p){let _="";return q(p,function(S,D){_+=D,_+=":",_+=S,_+=`\r
`}),_}function an(p,_,S){t:{for(D in S){var D=!1;break t}D=!0}D||(S=zc(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):ue(p,_,S))}function se(p){ke.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(se,ke);var Xo=/^https?$/i,Ha=["POST","PUT"];n=se.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,_,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yi.g(),this.v=this.o?Ac(this.o):Ac(Yi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(rt){dd(this,rt);return}if(p=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)S.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const rt of D.keys())S.set(rt,D.get(rt));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(rt=>rt.toLowerCase()=="content-type"),Q=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ha,_,void 0))||D||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,gt]of S)this.g.setRequestHeader(rt,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qa(this),this.u=!0,this.g.send(p),this.u=!1}catch(rt){dd(this,rt)}};function dd(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,Zo(p),es(p)}function Zo(p){p.A||(p.A=!0,ae(p,"complete"),ae(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,ae(this,"complete"),ae(this,"abort"),es(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),se.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Jo(this):this.bb())},n.bb=function(){Jo(this)};function Jo(p){if(p.h&&typeof l<"u"&&(!p.v[1]||pi(p)!=4||p.Z()!=2)){if(p.u&&pi(p)==4)Sn(p.Ea,0,p);else if(ae(p,"readystatechange"),pi(p)==4){p.h=!1;try{const gt=p.Z();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var S;if(!(S=_)){var D;if(D=gt===0){var Q=String(p.D).match(Va)[1]||null;!Q&&c.self&&c.self.location&&(Q=c.self.location.protocol.slice(0,-1)),D=!Xo.test(Q?Q.toLowerCase():"")}S=D}if(S)ae(p,"complete"),ae(p,"success");else{p.m=6;try{var rt=2<pi(p)?p.g.statusText:""}catch{rt=""}p.l=rt+" ["+p.Z()+"]",Zo(p)}}finally{es(p)}}}}function es(p,_){if(p.g){qa(p);const S=p.g,D=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||ae(p,"ready");try{S.onreadystatechange=D}catch{}}}function qa(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function pi(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),Ho(_)}};function fd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Pp(p){const _={};p=(p.g&&2<=pi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(j(p[D]))continue;var S=L(p[D]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const rt=_[Q]||[];_[Q]=rt,rt.push(S)}M(_,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(p,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||_}function tl(p){this.Aa=0,this.i=[],this.j=new hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,p),this.cb=$a("retryDelaySeedMs",1e4,p),this.Wa=$a("forwardChannelMaxRetries",2,p),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ks(p&&p.concurrentRequestLimit),this.Da=new Fa,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tl.prototype,n.la=8,n.G=1,n.connect=function(p,_,S,D){be(0),this.W=p,this.H=_||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.I=bd(this,null,this.W),nl(this)};function Bc(p){if(md(p),p.G==3){var _=p.U++,S=ei(p.I);if(ue(S,"SID",p.K),ue(S,"RID",_),ue(S,"TYPE","terminate"),Ga(p,S),_=new zn(p,p.j,_),_.L=2,_.v=za(ei(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=_.v,S=!0),S||(_.g=_d(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Oa(_)}xd(p)}function el(p){p.g&&(Wa(p),p.g.cancel(),p.g=null)}function md(p){el(p),p.u&&(c.clearTimeout(p.u),p.u=null),il(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function nl(p){if(!Go(p.h)&&!p.s){p.s=!0;var _=p.Ga;Z||U(),at||(Z(),at=!0),mt.add(_,p),p.B=0}}function Op(p,_){return Wo(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=He(x(p.Ga,p,_),Hc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Q=new zn(this,this.j,p);let rt=this.o;if(this.S&&(rt?(rt=R(rt),P(rt,this.S)):rt=this.S),this.m!==null||this.O||(Q.H=rt,rt=null),this.P)t:{for(var _=0,S=0;S<this.i.length;S++){e:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(_+=D,4096<_){_=S;break t}if(_===4096||S===this.i.length-1){_=S+1;break t}}_=1e3}else _=1e3;_=pd(this,Q,_),S=ei(this.I),ue(S,"RID",p),ue(S,"CVER",22),this.D&&ue(S,"X-HTTP-Session-Id",this.D),Ga(this,S),rt&&(this.O?_="headers="+encodeURIComponent(String(zc(rt)))+"&"+_:this.m&&an(S,this.m,rt)),Yo(this.h,Q),this.Ua&&ue(S,"TYPE","init"),this.P?(ue(S,"$req",_),ue(S,"SID","null"),Q.T=!0,Ii(Q,S,null)):Ii(Q,S,_),this.G=2}}else this.G==3&&(p?Uc(this,p):this.i.length==0||Go(this.h)||Uc(this))};function Uc(p,_){var S;_?S=_.l:S=p.U++;const D=ei(p.I);ue(D,"SID",p.K),ue(D,"RID",S),ue(D,"AID",p.T),Ga(p,D),p.m&&p.o&&an(D,p.m,p.o),S=new zn(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),_&&(p.i=_.D.concat(p.i)),_=pd(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Yo(p.h,S),Ii(S,D,_)}function Ga(p,_){p.H&&q(p.H,function(S,D){ue(_,D,S)}),p.l&&Pc({},function(S,D){ue(_,D,S)})}function pd(p,_,S){S=Math.min(p.i.length,S);var D=p.l?x(p.l.Na,p.l,p):null;t:{var Q=p.i;let rt=-1;for(;;){const gt=["count="+S];rt==-1?0<S?(rt=Q[0].g,gt.push("ofs="+rt)):rt=0:gt.push("ofs="+rt);let Yt=!0;for(let Je=0;Je<S;Je++){let Qt=Q[Je].g;const on=Q[Je].map;if(Qt-=rt,0>Qt)rt=Math.max(0,Q[Je].g-100),Yt=!1;else try{Zi(on,gt,"req"+Qt+"_")}catch{D&&D(on)}}if(Yt){D=gt.join("&");break t}}}return p=p.i.splice(0,S),_.D=p,D}function gd(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;Z||U(),at||(Z(),at=!0),mt.add(_,p),p.v=0}}function Fc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=He(x(p.Fa,p),Hc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,yd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=He(x(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,be(10),el(this),yd(this))};function Wa(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function yd(p){p.g=new zn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=ei(p.qa);ue(_,"RID","rpc"),ue(_,"SID",p.K),ue(_,"AID",p.T),ue(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&ue(_,"TO",p.ja),ue(_,"TYPE","xmlhttp"),Ga(p,_),p.m&&p.o&&an(_,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=za(ei(_)),S.m=null,S.P=!0,Ns(S,p)}n.Za=function(){this.C!=null&&(this.C=null,el(this),Fc(this),be(19))};function il(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function vd(p,_){var S=null;if(p.g==_){il(p),Wa(p),p.g=null;var D=2}else if(Ic(p.h,_))S=_.D,Bn(p.h,_),D=1;else return;if(p.G!=0){if(_.o)if(D==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var Q=p.B;D=_r(),ae(D,new Ze(D,S)),nl(p)}else gd(p);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(D==1&&Op(p,_)||D==2&&Fc(p)))switch(S&&0<S.length&&(_=p.h,_.i=_.i.concat(S)),Q){case 1:js(p,5);break;case 4:js(p,10);break;case 3:js(p,6);break;default:js(p,2)}}}function Hc(p,_){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*_}function js(p,_){if(p.j.info("Error code "+_),_==2){var S=x(p.fb,p),D=p.Xa;const Q=!D;D=new qe(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||La(D,"https"),za(D),Q?Ua(D.toString(),S):Di(D.toString(),S)}else be(2);p.G=0,p.l&&p.l.sa(_),xd(p),md(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function xd(p){if(p.G=0,p.ka=[],p.l){const _=Dc(p.h);(_.length!=0||p.i.length!=0)&&(C(p.ka,_),C(p.ka,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.ra()}}function bd(p,_,S){var D=S instanceof qe?ei(S):new qe(S);if(D.g!="")_&&(D.g=_+"."+D.g),Ar(D,D.s);else{var Q=c.location;D=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var rt=new qe(null);D&&La(rt,D),_&&(rt.g=_),Q&&Ar(rt,Q),S&&(rt.l=S),D=rt}return S=p.D,_=p.ya,S&&_&&ue(D,S,_),ue(D,"VER",p.la),Ga(p,D),D}function _d(p,_,S){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new se(new Cr({eb:S})):new se(p.pa),_.Ha(p.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wd(){}n=wd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function sl(){}sl.prototype.g=function(p,_){return new Un(p,_)};function Un(p,_){ke.call(this),this.g=new tl(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!j(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!j(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new ns(this)}T(Un,ke),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){Bc(this.g)},Un.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Mi(p),p=S);_.i.push(new cd(_.Ya++,p)),_.G==3&&nl(_)},Un.prototype.N=function(){this.g.l=null,delete this.j,Bc(this.g),delete this.g,Un.aa.N.call(this)};function Td(p){Cs.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){t:{for(const S in _){p=S;break t}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}T(Td,Cs);function Sd(){Rc.call(this),this.status=1}T(Sd,Rc);function ns(p){this.g=p}T(ns,wd),ns.prototype.ua=function(){ae(this.g,"a")},ns.prototype.ta=function(p){ae(this.g,new Td(p))},ns.prototype.sa=function(p){ae(this.g,new Sd)},ns.prototype.ra=function(){ae(this.g,"b")},sl.prototype.createWebChannel=sl.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,DC=function(){return new sl},IC=function(){return _r()},MC=Wi,Iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,im=Sr,Rs.COMPLETE="complete",kC=Rs,Cc.EventType=As,As.OPEN="a",As.CLOSE="b",As.ERROR="c",As.MESSAGE="d",ke.prototype.listen=ke.prototype.K,Uu=Cc,se.prototype.listenOnce=se.prototype.L,se.prototype.getLastError=se.prototype.Ka,se.prototype.getLastErrorCode=se.prototype.Ba,se.prototype.getStatus=se.prototype.Z,se.prototype.getResponseJson=se.prototype.Oa,se.prototype.getResponseText=se.prototype.oa,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Ha,NC=se}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});const VT="@firebase/firestore",LT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Ov("@firebase/firestore");function Ol(){return Do.logLevel}function vt(n,...t){if(Do.logLevel<=qt.DEBUG){const e=t.map(Yv);Do.debug(`Firestore (${mc}): ${n}`,...e)}}function fr(n,...t){if(Do.logLevel<=qt.ERROR){const e=t.map(Yv);Do.error(`Firestore (${mc}): ${n}`,...e)}}function Zl(n,...t){if(Do.logLevel<=qt.WARN){const e=t.map(Yv);Do.warn(`Firestore (${mc}): ${n}`,...e)}}function Yv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,PC(n,i,e)}function PC(n,t,e){let i=`FIRESTORE (${mc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw fr(i),new Error(i)}function re(n,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,n||PC(t,s,i)}function Vt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends yr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class n5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(kn.UNAUTHENTICATED))}shutdown(){}}class i5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class s5{constructor(t){this.t=t,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){re(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let a=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new cr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new cr)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(re(typeof i.accessToken=="string",31837,{l:i}),new OC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new kn(t)}}class r5{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class a5{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new r5(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o5{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){re(this.o===void 0,3512);const i=a=>{a.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(re(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new zT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=l5(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<e&&(i+=t.charAt(s[a]%62))}return i}}function $t(n,t){return n<t?-1:n>t?1:0}function Dy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const s=n.charAt(i),a=t.charAt(i);if(s!==a)return U0(s)===U0(a)?$t(s,a):U0(s)?1:-1}return $t(n.length,t.length)}const c5=55296,u5=57343;function U0(n){const t=n.charCodeAt(0);return t>=c5&&t<=u5}function Jl(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="__name__";class hs{constructor(t,e,i){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Rt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return hs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof hs?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const a=hs.compareSegments(t.get(s),e.get(s));if(a!==0)return a}return $t(t.length,e.length)}static compareSegments(t,e){const i=hs.isNumericId(t),s=hs.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?hs.extractNumericId(t).compare(hs.extractNumericId(e)):Dy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ca.fromString(t.substring(4,t.length-2))}}class ye extends hs{construct(t,e,i){return new ye(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new yt(ct.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new ye(e)}static emptyPath(){return new ye([])}}const h5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends hs{construct(t,e,i){return new wn(t,e,i)}static isValidIdentifier(t){return h5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BT}static keyField(){return new wn([BT])}static fromServerFormat(t){const e=[];let i="",s=0;const a=()=>{if(i.length===0)throw new yt(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new yt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new yt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new yt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wn(e)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(ye.fromString(t))}static fromName(t){return new Tt(ye.fromString(t).popFirst(5))}static empty(){return new Tt(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ye.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ye.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new ye(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n,t,e){if(!e)throw new yt(ct.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function d5(n,t,e,i){if(t===!0&&i===!0)throw new yt(ct.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function UT(n){if(!Tt.isDocumentKey(n))throw new yt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FT(n){if(Tt.isDocumentKey(n))throw new yt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ep(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function Ri(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ep(n);throw new yt(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(n,t){const e={typeString:n};return t&&(e.value=t),e}function qh(n,t){if(!VC(n))throw new yt(ct.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const s=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(s&&typeof l!==s){e=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){e=`Expected '${i}' field to equal '${a.value}'`;break}}if(e)throw new yt(ct.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=-62135596800,qT=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(t){return ve.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*qT);return new ve(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<HT)throw new yt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qT}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qh(t,ve._jsonSchema))return new ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-HT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:Ke("string",ve._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new ve(0,0))}static max(){return new Pt(new ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=-1;function f5(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Pt.fromTimestamp(i===1e9?new ve(e+1,0):new ve(e,i));return new fa(s,Tt.empty(),t)}function m5(n){return new fa(n.readTime,n.key,ph)}class fa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new fa(Pt.min(),Tt.empty(),ph)}static max(){return new fa(Pt.max(),Tt.empty(),ph)}}function p5(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Tt.comparator(n.documentKey,t.documentKey),e!==0?e:$t(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(n){if(n.code!==ct.FAILED_PRECONDITION||n.message!==g5)throw n;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.reject(e)}static resolve(t){return new ht((e,i)=>{e(t)})}static reject(t){return new ht((e,i)=>{i(t)})}static waitFor(t){return new ht((e,i)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&e()},h=>i(h))}),l=!0,a===s&&e()})}static or(t){let e=ht.resolve(!1);for(const i of t)e=e.next(s=>s?ht.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,a)=>{i.push(e.call(this,s,a))}),this.waitFor(i)}static mapArray(t,e){return new ht((i,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;e(t[d]).next(m=>{l[d]=m,++c,c===a&&i(l)},m=>s(m))}})}static doWhile(t,e){return new ht((i,s)=>{const a=()=>{t()===!0?e().next(()=>{a()},s):i()};a()})}}function v5(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function gc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}np.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=-1;function ip(n){return n==null}function Sm(n){return n===0&&1/n==-1/0}function x5(n){return typeof n=="number"&&Number.isInteger(n)&&!Sm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="";function b5(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=$T(t)),t=_5(n.get(e),t);return $T(t)}function _5(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":e+="";break;case LC:e+="";break;default:e+=a}}return e}function $T(n){return n+LC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Vo(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function zC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,e){this.comparator=t,this.root=e||_n.EMPTY}insert(t,e){return new Re(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_n.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nf(this.root,t,this.comparator,!0)}}class Nf{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _n{constructor(t,e,i,s,a){this.key=t,this.value=e,this.color=i??_n.RED,this.left=s??_n.EMPTY,this.right=a??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,a){return new _n(t??this.key,e??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,e,i),null):a===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,i,s,a){return this}insert(t,e,i){return new _n(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new WT(this.data.getIterator())}getIteratorFrom(t){return new WT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof rn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new rn(this.comparator);return e.data=t,e}}class WT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.fields=t,t.sort(wn.comparator)}static empty(){return new zi([])}unionWith(t){let e=new rn(wn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new zi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Jl(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new BC("Invalid base64 string: "+a):a}}(t);return new Tn(e)}static fromUint8Array(t){const e=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new Tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const w5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(n){if(re(!!n,39018),typeof n=="string"){let t=0;const e=w5.exec(n);if(re(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ze(n.seconds),nanos:ze(n.nanos)}}function ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pa(n){return typeof n=="string"?Tn.fromBase64String(n):Tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="server_timestamp",FC="__type__",HC="__previous_value__",qC="__local_write_time__";function Xv(n){return(n?.mapValue?.fields||{})[FC]?.stringValue===UC}function sp(n){const t=n.mapValue.fields[HC];return Xv(t)?sp(t):t}function gh(n){const t=ma(n.mapValue.fields[qC].timestampValue);return new ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(t,e,i,s,a,l,c,h,d,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Em="(default)";class yh{constructor(t,e){this.projectId=t,this.database=e||Em}static empty(){return new yh("","")}get isDefaultDatabase(){return this.database===Em}isEqual(t){return t instanceof yh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__type__",S5="__max__",kf={mapValue:{}},GC="__vector__",Am="value";function ga(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xv(n)?4:A5(n)?9007199254740991:E5(n)?10:11:Rt(28295,{value:n})}function ws(n,t){if(n===t)return!0;const e=ga(n);if(e!==ga(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return gh(n).isEqual(gh(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ma(s.timestampValue),c=ma(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,a){return pa(s.bytesValue).isEqual(pa(a.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,a){return ze(s.geoPointValue.latitude)===ze(a.geoPointValue.latitude)&&ze(s.geoPointValue.longitude)===ze(a.geoPointValue.longitude)}(n,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ze(s.integerValue)===ze(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ze(s.doubleValue),c=ze(a.doubleValue);return l===c?Sm(l)===Sm(c):isNaN(l)&&isNaN(c)}return!1}(n,t);case 9:return Jl(n.arrayValue.values||[],t.arrayValue.values||[],ws);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(GT(l)!==GT(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ws(l[h],c[h])))return!1;return!0}(n,t);default:return Rt(52216,{left:n})}}function vh(n,t){return(n.values||[]).find(e=>ws(e,t))!==void 0}function tc(n,t){if(n===t)return 0;const e=ga(n),i=ga(t);if(e!==i)return $t(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,t.booleanValue);case 2:return function(a,l){const c=ze(a.integerValue||a.doubleValue),h=ze(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,t);case 3:return YT(n.timestampValue,t.timestampValue);case 4:return YT(gh(n),gh(t));case 5:return Dy(n.stringValue,t.stringValue);case 6:return function(a,l){const c=pa(a),h=pa(l);return c.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=$t(c[d],h[d]);if(m!==0)return m}return $t(c.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const c=$t(ze(a.latitude),ze(l.latitude));return c!==0?c:$t(ze(a.longitude),ze(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return QT(n.arrayValue,t.arrayValue);case 10:return function(a,l){const c=a.fields||{},h=l.fields||{},d=c[Am]?.arrayValue,m=h[Am]?.arrayValue,v=$t(d?.values?.length||0,m?.values?.length||0);return v!==0?v:QT(d,m)}(n.mapValue,t.mapValue);case 11:return function(a,l){if(a===kf.mapValue&&l===kf.mapValue)return 0;if(a===kf.mapValue)return 1;if(l===kf.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const x=Dy(h[v],m[v]);if(x!==0)return x;const w=tc(c[h[v]],d[m[v]]);if(w!==0)return w}return $t(h.length,m.length)}(n.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function YT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return $t(n,t);const e=ma(n),i=ma(t),s=$t(e.seconds,i.seconds);return s!==0?s:$t(e.nanos,i.nanos)}function QT(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const a=tc(e[s],i[s]);if(a)return a}return $t(e.length,i.length)}function ec(n){return Py(n)}function Py(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=ma(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return pa(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Tt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const a of e.values||[])s?s=!1:i+=",",i+=Py(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${Py(e.fields[l])}`;return s+"}"}(n.mapValue):Rt(61005,{value:n})}function sm(n){switch(ga(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sp(n);return t?16+sm(t):16;case 5:return 2*n.stringValue.length;case 6:return pa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+sm(a),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Vo(i.fields,(a,l)=>{s+=a.length+sm(l)}),s}(n.mapValue);default:throw Rt(13486,{value:n})}}function KT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Oy(n){return!!n&&"integerValue"in n}function Zv(n){return!!n&&"arrayValue"in n}function XT(n){return!!n&&"nullValue"in n}function ZT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rm(n){return!!n&&"mapValue"in n}function E5(n){return(n?.mapValue?.fields||{})[$C]?.stringValue===GC}function Zu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Vo(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Zu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Zu(n.arrayValue.values[e]);return t}return{...n}}function A5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===S5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.value=t}static empty(){return new Ai({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!rm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zu(e)}setAll(t){let e=wn.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!e.isImmediateParentOf(c)){const h=this.getFieldsMap(e);this.applyChanges(h,i,s),i={},s=[],e=c.popLast()}l?i[c.lastSegment()]=Zu(l):s.push(c.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,s)}delete(t){const e=this.field(t.popLast());rm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ws(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];rm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Vo(e,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new Ai(Zu(this.value))}}function WC(n){const t=[];return Vo(n.fields,(e,i)=>{const s=new wn([e]);if(rm(i)){const a=WC(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new zi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t,e,i,s,a,l,c){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new In(t,0,Pt.min(),Pt.min(),Pt.min(),Ai.empty(),0)}static newFoundDocument(t,e,i,s){return new In(t,1,e,Pt.min(),i,s,0)}static newNoDocument(t,e){return new In(t,2,e,Pt.min(),Pt.min(),Ai.empty(),0)}static newUnknownDocument(t,e){return new In(t,3,e,Pt.min(),Pt.min(),Ai.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof In&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,e){this.position=t,this.inclusive=e}}function JT(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const a=t[s],l=n.position[s];if(a.field.isKeyField()?i=Tt.comparator(Tt.fromName(l.referenceValue),e.key):i=tc(l,e.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function tS(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ws(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,e="asc"){this.field=t,this.dir=e}}function C5(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{}class Qe extends YC{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new N5(t,e,i):e==="array-contains"?new I5(t,i):e==="in"?new D5(t,i):e==="not-in"?new P5(t,i):e==="array-contains-any"?new O5(t,i):new Qe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new k5(t,i):new M5(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(tc(e,this.value)):e!==null&&ga(this.value)===ga(e)&&this.matchesComparison(tc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends YC{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new qi(t,e)}matches(t){return QC(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QC(n){return n.op==="and"}function KC(n){return R5(n)&&QC(n)}function R5(n){for(const t of n.filters)if(t instanceof qi)return!1;return!0}function jy(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+ec(n.value);if(KC(n))return n.filters.map(t=>jy(t)).join(",");{const t=n.filters.map(e=>jy(e)).join(",");return`${n.op}(${t})`}}function XC(n,t){return n instanceof Qe?function(i,s){return s instanceof Qe&&i.op===s.op&&i.field.isEqual(s.field)&&ws(i.value,s.value)}(n,t):n instanceof qi?function(i,s){return s instanceof qi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,c)=>a&&XC(l,s.filters[c]),!0):!1}(n,t):void Rt(19439)}function ZC(n){return n instanceof Qe?function(e){return`${e.field.canonicalString()} ${e.op} ${ec(e.value)}`}(n):n instanceof qi?function(e){return e.op.toString()+" {"+e.getFilters().map(ZC).join(" ,")+"}"}(n):"Filter"}class N5 extends Qe{constructor(t,e,i){super(t,e,i),this.key=Tt.fromName(i.referenceValue)}matches(t){const e=Tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class k5 extends Qe{constructor(t,e){super(t,"in",e),this.keys=JC("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class M5 extends Qe{constructor(t,e){super(t,"not-in",e),this.keys=JC("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function JC(n,t){return(t.arrayValue?.values||[]).map(e=>Tt.fromName(e.referenceValue))}class I5 extends Qe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Zv(e)&&vh(e.arrayValue,this.value)}}class D5 extends Qe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&vh(this.value.arrayValue,e)}}class P5 extends Qe{constructor(t,e){super(t,"not-in",e)}matches(t){if(vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!vh(this.value.arrayValue,e)}}class O5 extends Qe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Zv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>vh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(t,e=null,i=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function eS(n,t=null,e=[],i=[],s=null,a=null,l=null){return new j5(n,t,e,i,s,a,l)}function Jv(n){const t=Vt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>jy(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),ip(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ec(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ec(i)).join(",")),t.Te=e}return t.Te}function tx(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!C5(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!XC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!tS(n.startAt,t.startAt)&&tS(n.endAt,t.endAt)}function Vy(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,e=null,i=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function V5(n,t,e,i,s,a,l,c){return new yc(n,t,e,i,s,a,l,c)}function rp(n){return new yc(n)}function nS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tR(n){return n.collectionGroup!==null}function Ju(n){const t=Vt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new rn(wn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new xh(a,i))}),e.has(wn.keyField().canonicalString())||t.Ie.push(new xh(wn.keyField(),i))}return t.Ie}function fs(n){const t=Vt(n);return t.Ee||(t.Ee=L5(t,Ju(n))),t.Ee}function L5(n,t){if(n.limitType==="F")return eS(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new xh(s.field,a)});const e=n.endAt?new Cm(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Cm(n.startAt.position,n.startAt.inclusive):null;return eS(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Ly(n,t){const e=n.filters.concat([t]);return new yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function zy(n,t,e){return new yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ap(n,t){return tx(fs(n),fs(t))&&n.limitType===t.limitType}function eR(n){return`${Jv(fs(n))}|lt:${n.limitType}`}function jl(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>ZC(s)).join(", ")}]`),ip(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>ec(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>ec(s)).join(",")),`Target(${i})`}(fs(n))}; limitType=${n.limitType})`}function op(n,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Tt.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,t)&&function(i,s){for(const a of Ju(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const d=JT(l,c,h);return l.inclusive?d<=0:d<0}(i.startAt,Ju(i),s)||i.endAt&&!function(l,c,h){const d=JT(l,c,h);return l.inclusive?d>=0:d>0}(i.endAt,Ju(i),s))}(n,t)}function z5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nR(n){return(t,e)=>{let i=!1;for(const s of Ju(n)){const a=B5(s,t,e);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function B5(n,t,e){const i=n.field.isKeyField()?Tt.comparator(t.key,e.key):function(a,l,c){const h=l.data.field(a),d=c.data.field(a);return h!==null&&d!==null?tc(h,d):Rt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Vo(this.inner,(e,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return zC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new Re(Tt.comparator);function mr(){return U5}const iR=new Re(Tt.comparator);function Fu(...n){let t=iR;for(const e of n)t=t.insert(e.key,e);return t}function sR(n){let t=iR;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function bo(){return th()}function rR(){return th()}function th(){return new Lo(n=>n.toString(),(n,t)=>n.isEqual(t))}const F5=new Re(Tt.comparator),H5=new rn(Tt.comparator);function Gt(...n){let t=H5;for(const e of n)t=t.add(e);return t}const q5=new rn($t);function $5(){return q5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(t)?"-0":t}}function aR(n){return{integerValue:""+n}}function G5(n,t){return x5(t)?aR(t):ex(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this._=void 0}}function W5(n,t,e){return n instanceof Rm?function(s,a){const l={fields:{[FC]:{stringValue:UC},[qC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Xv(a)&&(a=sp(a)),a&&(l.fields[HC]=a),{mapValue:l}}(e,t):n instanceof bh?lR(n,t):n instanceof _h?cR(n,t):function(s,a){const l=oR(s,a),c=iS(l)+iS(s.Ae);return Oy(l)&&Oy(s.Ae)?aR(c):ex(s.serializer,c)}(n,t)}function Y5(n,t,e){return n instanceof bh?lR(n,t):n instanceof _h?cR(n,t):e}function oR(n,t){return n instanceof Nm?function(i){return Oy(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Rm extends lp{}class bh extends lp{constructor(t){super(),this.elements=t}}function lR(n,t){const e=uR(t);for(const i of n.elements)e.some(s=>ws(s,i))||e.push(i);return{arrayValue:{values:e}}}class _h extends lp{constructor(t){super(),this.elements=t}}function cR(n,t){let e=uR(t);for(const i of n.elements)e=e.filter(s=>!ws(s,i));return{arrayValue:{values:e}}}class Nm extends lp{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function iS(n){return ze(n.integerValue||n.doubleValue)}function uR(n){return Zv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Q5(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof bh&&s instanceof bh||i instanceof _h&&s instanceof _h?Jl(i.elements,s.elements,ws):i instanceof Nm&&s instanceof Nm?ws(i.Ae,s.Ae):i instanceof Rm&&s instanceof Rm}(n.transform,t.transform)}class K5{constructor(t,e){this.version=t,this.transformResults=e}}class Hi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Hi}static exists(t){return new Hi(void 0,t)}static updateTime(t){return new Hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function am(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class cp{}function hR(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new nx(n.key,Hi.none()):new $h(n.key,n.data,Hi.none());{const e=n.data,i=Ai.empty();let s=new rn(wn.comparator);for(let a of t.fields)if(!s.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new zo(n.key,i,new zi(s.toArray()),Hi.none())}}function X5(n,t,e){n instanceof $h?function(s,a,l){const c=s.value.clone(),h=rS(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,t,e):n instanceof zo?function(s,a,l){if(!am(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=rS(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(dR(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function eh(n,t,e,i){return n instanceof $h?function(a,l,c,h){if(!am(a.precondition,l))return c;const d=a.value.clone(),m=aS(a.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof zo?function(a,l,c,h){if(!am(a.precondition,l))return c;const d=aS(a.fieldTransforms,h,l),m=l.data;return m.setAll(dR(a)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(a,l,c){return am(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,t,e)}function Z5(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),a=oR(i.transform,s||null);a!=null&&(e===null&&(e=Ai.empty()),e.set(i.field,a))}return e||null}function sS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Jl(i,s,(a,l)=>Q5(a,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class $h extends cp{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zo extends cp{constructor(t,e,i,s,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dR(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function rS(n,t,e){const i=new Map;re(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let s=0;s<e.length;s++){const a=n[s],l=a.transform,c=t.data.field(a.field);i.set(a.field,Y5(l,c,e[s]))}return i}function aS(n,t,e){const i=new Map;for(const s of n){const a=s.transform,l=e.data.field(s.field);i.set(s.field,W5(a,l,t))}return i}class nx extends cp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J5 extends cp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&X5(a,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=eh(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=eh(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=rR();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=e.has(s.key)?null:c;const h=hR(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Pt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Gt())}isEqual(t){return this.batchId===t.batchId&&Jl(this.mutations,t.mutations,(e,i)=>sS(e,i))&&Jl(this.baseMutations,t.baseMutations,(e,i)=>sS(e,i))}}class ix{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){re(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return F5}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new ix(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,Xt;function i3(n){switch(n){case ct.OK:return Rt(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Rt(15467,{code:n})}}function fR(n){if(n===void 0)return fr("GRPC error has no .code"),ct.UNKNOWN;switch(n){case We.OK:return ct.OK;case We.CANCELLED:return ct.CANCELLED;case We.UNKNOWN:return ct.UNKNOWN;case We.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case We.INTERNAL:return ct.INTERNAL;case We.UNAVAILABLE:return ct.UNAVAILABLE;case We.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case We.NOT_FOUND:return ct.NOT_FOUND;case We.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case We.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case We.ABORTED:return ct.ABORTED;case We.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case We.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case We.DATA_LOSS:return ct.DATA_LOSS;default:return Rt(39323,{code:n})}}(Xt=We||(We={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new ca([4294967295,4294967295],0);function oS(n){const t=s3().encode(n),e=new RC;return e.update(t),new Uint8Array(e.digest())}function lS(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ca([e,i],0),new ca([s,a],0)]}class sx{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Hu(`Invalid padding: ${e}`);if(i<0)throw new Hu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ca.fromNumber(this.ge)}ye(t,e,i){let s=t.add(e.multiply(ca.fromNumber(i)));return s.compare(r3)===1&&(s=new ca([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=oS(t),[i,s]=lS(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);if(!this.we(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new sx(a,s,e);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.ge===0)return;const e=oS(t),[i,s]=lS(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,e,i,s,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Gh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new up(Pt.min(),s,new Re($t),mr(),Gt())}}class Gh{constructor(t,e,i,s,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Gh(i,e,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,e,i,s){this.be=t,this.removedTargetIds=e,this.key=i,this.De=s}}class mR{constructor(t,e){this.targetId=t,this.Ce=e}}class pR{constructor(t,e,i=Tn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class cS{constructor(){this.ve=0,this.Fe=uS(),this.Me=Tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Gt(),e=Gt(),i=Gt();return this.Fe.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:Rt(38017,{changeType:a})}}),new Gh(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=uS()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class a3{constructor(t){this.Ge=t,this.ze=new Map,this.je=mr(),this.Je=Mf(),this.He=Mf(),this.Ye=new Re($t)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((i,s)=>{this.rt(s)&&e(s)})}st(t){const e=t.targetId,i=t.Ce.count,s=this.ot(e);if(s){const a=s.target;if(Vy(a))if(i===0){const l=new Tt(a.path);this.et(e,l,In.newNoDocument(l,Pt.min()))}else re(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const c=this.ut(t),h=c?this.ct(c,t,l):1;if(h!==0){this.it(e);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=e;let l,c;try{l=pa(i).toUint8Array()}catch(h){if(h instanceof BC)return Zl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new sx(l,s,a)}catch(h){return Zl(h instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let s=0;return i.forEach(a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.et(e,a,null),s++)}),s}Tt(t){const e=new Map;this.ze.forEach((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Vy(c.target)){const h=new Tt(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,In.newNoDocument(h,t))}a.Be&&(e.set(l,a.ke()),a.qe())}});let i=Gt();this.He.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.je.forEach((a,l)=>l.setReadTime(t));const s=new up(t,e,this.Ye,this.je,i);return this.je=mr(),this.Je=Mf(),this.He=Mf(),this.Ye=new Re($t),s}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new cS,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new rn($t),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new rn($t),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||vt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new cS),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Mf(){return new Re(Tt.comparator)}function uS(){return new Re(Tt.comparator)}const o3={asc:"ASCENDING",desc:"DESCENDING"},l3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c3={and:"AND",or:"OR"};class u3{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function By(n,t){return n.useProto3Json||ip(t)?t:{value:t}}function km(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function h3(n,t){return km(n,t.toTimestamp())}function ms(n){return re(!!n,49232),Pt.fromTimestamp(function(e){const i=ma(e);return new ve(i.seconds,i.nanos)}(n))}function rx(n,t){return Uy(n,t).canonicalString()}function Uy(n,t){const e=function(s){return new ye(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function yR(n){const t=ye.fromString(n);return re(wR(t),10190,{key:t.toString()}),t}function Fy(n,t){return rx(n.databaseId,t.path)}function F0(n,t){const e=yR(t);if(e.get(1)!==n.databaseId.projectId)throw new yt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new yt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Tt(xR(e))}function vR(n,t){return rx(n.databaseId,t)}function d3(n){const t=yR(n);return t.length===4?ye.emptyPath():xR(t)}function Hy(n){return new ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xR(n){return re(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hS(n,t,e){return{name:Fy(n,t),fields:e.value.mapValue.fields}}function f3(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Rt(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(d,m){return d.useProto3Json?(re(m===void 0||typeof m=="string",58123),Tn.fromBase64String(m||"")):(re(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Tn.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(d){const m=d.code===void 0?ct.UNKNOWN:fR(d.code);return new yt(m,d.message||"")}(l);e=new pR(i,s,a,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=F0(n,i.document.name),a=ms(i.document.updateTime),l=i.document.createTime?ms(i.document.createTime):Pt.min(),c=new Ai({mapValue:{fields:i.document.fields}}),h=In.newFoundDocument(s,a,l,c),d=i.targetIds||[],m=i.removedTargetIds||[];e=new om(d,m,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=F0(n,i.document),a=i.readTime?ms(i.readTime):Pt.min(),l=In.newNoDocument(s,a),c=i.removedTargetIds||[];e=new om([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=F0(n,i.document),a=i.removedTargetIds||[];e=new om([],a,s,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new n3(s,a),c=i.targetId;e=new mR(c,l)}}return e}function m3(n,t){let e;if(t instanceof $h)e={update:hS(n,t.key,t.value)};else if(t instanceof nx)e={delete:Fy(n,t.key)};else if(t instanceof zo)e={update:hS(n,t.key,t.data),updateMask:T3(t.fieldMask)};else{if(!(t instanceof J5))return Rt(16599,{Vt:t.type});e={verify:Fy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof Rm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _h)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Rt(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:h3(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Rt(27497)}(n,t.precondition)),e}function p3(n,t){return n&&n.length>0?(re(t!==void 0,14353),n.map(e=>function(s,a){let l=s.updateTime?ms(s.updateTime):ms(a);return l.isEqual(Pt.min())&&(l=ms(a)),new K5(l,s.transformResults||[])}(e,t))):[]}function g3(n,t){return{documents:[vR(n,t.path)]}}function y3(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=vR(n,s);const a=function(d){if(d.length!==0)return _R(qi.create(d,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(d){if(d.length!==0)return d.map(m=>function(x){return{field:Vl(x.field),direction:b3(x.dir)}}(m))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const c=By(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ft:e,parent:s}}function v3(n){let t=d3(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){re(i===1,65062);const m=e.from[0];m.allDescendants?s=m.collectionId:t=t.child(m.collectionId)}let a=[];e.where&&(a=function(v){const x=bR(v);return x instanceof qi&&KC(x)?x.getFilters():[x]}(e.where));let l=[];e.orderBy&&(l=function(v){return v.map(x=>function(T){return new xh(Ll(T.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(x))}(e.orderBy));let c=null;e.limit&&(c=function(v){let x;return x=typeof v=="object"?v.value:v,ip(x)?null:x}(e.limit));let h=null;e.startAt&&(h=function(v){const x=!!v.before,w=v.values||[];return new Cm(w,x)}(e.startAt));let d=null;return e.endAt&&(d=function(v){const x=!v.before,w=v.values||[];return new Cm(w,x)}(e.endAt)),V5(t,s,l,a,c,"F",h,d)}function x3(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function bR(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ll(e.unaryFilter.field);return Qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ll(e.unaryFilter.field);return Qe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ll(e.unaryFilter.field);return Qe.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ll(e.unaryFilter.field);return Qe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Qe.create(Ll(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return qi.create(e.compositeFilter.filters.map(i=>bR(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}}(e.compositeFilter.op))}(n):Rt(30097,{filter:n})}function b3(n){return o3[n]}function _3(n){return l3[n]}function w3(n){return c3[n]}function Vl(n){return{fieldPath:n.canonicalString()}}function Ll(n){return wn.fromServerFormat(n.fieldPath)}function _R(n){return n instanceof Qe?function(e){if(e.op==="=="){if(ZT(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NAN"}};if(XT(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ZT(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NOT_NAN"}};if(XT(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(e.field),op:_3(e.op),value:e.value}}}(n):n instanceof qi?function(e){const i=e.getFilters().map(s=>_R(s));return i.length===1?i[0]:{compositeFilter:{op:w3(e.op),filters:i}}}(n):Rt(54877,{filter:n})}function T3(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function wR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,e,i,s,a=Pt.min(),l=Pt.min(),c=Tn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new ea(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(t){this.yt=t}}function E3(n){const t=v3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.Cn=new C3}addToCollectionParentIndex(t,e){return this.Cn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(fa.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(fa.min())}updateCollectionGroup(t,e,i){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class C3{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new rn(ye.comparator),a=!s.has(i);return this.index[e]=s.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new rn(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TR=41943040;class Kn{static withCacheSize(t){return new Kn(t,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(TR,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nc(0)}static cr(){return new nc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="LruGarbageCollector",R3=1048576;function mS([n,t],[e,i]){const s=$t(n,e);return s===0?$t(t,i):s}class N3{constructor(t){this.Ir=t,this.buffer=new rn(mS),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();mS(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class k3{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){vt(fS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){gc(e)?vt(fS,"Ignoring IndexedDB error during garbage collection: ",e):await pc(e)}await this.Vr(3e5)})}}class M3{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return ht.resolve(np.ce);const i=new N3(e);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(dS)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dS):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,s,a,l,c,h,d;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(t,s))).next(v=>(i=v,c=Date.now(),this.removeTargets(t,i,e))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(d=Date.now(),Ol()<=qt.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function I3(n,t){return new M3(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.changes=new Lo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,In.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ht.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&eh(i.mutation,s,zi.empty(),ve.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Gt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Gt()){const s=bo();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(a=>{let l=Fu();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=bo();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Gt()))}populateOverlays(t,e,i){const s=[];return i.forEach(a=>{e.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{e.set(l,c)})})}computeViews(t,e,i,s){let a=mr();const l=th(),c=function(){return th()}();return e.forEach((h,d)=>{const m=i.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof zo)?a=a.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),eh(m.mutation,d,m.mutation.getFieldMask(),ve.now())):l.set(d.key,zi.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((d,m)=>l.set(d,m)),e.forEach((d,m)=>c.set(d,new P3(m,l.get(d)??null))),c))}recalculateAndSaveOverlays(t,e){const i=th();let s=new Re((l,c)=>l-c),a=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=e.get(h);if(d===null)return;let m=i.get(h)||zi.empty();m=c.applyToLocalView(d,m),i.set(h,m);const v=(s.get(c.batchId)||Gt()).add(h);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,v=rR();m.forEach(x=>{if(!a.has(x)){const w=hR(e.get(x),i.get(x));w!==null&&v.set(x,w),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,v))}return ht.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return Tt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):tR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-a.size):ht.resolve(bo());let c=ph,h=a;return l.next(d=>ht.forEach(d,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(m)?ht.resolve():this.remoteDocumentCache.getEntry(t,m).next(x=>{h=h.insert(m,x)}))).next(()=>this.populateOverlays(t,d,a)).next(()=>this.computeViews(t,h,d,Gt())).next(m=>({batchId:c,changes:sR(m)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tt(e)).next(i=>{let s=Fu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const a=e.collectionGroup;let l=Fu();return this.indexManager.getCollectionParents(t,a).next(c=>ht.forEach(c,h=>{const d=function(v,x){return new yc(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(m=>{m.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,a,s))).next(l=>{a.forEach((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,In.newInvalidDocument(m)))});let c=Fu();return l.forEach((h,d)=>{const m=a.get(h);m!==void 0&&eh(m.mutation,d,zi.empty(),ve.now()),op(e,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ht.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:ms(s.createTime)}}(e)),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(s){return{name:s.name,query:E3(s.bundledQuery),readTime:ms(s.readTime)}}(e)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.overlays=new Re(Tt.comparator),this.qr=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const i=bo();return ht.forEach(e,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,a)=>{this.St(t,e,a)}),ht.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),ht.resolve()}getOverlaysForCollection(t,e,i){const s=bo(),a=e.length+1,l=new Tt(e.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ht.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let a=new Re((d,m)=>d-m);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let m=a.get(d.largestBatchId);m===null&&(m=bo(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=bo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=s)););return ht.resolve(c)}St(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new e3(e,i));let a=this.qr.get(e);a===void 0&&(a=Gt(),this.qr.set(e,a)),this.qr.set(e,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.Qr=new rn(hn.$r),this.Ur=new rn(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new hn(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Gr(new hn(t,e))}zr(t,e){t.forEach(i=>this.removeReference(i,e))}jr(t){const e=new Tt(new ye([])),i=new hn(e,t),s=new hn(e,t+1),a=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Tt(new ye([])),i=new hn(e,t),s=new hn(e,t+1);let a=Gt();return this.Ur.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new hn(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class hn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Tt.comparator(t.key,e.key)||$t(t.Yr,e.Yr)}static Kr(t,e){return $t(t.Yr,e.Yr)||Tt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new rn(hn.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new t3(a,e,i,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new hn(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ht.resolve(l)}lookupMutationBatch(t,e){return ht.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.ei(i),a=s<0?0:s;return ht.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Kv:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new hn(e,0),s=new hn(e,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,s],l=>{const c=this.Xr(l.Yr);a.push(c)}),ht.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new rn($t);return e.forEach(s=>{const a=new hn(s,0),l=new hn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],c=>{i=i.add(c.Yr)})}),ht.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let a=i;Tt.isDocumentKey(a)||(a=a.child(""));const l=new hn(new Tt(a),0);let c=new rn($t);return this.Zr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Yr)),!0)},l),ht.resolve(this.ti(c))}ti(t){const e=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){re(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ht.forEach(e.mutations,s=>{const a=new hn(s.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new hn(e,0),s=this.Zr.firstAfterOrEqual(i);return ht.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(t){this.ri=t,this.docs=function(){return new Re(Tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),a=s?s.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ht.resolve(i?i.document.mutableCopy():In.newInvalidDocument(e))}getEntries(t,e){let i=mr();return e.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():In.newInvalidDocument(s))}),ht.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let a=mr();const l=e.path,c=new Tt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||p5(m5(m),i)<=0||(s.has(m.key)||op(e,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ht.resolve(a)}getAllFromCollectionGroup(t,e,i,s){Rt(9500)}ii(t,e){return ht.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new U3(this)}getSize(t){return ht.resolve(this.size)}}class U3 extends D3{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),ht.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(t){this.persistence=t,this.si=new Lo(e=>Jv(e),tx),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new ax,this.targetCount=0,this.ai=nc.ur()}forEachTarget(t,e){return this.si.forEach((i,s)=>e(s)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),ht.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new nc(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.Pr(e),ht.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,i){let s=0;const a=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=e&&i.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),ht.waitFor(a).next(()=>s)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return ht.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),ht.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const s=this.persistence.referenceDelegate,a=[];return s&&e.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),ht.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return ht.resolve(i)}containsKey(t,e){return ht.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t,e){this.ui={},this.overlays={},this.ci=new np(0),this.li=!1,this.li=!0,this.hi=new L3,this.referenceDelegate=t(this),this.Pi=new F3(this),this.indexManager=new A3,this.remoteDocumentCache=function(s){return new B3(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new S3(e),this.Ii=new j3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new V3,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new z3(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){vt("MemoryPersistence","Starting transaction:",t);const s=new H3(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(t,e){return ht.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class H3 extends y5{constructor(t){super(),this.currentSequenceNumber=t}}class ox{constructor(t){this.persistence=t,this.Ri=new ax,this.Vi=null}static mi(t){return new ox(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),ht.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,i=>{const s=Tt.fromPath(i);return this.gi(t,s).next(a=>{a||e.removeEntry(s,Pt.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return ht.or([()=>ht.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Mm{constructor(t,e){this.persistence=t,this.pi=new Lo(i=>b5(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=I3(this,e)}static mi(t,e){return new Mm(t,e)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}wr(t){let e=0;return this.pr(t,i=>{e++}).next(()=>e)}pr(t,e){return ht.forEach(this.pi,(i,s)=>this.br(t,i,s).next(a=>a?ht.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,e).next(c=>{c||(i++,a.removeEntry(l,Pt.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ht.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=sm(t.data.value)),e}br(t,e,i){return ht.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return ht.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=s}static As(t,e){let i=Gt(),s=Gt();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new lx(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return bO()?8:v5(jn())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,s){const a={result:null};return this.ys(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(t,e,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new q3;return this.Ss(t,e,l).next(c=>{if(a.result=c,this.Vs)return this.bs(t,e,l,c.size)})}).next(()=>a.result)}bs(t,e,i,s){return i.documentReadCount<this.fs?(Ol()<=qt.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",jl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(Ol()<=qt.DEBUG&&vt("QueryEngine","Query:",jl(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Ol()<=qt.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",jl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fs(e))):ht.resolve())}ys(t,e){if(nS(e))return ht.resolve(null);let i=fs(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=zy(e,null,"F"),i=fs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=Gt(...a);return this.ps.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const d=this.Ds(e,c);return this.Cs(e,d,l,h.readTime)?this.ys(t,zy(e,null,"F")):this.vs(t,d,e,h)}))})))}ws(t,e,i,s){return nS(e)||s.isEqual(Pt.min())?ht.resolve(null):this.ps.getDocuments(t,i).next(a=>{const l=this.Ds(e,a);return this.Cs(e,l,i,s)?ht.resolve(null):(Ol()<=qt.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jl(e)),this.vs(t,l,e,f5(s,ph)).next(c=>c))})}Ds(t,e){let i=new rn(nR(t));return e.forEach((s,a)=>{op(t,a)&&(i=i.add(a))}),i}Cs(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(t,e,i){return Ol()<=qt.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",jl(e)),this.ps.getDocumentsMatchingQuery(t,e,fa.min(),i)}vs(t,e,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="LocalStore",G3=3e8;class W3{constructor(t,e,i,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new Re($t),this.xs=new Lo(a=>Jv(a),tx),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new O3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function Y3(n,t,e,i){return new W3(n,t,e,i)}async function ER(n,t){const e=Vt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,e.Bs(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let h=Gt();for(const d of s){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of a){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return e.localDocuments.getDocuments(i,h).next(d=>({Ls:d,removedBatchIds:l,addedBatchIds:c}))})})}function Q3(n,t){const e=Vt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=e.Ns.newChangeBuffer({trackRemovals:!0});return function(c,h,d,m){const v=d.batch,x=v.keys();let w=ht.resolve();return x.forEach(T=>{w=w.next(()=>m.getEntry(h,T)).next(E=>{const C=d.docVersions.get(T);re(C!==null,48541),E.version.compareTo(C)<0&&(v.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),m.addEntry(E)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Gt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function AR(n){const t=Vt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function K3(n,t){const e=Vt(n),i=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const c=[];t.targetChanges.forEach((m,v)=>{const x=s.get(v);if(!x)return;c.push(e.Pi.removeMatchingKeys(a,m.removedDocuments,v).next(()=>e.Pi.addMatchingKeys(a,m.addedDocuments,v)));let w=x.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(v)!==null?w=w.withResumeToken(Tn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,i)),s=s.insert(v,w),function(E,C,N){return E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=G3?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(x,w,m)&&c.push(e.Pi.updateTargetData(a,w))});let h=mr(),d=Gt();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(X3(a,l,t.documentUpdates).next(m=>{h=m.ks,d=m.qs})),!i.isEqual(Pt.min())){const m=e.Pi.getLastRemoteSnapshotVersion(a).next(v=>e.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(m)}return ht.waitFor(c).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(e.Ms=s,a))}function X3(n,t,e){let i=Gt(),s=Gt();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let l=mr();return e.forEach((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Pt.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):vt(cx,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{ks:l,qs:s}})}function Z3(n,t){const e=Vt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Kv),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function J3(n,t){const e=Vt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Pi.getTargetData(i,t).next(a=>a?(s=a,ht.resolve(s)):e.Pi.allocateTargetId(i).next(l=>(s=new ea(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i})}async function qy(n,t,e){const i=Vt(n),s=i.Ms.get(t),a=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!gc(l))throw l;vt(cx,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function pS(n,t,e){const i=Vt(n);let s=Pt.min(),a=Gt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,m){const v=Vt(h),x=v.xs.get(m);return x!==void 0?ht.resolve(v.Ms.get(x)):v.Pi.getTargetData(d,m)}(i,l,fs(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,e?s:Pt.min(),e?a:Gt())).next(c=>(tL(i,z5(t),c),{documents:c,Qs:a})))}function tL(n,t,e){let i=n.Os.get(t)||Pt.min();e.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Os.set(t,i)}class gS{constructor(){this.activeTargetIds=$5()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eL{constructor(){this.Mo=new gS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="ConnectivityMonitor";class vS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){vt(yS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){vt(yS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=null;function $y(){return If===null?If=function(){return 268435456+Math.round(2147483648*Math.random())}():If++,"0x"+If.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="RestConnection",iL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sL{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Em?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,e,i,s,a){const l=$y(),c=this.zo(t,e.toUriEncodedString());vt(H0,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:d}=new URL(c),m=hc(d);return this.Jo(t,c,h,i,m).then(v=>(vt(H0,`Received RPC '${t}' ${l}: `,v),v),v=>{throw Zl(H0,`RPC '${t}' ${l} failed with error: `,v,"url: ",c,"request:",i),v})}Ho(t,e,i,s,a,l){return this.Go(t,e,i,s,a)}jo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}zo(t,e){const i=iL[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class aL extends sL{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,s,a){const l=$y();return new Promise((c,h)=>{const d=new NC;d.setWithCredentials(!0),d.listenOnce(kC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case im.NO_ERROR:const v=d.getResponseJson();vt(Cn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(v)),c(v);break;case im.TIMEOUT:vt(Cn,`RPC '${t}' ${l} timed out`),h(new yt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case im.HTTP_ERROR:const x=d.getStatus();if(vt(Cn,`RPC '${t}' ${l} failed with status:`,x,"response text:",d.getResponseText()),x>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w?.error;if(T&&T.status&&T.message){const E=function(N){const j=N.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(j)>=0?j:ct.UNKNOWN}(T.status);h(new yt(E,T.message))}else h(new yt(ct.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new yt(ct.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{vt(Cn,`RPC '${t}' ${l} completed.`)}});const m=JSON.stringify(s);vt(Cn,`RPC '${t}' ${l} sending request:`,s),d.send(e,"POST",m,i,15)})}T_(t,e,i){const s=$y(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=DC(),c=IC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const m=a.join("");vt(Cn,`Creating RPC '${t}' stream ${s}: ${m}`,h);const v=l.createWebChannel(m,h);this.I_(v);let x=!1,w=!1;const T=new rL({Yo:C=>{w?vt(Cn,`Not sending because RPC '${t}' stream ${s} is closed:`,C):(x||(vt(Cn,`Opening RPC '${t}' stream ${s} transport.`),v.open(),x=!0),vt(Cn,`RPC '${t}' stream ${s} sending:`,C),v.send(C))},Zo:()=>v.close()}),E=(C,N,j)=>{C.listen(N,B=>{try{j(B)}catch(W){setTimeout(()=>{throw W},0)}})};return E(v,Uu.EventType.OPEN,()=>{w||(vt(Cn,`RPC '${t}' stream ${s} transport opened.`),T.o_())}),E(v,Uu.EventType.CLOSE,()=>{w||(w=!0,vt(Cn,`RPC '${t}' stream ${s} transport closed`),T.a_(),this.E_(v))}),E(v,Uu.EventType.ERROR,C=>{w||(w=!0,Zl(Cn,`RPC '${t}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),T.a_(new yt(ct.UNAVAILABLE,"The operation could not be completed")))}),E(v,Uu.EventType.MESSAGE,C=>{if(!w){const N=C.data[0];re(!!N,16349);const j=N,B=j?.error||j[0]?.error;if(B){vt(Cn,`RPC '${t}' stream ${s} received error:`,B);const W=B.status;let F=function(R){const I=We[R];if(I!==void 0)return fR(I)}(W),q=B.message;F===void 0&&(F=ct.INTERNAL,q="Unknown error status: "+W+" with message "+B.message),w=!0,T.a_(new yt(F,q)),v.close()}else vt(Cn,`RPC '${t}' stream ${s} received:`,N),T.u_(N)}}),E(c,MC.STAT_EVENT,C=>{C.stat===Iy.PROXY?vt(Cn,`RPC '${t}' stream ${s} detected buffering proxy`):C.stat===Iy.NOPROXY&&vt(Cn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function q0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n){return new u3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t,e,i=1e3,s=1.5,a=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-i);s>0&&vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="PersistentStream";class RR{constructor(t,e,i,s,a,l,c,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CR(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(fr(e.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===e&&this.G_(i,s)},i=>{t(()=>{const s=new yt(ct.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return vt(xS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(vt(xS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oL extends RR{constructor(t,e,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=f3(this.serializer,t),i=function(a){if(!("targetChange"in a))return Pt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Pt.min():l.readTime?ms(l.readTime):Pt.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Hy(this.serializer),e.addTarget=function(a,l){let c;const h=l.target;if(c=Vy(h)?{documents:g3(a,h)}:{query:y3(a,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=gR(a,l.resumeToken);const d=By(a,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Pt.min())>0){c.readTime=km(a,l.snapshotVersion.toTimestamp());const d=By(a,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=x3(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Hy(this.serializer),e.removeTarget=t,this.q_(e)}}class lL extends RR{constructor(t,e,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return re(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,re(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){re(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=p3(t.writeResults,t.commitTime),i=ms(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Hy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>m3(this.serializer,i))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{}class uL extends cL{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new yt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(t,Uy(e,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new yt(ct.UNKNOWN,a.toString())})}Ho(t,e,i,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(t,Uy(e,i),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(ct.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class hL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(e),this.aa=!1):vt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="RemoteStore";class dL{constructor(t,e,i,s,a){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{Bo(this)&&(vt(Po,"Restarting streams for network reachability change."),await async function(h){const d=Vt(h);d.Ea.add(4),await Wh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await dp(d)}(this))})}),this.Ra=new hL(i,s)}}async function dp(n){if(Bo(n))for(const t of n.da)await t(!0)}async function Wh(n){for(const t of n.da)await t(!1)}function NR(n,t){const e=Vt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),fx(e)?dx(e):vc(e).O_()&&hx(e,t))}function ux(n,t){const e=Vt(n),i=vc(e);e.Ia.delete(t),i.O_()&&kR(e,t),e.Ia.size===0&&(i.O_()?i.L_():Bo(e)&&e.Ra.set("Unknown"))}function hx(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vc(n).Y_(t)}function kR(n,t){n.Va.Ue(t),vc(n).Z_(t)}function dx(n){n.Va=new a3({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),vc(n).start(),n.Ra.ua()}function fx(n){return Bo(n)&&!vc(n).x_()&&n.Ia.size>0}function Bo(n){return Vt(n).Ea.size===0}function MR(n){n.Va=void 0}async function fL(n){n.Ra.set("Online")}async function mL(n){n.Ia.forEach((t,e)=>{hx(n,t)})}async function pL(n,t){MR(n),fx(n)?(n.Ra.ha(t),dx(n)):n.Ra.set("Unknown")}async function gL(n,t,e){if(n.Ra.set("Online"),t instanceof pR&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))}(n,t)}catch(i){vt(Po,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Im(n,i)}else if(t instanceof om?n.Va.Ze(t):t instanceof mR?n.Va.st(t):n.Va.tt(t),!e.isEqual(Pt.min()))try{const i=await AR(n.localStore);e.compareTo(i)>=0&&await function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ia.get(d);m&&a.Ia.set(d,m.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const m=a.Ia.get(h);if(!m)return;a.Ia.set(h,m.withResumeToken(Tn.EMPTY_BYTE_STRING,m.snapshotVersion)),kR(a,h);const v=new ea(m.target,h,d,m.sequenceNumber);hx(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(n,e)}catch(i){vt(Po,"Failed to raise snapshot:",i),await Im(n,i)}}async function Im(n,t,e){if(!gc(t))throw t;n.Ea.add(1),await Wh(n),n.Ra.set("Offline"),e||(e=()=>AR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{vt(Po,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await dp(n)})}function IR(n,t){return t().catch(e=>Im(n,e,t))}async function fp(n){const t=Vt(n),e=ya(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Kv;for(;yL(t);)try{const s=await Z3(t.localStore,i);if(s===null){t.Ta.length===0&&e.L_();break}i=s.batchId,vL(t,s)}catch(s){await Im(t,s)}DR(t)&&PR(t)}function yL(n){return Bo(n)&&n.Ta.length<10}function vL(n,t){n.Ta.push(t);const e=ya(n);e.O_()&&e.X_&&e.ea(t.mutations)}function DR(n){return Bo(n)&&!ya(n).x_()&&n.Ta.length>0}function PR(n){ya(n).start()}async function xL(n){ya(n).ra()}async function bL(n){const t=ya(n);for(const e of n.Ta)t.ea(e.mutations)}async function _L(n,t,e){const i=n.Ta.shift(),s=ix.from(i,t,e);await IR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await fp(n)}async function wL(n,t){t&&ya(n).X_&&await async function(i,s){if(function(l){return i3(l)&&l!==ct.ABORTED}(s.code)){const a=i.Ta.shift();ya(i).B_(),await IR(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await fp(i)}}(n,t),DR(n)&&PR(n)}async function bS(n,t){const e=Vt(n);e.asyncQueue.verifyOperationInProgress(),vt(Po,"RemoteStore received new credentials");const i=Bo(e);e.Ea.add(3),await Wh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await dp(e)}async function TL(n,t){const e=Vt(n);t?(e.Ea.delete(2),await dp(e)):t||(e.Ea.add(2),await Wh(e),e.Ra.set("Unknown"))}function vc(n){return n.ma||(n.ma=function(e,i,s){const a=Vt(e);return a.sa(),new oL(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:fL.bind(null,n),t_:mL.bind(null,n),r_:pL.bind(null,n),H_:gL.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),fx(n)?dx(n):n.Ra.set("Unknown")):(await n.ma.stop(),MR(n))})),n.ma}function ya(n){return n.fa||(n.fa=function(e,i,s){const a=Vt(e);return a.sa(),new lL(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:xL.bind(null,n),r_:wL.bind(null,n),ta:bL.bind(null,n),na:_L.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await fp(n)):(await n.fa.stop(),n.Ta.length>0&&(vt(Po,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t,e,i,s,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,a){const l=Date.now()+i,c=new mx(t,e,l,s,a);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function px(n,t){if(fr("AsyncQueue",`${t}: ${n}`),gc(n))return new yt(ct.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{static emptySet(t){return new Wl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Tt.comparator(e.key,i.key):(e,i)=>Tt.comparator(e.key,i.key),this.keyedMap=Fu(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Wl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Wl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.ga=new Re(Tt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class ic{constructor(t,e,i,s,a,l,c,h,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,s,a){const l=[];return e.forEach(c=>{l.push({type:0,doc:c})}),new ic(t,e,Wl.emptySet(e),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ap(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class EL{constructor(){this.queries=wS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const s=Vt(e),a=s.queries;s.queries=wS(),a.forEach((l,c)=>{for(const h of c.Sa)h.onError(i)})})(this,new yt(ct.ABORTED,"Firestore shutting down"))}}function wS(){return new Lo(n=>eR(n),ap)}async function gx(n,t){const e=Vt(n);let i=3;const s=t.query;let a=e.queries.get(s);a?!a.ba()&&t.Da()&&(i=2):(a=new SL,i=t.Da()?0:1);try{switch(i){case 0:a.wa=await e.onListen(s,!0);break;case 1:a.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const c=px(l,`Initialization of query '${jl(t.query)}' failed`);return void t.onError(c)}e.queries.set(s,a),a.Sa.push(t),t.va(e.onlineState),a.wa&&t.Fa(a.wa)&&vx(e)}async function yx(n,t){const e=Vt(n),i=t.query;let s=3;const a=e.queries.get(i);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=t.Da()?0:1:!a.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function AL(n,t){const e=Vt(n);let i=!1;for(const s of t){const a=s.query,l=e.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(i=!0);l.wa=s}}i&&vx(e)}function CL(n,t,e){const i=Vt(n),s=i.queries.get(t);if(s)for(const a of s.Sa)a.onError(e);i.queries.delete(t)}function vx(n){n.Ca.forEach(t=>{t.next()})}var Gy,TS;(TS=Gy||(Gy={})).Ma="default",TS.Cache="cache";class xx{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new ic(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=ic.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Gy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t){this.key=t}}class jR{constructor(t){this.key=t}}class RL{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gt(),this.mutatedKeys=Gt(),this.eu=nR(t),this.tu=new Wl(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new _S,s=e?e.tu:this.tu;let a=e?e.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((m,v)=>{const x=s.get(m),w=op(this.query,v)?v:null,T=!!x&&this.mutatedKeys.has(x.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;x&&w?x.data.isEqual(w.data)?T!==E&&(i.track({type:3,doc:w}),C=!0):this.su(x,w)||(i.track({type:2,doc:w}),C=!0,(h&&this.eu(w,h)>0||d&&this.eu(w,d)<0)&&(c=!0)):!x&&w?(i.track({type:0,doc:w}),C=!0):x&&!w&&(i.track({type:1,doc:x}),C=!0,(h||d)&&(c=!0)),C&&(w?(l=l.add(w),a=E?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),i.track({type:1,doc:m})}return{tu:l,iu:i,Cs:c,mutatedKeys:a}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((m,v)=>function(w,T){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:C})}};return E(w)-E(T)}(m.type,v.type)||this.eu(m.doc,v.doc)),this.ou(i),s=s??!1;const c=e&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new ic(this.query,t.tu,a,l,t.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _S,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Gt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const e=[];return t.forEach(i=>{this.Xa.has(i)||e.push(new jR(i))}),this.Xa.forEach(i=>{t.has(i)||e.push(new OR(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=Gt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return ic.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bx="SyncEngine";class NL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class kL{constructor(t){this.key=t,this.hu=!1}}class ML{constructor(t,e,i,s,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Lo(c=>eR(c),ap),this.Iu=new Map,this.Eu=new Set,this.du=new Re(Tt.comparator),this.Au=new Map,this.Ru=new ax,this.Vu={},this.mu=new Map,this.fu=nc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IL(n,t,e=!0){const i=FR(n);let s;const a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await VR(i,t,e,!0),s}async function DL(n,t){const e=FR(n);await VR(e,t,!0,!1)}async function VR(n,t,e,i){const s=await J3(n.localStore,fs(t)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let c;return i&&(c=await PL(n,t,a,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&NR(n.remoteStore,s),c}async function PL(n,t,e,i,s){n.pu=(v,x,w)=>async function(E,C,N,j){let B=C.view.ru(N);B.Cs&&(B=await pS(E.localStore,C.query,!1).then(({documents:M})=>C.view.ru(M,B)));const W=j&&j.targetChanges.get(C.targetId),F=j&&j.targetMismatches.get(C.targetId)!=null,q=C.view.applyChanges(B,E.isPrimaryClient,W,F);return ES(E,C.targetId,q.au),q.snapshot}(n,v,x,w);const a=await pS(n.localStore,t,!0),l=new RL(t,a.Qs),c=l.ru(a.documents),h=Gh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),d=l.applyChanges(c,n.isPrimaryClient,h);ES(n,e,d.au);const m=new NL(t,e,l);return n.Tu.set(t,m),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function OL(n,t,e){const i=Vt(n),s=i.Tu.get(t),a=i.Iu.get(s.targetId);if(a.length>1)return i.Iu.set(s.targetId,a.filter(l=>!ap(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await qy(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&ux(i.remoteStore,s.targetId),Wy(i,s.targetId)}).catch(pc)):(Wy(i,s.targetId),await qy(i.localStore,s.targetId,!0))}async function jL(n,t){const e=Vt(n),i=e.Tu.get(t),s=e.Iu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),ux(e.remoteStore,i.targetId))}async function VL(n,t,e){const i=qL(n);try{const s=await function(l,c){const h=Vt(l),d=ve.now(),m=c.reduce((w,T)=>w.add(T.key),Gt());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=mr(),E=Gt();return h.Ns.getEntries(w,m).next(C=>{T=C,T.forEach((N,j)=>{j.isValidDocument()||(E=E.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,T)).next(C=>{v=C;const N=[];for(const j of c){const B=Z5(j,v.get(j.key).overlayedDocument);B!=null&&N.push(new zo(j.key,B,WC(B.value.mapValue),Hi.exists(!0)))}return h.mutationQueue.addMutationBatch(w,d,N,c)}).next(C=>{x=C;const N=C.applyToLocalDocumentSet(v,E);return h.documentOverlayCache.saveOverlays(w,C.batchId,N)})}).then(()=>({batchId:x.batchId,changes:sR(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new Re($t)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d}(i,s.batchId,e),await Yh(i,s.changes),await fp(i.remoteStore)}catch(s){const a=px(s,"Failed to persist write");e.reject(a)}}async function LR(n,t){const e=Vt(n);try{const i=await K3(e.localStore,t);t.targetChanges.forEach((s,a)=>{const l=e.Au.get(a);l&&(re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?re(l.hu,14607):s.removedDocuments.size>0&&(re(l.hu,42227),l.hu=!1))}),await Yh(e,i,t)}catch(i){await pc(i)}}function SS(n,t,e){const i=Vt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.Tu.forEach((a,l)=>{const c=l.view.va(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Vt(l);h.onlineState=c;let d=!1;h.queries.forEach((m,v)=>{for(const x of v.Sa)x.va(c)&&(d=!0)}),d&&vx(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function LL(n,t,e){const i=Vt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Au.get(t),a=s&&s.key;if(a){let l=new Re(Tt.comparator);l=l.insert(a,In.newNoDocument(a,Pt.min()));const c=Gt().add(a),h=new up(Pt.min(),new Map,new Re($t),l,c);await LR(i,h),i.du=i.du.remove(a),i.Au.delete(t),_x(i)}else await qy(i.localStore,t,!1).then(()=>Wy(i,t,e)).catch(pc)}async function zL(n,t){const e=Vt(n),i=t.batch.batchId;try{const s=await Q3(e.localStore,t);BR(e,i,null),zR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Yh(e,s)}catch(s){await pc(s)}}async function BL(n,t,e){const i=Vt(n);try{const s=await function(l,c){const h=Vt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next(v=>(re(v!==null,37113),m=v.keys(),h.mutationQueue.removeMutationBatch(d,v))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>h.localDocuments.getDocuments(d,m))})}(i.localStore,t);BR(i,t,e),zR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Yh(i,s)}catch(s){await pc(s)}}function zR(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function BR(n,t,e){const i=Vt(n);let s=i.Vu[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(e?a.reject(e):a.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function Wy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(i=>{n.Ru.containsKey(i)||UR(n,i)})}function UR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(ux(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),_x(n))}function ES(n,t,e){for(const i of e)i instanceof OR?(n.Ru.addReference(i.key,t),UL(n,i)):i instanceof jR?(vt(bx,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||UR(n,i.key)):Rt(19791,{wu:i})}function UL(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(vt(bx,"New document in limbo: "+e),n.Eu.add(i),_x(n))}function _x(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Tt(ye.fromString(t)),i=n.fu.next();n.Au.set(i,new kL(e)),n.du=n.du.insert(e,i),NR(n.remoteStore,new ea(fs(rp(e.path)),i,"TargetPurposeLimboResolution",np.ce))}}async function Yh(n,t,e){const i=Vt(n),s=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((c,h)=>{l.push(i.pu(h,t,e).then(d=>{if((d||e)&&i.isPrimaryClient){const m=d?!d.fromCache:e?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(d){s.push(d);const m=lx.As(h.targetId,d);a.push(m)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,d){const m=Vt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ht.forEach(d,x=>ht.forEach(x.Es,w=>m.persistence.referenceDelegate.addReference(v,x.targetId,w)).next(()=>ht.forEach(x.ds,w=>m.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))}catch(v){if(!gc(v))throw v;vt(cx,"Failed to update sequence numbers: "+v)}for(const v of d){const x=v.targetId;if(!v.fromCache){const w=m.Ms.get(x),T=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(T);m.Ms=m.Ms.insert(x,E)}}}(i.localStore,a))}async function FL(n,t){const e=Vt(n);if(!e.currentUser.isEqual(t)){vt(bx,"User change. New user:",t.toKey());const i=await ER(e.localStore,t);e.currentUser=t,function(a,l){a.mu.forEach(c=>{c.forEach(h=>{h.reject(new yt(ct.CANCELLED,l))})}),a.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Yh(e,i.Ls)}}function HL(n,t){const e=Vt(n),i=e.Au.get(t);if(i&&i.hu)return Gt().add(i.key);{let s=Gt();const a=e.Iu.get(t);if(!a)return s;for(const l of a){const c=e.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function FR(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=LR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LL.bind(null,t),t.Pu.H_=AL.bind(null,t.eventManager),t.Pu.yu=CL.bind(null,t.eventManager),t}function qL(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BL.bind(null,t),t}class Dm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return Y3(this.persistence,new $3,t.initialUser,this.serializer)}Cu(t){return new SR(ox.mi,this.serializer)}Du(t){return new eL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dm.provider={build:()=>new Dm};class $L extends Dm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){re(this.persistence.referenceDelegate instanceof Mm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new k3(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new SR(i=>Mm.mi(i,e),this.serializer)}}class Yy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>SS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=FL.bind(null,this.syncEngine),await TL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new EL}()}createDatastore(t){const e=hp(t.databaseInfo.databaseId),i=function(a){return new aL(a)}(t.databaseInfo);return function(a,l,c,h){return new uL(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,a,l,c){return new dL(i,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,e=>SS(this.syncEngine,e,0),function(){return vS.v()?new vS:new nL}())}createSyncEngine(t,e){return function(s,a,l,c,h,d,m){const v=new ML(s,a,l,c,h,d);return m&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const i=Vt(e);vt(Po,"RemoteStore shutting down."),i.Ea.add(5),await Wh(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yy.provider={build:()=>new Yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="FirestoreClient";class GL{constructor(t,e,i,s,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=kn.UNAUTHENTICATED,this.clientId=Qv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{vt(va,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(vt(va,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=px(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function $0(n,t){n.asyncQueue.verifyOperationInProgress(),vt(va,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await ER(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function AS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await WL(n);vt(va,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>bS(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>bS(t.remoteStore,s)),n._onlineComponents=t}async function WL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){vt(va,"Using user provided OfflineComponentProvider");try{await $0(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===ct.FAILED_PRECONDITION||s.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Zl("Error using user provided cache. Falling back to memory cache: "+e),await $0(n,new Dm)}}else vt(va,"Using default OfflineComponentProvider"),await $0(n,new $L(void 0));return n._offlineComponents}async function HR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(vt(va,"Using user provided OnlineComponentProvider"),await AS(n,n._uninitializedComponentsProvider._online)):(vt(va,"Using default OnlineComponentProvider"),await AS(n,new Yy))),n._onlineComponents}function YL(n){return HR(n).then(t=>t.syncEngine)}async function Pm(n){const t=await HR(n),e=t.eventManager;return e.onListen=IL.bind(null,t.syncEngine),e.onUnlisten=OL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=DL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=jL.bind(null,t.syncEngine),e}function QL(n,t,e={}){const i=new cr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,d){const m=new wx({next:x=>{m.Nu(),l.enqueueAndForget(()=>yx(a,v));const w=x.docs.has(c);!w&&x.fromCache?d.reject(new yt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&h&&h.source==="server"?d.reject(new yt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(x)},error:x=>d.reject(x)}),v=new xx(rp(c.path),m,{includeMetadataChanges:!0,qa:!0});return gx(a,v)}(await Pm(n),n.asyncQueue,t,e,i)),i.promise}function KL(n,t,e={}){const i=new cr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,d){const m=new wx({next:x=>{m.Nu(),l.enqueueAndForget(()=>yx(a,v)),x.fromCache&&h.source==="server"?d.reject(new yt(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(x)},error:x=>d.reject(x)}),v=new xx(c,m,{includeMetadataChanges:!0,qa:!0});return gx(a,v)}(await Pm(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firestore.googleapis.com",RS=!0;class NS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$R,this.ssl=RS}else this.host=t.host,this.ssl=t.ssl??RS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=TR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<R3)throw new yt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}d5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qR(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new yt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new yt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new yt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mp{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new n5;switch(i.type){case"firstParty":return new a5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new yt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=CS.get(e);i&&(vt("ComponentProvider","Removing Datastore"),CS.delete(e),i.terminate())}(this),Promise.resolve()}}function XL(n,t,e,i={}){n=Ri(n,mp);const s=hc(t),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${t}:${e}`;s&&(BA(`https://${c}`),UA("Firestore",!0)),a.host!==$R&&a.host!==c&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:s,emulatorOptions:i};if(!No(h,l)&&(n._setSettings(h),i.mockUserToken)){let d,m;if(typeof i.mockUserToken=="string")d=i.mockUserToken,m=kn.MOCK_USER;else{d=hO(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new yt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new kn(v)}n._authCredentials=new i5(new OC(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Aa(this.firestore,t,this._query)}}class Be{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(qh(e,Be._jsonSchema))return new Be(t,i||null,new Tt(ye.fromString(e.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Ke("string",Be._jsonSchemaVersion),referencePath:Ke("string")};class ua extends Aa{constructor(t,e,i){super(t,e,rp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new Tt(t))}withConverter(t){return new ua(this.firestore,t,this._path)}}function fn(n,t,...e){if(n=Vn(n),jC("collection","path",t),n instanceof mp){const i=ye.fromString(t,...e);return FT(i),new ua(n,null,i)}{if(!(n instanceof Be||n instanceof ua))throw new yt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ye.fromString(t,...e));return FT(i),new ua(n.firestore,null,i)}}function dn(n,t,...e){if(n=Vn(n),arguments.length===1&&(t=Qv.newId()),jC("doc","path",t),n instanceof mp){const i=ye.fromString(t,...e);return UT(i),new Be(n,null,new Tt(i))}{if(!(n instanceof Be||n instanceof ua))throw new yt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ye.fromString(t,...e));return UT(i),new Be(n.firestore,n instanceof ua?n.converter:null,new Tt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="AsyncQueue";class MS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CR(this,"async_queue_retry"),this._c=()=>{const i=q0();i&&vt(kS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=q0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=q0();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new cr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!gc(t))throw t;vt(kS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",IS(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=mx.createAndSchedule(this,t,e,i,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Rt(47125,{Pc:IS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function IS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const s=e;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class xa extends mp{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new MS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new MS(t),this._firestoreClient=void 0,await t}}}function ZL(n,t){const e=$A(),i=Em,s=Vv(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=cO("firestore");a&&XL(s,...a)}return s}function pp(n){if(n._terminated)throw new yt(ct.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JL(n),n._firestoreClient}function JL(n){const t=n._freezeSettings(),e=function(s,a,l,c){return new T5(s,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,qR(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new GL(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ci(Tn.fromBase64String(t))}catch(e){throw new yt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ci(Tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qh(t,Ci._jsonSchema))return Ci.fromBase64String(t.bytes)}}Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:Ke("string",Ci._jsonSchemaVersion),bytes:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ps._jsonSchemaVersion}}static fromJSON(t){if(qh(t,ps._jsonSchema))return new ps(t.latitude,t.longitude)}}ps._jsonSchemaVersion="firestore/geoPoint/1.0",ps._jsonSchema={type:Ke("string",ps._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qh(t,gs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new gs(t.vectorValues);throw new yt(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gs._jsonSchemaVersion="firestore/vectorValue/1.0",gs._jsonSchema={type:Ke("string",gs._jsonSchemaVersion),vectorValues:Ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=/^__.*__$/;class e6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new zo(t,this.data,this.fieldMask,e,this.fieldTransforms):new $h(t,this.data,e,this.fieldTransforms)}}function WR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:n})}}class Sx{constructor(t,e,i,s,a,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Sx({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Om(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(WR(this.Ac)&&t6.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class n6{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||hp(t)}Cc(t,e,i,s=!1){return new Sx({Ac:t,methodName:e,Dc:i,path:wn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ex(n){const t=n._freezeSettings(),e=hp(n._databaseId);return new n6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function YR(n,t,e,i,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,t,e,s);XR("Data must be an object, but it was:",l,i);const c=QR(i,l);let h,d;if(a.merge)h=new zi(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const x=s6(t,v,e);if(!l.contains(x))throw new yt(ct.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);a6(m,x)||m.push(x)}h=new zi(m),d=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,d=l.fieldTransforms;return new e6(new Ai(c),h,d)}function i6(n,t,e,i=!1){return Ax(e,n.Cc(i?4:3,t))}function Ax(n,t){if(KR(n=Vn(n)))return XR("Unsupported field value:",t,n),QR(n,t);if(n instanceof GR)return function(i,s){if(!WR(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const c of i){let h=Ax(c,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,t)}return function(i,s){if((i=Vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return G5(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=ve.fromDate(i);return{timestampValue:km(s.serializer,a)}}if(i instanceof ve){const a=new ve(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:km(s.serializer,a)}}if(i instanceof ps)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ci)return{bytesValue:gR(s.serializer,i._byteString)};if(i instanceof Be){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rx(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof gs)return function(l,c){return{mapValue:{fields:{[$C]:{stringValue:GC},[Am]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return ex(c.serializer,d)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${ep(i)}`)}(n,t)}function QR(n,t){const e={};return zC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vo(n,(i,s)=>{const a=Ax(s,t.mc(i));a!=null&&(e[i]=a)}),{mapValue:{fields:e}}}function KR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ve||n instanceof ps||n instanceof Ci||n instanceof Be||n instanceof GR||n instanceof gs)}function XR(n,t,e){if(!KR(e)||!VC(e)){const i=ep(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function s6(n,t,e){if((t=Vn(t))instanceof Tx)return t._internalPath;if(typeof t=="string")return ZR(n,t);throw Om("Field path arguments must be of type string or ",n,!1,void 0,e)}const r6=new RegExp("[~\\*/\\[\\]]");function ZR(n,t,e){if(t.search(r6)>=0)throw Om(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Tx(...t.split("."))._internalPath}catch{throw Om(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Om(n,t,e,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new yt(ct.INVALID_ARGUMENT,c+n+h)}function a6(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,e,i,s,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new o6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Cx("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class o6 extends JR{data(){return super.data()}}function Cx(n,t){return typeof t=="string"?ZR(n,t):t instanceof Tx?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rx{}class eN extends Rx{}function na(n,t,...e){let i=[];t instanceof Rx&&i.push(t),i=i.concat(e),function(a){const l=a.filter(h=>h instanceof kx).length,c=a.filter(h=>h instanceof Nx).length;if(l>1||l>0&&c>0)throw new yt(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class Nx extends eN{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Nx(t,e,i)}_apply(t){const e=this._parse(t);return nN(t._query,e),new Aa(t.firestore,t.converter,Ly(t._query,e))}_parse(t){const e=Ex(t.firestore);return function(a,l,c,h,d,m,v){let x;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new yt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){OS(v,m);const T=[];for(const E of v)T.push(PS(h,a,E));x={arrayValue:{values:T}}}else x=PS(h,a,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||OS(v,m),x=i6(c,l,v,m==="in"||m==="not-in");return Qe.create(d,m,x)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class kx extends Rx{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new kx(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:qi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)nN(l,h),l=Ly(l,h)}(t._query,e),new Aa(t.firestore,t.converter,Ly(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mx extends eN{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Mx(t,e)}_apply(t){const e=function(s,a,l){if(s.startAt!==null)throw new yt(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new yt(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xh(a,l)}(t._query,this._field,this._direction);return new Aa(t.firestore,t.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new yc(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,e))}}function l6(n,t="asc"){const e=t,i=Cx("orderBy",n);return Mx._create(i,e)}function PS(n,t,e){if(typeof(e=Vn(e))=="string"){if(e==="")throw new yt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tR(t)&&e.indexOf("/")!==-1)throw new yt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ye.fromString(e));if(!Tt.isDocumentKey(i))throw new yt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return KT(n,new Tt(i))}if(e instanceof Be)return KT(n,e._key);throw new yt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ep(e)}.`)}function OS(n,t){if(!Array.isArray(n)||n.length===0)throw new yt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nN(n,t){const e=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new yt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class c6{convertValue(t,e="none"){switch(ga(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ze(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(pa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Vo(t,(s,a)=>{i[s]=this.convertValue(a,e)}),i}convertVectorValue(t){const e=t.fields?.[Am].arrayValue?.values?.map(i=>ze(i.doubleValue));return new gs(e)}convertGeoPoint(t){return new ps(ze(t.latitude),ze(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=sp(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(gh(t));default:return null}}convertTimestamp(t){const e=ma(t);return new ve(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ye.fromString(t);re(wR(i),9688,{name:t});const s=new yh(i.get(1),i.get(3)),a=new Tt(i.popFirst(5));return s.isEqual(e)||fr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class qu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class To extends JR{constructor(t,e,i,s,a,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new lm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Cx("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=To._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}To._jsonSchemaVersion="firestore/documentSnapshot/1.0",To._jsonSchema={type:Ke("string",To._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class lm extends To{data(t={}){return super.data(t)}}class So{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new qu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new lm(this._firestore,this._userDataWriter,i.key,i,new qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new lm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new qu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new lm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new qu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:u6(c.type),doc:h,oldIndex:d,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=So._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Qv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(e.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function u6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(n){n=Ri(n,Be);const t=Ri(n.firestore,xa);return QL(pp(t),n._key).then(e=>aN(t,n,e))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Ke("string",So._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class Ix extends c6{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ci(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}function Bi(n){n=Ri(n,Aa);const t=Ri(n.firestore,xa),e=pp(t),i=new Ix(t);return tN(n._query),KL(e,n._query).then(s=>new So(t,i,n,s))}function nh(n,t,e){n=Ri(n,Be);const i=Ri(n.firestore,xa),s=iN(n.converter,t,e);return Dx(i,[YR(Ex(i),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,Hi.none())])}function sN(n){return Dx(Ri(n.firestore,xa),[new nx(n._key,Hi.none())])}function rN(n,t){const e=Ri(n.firestore,xa),i=dn(n),s=iN(n.converter,t);return Dx(e,[YR(Ex(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Hi.exists(!1))]).then(()=>i)}function Dn(n,...t){n=Vn(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||DS(t[i])||(e=t[i++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(DS(t[i])){const h=t[i];t[i]=h.next?.bind(h),t[i+1]=h.error?.bind(h),t[i+2]=h.complete?.bind(h)}let a,l,c;if(n instanceof Be)l=Ri(n.firestore,xa),c=rp(n._key.path),a={next:h=>{t[i]&&t[i](aN(l,n,h))},error:t[i+1],complete:t[i+2]};else{const h=Ri(n,Aa);l=Ri(h.firestore,xa),c=h._query;const d=new Ix(l);a={next:m=>{t[i]&&t[i](new So(l,d,h,m))},error:t[i+1],complete:t[i+2]},tN(n._query)}return function(d,m,v,x){const w=new wx(x),T=new xx(m,w,v);return d.asyncQueue.enqueueAndForget(async()=>gx(await Pm(d),T)),()=>{w.Nu(),d.asyncQueue.enqueueAndForget(async()=>yx(await Pm(d),T))}}(pp(l),c,s,a)}function Dx(n,t){return function(i,s){const a=new cr;return i.asyncQueue.enqueueAndForget(async()=>VL(await YL(i),s,a)),a.promise}(pp(n),t)}function aN(n,t,e){const i=e.docs.get(t._key),s=new Ix(n);return new To(n,s,t._key,i,new qu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(s){mc=s})(dc),Kl(new ko("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new xa(new s5(i.getProvider("auth-internal")),new o5(l,i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new yt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(d.options.projectId,m)}(l,s),l);return a={useFetchStreams:e,...a},c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),la(VT,LT,t),la(VT,LT,"esm2020")})();const d6={apiKey:"AIzaSyBP_0D3EoXJwo2z8BPovx1CKRta3R88Zns",authDomain:"myquiz-23c65.firebaseapp.com",databaseURL:"https://myquiz-23c65-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"myquiz-23c65",storageBucket:"myquiz-23c65.firebasestorage.app",messagingSenderId:"256387568233",appId:"1:256387568233:web:a6fe4234585981ea2908f8",measurementId:"G-NW3ENQJDDJ"},oN=qA(d6),Zt=ZL(),xc=CC(oN),lN="/quiz/assets/LogoImage-DW971Bk1.jpg",f6=()=>{const n=qn(),[t,e]=O.useState(""),[i,s]=O.useState(""),[a,l]=O.useState(""),[c,h]=O.useState(""),[d,m]=O.useState(""),[v,x]=O.useState(!1),[w,T]=O.useState(!1),[E,C]=O.useState(!1),N=CC(oN),j=new er,B=()=>{T(!0),setTimeout(()=>{x(!v),m(""),T(!1)},300)},W=async q=>{if(q.preventDefault(),C(!0),m(""),v){if(i!==a){m("Passwords don't match"),C(!1);return}if(i.length<6){m("Password should be at least 6 characters"),C(!1);return}try{const R=(await j4(N,t,i)).user;await z4(R,{nickname:c}),await nh(dn(Zt,"users",R.uid),{uid:R.uid,nickname:c,email:R.email,createdAt:new Date,lastLogin:new Date}),console.log("Sign up successful"),n("/Home")}catch(M){console.error("Sign up error:",M),m(M.message)}}else try{const R=(await V4(N,t,i)).user;await nh(dn(Zt,"users",R.uid),{lastLogin:new Date},{merge:!0}),console.log("Login successful"),n("/Home")}catch(M){console.error("Login error:",M),m(M.message)}C(!1)},F=async()=>{C(!0),m("");try{const M=(await lV(N,j)).user;await nh(dn(Zt,"users",M.uid),{uid:M.uid,nickname:M.nickname,email:M.email,photoURL:M.photoURL,createdAt:new Date,lastLogin:new Date,provider:"google"},{merge:!0}),console.log("Google authentication successful"),n("/Home")}catch(q){console.error("Google auth error:",q),m(q.message)}C(!1)};return y.jsxs("div",{className:"min-h-screen flex",children:[y.jsx("div",{className:"hidden md:block md:w-3/5 lg:w-3/5 bg-gradient-to-br from-blue-600 to-indigo-900 relative",children:y.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:y.jsxs("div",{className:"text-white text-center max-w-md",children:[y.jsx("h1",{className:"text-4xl font-bold mb-6",children:v?"Join Our Community":"Welcome Back"}),y.jsx("p",{className:"text-xl mb-8",children:v?"Access premium content, connect with other professionals, and grow your career.":"Continue your journey with us and access your personalized dashboard."}),y.jsx("div",{className:"flex justify-center",children:y.jsxs("div",{className:"bg-white/20 p-4 rounded-lg backdrop-blur-sm",children:[y.jsx("div",{className:"text-6xl mb-4",children:v?"":""}),y.jsx("p",{className:"text-sm",children:v?'"This platform transformed my career path in just 3 months!"':`"I've never experienced such a seamless learning platform!"`}),y.jsx("p",{className:"text-xs mt-2",children:"- Sarah Johnson, Senior Developer"})]})})]})})}),y.jsx("div",{className:"w-full md:w-2/5 lg:w-2/5 bg-white dark:bg-gray-900 flex items-center justify-center py-12 px-6 lg:px-8",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"text-center md:hidden mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:v?"Create Account":"Welcome Back"}),y.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:v?"Join thousands of users today":"Sign in to continue your journey"})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r "}),y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[y.jsx("img",{src:lN,alt:"Your Company",className:"mx-auto h-10 w-auto"}),y.jsx("h2",{className:"mt-6 text-center text-2xl/9 font-bold tracking-tight text-gray-900 dark:text-white",children:v?"Create your account":"Sign in to your account"})]}),y.jsxs("div",{className:`mt-10 transition-opacity duration-300 ${w?"opacity-0":"opacity-100"}`,children:[y.jsxs("form",{className:"space-y-6",onSubmit:W,children:[v&&y.jsxs("div",{className:"animate-fadeIn",children:[y.jsx("label",{htmlFor:"name",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Nickname"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"name",type:"text",name:"name",required:v,autoComplete:"name",value:c,onChange:q=>h(q.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:"CoolStudent123"})})]}),y.jsxs("div",{className:v?"animate-fadeIn":"",children:[y.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Email address"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"email",type:"email",name:"email",required:!0,autoComplete:"email",value:t,onChange:q=>e(q.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:"Enter your email"})})]}),y.jsxs("div",{className:v?"animate-fadeIn":"",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Password"}),!v&&y.jsx("div",{className:"text-sm",children:y.jsx("a",{href:"#",className:"font-semibold text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Forgot password?"})})]}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"password",type:"password",name:"password",required:!0,autoComplete:v?"new-password":"current-password",value:i,onChange:q=>s(q.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:v?"Create a password":"Enter your password"})})]}),v&&y.jsxs("div",{className:"animate-fadeIn",children:[y.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Confirm Password"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"confirmPassword",type:"password",name:"confirmPassword",required:v,autoComplete:"new-password",value:a,onChange:q=>l(q.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:"Confirm your password"})})]}),v&&y.jsxs("div",{className:"flex items-center animate-fadeIn",children:[y.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"}),y.jsxs("label",{htmlFor:"terms",className:"ml-3 block text-sm text-gray-700 dark:text-gray-300",children:["I agree to the"," ",y.jsx("a",{href:"#",className:"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Terms and Conditions"})]})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-colors",children:v?"Create Account":"Sign in"})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6",children:y.jsxs("button",{type:"button",onClick:F,className:"flex w-full justify-center items-center gap-3 rounded-md bg-white px-3 py-2.5 text-sm/6 font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-colors",children:[y.jsxs("svg",{className:"h-5 w-5","aria-hidden":"true",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0303 3.125C17.9502 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21525 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),y.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),y.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),y.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.9351 19.9454 21.0951L16.0804 18.0951C15.0054 18.8201 13.6204 19.2451 12.0004 19.2451C8.8704 19.2451 6.21537 17.1351 5.2654 14.2901L1.2804 17.3901C3.2554 21.3101 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),v?"Sign up with Google":"Sign in with Google"]})})]}),d&&y.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-md animate-fadeIn",children:y.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:d})}),y.jsxs("p",{className:"mt-8 text-center text-sm/6 text-gray-500 dark:text-gray-400",children:[v?"Already have an account?":"Don't have an account?"," ",y.jsx("button",{onClick:B,className:"font-semibold text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 focus:outline-none focus:underline transition-colors",children:v?"Sign in":"Sign up"})]})]})]})]})}),y.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},m6=()=>{const n=qn();return y.jsx("div",{class:"fixed bottom-0 left-0 z-50 w-full h-16 bg-white border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600 block sm:hidden",children:y.jsxs("div",{class:"grid h-full max-w-lg grid-cols-4 mx-auto font-medium",children:[y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home"),children:[y.jsx("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Home"})]}),y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home/quizMenu"),children:[y.jsxs("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"}),y.jsx("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"})]}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Quiz"})]}),y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home/Practice"),children:[y.jsxs("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.96 2.96 0 0 0 .13 5H5Z"}),y.jsx("path",{d:"M6.737 11.061a2.961 2.961 0 0 1 .81-1.515l6.117-6.116A4.839 4.839 0 0 1 16 2.141V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H0v11a1.969 1.969 0 0 0 1.933 2h12.134A1.97 1.97 0 0 0 16 18v-3.093l-1.546 1.546c-.413.413-.94.695-1.513.81l-3.4.679a2.947 2.947 0 0 1-1.85-.227 2.96 2.96 0 0 1-1.635-3.257l.681-3.397Z"}),y.jsx("path",{d:"M8.961 16a.93.93 0 0 0 .189-.019l3.4-.679a.961.961 0 0 0 .49-.263l6.118-6.117a2.884 2.884 0 0 0-4.079-4.078l-6.117 6.117a.96.96 0 0 0-.263.491l-.679 3.4A.961.961 0 0 0 8.961 16Zm7.477-9.8a.958.958 0 0 1 .68-.281.961.961 0 0 1 .682 1.644l-.315.315-1.36-1.36.313-.318Zm-5.911 5.911 4.236-4.236 1.359 1.359-4.236 4.237-1.7.339.341-1.699Z"})]}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Practice"})]}),y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home/Score"),children:[y.jsx("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"})}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Score"})]})]})})},p6=()=>{const n=qn(),t=async()=>{try{await F4(xc),n("/quiz")}catch(e){console.error("Logout error:",e)}};return y.jsxs("div",{className:"relative",children:[y.jsx("aside",{id:"separator-sidebar",className:"fixed left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0 bg-gray-50 dark:bg-gray-800","aria-label":"Sidebar",children:y.jsxs("div",{className:"h-full px-3 py-4 overflow-y-auto",children:[y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(ta,{to:"/home",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsx("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Home"})]})}),y.jsx("li",{children:y.jsxs(ta,{to:"/home/quizMenu",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsxs("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"}),y.jsx("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"})]}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Quiz"})]})}),y.jsx("li",{children:y.jsxs(ta,{to:"/home/practice",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsxs("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.96 2.96 0 0 0 .13 5H5Z"}),y.jsx("path",{d:"M6.737 11.061a2.961 2.961 0 0 1 .81-1.515l6.117-6.116A4.839 4.839 0 0 1 16 2.141V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H0v11a1.969 1.969 0 0 0 1.933 2h12.134A1.97 1.97 0 0 0 16 18v-3.093l-1.546 1.546c-.413.413-.94.695-1.513.81l-3.4.679a2.947 2.947 0 0 1-1.85-.227 2.96 2.96 0 0 1-1.635-3.257l.681-3.397Z"}),y.jsx("path",{d:"M8.961 16a.93.93 0 0 0 .189-.019l3.4-.679a.961.961 0 0 0 .49-.263l6.118-6.117a2.884 2.884 0 0 0-4.079-4.078l-6.117 6.117a.96.96 0 0 0-.263.491l-.679 3.4A.961.961 0 0 0 8.961 16Zm7.477-9.8a.958.958 0 0 1 .68-.281.961.961 0 0 1 .682 1.644l-.315.315-1.36-1.36.313-.318Zm-5.911 5.911 4.236-4.236 1.359 1.359-4.236 4.237-1.7.339.341-1.699Z"})]}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Practice"}),y.jsx("span",{class:"inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300",children:"3"})]})}),y.jsx("li",{children:y.jsxs(ta,{to:"/home/score",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsx("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z"})}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Score"})]})})]}),y.jsxs("ul",{class:"pt-4 mt-4 space-y-2 font-medium border-t border-gray-200 dark:border-gray-700",children:[y.jsx("li",{children:y.jsxs("button",{onClick:t,className:"flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white group",children:[y.jsx("svg",{className:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 17 20",children:y.jsx("path",{d:"M7.958 19.393a7.7 7.7 0 0 1-6.715-3.439c-2.868-4.832 0-9.376.944-10.654l.091-.122a3.286 3.286 0 0 0 .765-3.288A1 1 0 0 1 4.6.8c.133.1.313.212.525.347A10.451 10.451 0 0 1 10.6 9.3c.5-1.06.772-2.213.8-3.385a1 1 0 0 1 1.592-.758c1.636 1.205 4.638 6.081 2.019 10.441a8.177 8.177 0 0 1-7.053 3.795Z"})}),y.jsx("span",{className:"ms-3",children:"Log Out"})]})}),y.jsx("li",{children:y.jsxs("a",{href:"#",class:"flex items-center p-2 text-gray-900 transition duration-75 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white group",children:[y.jsx("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 21 21",children:y.jsx("path",{d:"m5.4 2.736 3.429 3.429A5.046 5.046 0 0 1 10.134 6c.356.01.71.06 1.056.147l3.41-3.412c.136-.133.287-.248.45-.344A9.889 9.889 0 0 0 10.269 1c-1.87-.041-3.713.44-5.322 1.392a2.3 2.3 0 0 1 .454.344Zm11.45 1.54-.126-.127a.5.5 0 0 0-.706 0l-2.932 2.932c.029.023.049.054.078.077.236.194.454.41.65.645.034.038.078.067.11.107l2.927-2.927a.5.5 0 0 0 0-.707Zm-2.931 9.81c-.024.03-.057.052-.081.082a4.963 4.963 0 0 1-.633.639c-.041.036-.072.083-.115.117l2.927 2.927a.5.5 0 0 0 .707 0l.127-.127a.5.5 0 0 0 0-.707l-2.932-2.931Zm-1.442-4.763a3.036 3.036 0 0 0-1.383-1.1l-.012-.007a2.955 2.955 0 0 0-1-.213H10a2.964 2.964 0 0 0-2.122.893c-.285.29-.509.634-.657 1.013l-.01.016a2.96 2.96 0 0 0-.21 1 2.99 2.99 0 0 0 .489 1.716c.009.014.022.026.032.04a3.04 3.04 0 0 0 1.384 1.1l.012.007c.318.129.657.2 1 .213.392.015.784-.05 1.15-.192.012-.005.02-.013.033-.018a3.011 3.011 0 0 0 1.676-1.7v-.007a2.89 2.89 0 0 0 0-2.207 2.868 2.868 0 0 0-.27-.515c-.007-.012-.02-.025-.03-.039Zm6.137-3.373a2.53 2.53 0 0 1-.35.447L14.84 9.823c.112.428.166.869.16 1.311-.01.356-.06.709-.147 1.054l3.413 3.412c.132.134.249.283.347.444A9.88 9.88 0 0 0 20 11.269a9.912 9.912 0 0 0-1.386-5.319ZM14.6 19.264l-3.421-3.421c-.385.1-.781.152-1.18.157h-.134c-.356-.01-.71-.06-1.056-.147l-3.41 3.412a2.503 2.503 0 0 1-.443.347A9.884 9.884 0 0 0 9.732 21H10a9.9 9.9 0 0 0 5.044-1.388 2.519 2.519 0 0 1-.444-.348ZM1.735 15.6l3.426-3.426a4.608 4.608 0 0 1-.013-2.367L1.735 6.4a2.507 2.507 0 0 1-.35-.447 9.889 9.889 0 0 0 0 10.1c.1-.164.217-.316.35-.453Zm5.101-.758a4.957 4.957 0 0 1-.651-.645c-.033-.038-.077-.067-.11-.107L3.15 17.017a.5.5 0 0 0 0 .707l.127.127a.5.5 0 0 0 .706 0l2.932-2.933c-.03-.018-.05-.053-.078-.076ZM6.08 7.914c.03-.037.07-.063.1-.1.183-.22.384-.423.6-.609.047-.04.082-.092.129-.13L3.983 4.149a.5.5 0 0 0-.707 0l-.127.127a.5.5 0 0 0 0 .707L6.08 7.914Z"})}),y.jsx("span",{class:"ms-3",children:"Help"})]})})]})]})}),y.jsxs("div",{class:"p-4 sm:ml-64 dark:bg-gray-900 pb-16",children:["  ",y.jsx(bP,{})]})]})},g6=()=>{const[n,t]=O.useState(()=>localStorage.getItem("theme")==="dark");return O.useEffect(()=>{const e=window.document.documentElement;n?(e.classList.add("dark"),localStorage.setItem("theme","dark")):(e.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),y.jsx("div",{class:"sticky top-0 z-50",children:y.jsx("nav",{class:"bg-white border-b border-gray-200 dark:bg-gray-900 dark:border-gray-700",children:y.jsxs("div",{class:"flex flex-wrap items-center justify-between mx-auto p-4",children:[y.jsxs(ta,{to:"/home",class:"flex items-center space-x-3 rtl:space-x-reverse",children:[y.jsx("img",{src:lN,class:"h-8",alt:"Flowbite Logo"}),y.jsx("span",{class:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:"FivetoTen"})]}),y.jsx("div",{class:"hidden w-full md:block md:w-auto",id:"navbar-default",children:y.jsxs("ul",{class:"font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[y.jsx("li",{children:y.jsx(ta,{to:"/home",class:"block py-2 px-3 text-white bg-blue-700 rounded-sm md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500","aria-current":"page",children:"Home"})}),y.jsx("li",{children:y.jsx("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",children:"Services"})}),y.jsx("li",{children:y.jsx("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",children:"Pricing"})}),y.jsx("li",{children:y.jsx("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",children:"Contact"})})]})})]})})})},y6=()=>y.jsxs("div",{children:[y.jsx(g6,{}),y.jsx(p6,{}),"   ",y.jsx(m6,{})]}),cN=O.createContext();function Px(){return O.useContext(cN)}function v6({children:n}){const[t,e]=O.useState(null),[i,s]=O.useState(!0);O.useEffect(()=>xc.onAuthStateChanged(c=>{e(c),s(!1)}),[]);const a={currentUser:t};return y.jsx(cN.Provider,{value:a,children:!i&&n})}const x6=()=>{const n=qn(),{currentUser:t}=Px(),[e,i]=O.useState(!1),[s,a]=O.useState(!0);O.useEffect(()=>{(async()=>{if(t){const d=dn(Zt,"users",t.uid),m=await h6(d);(!m.exists()||!m.data().nickname)&&i(!0),a(!1)}})()},[t]);const l={completedCourses:3,totalPoints:1240,currentStreak:7,rank:"Novice Explorer"},c=[{title:"Let's Play Quiz",description:"Test your knowledge with interactive quizzes",path:"/home/quizMenu",icon:"",color:"from-blue-500 to-blue-600",textColor:"text-blue-100"},{title:"Practice Questions",description:"Sharpen your skills with practice problems",path:"/home/practice",icon:"",color:"from-green-500 to-green-600",textColor:"text-green-100"},{title:"View Scores",description:"Track your progress and achievements",path:"/home/score",icon:"",color:"from-amber-500 to-amber-600",textColor:"text-amber-100"},{title:"Learning Paths",description:"Explore structured learning journeys",path:"/home/learning-paths",icon:"",color:"from-purple-500 to-purple-600",textColor:"text-purple-100"}];return s?y.jsx("div",{children:"Loading..."}):y.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome back, Learner!"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Continue your learning journey and track your progress"})]}),y.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Courses Completed"}),y.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.completedCourses})]})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Points"}),y.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalPoints})]})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Streak"}),y.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[l.currentStreak," days"]})]})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-purple-100 dark:bg-purple-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Your Rank"}),y.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:l.rank})]})]})})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((h,d)=>y.jsx("div",{onClick:()=>n(h.path),className:`bg-gradient-to-br ${h.color} rounded-xl p-6 shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl cursor-pointer group`,children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-4xl mb-3 transform group-hover:scale-110 transition-transform",children:h.icon}),y.jsx("h3",{className:`font-bold text-lg mb-2 ${h.textColor}`,children:h.title}),y.jsx("p",{className:`text-sm ${h.textColor} opacity-90`,children:h.description}),y.jsx("div",{className:`mt-4 ${h.textColor} opacity-0 group-hover:opacity-100 transition-opacity`,children:y.jsx("span",{className:"text-sm",children:"Click to explore "})})]})},d))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[y.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg mr-3",children:y.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Completed Algebra Basics quiz"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Scored 85%  2 hours ago"})]})]}),y.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[y.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg mr-3",children:y.jsx("span",{className:"text-green-600 dark:text-green-400",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Earned 50 points in Geometry practice"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Yesterday at 3:45 PM"})]})]}),y.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[y.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg mr-3",children:y.jsx("span",{className:"text-amber-600 dark:text-amber-400",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"7-day streak achieved!"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Keep up the good work"})]})]})]})]})]})},b6=()=>y.jsx("div",{children:"WElcome back to react, Kuan!"}),_6=()=>{const[n,t]=O.useState([{name:"Loading...",id:"intializing..."}]);return O.useEffect(()=>{Dn(fn(Zt,"courses"),e=>{t(e.docs.map(i=>({...i.data(),id:i.id})))})}),y.jsxs("div",{children:[y.jsx("button",{className:"px-3 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-500 dark:bg-yellow-400 dark:text-black dark:hover:bg-yellow-300 transition-colors duration-300",children:"New"}),y.jsx("ul",{children:n.map(e=>y.jsxs("li",{children:[y.jsx("a",{href:"",children:"edit"}),e.Subject,e.Tutor]},e.id))})]})},w6="/quiz/assets/math-book-CkyzCvEj.png",T6=()=>{const[n,t]=O.useState([{name:"Loading...",id:"intializing..."}]),e=qn();return console.log(n),O.useEffect(()=>{Dn(fn(Zt,"courses"),i=>{t(i.docs.map(s=>({...s.data(),id:s.id})))})}),y.jsx("div",{children:y.jsxs("div",{class:"min-h-screen p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:["Let's Play! Select Your Courses",y.jsx("button",{onClick:()=>e("/home"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"}),n.map(i=>y.jsxs("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",onClick:()=>e(`/home/courses/${i.id}/chapters`),children:[y.jsx("img",{src:w6,alt:"Math-Class",className:"max-h-[40%] max-w-[40%] object-contain"}),y.jsx("br",{}),"Tutor: ",i.Tutor,y.jsx("br",{}),"Subject: ",i.Subject]},i.id)),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})}),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})})]})})},S6=()=>{const{courseId:n,chapterId:t,sectionId:e}=kv(),i=qn(),{currentUser:s}=Px(),[a,l]=O.useState([]),[c,h]=O.useState(null),[d,m]=O.useState(!0),[v,x]=O.useState(null),[w,T]=O.useState(0),[E,C]=O.useState(0),[N,j]=O.useState(null),[B,W]=O.useState(null),[F,q]=O.useState(!1),[M,R]=O.useState(!1),[I,P]=O.useState(0),[L,z]=O.useState([{name:"Loading...",id:"intializing..."}]),[V,et]=O.useState([{name:"Loading...",id:"intializing..."}]),[it,G]=O.useState(!1),Z=At=>{if(!At)return null;if(At.includes("youtube.com/embed"))return At;const It=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ie=At.match(It),Fe=ie&&ie[2].length===11?ie[2]:null;return Fe?`https://www.youtube.com/embed/${Fe}?rel=0`:null};O.useEffect(()=>{const At=dn(Zt,"courses",n),It=Dn(At,Dt=>{Dt.exists()&&x(Dt.data())}),ie=dn(Zt,"courses",n,"Chapters",t);Dn(ie,Dt=>{Dt.exists()?z({...Dt.data(),id:Dt.id}):console.log("No such chapter document!")},Dt=>{console.error("Firestore error:",Dt),h(Dt.message)},[n,t]);const Fe=dn(Zt,"courses",n,"Chapters",t,"Section",e);Dn(Fe,Dt=>{Dt.exists()?et({...Dt.data(),id:Dt.id}):console.log("No such section document!")},Dt=>{console.error("Firestore error:",Dt),h(Dt.message)},[n,t,e]);const _t=fn(Zt,"courses",n,"Chapters",t,"Section",e,"Quiz");console.log(_t);const ee=Dn(_t,Dt=>{const Ne=Dt.docs.map(Xe=>({id:Xe.id,...Xe.data()}));l(Ne),m(!1)},Dt=>{console.error("Firestore error:",Dt),h(Dt.message)});return()=>{It(),ee()}},[n]);const at=()=>{P(3);const At=setInterval(()=>{P(It=>It<=1?(clearInterval(At),R(!0),0):It-1)},1e3)},[mt,U]=O.useState(0),st=At=>{j(At),W(a[w].Options[At]);const It=a[w];a[w].Options[At].toString()===It.CorrectAnswer&&C(Fe=>Fe+1),q(!0),U(1),setTimeout(()=>{U(2)},1e3)},dt=(At,It)=>{if(!F)return"";const ie=a[w].Options[At],Fe=N===At,_t=ie.toString()===It.CorrectAnswer;return mt===1?Fe?"":"opacity-50":mt===2?_t?"!bg-green-500 !text-white":_t?"opacity-70":"!bg-red-500/75 !text-white":""},nt=async()=>{w<a.length-1?(T(At=>At+1),W(null),q(!1)):(q("completed"),await pt())},pt=async()=>{try{const At=xc.currentUser;if(!At)return;const It={score:E,totalQuestions:a.length,percentage:Math.round(E/a.length*100),timestamp:new Date,courseId:n,chapterId:t,sectionId:e},ie=fn(Zt,"users",At.uid,"quizResults",n,"chapters",t,"sections",e,"attempts"),_t=(await Bi(ie)).docs.map(Ot=>({id:Ot.id,...Ot.data()})),ee=_t.sort((Ot,Es)=>Ot.timestamp.toMillis()-Es.timestamp.toMillis()).slice(0,9),Dt=[];if(_t.length>=10){const Ot=ee[0];Dt.push(sN(dn(ie,Ot.id)))}const Ne=rN(ie,It),Xe=dn(Zt,"users",At.uid,"allQuizAttempts",`${n}_${t}_${e}`),Jn=nh(Xe,It);await Promise.all([...Dt,Ne,Jn]),console.log("Quiz results saved successfully!")}catch(At){console.error("Error saving quiz results:",At)}},bt=()=>{window.location.reload()};if(d)return y.jsx("div",{className:"text-center py-8",children:"Loading quiz..."});if(c)return y.jsxs("div",{children:["Error: ",c]});if(!a||a.length===0)return y.jsx("p",{className:"text-center py-8",children:"No quiz questions found."});if(!M)return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto text-center",children:[v&&y.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[y.jsx("h2",{className:"text-xl font-bold",children:v.Subject}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Tutor: ",v.Tutor]}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[a.length," questions ready"]})]}),I>0?y.jsx("div",{className:"text-6xl font-bold my-16 animate-bounce",children:I}):y.jsx(y.Fragment,{children:it?y.jsxs(y.Fragment,{children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Are you ready?"}),y.jsx("button",{onClick:at,className:"px-8 py-4 bg-green-600 text-white text-xl rounded-lg hover:bg-green-700",children:"START QUIZ"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:()=>G(!1),className:"px-8 py-4 bg-red-600 text-white text-xl rounded-lg hover:bg-red-700",children:"Back"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Watch This First"}),y.jsx("div",{className:"aspect-w-16 aspect-h-9",children:V.QuizVideoLink?y.jsx("iframe",{className:"w-full h-96 rounded-lg",src:Z(V.QuizVideoLink),title:"Quiz Preparation Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):y.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 h-96 flex items-center justify-center rounded-lg",children:y.jsx("p",{children:"Video URL not available"})})})]}),y.jsx("button",{onClick:()=>G(!0),className:"px-8 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700",children:"Next"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:()=>i(`/home/courses/${n}/chapters/${t}/section`),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Exit quiz"})]})})]});if(F==="completed")return y.jsxs("div",{className:"text-center py-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Quiz Completed!"}),y.jsxs("p",{className:"text-xl",children:["Your final score: ",E,"/",a.length]}),y.jsx("br",{}),y.jsx("button",{onClick:bt,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reload Quiz"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:()=>i(`/home/courses/${n}/chapters/${t}/section`),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"})]});const ft=a[w];return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[y.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[y.jsx("h2",{className:"text-xl font-bold",children:v.Subject}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Question ",w+1," of ",a.length]}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Score: ",E,"/",a.length]})]}),y.jsxs("div",{className:"p-4 border rounded-lg dark:border-gray-600",children:[y.jsx("h3",{className:"font-semibold text-lg mb-3",children:ft.Question||"No question text available"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(0,ft)} text-white bg-red-400 dark:bg-red-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-0`,name:`q-${ft.id}`,checked:B===0,onChange:()=>st(0),disabled:F,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-0`,className:"ml-3 cursor-pointer",children:ft.Options[0]||"Option 1"})]}),y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(1,ft)} text-white bg-blue-400 dark:bg-blue-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-1`,name:`q-${ft.id}`,checked:B===1,onChange:()=>st(1),disabled:F,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-1`,className:"ml-3 cursor-pointer",children:ft.Options[1]||"Option 2"})]}),y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(2,ft)} text-white bg-yellow-400 dark:bg-yellow-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-2`,name:`q-${ft.id}`,checked:B===2,onChange:()=>st(2),disabled:F,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-2`,className:"ml-3 cursor-pointer",children:ft.Options[2]||"Option 3"})]}),y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(3,ft)} text-white bg-green-400 dark:bg-green-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-3`,name:`q-${ft.id}`,checked:B===3,onChange:()=>st(3),disabled:F,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-3`,className:"ml-3 cursor-pointer",children:ft.Options[3]||"Option 4"})]})]}),F&&y.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[y.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded",children:B.toString()===ft.CorrectAnswer?"Correct!":"Incorrect!"}),y.jsx("button",{onClick:nt,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:!B,children:w<a.length-1?"Next Question":"Finish Quiz"})]})]})]})},E6="/quiz/assets/chapter-f_ihL1Yx.png",A6=()=>{const{courseId:n}=kv(),[t,e]=O.useState([{name:"Loading...",id:"intializing..."}]),i=qn();return O.useEffect(()=>{Dn(fn(Zt,"courses",n,"Chapters"),s=>{e(s.docs.map(a=>({...a.data(),id:a.id})))})}),y.jsx("div",{children:y.jsxs("div",{class:"min-h-screen p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:["Let's Play! Select Your Chapters",y.jsx("button",{onClick:()=>i("/home"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"}),t.map(s=>y.jsxs("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",onClick:()=>i(`/home/courses/${n}/chapters/${s.id}/section`),children:[y.jsx("img",{src:E6,alt:"Math-Class",className:"max-h-[40%] max-w-[40%] object-contain"}),y.jsx("br",{}),"Chapter ",s.Number,y.jsx("br",{}),s.Title]},s.id)),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})}),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})})]})})},C6="/quiz/assets/section-DKe1TQ-N.png",R6=()=>{const{courseId:n,chapterId:t}=kv(),[e,i]=O.useState([{name:"Loading...",id:"intializing..."}]),s=qn();return O.useEffect(()=>{Dn(fn(Zt,"courses",n,"Chapters",t,"Section"),a=>{i(a.docs.map(l=>({...l.data(),id:l.id})))})}),y.jsx("div",{children:y.jsxs("div",{class:"min-h-screen p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:["Let's Play! Select Your Sections",y.jsx("button",{onClick:()=>s(`/home/courses/${n}/chapters`),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"}),e.map(a=>y.jsxs("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",onClick:()=>s(`/home/courses/${n}/chapters/${t}/section/${a.id}/quiz`),children:[y.jsx("img",{src:C6,alt:"Math-Class",className:"max-h-[40%] max-w-[40%] object-contain"}),y.jsx("br",{}),"Section ",a.SectionNumber,y.jsx("br",{}),a.SectionName]},a.id)),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})}),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})})]})})},N6=()=>{const[n,t]=O.useState(!0),[e,i]=O.useState(null),[s,a]=O.useState({});return O.useEffect(()=>{(async()=>{try{t(!0);const c=xc.currentUser;if(!c)throw new Error("User not authenticated");const h=fn(Zt,"users",c.uid,"allQuizAttempts"),d=await Bi(h);if(d.empty){a({});return}const m=d.docs.reduce((v,x)=>{const w=x.data(),{courseId:T,chapterId:E}=w;v[T]||(v[T]={chapters:{},stats:{totalAttempts:0,highestScore:0,chaptersCount:0,latestAttempt:null}}),v[T].chapters[E]||(v[T].chapters[E]={attempts:[],stats:{totalAttempts:0,highestScore:0,sectionsCount:new Set,latestAttempt:null}},v[T].stats.chaptersCount++),v[T].chapters[E].attempts.push(w),v[T].chapters[E].stats.totalAttempts++,v[T].chapters[E].stats.sectionsCount.add(w.sectionId),v[T].chapters[E].stats.highestScore=Math.max(v[T].chapters[E].stats.highestScore,w.percentage);const C=w.timestamp.toMillis();return(!v[T].chapters[E].stats.latestAttempt||C>v[T].chapters[E].stats.latestAttempt.timestamp.toMillis())&&(v[T].chapters[E].stats.latestAttempt=w),v[T].stats.totalAttempts++,v[T].stats.highestScore=Math.max(v[T].stats.highestScore,w.percentage),(!v[T].stats.latestAttempt||C>v[T].stats.latestAttempt.timestamp.toMillis())&&(v[T].stats.latestAttempt=w),v},{});a(m)}catch(c){console.error("Error fetching quiz attempts:",c),i(c.message)}finally{t(!1)}})()},[]),{organizedAttempts:s,loading:n,error:e}},Ox=n=>{const[t,e]=O.useState({}),[i,s]=O.useState(!0),[a,l]=O.useState(null);return O.useEffect(()=>{if(!n.length){s(!1);return}const c=n.map(h=>Dn(dn(Zt,"courses",h),d=>{e(m=>({...m,[h]:d.exists()?{id:d.id,...d.data()}:null}))}));return()=>c.forEach(h=>h())},[n]),{courses:t,loading:i,error:a}},jx=n=>{const[t,e]=O.useState({}),[i,s]=O.useState(!0),[a,l]=O.useState(null);return O.useEffect(()=>{if(!n.length){s(!1);return}let c=!0;const h=[],d=n.length;let m=0;return n.forEach(({courseId:v,chapterId:x})=>{const w=Dn(dn(Zt,"courses",v,"Chapters",x),T=>{c&&(e(E=>({...E,[x]:T.exists()?{...T.data(),id:T.id}:null})),m++,m===d&&s(!1))},T=>{c&&(l(T.message),s(!1))});h.push(w)}),()=>{c=!1,h.forEach(v=>v())}},[n]),{chapters:t,loading:i,error:a}},Vx=n=>{const[t,e]=O.useState({}),[i,s]=O.useState(!0),[a,l]=O.useState(null);return O.useEffect(()=>{if(!n.length){s(!1);return}let c=!0;const h=[],d=n.length;let m=0;return n.forEach(({courseId:v,chapterId:x,sectionId:w})=>{const T=Dn(dn(Zt,"courses",v,"Chapters",x,"Section",w),E=>{c&&(e(C=>({...C,[w]:E.exists()?{...E.data(),id:E.id}:null})),m++,m===d&&s(!1))},E=>{c&&(l(E.message),s(!1))});h.push(T)}),()=>{c=!1,h.forEach(v=>v())}},[n]),{sections:t,loading:i,error:a}},Lx=O.createContext({});function zx(n){const t=O.useRef(null);return t.current===null&&(t.current=n()),t.current}const Bx=typeof window<"u",uN=Bx?O.useLayoutEffect:O.useEffect,gp=O.createContext(null);function Ux(n,t){n.indexOf(t)===-1&&n.push(t)}function Fx(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const pr=(n,t,e)=>e>t?t:e<n?n:e;let Hx=()=>{};const gr={},hN=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function dN(n){return typeof n=="object"&&n!==null}const fN=n=>/^0[^.\s]+$/u.test(n);function qx(n){let t;return()=>(t===void 0&&(t=n()),t)}const Ni=n=>n,k6=(n,t)=>e=>t(n(e)),Qh=(...n)=>n.reduce(k6),wh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class $x{constructor(){this.subscriptions=[]}add(t){return Ux(this.subscriptions,t),()=>Fx(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ys=n=>n*1e3,vs=n=>n/1e3;function mN(n,t){return t?n*(1e3/t):0}const pN=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,M6=1e-7,I6=12;function D6(n,t,e,i,s){let a,l,c=0;do l=t+(e-t)/2,a=pN(l,i,s)-n,a>0?e=l:t=l;while(Math.abs(a)>M6&&++c<I6);return l}function Kh(n,t,e,i){if(n===t&&e===i)return Ni;const s=a=>D6(a,0,1,n,e);return a=>a===0||a===1?a:pN(s(a),t,i)}const gN=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,yN=n=>t=>1-n(1-t),vN=Kh(.33,1.53,.69,.99),Gx=yN(vN),xN=gN(Gx),bN=n=>(n*=2)<1?.5*Gx(n):.5*(2-Math.pow(2,-10*(n-1))),Wx=n=>1-Math.sin(Math.acos(n)),_N=yN(Wx),wN=gN(Wx),P6=Kh(.42,0,1,1),O6=Kh(0,0,.58,1),TN=Kh(.42,0,.58,1),j6=n=>Array.isArray(n)&&typeof n[0]!="number",SN=n=>Array.isArray(n)&&typeof n[0]=="number",V6={linear:Ni,easeIn:P6,easeInOut:TN,easeOut:O6,circIn:Wx,circInOut:wN,circOut:_N,backIn:Gx,backInOut:xN,backOut:vN,anticipate:bN},L6=n=>typeof n=="string",jS=n=>{if(SN(n)){Hx(n.length===4);const[t,e,i,s]=n;return Kh(t,e,i,s)}else if(L6(n))return V6[n];return n},Df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function z6(n,t){let e=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(d.schedule(m),n()),m(c)}const d={schedule:(m,v=!1,x=!1)=>{const T=x&&s?e:i;return v&&l.add(m),T.has(m)||T.add(m),m},cancel:m=>{i.delete(m),l.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(h),e.clear(),s=!1,a&&(a=!1,d.process(m))}};return d}const B6=40;function EN(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,l=Df.reduce((B,W)=>(B[W]=z6(a),B),{}),{setup:c,read:h,resolveKeyframes:d,preUpdate:m,update:v,preRender:x,render:w,postRender:T}=l,E=()=>{const B=gr.useManualTiming?s.timestamp:performance.now();e=!1,gr.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(B-s.timestamp,B6),1)),s.timestamp=B,s.isProcessing=!0,c.process(s),h.process(s),d.process(s),m.process(s),v.process(s),x.process(s),w.process(s),T.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(E))},C=()=>{e=!0,i=!0,s.isProcessing||n(E)};return{schedule:Df.reduce((B,W)=>{const F=l[W];return B[W]=(q,M=!1,R=!1)=>(e||C(),F.schedule(q,M,R)),B},{}),cancel:B=>{for(let W=0;W<Df.length;W++)l[Df[W]].cancel(B)},state:s,steps:l}}const{schedule:Te,cancel:ba,state:bn,steps:G0}=EN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ni,!0);let cm;function U6(){cm=void 0}const Zn={now:()=>(cm===void 0&&Zn.set(bn.isProcessing||gr.useManualTiming?bn.timestamp:performance.now()),cm),set:n=>{cm=n,queueMicrotask(U6)}},AN=n=>t=>typeof t=="string"&&t.startsWith(n),Yx=AN("--"),F6=AN("var(--"),Qx=n=>F6(n)?H6.test(n.split("/*")[0].trim()):!1,H6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Th={...bc,transform:n=>pr(0,1,n)},Pf={...bc,default:1},ih=n=>Math.round(n*1e5)/1e5,Kx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q6(n){return n==null}const $6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xx=(n,t)=>e=>!!(typeof e=="string"&&$6.test(e)&&e.startsWith(n)||t&&!q6(e)&&Object.prototype.hasOwnProperty.call(e,t)),CN=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,a,l,c]=i.match(Kx);return{[n]:parseFloat(s),[t]:parseFloat(a),[e]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},G6=n=>pr(0,255,n),W0={...bc,transform:n=>Math.round(G6(n))},_o={test:Xx("rgb","red"),parse:CN("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+W0.transform(n)+", "+W0.transform(t)+", "+W0.transform(e)+", "+ih(Th.transform(i))+")"};function W6(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Qy={test:Xx("#"),parse:W6,transform:_o.transform},Xh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Kr=Xh("deg"),xs=Xh("%"),kt=Xh("px"),Y6=Xh("vh"),Q6=Xh("vw"),VS={...xs,parse:n=>xs.parse(n)/100,transform:n=>xs.transform(n*100)},zl={test:Xx("hsl","hue"),parse:CN("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+xs.transform(ih(t))+", "+xs.transform(ih(e))+", "+ih(Th.transform(i))+")"},Ye={test:n=>_o.test(n)||Qy.test(n)||zl.test(n),parse:n=>_o.test(n)?_o.parse(n):zl.test(n)?zl.parse(n):Qy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?_o.transform(n):zl.transform(n),getAnimatableNone:n=>{const t=Ye.parse(n);return t.alpha=0,Ye.transform(t)}},K6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X6(n){return isNaN(n)&&typeof n=="string"&&(n.match(Kx)?.length||0)+(n.match(K6)?.length||0)>0}const RN="number",NN="color",Z6="var",J6="var(",LS="${}",t9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sh(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(t9,h=>(Ye.test(h)?(i.color.push(a),s.push(NN),e.push(Ye.parse(h))):h.startsWith(J6)?(i.var.push(a),s.push(Z6),e.push(h)):(i.number.push(a),s.push(RN),e.push(parseFloat(h))),++a,LS)).split(LS);return{values:e,split:c,indexes:i,types:s}}function kN(n){return Sh(n).values}function MN(n){const{split:t,types:e}=Sh(n),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const c=e[l];c===RN?a+=ih(s[l]):c===NN?a+=Ye.transform(s[l]):a+=s[l]}return a}}const e9=n=>typeof n=="number"?0:Ye.test(n)?Ye.getAnimatableNone(n):n;function n9(n){const t=kN(n);return MN(n)(t.map(e9))}const _a={test:X6,parse:kN,createTransformer:MN,getAnimatableNone:n9};function Y0(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function i9({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,a=0,l=0;if(!t)s=a=l=e;else{const c=e<.5?e*(1+t):e+t-e*t,h=2*e-c;s=Y0(h,c,n+1/3),a=Y0(h,c,n),l=Y0(h,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function jm(n,t){return e=>e>0?t:n}const Ae=(n,t,e)=>n+(t-n)*e,Q0=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},s9=[Qy,_o,zl],r9=n=>s9.find(t=>t.test(n));function zS(n){const t=r9(n);if(!t)return!1;let e=t.parse(n);return t===zl&&(e=i9(e)),e}const BS=(n,t)=>{const e=zS(n),i=zS(t);if(!e||!i)return jm(n,t);const s={...e};return a=>(s.red=Q0(e.red,i.red,a),s.green=Q0(e.green,i.green,a),s.blue=Q0(e.blue,i.blue,a),s.alpha=Ae(e.alpha,i.alpha,a),_o.transform(s))},Ky=new Set(["none","hidden"]);function a9(n,t){return Ky.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function o9(n,t){return e=>Ae(n,t,e)}function Zx(n){return typeof n=="number"?o9:typeof n=="string"?Qx(n)?jm:Ye.test(n)?BS:u9:Array.isArray(n)?IN:typeof n=="object"?Ye.test(n)?BS:l9:jm}function IN(n,t){const e=[...n],i=e.length,s=n.map((a,l)=>Zx(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)e[l]=s[l](a);return e}}function l9(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=Zx(n[s])(n[s],t[s]));return s=>{for(const a in i)e[a]=i[a](s);return e}}function c9(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=n.indexes[a][i[a]],c=n.values[l]??0;e[s]=c,i[a]++}return e}const u9=(n,t)=>{const e=_a.createTransformer(t),i=Sh(n),s=Sh(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Ky.has(n)&&!s.values.length||Ky.has(t)&&!i.values.length?a9(n,t):Qh(IN(c9(i,s),s.values),e):jm(n,t)};function DN(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Ae(n,t,e):Zx(n)(n,t)}const h9=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>Te.update(t,e),stop:()=>ba(t),now:()=>bn.isProcessing?bn.timestamp:Zn.now()}},PN=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let a=0;a<s;a++)i+=Math.round(n(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Vm=2e4;function Jx(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<Vm;)t+=e,i=n.next(t);return t>=Vm?1/0:t}function d9(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(Jx(i),Vm);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:vs(s)}}const f9=5;function ON(n,t,e){const i=Math.max(t-f9,0);return mN(e-n(i),t-i)}const De={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},K0=.001;function m9({duration:n=De.duration,bounce:t=De.bounce,velocity:e=De.velocity,mass:i=De.mass}){let s,a,l=1-t;l=pr(De.minDamping,De.maxDamping,l),n=pr(De.minDuration,De.maxDuration,vs(n)),l<1?(s=d=>{const m=d*l,v=m*n,x=m-e,w=Xy(d,l),T=Math.exp(-v);return K0-x/w*T},a=d=>{const v=d*l*n,x=v*e+e,w=Math.pow(l,2)*Math.pow(d,2)*n,T=Math.exp(-v),E=Xy(Math.pow(d,2),l);return(-s(d)+K0>0?-1:1)*((x-w)*T)/E}):(s=d=>{const m=Math.exp(-d*n),v=(d-e)*n+1;return-K0+m*v},a=d=>{const m=Math.exp(-d*n),v=(e-d)*(n*n);return m*v});const c=5/n,h=g9(s,a,c);if(n=ys(n),isNaN(h))return{stiffness:De.stiffness,damping:De.damping,duration:n};{const d=Math.pow(h,2)*i;return{stiffness:d,damping:l*2*Math.sqrt(i*d),duration:n}}}const p9=12;function g9(n,t,e){let i=e;for(let s=1;s<p9;s++)i=i-n(i)/t(i);return i}function Xy(n,t){return n*Math.sqrt(1-t*t)}const y9=["duration","bounce"],v9=["stiffness","damping","mass"];function US(n,t){return t.some(e=>n[e]!==void 0)}function x9(n){let t={velocity:De.velocity,stiffness:De.stiffness,damping:De.damping,mass:De.mass,isResolvedFromDuration:!1,...n};if(!US(n,v9)&&US(n,y9))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,a=2*pr(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:De.mass,stiffness:s,damping:a}}else{const e=m9(n);t={...t,...e,mass:De.mass},t.isResolvedFromDuration=!0}return t}function Lm(n=De.visualDuration,t=De.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const a=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:d,mass:m,duration:v,velocity:x,isResolvedFromDuration:w}=x9({...e,velocity:-vs(e.velocity||0)}),T=x||0,E=d/(2*Math.sqrt(h*m)),C=l-a,N=vs(Math.sqrt(h/m)),j=Math.abs(C)<5;i||(i=j?De.restSpeed.granular:De.restSpeed.default),s||(s=j?De.restDelta.granular:De.restDelta.default);let B;if(E<1){const F=Xy(N,E);B=q=>{const M=Math.exp(-E*N*q);return l-M*((T+E*N*C)/F*Math.sin(F*q)+C*Math.cos(F*q))}}else if(E===1)B=F=>l-Math.exp(-N*F)*(C+(T+N*C)*F);else{const F=N*Math.sqrt(E*E-1);B=q=>{const M=Math.exp(-E*N*q),R=Math.min(F*q,300);return l-M*((T+E*N*C)*Math.sinh(R)+F*C*Math.cosh(R))/F}}const W={calculatedDuration:w&&v||null,next:F=>{const q=B(F);if(w)c.done=F>=v;else{let M=F===0?T:0;E<1&&(M=F===0?ys(T):ON(B,F,q));const R=Math.abs(M)<=i,I=Math.abs(l-q)<=s;c.done=R&&I}return c.value=c.done?l:q,c},toString:()=>{const F=Math.min(Jx(W),Vm),q=PN(M=>W.next(F*M).value,F,30);return F+"ms "+q},toTransition:()=>{}};return W}Lm.applyToOptions=n=>{const t=d9(n,100,Lm);return n.ease=t.ease,n.duration=ys(t.duration),n.type="keyframes",n};function Zy({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:d=.5,restSpeed:m}){const v=n[0],x={done:!1,value:v},w=R=>c!==void 0&&R<c||h!==void 0&&R>h,T=R=>c===void 0?h:h===void 0||Math.abs(c-R)<Math.abs(h-R)?c:h;let E=e*t;const C=v+E,N=l===void 0?C:l(C);N!==C&&(E=N-v);const j=R=>-E*Math.exp(-R/i),B=R=>N+j(R),W=R=>{const I=j(R),P=B(R);x.done=Math.abs(I)<=d,x.value=x.done?N:P};let F,q;const M=R=>{w(x.value)&&(F=R,q=Lm({keyframes:[x.value,T(x.value)],velocity:ON(B,R,x.value),damping:s,stiffness:a,restDelta:d,restSpeed:m}))};return M(0),{calculatedDuration:null,next:R=>{let I=!1;return!q&&F===void 0&&(I=!0,W(R),M(R)),F!==void 0&&R>=F?q.next(R-F):(!I&&W(R),x)}}}function b9(n,t,e){const i=[],s=e||gr.mix||DN,a=n.length-1;for(let l=0;l<a;l++){let c=s(n[l],n[l+1]);if(t){const h=Array.isArray(t)?t[l]||Ni:t;c=Qh(h,c)}i.push(c)}return i}function _9(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const a=n.length;if(Hx(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),t=[...t].reverse());const c=b9(t,i,s),h=c.length,d=m=>{if(l&&m<n[0])return t[0];let v=0;if(h>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const x=wh(n[v],n[v+1],m);return c[v](x)};return e?m=>d(pr(n[0],n[a-1],m)):d}function w9(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=wh(0,t,i);n.push(Ae(e,1,s))}}function T9(n){const t=[0];return w9(t,n.length-1),t}function S9(n,t){return n.map(e=>e*t)}function E9(n,t){return n.map(()=>t||TN).splice(0,n.length-1)}function sh({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=j6(i)?i.map(jS):jS(i),a={done:!1,value:t[0]},l=S9(e&&e.length===t.length?e:T9(t),n),c=_9(l,t,{ease:Array.isArray(s)?s:E9(t,s)});return{calculatedDuration:n,next:h=>(a.value=c(h),a.done=h>=n,a)}}const A9=n=>n!==null;function tb(n,{repeat:t,repeatType:e="loop"},i,s=1){const a=n.filter(A9),c=s<0||t&&e!=="loop"&&t%2===1?0:a.length-1;return!c||i===void 0?a[c]:i}const C9={decay:Zy,inertia:Zy,tween:sh,keyframes:sh,spring:Lm};function jN(n){typeof n.type=="string"&&(n.type=C9[n.type])}class eb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const R9=n=>n/100;class nb extends eb{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Zn.now()&&this.tick(Zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jN(t);const{type:e=sh,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=t;let{keyframes:c}=t;const h=e||sh;h!==sh&&typeof c[0]!="number"&&(this.mixKeyframes=Qh(R9,DN(c[0],c[1])),c=[0,100]);const d=h({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...c].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=Jx(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:m,repeat:v,repeatType:x,repeatDelay:w,type:T,onUpdate:E,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let B=this.currentTime,W=i;if(v){const R=Math.min(this.currentTime,s)/c;let I=Math.floor(R),P=R%1;!P&&R>=1&&(P=1),P===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(x==="reverse"?(P=1-P,w&&(P-=w/c)):x==="mirror"&&(W=l)),B=pr(0,1,P)*c}const F=j?{done:!1,value:m[0]}:W.next(B);a&&(F.value=a(F.value));let{done:q}=F;!j&&h!==null&&(q=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return M&&T!==Zy&&(F.value=tb(m,this.options,C,this.speed)),E&&E(F.value),M&&this.finish(),F}then(t,e){return this.finished.then(t,e)}get duration(){return vs(this.calculatedDuration)}get time(){return vs(this.currentTime)}set time(t){t=ys(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Zn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=vs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=h9,startTime:e}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function N9(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const wo=n=>n*180/Math.PI,Jy=n=>{const t=wo(Math.atan2(n[1],n[0]));return tv(t)},k9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Jy,rotateZ:Jy,skewX:n=>wo(Math.atan(n[1])),skewY:n=>wo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},tv=n=>(n=n%360,n<0&&(n+=360),n),FS=Jy,HS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),qS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),M9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:HS,scaleY:qS,scale:n=>(HS(n)+qS(n))/2,rotateX:n=>tv(wo(Math.atan2(n[6],n[5]))),rotateY:n=>tv(wo(Math.atan2(-n[2],n[0]))),rotateZ:FS,rotate:FS,skewX:n=>wo(Math.atan(n[4])),skewY:n=>wo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function ev(n){return n.includes("scale")?1:0}function nv(n,t){if(!n||n==="none")return ev(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=M9,s=e;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=k9,s=c}if(!s)return ev(t);const a=i[t],l=s[1].split(",").map(D9);return typeof a=="function"?a(l):l[a]}const I9=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return nv(e,t)};function D9(n){return parseFloat(n.trim())}const _c=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wc=new Set(_c),$S=n=>n===bc||n===kt,P9=new Set(["x","y","z"]),O9=_c.filter(n=>!P9.has(n));function j9(n){const t=[];return O9.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Eo={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>nv(t,"x"),y:(n,{transform:t})=>nv(t,"y")};Eo.translateX=Eo.x;Eo.translateY=Eo.y;const Ao=new Set;let iv=!1,sv=!1,rv=!1;function VN(){if(sv){const n=Array.from(Ao).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=j9(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([a,l])=>{i.getValue(a)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}sv=!1,iv=!1,Ao.forEach(n=>n.complete(rv)),Ao.clear()}function LN(){Ao.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(sv=!0)})}function V9(){rv=!0,LN(),VN(),rv=!1}class ib{constructor(t,e,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ao.add(this),iv||(iv=!0,Te.read(LN),Te.resolveKeyframes(VN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const a=s?.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&e){const c=i.readValue(e,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}N9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ao.delete(this)}cancel(){this.state==="scheduled"&&(Ao.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const L9=n=>n.startsWith("--");function z9(n,t,e){L9(t)?n.style.setProperty(t,e):n.style[t]=e}const B9=qx(()=>window.ScrollTimeline!==void 0),U9={};function F9(n,t){const e=qx(n);return()=>U9[t]??e()}const zN=F9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$u=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,GS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$u([0,.65,.55,1]),circOut:$u([.55,0,1,.45]),backIn:$u([.31,.01,.66,-.59]),backOut:$u([.33,1.53,.69,.99])};function BN(n,t){if(n)return typeof n=="function"?zN()?PN(n,t):"ease-out":SN(n)?$u(n):Array.isArray(n)?n.map(e=>BN(e,t)||GS.easeOut):GS[n]}function H9(n,t,e,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:h}={},d=void 0){const m={[t]:e};h&&(m.offset=h);const v=BN(c,s);Array.isArray(v)&&(m.easing=v);const x={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return d&&(x.pseudoElement=d),n.animate(m,x)}function UN(n){return typeof n=="function"&&"applyToOptions"in n}function q9({type:n,...t}){return UN(n)&&zN()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class $9 extends eb{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:h}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,Hx(typeof t.type!="string");const d=q9(t);this.animation=H9(e,i,s,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=tb(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):z9(e,i,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return vs(Number(t))}get time(){return vs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ys(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&B9()?(this.animation.timeline=t,Ni):e(this)}}const FN={anticipate:bN,backInOut:xN,circInOut:wN};function G9(n){return n in FN}function W9(n){typeof n.ease=="string"&&G9(n.ease)&&(n.ease=FN[n.ease])}const WS=10;class Y9 extends $9{constructor(t){W9(t),jN(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const c=new nb({...l,autoplay:!1}),h=ys(this.finishedTime??this.time);e.setWithVelocity(c.sample(h-WS).value,c.sample(h).value,WS),c.stop()}}const YS=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(_a.test(n)||n==="0")&&!n.startsWith("url("));function Q9(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function K9(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=n[n.length-1],l=YS(s,t),c=YS(a,t);return!l||!c?!1:Q9(n)||(e==="spring"||UN(e))&&i}function av(n){n.duration=0,n.type}const X9=new Set(["opacity","clipPath","filter","transform"]),Z9=qx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J9(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:a,type:l}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=t.owner.getProps();return Z9()&&e&&X9.has(e)&&(e!=="transform"||!d)&&!h&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const t7=40;class e7 extends eb{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:h,motionValue:d,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Zn.now();const x={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:d,element:m,...v},w=m?.KeyframeResolver||ib;this.keyframeResolver=new w(c,(T,E,C)=>this.onKeyframesResolved(T,E,x,!C),h,d,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:h,isHandoff:d,onUpdate:m}=i;this.resolvedAt=Zn.now(),K9(t,a,l,c)||((gr.instantAnimations||!h)&&m?.(tb(t,i,e)),t[0]=t[t.length-1],av(i),i.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>t7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},w=!d&&J9(x)?new Y9({...x,element:x.motionValue.owner.current}):new nb(x);w.finished.then(()=>this.notifyFinished()).catch(Ni),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),V9()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const n7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function i7(n){const t=n7.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function HN(n,t,e=1){const[i,s]=i7(n);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return hN(l)?parseFloat(l):l}return Qx(s)?HN(s,t,e+1):s}function sb(n,t){return n?.[t]??n?.default??n}const qN=new Set(["width","height","top","left","right","bottom",..._c]),s7={test:n=>n==="auto",parse:n=>n},$N=n=>t=>t.test(n),GN=[bc,kt,xs,Kr,Q6,Y6,s7],QS=n=>GN.find($N(n));function r7(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||fN(n):!0}const a7=new Set(["brightness","contrast","saturate","opacity"]);function o7(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(Kx)||[];if(!i)return n;const s=e.replace(i,"");let a=a7.has(t)?1:0;return i!==e&&(a*=100),t+"("+a+s+")"}const l7=/\b([a-z-]*)\(.*?\)/gu,ov={..._a,getAnimatableNone:n=>{const t=n.match(l7);return t?t.map(o7).join(" "):n}},KS={...bc,transform:Math.round},c7={rotate:Kr,rotateX:Kr,rotateY:Kr,rotateZ:Kr,scale:Pf,scaleX:Pf,scaleY:Pf,scaleZ:Pf,skew:Kr,skewX:Kr,skewY:Kr,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:Th,originX:VS,originY:VS,originZ:kt},rb={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,backgroundPositionX:kt,backgroundPositionY:kt,...c7,zIndex:KS,fillOpacity:Th,strokeOpacity:Th,numOctaves:KS},u7={...rb,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:ov,WebkitFilter:ov},WN=n=>u7[n];function YN(n,t){let e=WN(n);return e!==ov&&(e=_a),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const h7=new Set(["auto","none","0"]);function d7(n,t,e){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!h7.has(a)&&Sh(a).values.length&&(s=n[i]),i++}if(s&&e)for(const a of t)n[a]=YN(e,s)}class f7 extends ib{constructor(t,e,i,s,a){super(t,e,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),Qx(d))){const m=HN(d,e.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!qN.has(i)||t.length!==2)return;const[s,a]=t,l=QS(s),c=QS(a);if(l!==c)if($S(l)&&$S(c))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else Eo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||r7(t[s]))&&i.push(s);i.length&&d7(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Eo[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=Eo[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{t.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function m7(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=e?.[n]??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const QN=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function KN(n){return dN(n)&&"offsetHeight"in n}const XS=30,p7=n=>!isNaN(parseFloat(n));class g7{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Zn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Zn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=p7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new $x);const i=this.events[t].add(e);return t==="change"?()=>{i(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>XS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,XS);return mN(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sc(n,t){return new g7(n,t)}const{schedule:ab}=EN(queueMicrotask,!1),Vi={x:!1,y:!1};function XN(){return Vi.x||Vi.y}function y7(n){return n==="x"||n==="y"?Vi[n]?null:(Vi[n]=!0,()=>{Vi[n]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function ZN(n,t){const e=m7(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function ZS(n){return!(n.pointerType==="touch"||XN())}function v7(n,t,e={}){const[i,s,a]=ZN(n,e),l=c=>{if(!ZS(c))return;const{target:h}=c,d=t(h,c);if(typeof d!="function"||!h)return;const m=v=>{ZS(v)&&(d(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const JN=(n,t)=>t?n===t?!0:JN(n,t.parentElement):!1,ob=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,x7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function b7(n){return x7.has(n.tagName)||n.tabIndex!==-1}const um=new WeakSet;function JS(n){return t=>{t.key==="Enter"&&n(t)}}function X0(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _7=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=JS(()=>{if(um.has(e))return;X0(e,"down");const s=JS(()=>{X0(e,"up")}),a=()=>X0(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function tE(n){return ob(n)&&!XN()}function w7(n,t,e={}){const[i,s,a]=ZN(n,e),l=c=>{const h=c.currentTarget;if(!tE(c))return;um.add(h);const d=t(h,c),m=(w,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),um.has(h)&&um.delete(h),tE(w)&&typeof d=="function"&&d(w,{success:T})},v=w=>{m(w,h===window||h===document||e.useGlobalTarget||JN(h,w.target))},x=w=>{m(w,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return i.forEach(c=>{(e.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),KN(c)&&(c.addEventListener("focus",d=>_7(d,s)),!b7(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function tk(n){return dN(n)&&"ownerSVGElement"in n}function T7(n){return tk(n)&&n.tagName==="svg"}const Pn=n=>!!(n&&n.getVelocity),S7=[...GN,Ye,_a],E7=n=>S7.find($N(n)),lb=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class A7 extends O.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=KN(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=e.offsetHeight||0,a.width=e.offsetWidth||0,a.top=e.offsetTop,a.left=e.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function C7({children:n,isPresent:t,anchorX:e,root:i}){const s=O.useId(),a=O.useRef(null),l=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=O.useContext(lb);return O.useInsertionEffect(()=>{const{width:h,height:d,top:m,left:v,right:x}=l.current;if(t||!a.current||!h||!d)return;const w=e==="left"?`left: ${v}`:`right: ${x}`;a.current.dataset.motionPopId=s;const T=document.createElement("style");c&&(T.nonce=c);const E=i??document.head;return E.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{E.contains(T)&&E.removeChild(T)}},[t]),y.jsx(A7,{isPresent:t,childRef:a,sizeRef:l,children:O.cloneElement(n,{ref:a})})}const R7=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c,root:h})=>{const d=zx(N7),m=O.useId();let v=!0,x=O.useMemo(()=>(v=!1,{id:m,initial:t,isPresent:e,custom:s,onExitComplete:w=>{d.set(w,!0);for(const T of d.values())if(!T)return;i&&i()},register:w=>(d.set(w,!1),()=>d.delete(w))}),[e,d,i]);return a&&v&&(x={...x}),O.useMemo(()=>{d.forEach((w,T)=>d.set(T,!1))},[e]),O.useEffect(()=>{!e&&!d.size&&i&&i()},[e]),l==="popLayout"&&(n=y.jsx(C7,{isPresent:e,anchorX:c,root:h,children:n})),y.jsx(gp.Provider,{value:x,children:n})};function N7(){return new Map}function ek(n=!0){const t=O.useContext(gp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,a=O.useId();O.useEffect(()=>{if(n)return s(a)},[n]);const l=O.useCallback(()=>n&&i&&i(a),[a,i,n]);return!e&&i?[!1,l]:[!0]}const Of=n=>n.key||"";function eE(n){const t=[];return O.Children.forEach(n,e=>{O.isValidElement(e)&&t.push(e)}),t}const ha=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:h})=>{const[d,m]=ek(l),v=O.useMemo(()=>eE(n),[n]),x=l&&!d?[]:v.map(Of),w=O.useRef(!0),T=O.useRef(v),E=zx(()=>new Map),[C,N]=O.useState(v),[j,B]=O.useState(v);uN(()=>{w.current=!1,T.current=v;for(let q=0;q<j.length;q++){const M=Of(j[q]);x.includes(M)?E.delete(M):E.get(M)!==!0&&E.set(M,!1)}},[j,x.length,x.join("-")]);const W=[];if(v!==C){let q=[...v];for(let M=0;M<j.length;M++){const R=j[M],I=Of(R);x.includes(I)||(q.splice(M,0,R),W.push(R))}return a==="wait"&&W.length&&(q=W),B(eE(q)),N(v),null}const{forceRender:F}=O.useContext(Lx);return y.jsx(y.Fragment,{children:j.map(q=>{const M=Of(q),R=l&&!d?!1:v===j||x.includes(M),I=()=>{if(E.has(M))E.set(M,!0);else return;let P=!0;E.forEach(L=>{L||(P=!1)}),P&&(F?.(),B(T.current),l&&m?.(),i&&i())};return y.jsx(R7,{isPresent:R,initial:!w.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:h,onExitComplete:R?void 0:I,anchorX:c,children:q},M)})})},nk=O.createContext({strict:!1}),nE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rc={};for(const n in nE)rc[n]={isEnabled:t=>nE[n].some(e=>!!t[e])};function k7(n){for(const t in n)rc[t]={...rc[t],...n[t]}}const M7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||M7.has(n)}let ik=n=>!zm(n);function I7(n){typeof n=="function"&&(ik=t=>t.startsWith("on")?!zm(t):n(t))}try{I7(require("@emotion/is-prop-valid").default)}catch{}function D7(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(ik(s)||e===!0&&zm(s)||!t&&!zm(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const yp=O.createContext({});function vp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Eh(n){return typeof n=="string"||Array.isArray(n)}const cb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ub=["initial",...cb];function xp(n){return vp(n.animate)||ub.some(t=>Eh(n[t]))}function sk(n){return!!(xp(n)||n.variants)}function P7(n,t){if(xp(n)){const{initial:e,animate:i}=n;return{initial:e===!1||Eh(e)?e:void 0,animate:Eh(i)?i:void 0}}return n.inherit!==!1?t:{}}function O7(n){const{initial:t,animate:e}=P7(n,O.useContext(yp));return O.useMemo(()=>({initial:t,animate:e}),[iE(t),iE(e)])}function iE(n){return Array.isArray(n)?n.join(" "):n}const Ah={};function j7(n){for(const t in n)Ah[t]=n[t],Yx(t)&&(Ah[t].isCSSVariable=!0)}function rk(n,{layout:t,layoutId:e}){return wc.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Ah[n]||n==="opacity")}const V7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L7=_c.length;function z7(n,t,e){let i="",s=!0;for(let a=0;a<L7;a++){const l=_c[a],c=n[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||e){const d=QN(c,rb[l]);if(!h){s=!1;const m=V7[l]||l;i+=`${m}(${d}) `}e&&(t[l]=d)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function hb(n,t,e){const{style:i,vars:s,transformOrigin:a}=n;let l=!1,c=!1;for(const h in t){const d=t[h];if(wc.has(h)){l=!0;continue}else if(Yx(h)){s[h]=d;continue}else{const m=QN(d,rb[h]);h.startsWith("origin")?(c=!0,a[h]=m):i[h]=m}}if(t.transform||(l||e?i.transform=z7(t,n.transform,e):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:d="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${d} ${m}`}}const db=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ak(n,t,e){for(const i in t)!Pn(t[i])&&!rk(i,e)&&(n[i]=t[i])}function B7({transformTemplate:n},t){return O.useMemo(()=>{const e=db();return hb(e,t,n),Object.assign({},e.vars,e.style)},[t])}function U7(n,t){const e=n.style||{},i={};return ak(i,e,n),Object.assign(i,B7(n,t)),i}function F7(n,t){const e={},i=U7(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const H7={offset:"stroke-dashoffset",array:"stroke-dasharray"},q7={offset:"strokeDashoffset",array:"strokeDasharray"};function $7(n,t,e=1,i=0,s=!0){n.pathLength=1;const a=s?H7:q7;n[a.offset]=kt.transform(-i);const l=kt.transform(t),c=kt.transform(e);n[a.array]=`${l} ${c}`}function ok(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},h,d,m){if(hb(n,c,d),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:x}=n;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=m?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),s!==void 0&&$7(v,s,a,l,!1)}const lk=()=>({...db(),attrs:{}}),ck=n=>typeof n=="string"&&n.toLowerCase()==="svg";function G7(n,t,e,i){const s=O.useMemo(()=>{const a=lk();return ok(a,t,ck(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[t]);if(n.style){const a={};ak(a,n.style,n),s.style={...a,...s.style}}return s}const W7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fb(n){return typeof n!="string"||n.includes("-")?!1:!!(W7.indexOf(n)>-1||/[A-Z]/u.test(n))}function Y7(n,t,e,{latestValues:i},s,a=!1){const c=(fb(n)?G7:F7)(t,i,s,n),h=D7(t,typeof n=="string",a),d=n!==O.Fragment?{...h,...c,ref:e}:{},{children:m}=t,v=O.useMemo(()=>Pn(m)?m.get():m,[m]);return O.createElement(n,{...d,children:v})}function sE(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function mb(n,t,e,i){if(typeof t=="function"){const[s,a]=sE(i);t=t(e!==void 0?e:n.custom,s,a)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,a]=sE(i);t=t(e!==void 0?e:n.custom,s,a)}return t}function hm(n){return Pn(n)?n.get():n}function Q7({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:K7(e,i,s,n),renderState:t()}}function K7(n,t,e,i){const s={},a=i(n,{});for(const x in a)s[x]=hm(a[x]);let{initial:l,animate:c}=n;const h=xp(n),d=sk(n);t&&d&&!h&&n.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let m=e?e.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!vp(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const T=mb(n,x[w]);if(T){const{transitionEnd:E,transition:C,...N}=T;for(const j in N){let B=N[j];if(Array.isArray(B)){const W=m?B.length-1:0;B=B[W]}B!==null&&(s[j]=B)}for(const j in E)s[j]=E[j]}}}return s}const uk=n=>(t,e)=>{const i=O.useContext(yp),s=O.useContext(gp),a=()=>Q7(n,t,i,s);return e?a():zx(a)};function pb(n,t,e){const{style:i}=n,s={};for(const a in i)(Pn(i[a])||t.style&&Pn(t.style[a])||rk(a,n)||e?.getValue(a)?.liveStyle!==void 0)&&(s[a]=i[a]);return s}const X7=uk({scrapeMotionValuesFromProps:pb,createRenderState:db});function hk(n,t,e){const i=pb(n,t,e);for(const s in n)if(Pn(n[s])||Pn(t[s])){const a=_c.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const Z7=uk({scrapeMotionValuesFromProps:hk,createRenderState:lk}),J7=Symbol.for("motionComponentSymbol");function Bl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function tz(n,t,e){return O.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Bl(e)&&(e.current=i))},[t])}const gb=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ez="framerAppearId",dk="data-"+gb(ez),fk=O.createContext({});function nz(n,t,e,i,s){const{visualElement:a}=O.useContext(yp),l=O.useContext(nk),c=O.useContext(gp),h=O.useContext(lb).reducedMotion,d=O.useRef(null);i=i||l.renderer,!d.current&&i&&(d.current=i(n,{visualState:t,parent:a,props:e,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=d.current,v=O.useContext(fk);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&iz(d.current,e,s,v);const x=O.useRef(!1);O.useInsertionEffect(()=>{m&&x.current&&m.update(e,c)});const w=e[dk],T=O.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return uN(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),T.current&&m.animationState&&m.animationState.animateChanges())}),O.useEffect(()=>{m&&(!T.current&&m.animationState&&m.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),T.current=!1),m.enteringChildren=void 0)}),m}function iz(n,t,e,i){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:d,layoutCrossfade:m}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:mk(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Bl(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:h,layoutRoot:d})}function mk(n){if(n)return n.options.allowProjection!==!1?n.projection:mk(n.parent)}function Z0(n,{forwardMotionProps:t=!1}={},e,i){e&&k7(e);const s=fb(n)?Z7:X7;function a(c,h){let d;const m={...O.useContext(lb),...c,layoutId:sz(c)},{isStatic:v}=m,x=O7(c),w=s(c,v);if(!v&&Bx){rz();const T=az(m);d=T.MeasureLayout,x.visualElement=nz(n,w,m,i,T.ProjectionNode)}return y.jsxs(yp.Provider,{value:x,children:[d&&x.visualElement?y.jsx(d,{visualElement:x.visualElement,...m}):null,Y7(n,c,tz(w,x.visualElement,h),w,v,t)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=O.forwardRef(a);return l[J7]=n,l}function sz({layoutId:n}){const t=O.useContext(Lx).id;return t&&n!==void 0?t+"-"+n:n}function rz(n,t){O.useContext(nk).strict}function az(n){const{drag:t,layout:e}=rc;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function oz(n,t){if(typeof Proxy>"u")return Z0;const e=new Map,i=(a,l)=>Z0(a,l,n,t),s=(a,l)=>i(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?i:(e.has(l)||e.set(l,Z0(l,void 0,n,t)),e.get(l))})}function pk({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function lz({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function cz(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function J0(n){return n===void 0||n===1}function lv({scale:n,scaleX:t,scaleY:e}){return!J0(n)||!J0(t)||!J0(e)}function go(n){return lv(n)||gk(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function gk(n){return rE(n.x)||rE(n.y)}function rE(n){return n&&n!=="0%"}function Bm(n,t,e){const i=n-e,s=t*i;return e+s}function aE(n,t,e,i,s){return s!==void 0&&(n=Bm(n,s,i)),Bm(n,e,i)+t}function cv(n,t=0,e=1,i,s){n.min=aE(n.min,t,e,i,s),n.max=aE(n.max,t,e,i,s)}function yk(n,{x:t,y:e}){cv(n.x,t.translate,t.scale,t.originPoint),cv(n.y,e.translate,e.scale,e.originPoint)}const oE=.999999999999,lE=1.0000000000001;function uz(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let a,l;for(let c=0;c<s;c++){a=e[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Fl(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,yk(n,l)),i&&go(a.latestValues)&&Fl(n,a.latestValues))}t.x<lE&&t.x>oE&&(t.x=1),t.y<lE&&t.y>oE&&(t.y=1)}function Ul(n,t){n.min=n.min+t,n.max=n.max+t}function cE(n,t,e,i,s=.5){const a=Ae(n.min,n.max,s);cv(n,t,e,a,i)}function Fl(n,t){cE(n.x,t.x,t.scaleX,t.scale,t.originX),cE(n.y,t.y,t.scaleY,t.scale,t.originY)}function vk(n,t){return pk(cz(n.getBoundingClientRect(),t))}function hz(n,t,e){const i=vk(n,e),{scroll:s}=t;return s&&(Ul(i.x,s.offset.x),Ul(i.y,s.offset.y)),i}const uE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hl=()=>({x:uE(),y:uE()}),hE=()=>({min:0,max:0}),Le=()=>({x:hE(),y:hE()}),uv={current:null},xk={current:!1};function dz(){if(xk.current=!0,!!Bx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>uv.current=n.matches;n.addEventListener("change",t),t()}else uv.current=!1}const fz=new WeakMap;function mz(n,t,e){for(const i in t){const s=t[i],a=e[i];if(Pn(s))n.addValue(i,s);else if(Pn(a))n.addValue(i,sc(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,sc(l!==void 0?l:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const dE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pz{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ib,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Zn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Te.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=xp(e),this.isVariantNode=sk(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const x in v){const w=v[x];h[x]!==void 0&&Pn(w)&&w.set(h[x])}}mount(t){this.current=t,fz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),xk.current||dz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ba(this.notifyUpdate),ba(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=wc.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Te.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rc){const e=rc[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<dE.length;i++){const s=dE[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=mz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=sc(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(hN(i)||fN(i))?i=parseFloat(i):!E7(i)&&_a.test(e)&&(i=YN(t,e)),this.setBaseTarget(t,Pn(i)?i.get():i)),Pn(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const a=mb(this.props,e,this.presenceContext?.custom);a&&(i=a[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Pn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new $x),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){ab.render(this.render)}}class bk extends pz{constructor(){super(...arguments),this.KeyframeResolver=f7}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function _k(n,{style:t,vars:e},i,s){const a=n.style;let l;for(l in t)a[l]=t[l];s?.applyProjectionStyles(a,i);for(l in e)a.setProperty(l,e[l])}function gz(n){return window.getComputedStyle(n)}class yz extends bk{constructor(){super(...arguments),this.type="html",this.renderInstance=_k}readValueFromInstance(t,e){if(wc.has(e))return this.projection?.isProjecting?ev(e):I9(t,e);{const i=gz(t),s=(Yx(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return vk(t,e)}build(t,e,i){hb(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return pb(t,e,i)}}const wk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vz(n,t,e,i){_k(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(wk.has(s)?s:gb(s),t.attrs[s])}class xz extends bk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(wc.has(e)){const i=WN(e);return i&&i.default||0}return e=wk.has(e)?e:gb(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return hk(t,e,i)}build(t,e,i){ok(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){vz(t,e,i,s)}mount(t){this.isSVGTag=ck(t.tagName),super.mount(t)}}const bz=(n,t)=>fb(n)?new xz(t):new yz(t,{allowProjection:n!==O.Fragment});function Yl(n,t,e){const i=n.getProps();return mb(i,t,e!==void 0?e:i.custom,n)}const hv=n=>Array.isArray(n);function _z(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,sc(e))}function wz(n){return hv(n)?n[n.length-1]||0:n}function Tz(n,t){const e=Yl(n,t);let{transitionEnd:i={},transition:s={},...a}=e||{};a={...a,...i};for(const l in a){const c=wz(a[l]);_z(n,l,c)}}function Sz(n){return!!(Pn(n)&&n.add)}function dv(n,t){const e=n.getValue("willChange");if(Sz(e))return e.add(t);if(!e&&gr.WillChange){const i=new gr.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function Tk(n){return n.props[dk]}const Ez=n=>n!==null;function Az(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(Ez),a=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[a]}const Cz={type:"spring",stiffness:500,damping:25,restSpeed:10},Rz=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Nz={type:"keyframes",duration:.8},kz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mz=(n,{keyframes:t})=>t.length>2?Nz:wc.has(n)?n.startsWith("scale")?Rz(t[1]):Cz:kz;function Iz({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:d,...m}){return!!Object.keys(m).length}const yb=(n,t,e,i={},s,a)=>l=>{const c=sb(i,n)||{},h=c.delay||i.delay||0;let{elapsed:d=0}=i;d=d-ys(h);const m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:x=>{t.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:t,element:a?void 0:s};Iz(c)||Object.assign(m,Mz(n,m)),m.duration&&(m.duration=ys(m.duration)),m.repeatDelay&&(m.repeatDelay=ys(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(av(m),m.delay===0&&(v=!0)),(gr.instantAnimations||gr.skipAnimations)&&(v=!0,av(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,v&&!a&&t.get()!==void 0){const x=Az(m.keyframes,c);if(x!==void 0){Te.update(()=>{m.onUpdate(x),m.onComplete()});return}}return c.isSync?new nb(m):new e7(m)};function Dz({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function Sk(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...c}=t;i&&(a=i);const h=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const m in c){const v=n.getValue(m,n.latestValues[m]??null),x=c[m];if(x===void 0||d&&Dz(d,m))continue;const w={delay:e,...sb(a||{},m)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===T&&!w.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const N=Tk(n);if(N){const j=window.MotionHandoffAnimation(N,m,Te);j!==null&&(w.startTime=j,E=!0)}}dv(n,m),v.start(yb(m,v,x,n.shouldReduceMotion&&qN.has(m)?{type:!1}:w,n,E));const C=v.animation;C&&h.push(C)}return l&&Promise.all(h).then(()=>{Te.update(()=>{l&&Tz(n,l)})}),h}function Ek(n,t,e,i=0,s=1){const a=Array.from(n).sort((d,m)=>d.sortNodePosition(m)).indexOf(t),l=n.size,c=(l-1)*i;return typeof e=="function"?e(a,l):s===1?a*i:c-a*i}function fv(n,t,e={}){const i=Yl(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const a=i?()=>Promise.all(Sk(n,i,e)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:v}=s;return Pz(n,t,h,d,m,v,e)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,d]=c==="beforeChildren"?[a,l]:[l,a];return h().then(()=>d())}else return Promise.all([a(),l(e.delay)])}function Pz(n,t,e=0,i=0,s=0,a=1,l){const c=[];for(const h of n.variantChildren)h.notify("AnimationStart",t),c.push(fv(h,t,{...l,delay:e+(typeof i=="function"?0:i)+Ek(n.variantChildren,h,i,s,a)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(c)}function Oz(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>fv(n,a,e));i=Promise.all(s)}else if(typeof t=="string")i=fv(n,t,e);else{const s=typeof t=="function"?Yl(n,t,e.custom):t;i=Promise.all(Sk(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function Ak(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const jz=ub.length;function Ck(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?Ck(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<jz;e++){const i=ub[e],s=n.props[i];(Eh(s)||s===!1)&&(t[i]=s)}return t}const Vz=[...cb].reverse(),Lz=cb.length;function zz(n){return t=>Promise.all(t.map(({animation:e,options:i})=>Oz(n,e,i)))}function Bz(n){let t=zz(n),e=fE(),i=!0;const s=h=>(d,m)=>{const v=Yl(n,m,h==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:w,...T}=v;d={...d,...T,...w}}return d};function a(h){t=h(n)}function l(h){const{props:d}=n,m=Ck(n.parent)||{},v=[],x=new Set;let w={},T=1/0;for(let C=0;C<Lz;C++){const N=Vz[C],j=e[N],B=d[N]!==void 0?d[N]:m[N],W=Eh(B),F=N===h?j.isActive:null;F===!1&&(T=C);let q=B===m[N]&&B!==d[N]&&W;if(q&&i&&n.manuallyAnimateOnMount&&(q=!1),j.protectedKeys={...w},!j.isActive&&F===null||!B&&!j.prevProp||vp(B)||typeof B=="boolean")continue;const M=Uz(j.prevProp,B);let R=M||N===h&&j.isActive&&!q&&W||C>T&&W,I=!1;const P=Array.isArray(B)?B:[B];let L=P.reduce(s(N),{});F===!1&&(L={});const{prevResolvedValues:z={}}=j,V={...z,...L},et=Z=>{R=!0,x.has(Z)&&(I=!0,x.delete(Z)),j.needsAnimating[Z]=!0;const at=n.getValue(Z);at&&(at.liveStyle=!1)};for(const Z in V){const at=L[Z],mt=z[Z];if(w.hasOwnProperty(Z))continue;let U=!1;hv(at)&&hv(mt)?U=!Ak(at,mt):U=at!==mt,U?at!=null?et(Z):x.add(Z):at!==void 0&&x.has(Z)?et(Z):j.protectedKeys[Z]=!0}j.prevProp=B,j.prevResolvedValues=L,j.isActive&&(w={...w,...L}),i&&n.blockInitialAnimation&&(R=!1);const it=q&&M;R&&(!it||I)&&v.push(...P.map(Z=>{const at={type:N};if(typeof Z=="string"&&i&&!it&&n.manuallyAnimateOnMount&&n.parent){const{parent:mt}=n,U=Yl(mt,Z);if(mt.enteringChildren&&U){const{delayChildren:st}=U.transition||{};at.delay=Ek(mt.enteringChildren,n,st)}}return{animation:Z,options:at}}))}if(x.size){const C={};if(typeof d.initial!="boolean"){const N=Yl(n,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(C.transition=N.transition)}x.forEach(N=>{const j=n.getBaseTarget(N),B=n.getValue(N);B&&(B.liveStyle=!0),C[N]=j??null}),v.push({animation:C})}let E=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(v):Promise.resolve()}function c(h,d){if(e[h].isActive===d)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(h,d)),e[h].isActive=d;const m=l(h);for(const v in e)e[v].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>e,reset:()=>{e=fE(),i=!0}}}function Uz(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Ak(t,n):!1}function co(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fE(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class Ca{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Fz extends Ca{constructor(t){super(t),t.animationState||(t.animationState=Bz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();vp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Hz=0;class qz extends Ca{constructor(){super(...arguments),this.id=Hz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $z={animation:{Feature:Fz},exit:{Feature:qz}};function Ch(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function Zh(n){return{point:{x:n.pageX,y:n.pageY}}}const Gz=n=>t=>ob(t)&&n(t,Zh(t));function rh(n,t,e,i){return Ch(n,t,Gz(e),i)}const Rk=1e-4,Wz=1-Rk,Yz=1+Rk,Nk=.01,Qz=0-Nk,Kz=0+Nk;function Hn(n){return n.max-n.min}function Xz(n,t,e){return Math.abs(n-t)<=e}function mE(n,t,e,i=.5){n.origin=i,n.originPoint=Ae(t.min,t.max,n.origin),n.scale=Hn(e)/Hn(t),n.translate=Ae(e.min,e.max,n.origin)-n.originPoint,(n.scale>=Wz&&n.scale<=Yz||isNaN(n.scale))&&(n.scale=1),(n.translate>=Qz&&n.translate<=Kz||isNaN(n.translate))&&(n.translate=0)}function ah(n,t,e,i){mE(n.x,t.x,e.x,i?i.originX:void 0),mE(n.y,t.y,e.y,i?i.originY:void 0)}function pE(n,t,e){n.min=e.min+t.min,n.max=n.min+Hn(t)}function Zz(n,t,e){pE(n.x,t.x,e.x),pE(n.y,t.y,e.y)}function gE(n,t,e){n.min=t.min-e.min,n.max=n.min+Hn(t)}function oh(n,t,e){gE(n.x,t.x,e.x),gE(n.y,t.y,e.y)}function Ei(n){return[n("x"),n("y")]}const kk=({current:n})=>n?n.ownerDocument.defaultView:null,yE=(n,t)=>Math.abs(n-t);function Jz(n,t){const e=yE(n.x,t.x),i=yE(n.y,t.y);return Math.sqrt(e**2+i**2)}class Mk{constructor(t,e,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=ey(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=Jz(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!T)return;const{point:E}=x,{timestamp:C}=bn;this.history.push({...E,timestamp:C});const{onStart:N,onMove:j}=this.handlers;w||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=ty(w,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:T,onSessionEnd:E,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=ey(x.type==="pointercancel"?this.lastMoveEventInfo:ty(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(x,N),E&&E(x,N)},!ob(t))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const c=Zh(t),h=ty(c,this.transformPagePoint),{point:d}=h,{timestamp:m}=bn;this.history=[{...d,timestamp:m}];const{onSessionStart:v}=e;v&&v(t,ey(h,this.history)),this.removeListeners=Qh(rh(this.contextWindow,"pointermove",this.handlePointerMove),rh(this.contextWindow,"pointerup",this.handlePointerUp),rh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ba(this.updatePoint)}}function ty(n,t){return t?{point:t(n.point)}:n}function vE(n,t){return{x:n.x-t.x,y:n.y-t.y}}function ey({point:n},t){return{point:n,delta:vE(n,Ik(t)),offset:vE(n,t8(t)),velocity:e8(t,.1)}}function t8(n){return n[0]}function Ik(n){return n[n.length-1]}function e8(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=Ik(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>ys(t)));)e--;if(!i)return{x:0,y:0};const a=vs(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function n8(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Ae(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Ae(e,n,i.max):Math.min(n,e)),n}function xE(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function i8(n,{top:t,left:e,bottom:i,right:s}){return{x:xE(n.x,e,s),y:xE(n.y,t,i)}}function bE(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function s8(n,t){return{x:bE(n.x,t.x),y:bE(n.y,t.y)}}function r8(n,t){let e=.5;const i=Hn(n),s=Hn(t);return s>i?e=wh(t.min,t.max-i,n.min):i>s&&(e=wh(n.min,n.max-s,t.min)),pr(0,1,e)}function a8(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const mv=.35;function o8(n=mv){return n===!1?n=0:n===!0&&(n=mv),{x:_E(n,"left","right"),y:_E(n,"top","bottom")}}function _E(n,t,e){return{min:wE(n,t),max:wE(n,e)}}function wE(n,t){return typeof n=="number"?n:n[t]||0}const l8=new WeakMap;class c8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Zh(v).point)},l=(v,x)=>{const{drag:w,dragPropagation:T,onDragStart:E}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=y7(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ei(N=>{let j=this.getAxisMotionValue(N).get()||0;if(xs.test(j)){const{projection:B}=this.visualElement;if(B&&B.layout){const W=B.layout.layoutBox[N];W&&(j=Hn(W)*(parseFloat(j)/100))}}this.originPoint[N]=j}),E&&Te.postRender(()=>E(v,x)),dv(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:E,onDrag:C}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:N}=x;if(T&&this.currentDirection===null){this.currentDirection=u8(N),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),C&&C(v,x)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ei(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Mk(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:kk(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,s=e||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Te.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!jf(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=n8(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Bl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=i8(i.layoutBox,t):this.constraints=!1,this.elastic=o8(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ei(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=a8(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Bl(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=hz(i,s.root,this.visualElement.getTransformPagePoint());let l=s8(s.layout.layoutBox,a);if(e){const c=e(lz(l));this.hasMutatedConstraints=!!c,c&&(l=pk(c))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},d=Ei(m=>{if(!jf(m,e,this.currentDirection))return;let v=h&&h[m]||{};l&&(v={min:0,max:0});const x=s?200:1e6,w=s?40:1e7,T={type:"inertia",velocity:i?t[m]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(m,T)});return Promise.all(d).then(c)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return dv(this.visualElement,t),i.start(yb(t,i,0,e,this.visualElement,!1))}stopAnimation(){Ei(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ei(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ei(e=>{const{drag:i}=this.getProps();if(!jf(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[e];a.set(t[e]-Ae(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Bl(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ei(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=r8({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ei(l=>{if(!jf(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];c.set(Ae(h,d,s[l]))})}addListeners(){if(!this.visualElement.current)return;l8.set(this.visualElement,this);const t=this.visualElement.current,e=rh(t,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Bl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Te.read(i);const l=Ch(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ei(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),e(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=mv,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function jf(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function u8(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class h8 extends Ca{constructor(t){super(t),this.removeGroupControls=Ni,this.removeListeners=Ni,this.controls=new c8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const TE=n=>(t,e)=>{n&&Te.postRender(()=>n(t,e))};class d8 extends Ca{constructor(){super(...arguments),this.removePointerDownListener=Ni}onPointerDown(t){this.session=new Mk(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kk(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:TE(t),onStart:TE(e),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Te.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=rh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function SE(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Du={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(kt.test(n))n=parseFloat(n);else return n;const e=SE(n,t.target.x),i=SE(n,t.target.y);return`${e}% ${i}%`}},f8={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=_a.parse(n);if(s.length>5)return i;const a=_a.createTransformer(n),l=typeof s[0]!="number"?1:0,c=e.x.scale*t.x,h=e.y.scale*t.y;s[0+l]/=c,s[1+l]/=h;const d=Ae(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=d),typeof s[3+l]=="number"&&(s[3+l]/=d),a(s)}};let ny=!1;class m8 extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;j7(p8),a&&(e.group&&e.group.add(a),i&&i.register&&s&&i.register(a),ny&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),dm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,ny=!0,s||t.layoutDependency!==e||e===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Te.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ab.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;ny=!0,s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Dk(n){const[t,e]=ek(),i=O.useContext(Lx);return y.jsx(m8,{...n,layoutGroup:i,switchLayoutGroup:O.useContext(fk),isPresent:t,safeToRemove:e})}const p8={borderRadius:{...Du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Du,borderTopRightRadius:Du,borderBottomLeftRadius:Du,borderBottomRightRadius:Du,boxShadow:f8};function g8(n,t,e){const i=Pn(n)?n:sc(n);return i.start(yb("",i,t,e)),i.animation}const y8=(n,t)=>n.depth-t.depth;class v8{constructor(){this.children=[],this.isDirty=!1}add(t){Ux(this.children,t),this.isDirty=!0}remove(t){Fx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(y8),this.isDirty=!1,this.children.forEach(t)}}function x8(n,t){const e=Zn.now(),i=({timestamp:s})=>{const a=s-e;a>=t&&(ba(i),n(a-t))};return Te.setup(i,!0),()=>ba(i)}const Pk=["TopLeft","TopRight","BottomLeft","BottomRight"],b8=Pk.length,EE=n=>typeof n=="string"?parseFloat(n):n,AE=n=>typeof n=="number"||kt.test(n);function _8(n,t,e,i,s,a){s?(n.opacity=Ae(0,e.opacity??1,w8(i)),n.opacityExit=Ae(t.opacity??1,0,T8(i))):a&&(n.opacity=Ae(t.opacity??1,e.opacity??1,i));for(let l=0;l<b8;l++){const c=`border${Pk[l]}Radius`;let h=CE(t,c),d=CE(e,c);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||AE(h)===AE(d)?(n[c]=Math.max(Ae(EE(h),EE(d),i),0),(xs.test(d)||xs.test(h))&&(n[c]+="%")):n[c]=d}(t.rotate||e.rotate)&&(n.rotate=Ae(t.rotate||0,e.rotate||0,i))}function CE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const w8=Ok(0,.5,_N),T8=Ok(.5,.95,Ni);function Ok(n,t,e){return i=>i<n?0:i>t?1:e(wh(n,t,i))}function RE(n,t){n.min=t.min,n.max=t.max}function Ti(n,t){RE(n.x,t.x),RE(n.y,t.y)}function NE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function kE(n,t,e,i,s){return n-=t,n=Bm(n,1/e,i),s!==void 0&&(n=Bm(n,1/s,i)),n}function S8(n,t=0,e=1,i=.5,s,a=n,l=n){if(xs.test(t)&&(t=parseFloat(t),t=Ae(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Ae(a.min,a.max,i);n===a&&(c-=t),n.min=kE(n.min,t,e,c,s),n.max=kE(n.max,t,e,c,s)}function ME(n,t,[e,i,s],a,l){S8(n,t[e],t[i],t[s],t.scale,a,l)}const E8=["x","scaleX","originX"],A8=["y","scaleY","originY"];function IE(n,t,e,i){ME(n.x,t,E8,e?e.x:void 0,i?i.x:void 0),ME(n.y,t,A8,e?e.y:void 0,i?i.y:void 0)}function DE(n){return n.translate===0&&n.scale===1}function jk(n){return DE(n.x)&&DE(n.y)}function PE(n,t){return n.min===t.min&&n.max===t.max}function C8(n,t){return PE(n.x,t.x)&&PE(n.y,t.y)}function OE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function Vk(n,t){return OE(n.x,t.x)&&OE(n.y,t.y)}function jE(n){return Hn(n.x)/Hn(n.y)}function VE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class R8{constructor(){this.members=[]}add(t){Ux(this.members,t),t.scheduleRender()}remove(t){if(Fx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function N8(n,t,e){let i="";const s=n.x.translate/t.x,a=n.y.translate/t.y,l=e?.z||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:m,rotateX:v,rotateY:x,skewX:w,skewY:T}=e;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),w&&(i+=`skewX(${w}deg) `),T&&(i+=`skewY(${T}deg) `)}const c=n.x.scale*t.x,h=n.y.scale*t.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const iy=["","X","Y","Z"],k8=1e3;let M8=0;function sy(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function Lk(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=Tk(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Te,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Lk(i)}function zk({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=M8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(P8),this.nodes.forEach(L8),this.nodes.forEach(z8),this.nodes.forEach(O8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new v8)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new $x),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=tk(l)&&!T7(l),this.instance=l;const{layoutId:c,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),n){let m,v=0;const x=()=>this.root.updateBlockedByResize=!1;Te.read(()=>{v=window.innerWidth}),n(l,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,m&&m(),m=x8(x,250),dm.hasAnimatedSinceResize&&(dm.hasAnimatedSinceResize=!1,this.nodes.forEach(BE)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||q8,{onLayoutAnimationStart:E,onLayoutAnimationComplete:C}=d.getProps(),N=!this.targetLayout||!Vk(this.targetLayout,w),j=!v&&x;if(this.options.layoutRoot||this.resumeFrom||j||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...sb(T,"layout"),onPlay:E,onComplete:C};(d.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(m,j)}else v||BE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ba(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B8),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(V8),this.nodes.forEach(I8),this.nodes.forEach(D8)):this.nodes.forEach(zE),this.clearAllSnapshots();const c=Zn.now();bn.delta=pr(0,1e3/60,c-bn.timestamp),bn.timestamp=c,bn.isProcessing=!0,G0.update.process(bn),G0.preRender.process(bn),G0.render.process(bn),bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ab.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j8),this.sharedNodes.forEach(U8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hn(this.snapshot.measuredBox.x)&&!Hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!jk(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;l&&this.instance&&(c||go(this.latestValues)||m)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),$8(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Le();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(G8))){const{scroll:d}=this.root;d&&(Ul(c.x,d.offset.x),Ul(c.y,d.offset.y))}return c}removeElementScroll(l){const c=Le();if(Ti(c,l),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:m,options:v}=d;d!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&Ti(c,l),Ul(c.x,m.offset.x),Ul(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const h=Le();Ti(h,l);for(let d=0;d<this.path.length;d++){const m=this.path[d];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Fl(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),go(m.latestValues)&&Fl(h,m.latestValues)}return go(this.latestValues)&&Fl(h,this.latestValues),h}removeTransform(l){const c=Le();Ti(c,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!go(d.latestValues))continue;lv(d.latestValues)&&d.updateSnapshot();const m=Le(),v=d.measurePageBox();Ti(m,v),IE(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return go(this.latestValues)&&IE(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=bn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),oh(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ti(this.target,this.layout.layoutBox),yk(this.target,this.targetDelta)):Ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),oh(this.relativeTargetOrigin,this.target,x.target),Ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lv(this.parent.latestValues)||gk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===bn.timestamp&&(h=!1),h)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Ti(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;uz(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Le());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NE(this.prevProjectionDelta.x,this.projectionDelta.x),NE(this.prevProjectionDelta.y,this.projectionDelta.y)),ah(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!VE(this.projectionDelta.x,this.prevProjectionDelta.x)||!VE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hl(),this.projectionDelta=Hl(),this.projectionDeltaWithTransform=Hl()}setAnimationOrigin(l,c=!1){const h=this.snapshot,d=h?h.latestValues:{},m={...this.latestValues},v=Hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=Le(),w=h?h.source:void 0,T=this.layout?this.layout.source:void 0,E=w!==T,C=this.getStack(),N=!C||C.members.length<=1,j=!!(E&&!N&&this.options.crossfade===!0&&!this.path.some(H8));this.animationProgress=0;let B;this.mixTargetDelta=W=>{const F=W/1e3;UE(v.x,l.x,F),UE(v.y,l.y,F),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F8(this.relativeTarget,this.relativeTargetOrigin,x,F),B&&C8(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Le()),Ti(B,this.relativeTarget)),E&&(this.animationValues=m,_8(m,d,this.latestValues,F,j,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ba(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{dm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sc(0)),this.currentAnimation=g8(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:d,latestValues:m}=l;if(!(!c||!h||!d)){if(this!==l&&this.layout&&d&&Bk(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||Le();const v=Hn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const x=Hn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}Ti(c,h),Fl(c,m),ah(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new R8),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const d={};h.z&&sy("z",l,d,this.animationValues);for(let m=0;m<iy.length;m++)sy(`rotate${iy[m]}`,l,d,this.animationValues),sy(`skew${iy[m]}`,l,d,this.animationValues);l.render();for(const m in d)l.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=hm(c?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=hm(c?.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=N8(this.projectionDeltaWithTransform,this.treeScale,m);h&&(v=h(m,v)),l.transform=v;const{x,y:w}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,d.animationValues?l.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in Ah){if(m[T]===void 0)continue;const{correct:E,applyTo:C,isCSSVariable:N}=Ah[T],j=v==="none"?m[T]:E(m[T],d);if(C){const B=C.length;for(let W=0;W<B;W++)l[C[W]]=j}else N?this.options.visualElement.renderState.vars[T]=j:l[T]=j}this.options.layoutId&&(l.pointerEvents=d===this?hm(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(LE),this.root.sharedNodes.clear()}}}function I8(n){n.updateLayout()}function D8(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?Ei(m=>{const v=a?t.measuredBox[m]:t.layoutBox[m],x=Hn(v);v.min=e[m].min,v.max=v.min+x}):Bk(s,t.layoutBox,e)&&Ei(m=>{const v=a?t.measuredBox[m]:t.layoutBox[m],x=Hn(e[m]);v.max=v.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+x)});const l=Hl();ah(l,e,t.layoutBox);const c=Hl();a?ah(c,n.applyTransform(i,!0),t.measuredBox):ah(c,e,t.layoutBox);const h=!jk(l);let d=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:x}=m;if(v&&x){const w=Le();oh(w,t.layoutBox,v.layoutBox);const T=Le();oh(T,e,x.layoutBox),Vk(w,T)||(d=!0),m.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=w,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function P8(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function O8(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function j8(n){n.clearSnapshot()}function LE(n){n.clearMeasurements()}function zE(n){n.isLayoutDirty=!1}function V8(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function BE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function L8(n){n.resolveTargetDelta()}function z8(n){n.calcProjection()}function B8(n){n.resetSkewAndRotation()}function U8(n){n.removeLeadSnapshot()}function UE(n,t,e){n.translate=Ae(t.translate,0,e),n.scale=Ae(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function FE(n,t,e,i){n.min=Ae(t.min,e.min,i),n.max=Ae(t.max,e.max,i)}function F8(n,t,e,i){FE(n.x,t.x,e.x,i),FE(n.y,t.y,e.y,i)}function H8(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const q8={duration:.45,ease:[.4,0,.1,1]},HE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),qE=HE("applewebkit/")&&!HE("chrome/")?Math.round:Ni;function $E(n){n.min=qE(n.min),n.max=qE(n.max)}function $8(n){$E(n.x),$E(n.y)}function Bk(n,t,e){return n==="position"||n==="preserve-aspect"&&!Xz(jE(t),jE(e),.2)}function G8(n){return n!==n.root&&n.scroll?.wasRoot}const W8=zk({attachResizeListener:(n,t)=>Ch(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ry={current:void 0},Uk=zk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ry.current){const n=new W8({});n.mount(window),n.setOptions({layoutScroll:!0}),ry.current=n}return ry.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Y8={pan:{Feature:d8},drag:{Feature:h8,ProjectionNode:Uk,MeasureLayout:Dk}};function GE(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=i[s];a&&Te.postRender(()=>a(t,Zh(t)))}class Q8 extends Ca{mount(){const{current:t}=this.node;t&&(this.unmount=v7(t,(e,i)=>(GE(this.node,i,"Start"),s=>GE(this.node,s,"End"))))}unmount(){}}class K8 extends Ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qh(Ch(this.node.current,"focus",()=>this.onFocus()),Ch(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WE(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=i[s];a&&Te.postRender(()=>a(t,Zh(t)))}class X8 extends Ca{mount(){const{current:t}=this.node;t&&(this.unmount=w7(t,(e,i)=>(WE(this.node,i,"Start"),(s,{success:a})=>WE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pv=new WeakMap,ay=new WeakMap,Z8=n=>{const t=pv.get(n.target);t&&t(n)},J8=n=>{n.forEach(Z8)};function tB({root:n,...t}){const e=n||document;ay.has(e)||ay.set(e,{});const i=ay.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(J8,{root:n,...t})),i[s]}function eB(n,t,e){const i=tB(t);return pv.set(n,e),i.observe(n),()=>{pv.delete(n),i.unobserve(n)}}const nB={some:0,all:1};class iB extends Ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:a}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:nB[s]},c=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),x=d?m:v;x&&x(h)};return eB(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(sB(t,e))&&this.startObserver()}unmount(){}}function sB({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const rB={inView:{Feature:iB},tap:{Feature:X8},focus:{Feature:K8},hover:{Feature:Q8}},aB={layout:{ProjectionNode:Uk,MeasureLayout:Dk}},oB={...$z,...rB,...Y8,...aB},Mt=oz(oB,bz),lB=()=>{const n=qn(),{organizedAttempts:t,loading:e,error:i}=N6(),s=O.useMemo(()=>Object.keys(t),[t]),{courses:a,loading:l}=Ox(s),c=O.useMemo(()=>Object.entries(t).flatMap(([it,G])=>Object.keys(G.chapters).map(Z=>({courseId:it,chapterId:Z}))),[t]),{chapters:h,loading:d}=jx(c),m=O.useMemo(()=>Object.entries(t).flatMap(([it,G])=>Object.entries(G.chapters).flatMap(([Z,at])=>at.attempts.map(mt=>({courseId:it,chapterId:Z,sectionId:mt.sectionId})))),[t]),{sections:v,loading:x}=Vx(m),[w,T]=O.useState({}),[E,C]=O.useState({}),N=O.useMemo(()=>{let it=0,G=0,Z=0,at=0;Object.values(t).forEach(U=>{it+=U.stats.totalAttempts,at=Math.max(at,U.stats.highestScore),Object.values(U.chapters).forEach(st=>{st.attempts.forEach(dt=>{G+=dt.score,Z+=dt.totalQuestions})})});const mt=it>0?Math.round(G/Z*100):0;return{totalAttempts:it,averageScore:mt,highestScore:at}},[t]),j=it=>a[it]?.Subject||it,B=it=>h[it]?.Title||it,W=it=>v[it]?.SectionName||it,F=it=>{T(G=>({...G,[it]:!G[it]}))},q=(it,G)=>{C(Z=>({...Z,[`${it}-${G}`]:!Z[`${it}-${G}`]}))},M=it=>{if(!it)return"N/A";try{return it=it.toDate?it.toDate():it,it.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return"N/A"}},R=(it,G)=>Math.round(it/G*100),I=it=>it>=80?"text-green-600":it>=60?"text-yellow-600":"text-red-600",P=it=>it>=80?"":it>=60?"":"",L=it=>{const G=xc.currentUser;n("/home/score/sectionScore",{state:{courseId:it.courseId,chapterId:it.chapterId,sectionId:it.sectionId,userId:G.uid}})},z={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},V={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.4}}},et={hidden:{opacity:0,height:0,transition:{duration:.3}},visible:{opacity:1,height:"auto",transition:{duration:.4}}};return e||l||d||x?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Loading Results"}),y.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your quiz data..."})]})}):i?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:y.jsxs(Mt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-lg p-8 max-w-md text-center",children:[y.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Results"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your quiz attempts. Please try again later."}),y.jsx("button",{onClick:()=>n("/home"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Return Home"})]})}):Object.keys(t).length===0?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-8 max-w-md text-center",children:[y.jsx("div",{className:"text-gray-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Quiz Results Yet"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't completed any quizzes yet. Start practicing to see your results here!"}),y.jsx("button",{onClick:()=>n("/home/practice"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium mr-3",children:"Start Practicing"}),y.jsx("button",{onClick:()=>n("/home"),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"Return Home"})]})}):y.jsx("div",{className:"min-h-screen bg-gradient-to-br p-4 md:p-6",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs(Mt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quiz Results"}),y.jsx("p",{className:"text-gray-600",children:"Review your performance across all courses"})]}),y.jsx("button",{onClick:()=>n("/home"),className:"hidden md:block mt-4 md:mt-0 px-5 py-2.5 bg-white text-blue-600 rounded-lg border border-blue-200 hover:bg-blue-50 font-medium shadow-sm",children:" Back to Home"})]}),y.jsxs(Mt.div,{variants:z,initial:"hidden",animate:"visible",className:"hidden md:block bg-white rounded-2xl shadow-lg p-6 mb-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Overall Performance"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs(Mt.div,{variants:V,className:"bg-blue-50 rounded-xl p-5 text-center",children:[y.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:N.totalAttempts}),y.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Total Attempts"})]}),y.jsxs(Mt.div,{variants:V,className:"bg-green-50 rounded-xl p-5 text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[N.averageScore,"%"]}),y.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Average Score"})]}),y.jsxs(Mt.div,{variants:V,className:"bg-purple-50 rounded-xl p-5 text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[N.highestScore,"%"]}),y.jsx("p",{className:"text-sm text-purple-800 font-medium",children:"Highest Score"})]})]})]}),y.jsx(Mt.div,{variants:z,initial:"hidden",animate:"visible",className:"space-y-6",children:Object.entries(t).map(([it,G])=>y.jsxs(Mt.div,{variants:V,className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors border-b border-gray-200",onClick:()=>F(it),children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"bg-blue-100 p-3 rounded-xl mr-4",children:y.jsx("span",{className:"text-blue-600 text-xl",children:""})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:j(it)}),y.jsxs("p",{className:"text-gray-600",children:[G.stats.chaptersCount," chapters"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsxs("div",{className:"mr-4 text-right",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Best Score"}),y.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[G.stats.highestScore,"%"]})]}),y.jsx("span",{className:"text-gray-500 text-xl",children:w[it]?"":""})]})]})}),y.jsx(ha,{children:w[it]&&y.jsx(Mt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:et,className:"p-6 bg-gray-50",children:Object.entries(G.chapters).map(([Z,at])=>y.jsxs(Mt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 last:mb-0 bg-white rounded-xl shadow-sm overflow-hidden",children:[y.jsx("div",{className:"p-5 cursor-pointer hover:bg-gray-50 transition-colors border-b border-gray-200",onClick:()=>q(it,Z),children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"bg-green-100 p-2.5 rounded-lg mr-4",children:y.jsx("span",{className:"text-green-600",children:""})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:B(Z)}),y.jsxs("p",{className:"text-sm text-gray-600",children:[at.stats.totalAttempts," attempts"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsxs("div",{className:"mr-4 text-right",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Best Score"}),y.jsxs("p",{className:"font-bold text-green-600",children:[at.stats.highestScore,"%"]})]}),y.jsx("span",{className:"text-gray-500",children:E[`${it}-${Z}`]?"":""})]})]})}),y.jsx(ha,{children:E[`${it}-${Z}`]&&y.jsxs(Mt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:et,className:"p-5 bg-gray-50",children:[y.jsxs("h4",{className:"font-medium text-gray-700 mb-4 flex items-center",children:[y.jsx("span",{className:"mr-2",children:""})," Recent Attempts"]}),y.jsx("div",{className:"space-y-4",children:at.attempts.sort((mt,U)=>U.timestamp?.toMillis()-mt.timestamp?.toMillis()).slice(0,5).map((mt,U)=>{const st=R(mt.score,mt.totalQuestions);return y.jsx(Mt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:U*.1},className:"bg-white rounded-lg p-4 shadow border border-gray-200 hover:shadow-md transition-shadow",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[y.jsxs("div",{className:"mb-3 md:mb-0 md:flex-1",children:[y.jsxs("div",{className:"flex items-center mb-2",children:[y.jsx("span",{className:"text-xl mr-3",children:P(st)}),y.jsx("h5",{className:"font-medium text-gray-800",children:W(mt.sectionId)})]}),y.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[y.jsxs("span",{children:[y.jsx("span",{className:"font-medium",children:"Score:"})," ",mt.score,"/",mt.totalQuestions]}),y.jsxs("span",{className:I(st),children:[y.jsx("span",{className:"font-medium",children:"Percentage:"})," ",st,"%"]}),y.jsxs("span",{children:[y.jsx("span",{className:"font-medium",children:"Date:"})," ",M(mt.timestamp)]})]})]}),y.jsx("button",{className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium whitespace-nowrap",onClick:()=>L(mt),children:"View Details"})]})},U)})})]})})]},Z))})})]},it))})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jh(n){return n+.5|0}const ia=(n,t,e)=>Math.max(Math.min(n,e),t);function Gu(n){return ia(Jh(n*2.55),0,255)}function da(n){return ia(Jh(n*255),0,255)}function tr(n){return ia(Jh(n/2.55)/100,0,1)}function YE(n){return ia(Jh(n*100),0,100)}const Si={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},gv=[..."0123456789ABCDEF"],cB=n=>gv[n&15],uB=n=>gv[(n&240)>>4]+gv[n&15],Vf=n=>(n&240)>>4===(n&15),hB=n=>Vf(n.r)&&Vf(n.g)&&Vf(n.b)&&Vf(n.a);function dB(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Si[n[1]]*17,g:255&Si[n[2]]*17,b:255&Si[n[3]]*17,a:t===5?Si[n[4]]*17:255}:(t===7||t===9)&&(e={r:Si[n[1]]<<4|Si[n[2]],g:Si[n[3]]<<4|Si[n[4]],b:Si[n[5]]<<4|Si[n[6]],a:t===9?Si[n[7]]<<4|Si[n[8]]:255})),e}const fB=(n,t)=>n<255?t(n):"";function mB(n){var t=hB(n)?cB:uB;return n?"#"+t(n.r)+t(n.g)+t(n.b)+fB(n.a,t):void 0}const pB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Fk(n,t,e){const i=t*Math.min(e,1-e),s=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function gB(n,t,e){const i=(s,a=(s+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function yB(n,t,e){const i=Fk(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function vB(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function vb(n){const e=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(e,i,s),l=Math.min(e,i,s),c=(a+l)/2;let h,d,m;return a!==l&&(m=a-l,d=c>.5?m/(2-a-l):m/(a+l),h=vB(e,i,s,m,a),h=h*60+.5),[h|0,d||0,c]}function xb(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(da)}function bb(n,t,e){return xb(Fk,n,t,e)}function xB(n,t,e){return xb(yB,n,t,e)}function bB(n,t,e){return xb(gB,n,t,e)}function Hk(n){return(n%360+360)%360}function _B(n){const t=pB.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Gu(+t[5]):da(+t[5]));const s=Hk(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=xB(s,a,l):t[1]==="hsv"?i=bB(s,a,l):i=bb(s,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function wB(n,t){var e=vb(n);e[0]=Hk(e[0]+t),e=bb(e),n.r=e[0],n.g=e[1],n.b=e[2]}function TB(n){if(!n)return;const t=vb(n),e=t[0],i=YE(t[1]),s=YE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${tr(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const QE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},KE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function SB(){const n={},t=Object.keys(KE),e=Object.keys(QE);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<e.length;s++)a=e[s],c=c.replace(a,QE[a]);a=parseInt(KE[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let Lf;function EB(n){Lf||(Lf=SB(),Lf.transparent=[0,0,0,0]);const t=Lf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const AB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function CB(n){const t=AB.exec(n);let e=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Gu(l):ia(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?Gu(i):ia(i,0,255)),s=255&(t[4]?Gu(s):ia(s,0,255)),a=255&(t[6]?Gu(a):ia(a,0,255)),{r:i,g:s,b:a,a:e}}}function RB(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${tr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const oy=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Dl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function NB(n,t,e){const i=Dl(tr(n.r)),s=Dl(tr(n.g)),a=Dl(tr(n.b));return{r:da(oy(i+e*(Dl(tr(t.r))-i))),g:da(oy(s+e*(Dl(tr(t.g))-s))),b:da(oy(a+e*(Dl(tr(t.b))-a))),a:n.a+e*(t.a-n.a)}}function zf(n,t,e){if(n){let i=vb(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=bb(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function qk(n,t){return n&&Object.assign(t||{},n)}function XE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=da(n[3]))):(t=qk(n,{r:0,g:0,b:0,a:1}),t.a=da(t.a)),t}function kB(n){return n.charAt(0)==="r"?CB(n):_B(n)}class Rh{constructor(t){if(t instanceof Rh)return t;const e=typeof t;let i;e==="object"?i=XE(t):e==="string"&&(i=dB(t)||EB(t)||kB(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=qk(this._rgb);return t&&(t.a=tr(t.a)),t}set rgb(t){this._rgb=XE(t)}rgbString(){return this._valid?RB(this._rgb):void 0}hexString(){return this._valid?mB(this._rgb):void 0}hslString(){return this._valid?TB(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let a;const l=e===a?.5:e,c=2*l-1,h=i.a-s.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-d,i.r=255&d*i.r+a*s.r+.5,i.g=255&d*i.g+a*s.g+.5,i.b=255&d*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=NB(this._rgb,t._rgb,e)),this}clone(){return new Rh(this.rgb)}alpha(t){return this._rgb.a=da(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Jh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return zf(this._rgb,2,t),this}darken(t){return zf(this._rgb,2,-t),this}saturate(t){return zf(this._rgb,1,t),this}desaturate(t){return zf(this._rgb,1,-t),this}rotate(t){return wB(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xs(){}const MB=(()=>{let n=0;return()=>n++})();function Ht(n){return n==null}function we(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Wt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Pe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ci(n,t){return Pe(n)?n:t}function jt(n,t){return typeof n>"u"?t:n}const IB=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,$k=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ge(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ce(n,t,e,i){let s,a,l;if(we(n))for(a=n.length,s=0;s<a;s++)t.call(e,n[s],s);else if(Wt(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)t.call(e,n[l[s]],l[s])}function Um(n,t){let e,i,s,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Fm(n){if(we(n))return n.map(Fm);if(Wt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=Fm(n[e[s]]);return t}return n}function Gk(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function DB(n,t,e,i){if(!Gk(n))return;const s=t[n],a=e[n];Wt(s)&&Wt(a)?Nh(s,a,i):t[n]=Fm(a)}function Nh(n,t,e){const i=we(t)?t:[t],s=i.length;if(!Wt(n))return n;e=e||{};const a=e.merger||DB;let l;for(let c=0;c<s;++c){if(l=i[c],!Wt(l))continue;const h=Object.keys(l);for(let d=0,m=h.length;d<m;++d)a(h[d],n,l,e)}return n}function lh(n,t){return Nh(n,t,{merger:PB})}function PB(n,t,e){if(!Gk(n))return;const i=t[n],s=e[n];Wt(i)&&Wt(s)?lh(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Fm(s))}const ZE={"":n=>n,x:n=>n.x,y:n=>n.y};function OB(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function jB(n){const t=OB(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function wa(n,t){return(ZE[t]||(ZE[t]=jB(t)))(n)}function _b(n){return n.charAt(0).toUpperCase()+n.slice(1)}const kh=n=>typeof n<"u",Ta=n=>typeof n=="function",JE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function VB(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const te=Math.PI,xe=2*te,LB=xe+te,Hm=Number.POSITIVE_INFINITY,zB=te/180,Ue=te/2,uo=te/4,t2=te*2/3,sa=Math.log10,bs=Math.sign;function ch(n,t,e){return Math.abs(n-t)<e}function e2(n){const t=Math.round(n);n=ch(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(sa(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function BB(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function UB(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ac(n){return!UB(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function FB(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Wk(n,t,e){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Ui(n){return n*(te/180)}function wb(n){return n*(180/te)}function n2(n){if(!Pe(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Yk(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*te&&(a+=xe),{angle:a,distance:s}}function yv(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function HB(n,t){return(n-t+LB)%xe-te}function Mn(n){return(n%xe+xe)%xe}function Mh(n,t,e,i){const s=Mn(n),a=Mn(t),l=Mn(e),c=Mn(a-s),h=Mn(l-s),d=Mn(s-a),m=Mn(s-l);return s===a||s===l||i&&a===l||c>h&&d<m}function mn(n,t,e){return Math.max(t,Math.min(e,n))}function qB(n){return mn(n,-32768,32767)}function sr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Tb(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,e(a)?s=a:i=a;return{lo:s,hi:i}}const rr=(n,t,e,i)=>Tb(n,e,i?s=>{const a=n[s][t];return a<e||a===e&&n[s+1][t]===e}:s=>n[s][t]<e),$B=(n,t,e)=>Tb(n,e,i=>n[i][t]>=e);function GB(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const Qk=["push","pop","shift","splice","unshift"];function WB(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Qk.forEach(e=>{const i="_onData"+_b(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function i2(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(Qk.forEach(a=>{delete n[a]}),delete n._chartjs)}function Kk(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Xk=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Zk(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,Xk.call(window,()=>{i=!1,n.apply(t,e)}))}}function YB(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Sb=n=>n==="start"?"left":n==="end"?"right":"center",Nn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,QB=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Jk(n,t,e){const i=t.length;let s=0,a=i;if(n._sorted){const{iScale:l,vScale:c,_parsed:h}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=l.axis,{min:v,max:x,minDefined:w,maxDefined:T}=l.getUserBounds();if(w){if(s=Math.min(rr(h,m,v).lo,e?i:rr(t,m,l.getPixelForValue(v)).lo),d){const E=h.slice(0,s+1).reverse().findIndex(C=>!Ht(C[c.axis]));s-=Math.max(0,E)}s=mn(s,0,i-1)}if(T){let E=Math.max(rr(h,l.axis,x,!0).hi+1,e?0:rr(t,m,l.getPixelForValue(x),!0).hi+1);if(d){const C=h.slice(E-1).findIndex(N=>!Ht(N[c.axis]));E+=Math.max(0,C)}a=mn(E,s,i)-s}else a=i-s}return{start:s,count:a}}function tM(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),a}const Bf=n=>n===0||n===1,s2=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*xe/e)),r2=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*xe/e)+1,uh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ue)+1,easeOutSine:n=>Math.sin(n*Ue),easeInOutSine:n=>-.5*(Math.cos(te*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Bf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Bf(n)?n:s2(n,.075,.3),easeOutElastic:n=>Bf(n)?n:r2(n,.075,.3),easeInOutElastic(n){return Bf(n)?n:n<.5?.5*s2(n*2,.1125,.45):.5+.5*r2(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-uh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?uh.easeInBounce(n*2)*.5:uh.easeOutBounce(n*2-1)*.5+.5};function Eb(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function a2(n){return Eb(n)?n:new Rh(n)}function ly(n){return Eb(n)?n:new Rh(n).saturate(.5).darken(.1).hexString()}const KB=["x","y","borderWidth","radius","tension"],XB=["color","borderColor","backgroundColor"];function ZB(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:XB},numbers:{type:"number",properties:KB}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function JB(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const o2=new Map;function tU(n,t){t=t||{};const e=n+JSON.stringify(t);let i=o2.get(e);return i||(i=new Intl.NumberFormat(n,t),o2.set(e,i)),i}function td(n,t,e){return tU(t,e).format(n)}const eM={values(n){return we(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),a=eU(n,e)}const l=sa(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),td(n,i,h)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(sa(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?eM.numeric.call(this,n,t,e):""}};function eU(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var bp={formatters:eM};function nU(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Oo=Object.create(null),vv=Object.create(null);function hh(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function cy(n,t,e){return typeof t=="string"?Nh(hh(n,t),e):Nh(hh(n,""),t)}class iU{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>ly(s.backgroundColor),this.hoverBorderColor=(i,s)=>ly(s.borderColor),this.hoverColor=(i,s)=>ly(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return cy(this,t,e)}get(t){return hh(this,t)}describe(t,e){return cy(vv,t,e)}override(t,e){return cy(Oo,t,e)}route(t,e,i,s){const a=hh(this,t),l=hh(this,i),c="_"+e;Object.defineProperties(a,{[c]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[c],d=l[s];return Wt(h)?Object.assign({},d,h):jt(h,d)},set(h){this[c]=h}}})}apply(t){t.forEach(e=>e(this))}}var Se=new iU({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ZB,JB,nU]);function sU(n){return!n||Ht(n.size)||Ht(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function qm(n,t,e,i,s){let a=t[s];return a||(a=t[s]=n.measureText(s).width,e.push(s)),a>i&&(i=a),i}function rU(n,t,e,i){i=i||{};let s=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},a=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const c=e.length;let h,d,m,v,x;for(h=0;h<c;h++)if(v=e[h],v!=null&&!we(v))l=qm(n,s,a,l,v);else if(we(v))for(d=0,m=v.length;d<m;d++)x=v[d],x!=null&&!we(x)&&(l=qm(n,s,a,l,x));n.restore();const w=a.length/2;if(w>e.length){for(h=0;h<w;h++)delete s[a[h]];a.splice(0,w)}return l}function ho(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function l2(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function xv(n,t,e,i){nM(n,t,e,i,null)}function nM(n,t,e,i,s){let a,l,c,h,d,m,v,x;const w=t.pointStyle,T=t.rotation,E=t.radius;let C=(T||0)*zB;if(w&&typeof w=="object"&&(a=w.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),w){default:s?n.ellipse(e,i,s/2,E,0,0,xe):n.arc(e,i,E,0,xe),n.closePath();break;case"triangle":m=s?s/2:E,n.moveTo(e+Math.sin(C)*m,i-Math.cos(C)*E),C+=t2,n.lineTo(e+Math.sin(C)*m,i-Math.cos(C)*E),C+=t2,n.lineTo(e+Math.sin(C)*m,i-Math.cos(C)*E),n.closePath();break;case"rectRounded":d=E*.516,h=E-d,l=Math.cos(C+uo)*h,v=Math.cos(C+uo)*(s?s/2-d:h),c=Math.sin(C+uo)*h,x=Math.sin(C+uo)*(s?s/2-d:h),n.arc(e-v,i-c,d,C-te,C-Ue),n.arc(e+x,i-l,d,C-Ue,C),n.arc(e+v,i+c,d,C,C+Ue),n.arc(e-x,i+l,d,C+Ue,C+te),n.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*E,m=s?s/2:h,n.rect(e-m,i-h,2*m,2*h);break}C+=uo;case"rectRot":v=Math.cos(C)*(s?s/2:E),l=Math.cos(C)*E,c=Math.sin(C)*E,x=Math.sin(C)*(s?s/2:E),n.moveTo(e-v,i-c),n.lineTo(e+x,i-l),n.lineTo(e+v,i+c),n.lineTo(e-x,i+l),n.closePath();break;case"crossRot":C+=uo;case"cross":v=Math.cos(C)*(s?s/2:E),l=Math.cos(C)*E,c=Math.sin(C)*E,x=Math.sin(C)*(s?s/2:E),n.moveTo(e-v,i-c),n.lineTo(e+v,i+c),n.moveTo(e+x,i-l),n.lineTo(e-x,i+l);break;case"star":v=Math.cos(C)*(s?s/2:E),l=Math.cos(C)*E,c=Math.sin(C)*E,x=Math.sin(C)*(s?s/2:E),n.moveTo(e-v,i-c),n.lineTo(e+v,i+c),n.moveTo(e+x,i-l),n.lineTo(e-x,i+l),C+=uo,v=Math.cos(C)*(s?s/2:E),l=Math.cos(C)*E,c=Math.sin(C)*E,x=Math.sin(C)*(s?s/2:E),n.moveTo(e-v,i-c),n.lineTo(e+v,i+c),n.moveTo(e+x,i-l),n.lineTo(e-x,i+l);break;case"line":l=s?s/2:Math.cos(C)*E,c=Math.sin(C)*E,n.moveTo(e-l,i-c),n.lineTo(e+l,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(s?s/2:E),i+Math.sin(C)*E);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function ar(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function _p(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function wp(n){n.restore()}function aU(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function oU(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function lU(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ht(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function cU(n,t,e,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,d=e+a.actualBoundingBoxDescent,m=s.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,m),n.lineTo(c,m),n.stroke()}}function uU(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function jo(n,t,e,i,s,a={}){const l=we(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let h,d;for(n.save(),n.font=s.string,lU(n,a),h=0;h<l.length;++h)d=l[h],a.backdrop&&uU(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Ht(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(d,e,i,a.maxWidth)),n.fillText(d,e,i,a.maxWidth),cU(n,e,i,d,a),i+=Number(s.lineHeight);n.restore()}function Ih(n,t){const{x:e,y:i,w:s,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*te,te,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,te,Ue,!0),n.lineTo(e+s-l.bottomRight,i+a),n.arc(e+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Ue,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-Ue,!0),n.lineTo(e+l.topLeft,i)}const hU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,dU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function fU(n,t){const e=(""+n).match(hU);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const mU=n=>+n||0;function Ab(n,t){const e={},i=Wt(t),s=i?Object.keys(t):t,a=Wt(n)?i?l=>jt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=mU(a(l));return e}function iM(n){return Ab(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Co(n){return Ab(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ln(n){const t=iM(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function sn(n,t){n=n||{},t=t||Se.font;let e=jt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=jt(n.style,t.style);i&&!(""+i).match(dU)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:jt(n.family,t.family),lineHeight:fU(jt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:jt(n.weight,t.weight),string:""};return s.string=sU(s),s}function Wu(n,t,e,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function pU(n,t,e){const{min:i,max:s}=n,a=$k(t,(s-i)/2),l=(c,h)=>e&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function Ra(n,t){return Object.assign(Object.create(n),t)}function Cb(n,t=[""],e,i,s=()=>n[0]){const a=e||n;typeof i>"u"&&(i=oM("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>Cb([c,...n],t,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return rM(c,h,()=>TU(h,t,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return u2(c).includes(h)},ownKeys(c){return u2(c)},set(c,h,d){const m=c._storage||(c._storage=s());return c[h]=m[h]=d,delete c._keys,!0}})}function oc(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:sM(n,i),setContext:a=>oc(n,a,e,i),override:a=>oc(n.override(a),t,e,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return rM(a,l,()=>yU(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function sM(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Ta(e)?e:()=>e,isIndexable:Ta(i)?i:()=>i}}const gU=(n,t)=>n?n+_b(t):t,Rb=(n,t)=>Wt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function rM(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function yU(n,t,e){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let c=i[t];return Ta(c)&&l.isScriptable(t)&&(c=vU(t,c,n,e)),we(c)&&c.length&&(c=xU(t,c,n,l.isIndexable)),Rb(t,c)&&(c=oc(c,s,a&&a[t],l)),c}function vU(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=t(a,l||i);return c.delete(n),Rb(n,h)&&(h=Nb(s._scopes,s,n,h)),h}function xU(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(Wt(t[0])){const h=t,d=s._scopes.filter(m=>m!==h);t=[];for(const m of h){const v=Nb(d,s,n,m);t.push(oc(v,a,l&&l[n],c))}}return t}function aM(n,t,e){return Ta(n)?n(t,e):n}const bU=(n,t)=>n===!0?t:typeof n=="string"?wa(t,n):void 0;function _U(n,t,e,i,s){for(const a of t){const l=bU(e,a);if(l){n.add(l);const c=aM(l._fallback,e,s);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function Nb(n,t,e,i){const s=t._rootScopes,a=aM(t._fallback,e,i),l=[...n,...s],c=new Set;c.add(i);let h=c2(c,l,e,a||e,i);return h===null||typeof a<"u"&&a!==e&&(h=c2(c,l,a,h,i),h===null)?!1:Cb(Array.from(c),[""],s,a,()=>wU(t,e,i))}function c2(n,t,e,i,s){for(;e;)e=_U(n,t,e,i,s);return e}function wU(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return we(s)&&Wt(e)?e:s||{}}function TU(n,t,e,i){let s;for(const a of t)if(s=oM(gU(a,n),e),typeof s<"u")return Rb(n,s)?Nb(e,i,n,s):s}function oM(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function u2(n){let t=n._keys;return t||(t=n._keys=SU(n._scopes)),t}function SU(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function lM(n,t,e,i){const{iScale:s}=n,{key:a="r"}=this._parsing,l=new Array(i);let c,h,d,m;for(c=0,h=i;c<h;++c)d=c+e,m=t[d],l[c]={r:s.parse(wa(m,a),d)};return l}const EU=Number.EPSILON||1e-14,lc=(n,t)=>t<n.length&&!n[t].skip&&n[t],cM=n=>n==="x"?"y":"x";function AU(n,t,e,i){const s=n.skip?t:n,a=t,l=e.skip?t:e,c=yv(a,s),h=yv(l,a);let d=c/(c+h),m=h/(c+h);d=isNaN(d)?0:d,m=isNaN(m)?0:m;const v=i*d,x=i*m;return{previous:{x:a.x-v*(l.x-s.x),y:a.y-v*(l.y-s.y)},next:{x:a.x+x*(l.x-s.x),y:a.y+x*(l.y-s.y)}}}function CU(n,t,e){const i=n.length;let s,a,l,c,h,d=lc(n,0);for(let m=0;m<i-1;++m)if(h=d,d=lc(n,m+1),!(!h||!d)){if(ch(t[m],0,EU)){e[m]=e[m+1]=0;continue}s=e[m]/t[m],a=e[m+1]/t[m],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),e[m]=s*l*t[m],e[m+1]=a*l*t[m])}}function RU(n,t,e="x"){const i=cM(e),s=n.length;let a,l,c,h=lc(n,0);for(let d=0;d<s;++d){if(l=c,c=h,h=lc(n,d+1),!c)continue;const m=c[e],v=c[i];l&&(a=(m-l[e])/3,c[`cp1${e}`]=m-a,c[`cp1${i}`]=v-a*t[d]),h&&(a=(h[e]-m)/3,c[`cp2${e}`]=m+a,c[`cp2${i}`]=v+a*t[d])}}function NU(n,t="x"){const e=cM(t),i=n.length,s=Array(i).fill(0),a=Array(i);let l,c,h,d=lc(n,0);for(l=0;l<i;++l)if(c=h,h=d,d=lc(n,l+1),!!h){if(d){const m=d[t]-h[t];s[l]=m!==0?(d[e]-h[e])/m:0}a[l]=c?d?bs(s[l-1])!==bs(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}CU(n,s,a),RU(n,a,t)}function Uf(n,t,e){return Math.max(Math.min(n,e),t)}function kU(n,t){let e,i,s,a,l,c=ar(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=c,c=e<i-1&&ar(n[e+1],t),a&&(s=n[e],l&&(s.cp1x=Uf(s.cp1x,t.left,t.right),s.cp1y=Uf(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=Uf(s.cp2x,t.left,t.right),s.cp2y=Uf(s.cp2y,t.top,t.bottom)))}function MU(n,t,e,i,s){let a,l,c,h;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")NU(n,s);else{let d=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)c=n[a],h=AU(d,c,n[Math.min(a+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}t.capBezierPoints&&kU(n,e)}function kb(){return typeof window<"u"&&typeof document<"u"}function Mb(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function $m(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Tp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function IU(n,t){return Tp(n).getPropertyValue(t)}const DU=["top","right","bottom","left"];function Ro(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=DU[s];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const PU=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function OU(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,c,h;if(PU(s,a,n.target))c=s,h=a;else{const d=t.getBoundingClientRect();c=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:c,y:h,box:l}}function yo(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=Tp(e),a=s.boxSizing==="border-box",l=Ro(s,"padding"),c=Ro(s,"border","width"),{x:h,y:d,box:m}=OU(n,e),v=l.left+(m&&c.left),x=l.top+(m&&c.top);let{width:w,height:T}=t;return a&&(w-=l.width+c.width,T-=l.height+c.height),{x:Math.round((h-v)/w*e.width/i),y:Math.round((d-x)/T*e.height/i)}}function jU(n,t,e){let i,s;if(t===void 0||e===void 0){const a=n&&Mb(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),c=Tp(a),h=Ro(c,"border","width"),d=Ro(c,"padding");t=l.width-d.width-h.width,e=l.height-d.height-h.height,i=$m(c.maxWidth,a,"clientWidth"),s=$m(c.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||Hm,maxHeight:s||Hm}}const Ff=n=>Math.round(n*10)/10;function VU(n,t,e,i){const s=Tp(n),a=Ro(s,"margin"),l=$m(s.maxWidth,n,"clientWidth")||Hm,c=$m(s.maxHeight,n,"clientHeight")||Hm,h=jU(n,t,e);let{width:d,height:m}=h;if(s.boxSizing==="content-box"){const x=Ro(s,"border","width"),w=Ro(s,"padding");d-=w.width+x.width,m-=w.height+x.height}return d=Math.max(0,d-a.width),m=Math.max(0,i?d/i:m-a.height),d=Ff(Math.min(d,l,h.maxWidth)),m=Ff(Math.min(m,c,h.maxHeight)),d&&!m&&(m=Ff(d/2)),(t!==void 0||e!==void 0)&&i&&h.height&&m>h.height&&(m=h.height,d=Ff(Math.floor(m*i))),{width:d,height:m}}function h2(n,t,e){const i=t||1,s=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const LU=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};kb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function d2(n,t){const e=IU(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function vo(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function zU(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function BU(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=vo(n,s,e),c=vo(s,a,e),h=vo(a,t,e),d=vo(l,c,e),m=vo(c,h,e);return vo(d,m,e)}const UU=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},FU=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ql(n,t,e){return n?UU(t,e):FU()}function uM(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function hM(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function dM(n){return n==="angle"?{between:Mh,compare:HB,normalize:Mn}:{between:sr,compare:(t,e)=>t-e,normalize:t=>t}}function f2({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function HU(n,t,e){const{property:i,start:s,end:a}=e,{between:l,normalize:c}=dM(i),h=t.length;let{start:d,end:m,loop:v}=n,x,w;if(v){for(d+=h,m+=h,x=0,w=h;x<w&&l(c(t[d%h][i]),s,a);++x)d--,m--;d%=h,m%=h}return m<d&&(m+=h),{start:d,end:m,loop:v,style:n.style}}function fM(n,t,e){if(!e)return[n];const{property:i,start:s,end:a}=e,l=t.length,{compare:c,between:h,normalize:d}=dM(i),{start:m,end:v,loop:x,style:w}=HU(n,t,e),T=[];let E=!1,C=null,N,j,B;const W=()=>h(s,B,N)&&c(s,B)!==0,F=()=>c(a,N)===0||h(a,B,N),q=()=>E||W(),M=()=>!E||F();for(let R=m,I=m;R<=v;++R)j=t[R%l],!j.skip&&(N=d(j[i]),N!==B&&(E=h(N,s,a),C===null&&q()&&(C=c(N,s)===0?R:I),C!==null&&M()&&(T.push(f2({start:C,end:R,loop:x,count:l,style:w})),C=null),I=R,B=N));return C!==null&&T.push(f2({start:C,end:v,loop:x,count:l,style:w})),T}function mM(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const a=fM(i[s],n.points,t);a.length&&e.push(...a)}return e}function qU(n,t,e,i){let s=0,a=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(a+=s);a>s&&n[a%t].skip;)a--;return a%=t,{start:s,end:a}}function $U(n,t,e,i){const s=n.length,a=[];let l=t,c=n[t],h;for(h=t+1;h<=e;++h){const d=n[h%s];d.skip||d.stop?c.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=d.stop?h:null):(l=h,c.skip&&(t=h)),c=d}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function GU(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const a=!!n._loop,{start:l,end:c}=qU(e,s,a,i);if(i===!0)return m2(n,[{start:l,end:c,loop:a}],e,t);const h=c<l?c+s:c,d=!!n._fullLoop&&l===0&&c===s-1;return m2(n,$U(e,l,h,d),e,t)}function m2(n,t,e,i){return!i||!i.setContext||!e?t:WU(n,t,e,i)}function WU(n,t,e,i){const s=n._chart.getContext(),a=p2(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,h=e.length,d=[];let m=a,v=t[0].start,x=v;function w(T,E,C,N){const j=c?-1:1;if(T!==E){for(T+=h;e[T%h].skip;)T-=j;for(;e[E%h].skip;)E+=j;T%h!==E%h&&(d.push({start:T%h,end:E%h,loop:C,style:N}),m=N,v=E%h)}}for(const T of t){v=c?v:T.start;let E=e[v%h],C;for(x=v+1;x<=T.end;x++){const N=e[x%h];C=p2(i.setContext(Ra(s,{type:"segment",p0:E,p1:N,p0DataIndex:(x-1)%h,p1DataIndex:x%h,datasetIndex:l}))),YU(C,m)&&w(v,x-1,T.loop,m),E=N,m=C}v<x-1&&w(v,x-1,T.loop,m)}return d}function p2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function YU(n,t){if(!t)return!1;const e=[],i=function(s,a){return Eb(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Hf(n,t,e){return n.options.clip?n[e]:t[e]}function QU(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Hf(e,t,"left"),right:Hf(e,t,"right"),top:Hf(i,t,"top"),bottom:Hf(i,t,"bottom")}:t}function pM(n,t){const e=t._clip;if(e.disabled)return!1;const i=QU(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class KU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s],l=e.duration;a.forEach(c=>c({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Xk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Zs=new KU;const g2="transparent",XU={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=a2(n||g2),s=i.valid&&a2(t||g2);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class ZU{constructor(t,e,i,s){const a=e[i];s=Wu([t.to,s,a,t.from]);const l=Wu([t.from,a,s]);this._active=!0,this._fn=t.fn||XU[t.type||typeof l],this._easing=uh[t.easing]||uh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Wu([t.to,e,s,t.from]),this._from=Wu([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||e<i),!this._active){this._target[s]=c,this._notify(!0);return}if(e<0){this._target[s]=a;return}h=e/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class gM{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Wt(t))return;const e=Object.keys(Se.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Wt(a))return;const l={};for(const c of e)l[c]=a[c];(we(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,e){const i=e.options,s=tF(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&JU(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,e));continue}const m=e[d];let v=a[d];const x=i.get(d);if(v)if(x&&v.active()){v.update(x,m,c);continue}else v.cancel();if(!x||!x.duration){t[d]=m;continue}a[d]=v=new ZU(x,t,d,m),s.push(v)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Zs.add(this._chart,i),!0}}function JU(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function tF(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function y2(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function eF(n,t,e){if(e===!1)return!1;const i=y2(n,e),s=y2(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function nF(n){let t,e,i,s;return Wt(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function yM(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)e.push(i[s].index);return e}function v2(n,t,e,i={}){const s=n.keys,a=i.mode==="single";let l,c,h,d;if(t===null)return;let m=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===e){if(m=!0,i.all)continue;break}d=n.values[h],Pe(d)&&(a||t===0||bs(t)===bs(d))&&(t+=d)}return!m&&!i.all?0:t}function iF(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,d,m;for(h=0,d=l.length;h<d;++h)m=l[h],c[h]={[s]:m,[a]:n[m]};return c}function uy(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function sF(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function rF(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function aF(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function x2(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function b2(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,d=l.axis,m=sF(a,l,i),v=t.length;let x;for(let w=0;w<v;++w){const T=t[w],{[h]:E,[d]:C}=T,N=T._stacks||(T._stacks={});x=N[d]=aF(s,m,E),x[c]=C,x._top=x2(x,l,!0,i.type),x._bottom=x2(x,l,!1,i.type);const j=x._visualValues||(x._visualValues={});j[c]=C}}function hy(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function oF(n,t){return Ra(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function lF(n,t,e){return Ra(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Pu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const dy=n=>n==="reset"||n==="none",_2=(n,t)=>t?n:Object.assign({},n),cF=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:yM(e,!0),values:null};class Na{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=uy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Pu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(v,x,w,T)=>v==="x"?x:v==="r"?T:w,a=e.xAxisID=jt(i.xAxisID,hy(t,"x")),l=e.yAxisID=jt(i.yAxisID,hy(t,"y")),c=e.rAxisID=jt(i.rAxisID,hy(t,"r")),h=e.indexAxis,d=e.iAxisID=s(h,a,l,c),m=e.vAxisID=s(h,l,a,c);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&i2(this._data,this),t._stacked&&Pu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Wt(e)){const s=this._cachedMeta;this._data=iF(e,s)}else if(i!==e){if(i){i2(i,this);const s=this._cachedMeta;Pu(s),s._parsed=[]}e&&Object.isExtensible(e)&&WB(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=uy(e.vScale,e),e.stack!==i.stack&&(s=!0,Pu(e),e.stack=i.stack),this._resyncElements(t),(s||a!==e._stacked)&&(b2(this,e._parsed),e._stacked=uy(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=t===0&&e===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],m,v,x;if(this._parsing===!1)i._parsed=s,i._sorted=!0,x=s;else{we(s[t])?x=this.parseArrayData(i,s,t,e):Wt(s[t])?x=this.parseObjectData(i,s,t,e):x=this.parsePrimitiveData(i,s,t,e);const w=()=>v[c]===null||d&&v[c]<d[c];for(m=0;m<e;++m)i._parsed[m+t]=v=x[m],h&&(w()&&(h=!1),d=v);i._sorted=h}l&&b2(this,x)}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:l}=t,c=a.axis,h=l.axis,d=a.getLabels(),m=a===l,v=new Array(s);let x,w,T;for(x=0,w=s;x<w;++x)T=x+i,v[x]={[c]:m||a.parse(d[T],T),[h]:l.parse(e[T],T)};return v}parseArrayData(t,e,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let h,d,m,v;for(h=0,d=s;h<d;++h)m=h+i,v=e[m],c[h]={x:a.parse(v[0],m),y:l.parse(v[1],m)};return c}parseObjectData(t,e,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let m,v,x,w;for(m=0,v=s;m<v;++m)x=m+i,w=e[x],d[m]={x:a.parse(wa(w,c),x),y:l.parse(wa(w,h),x)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,a=this._cachedMeta,l=e[t.axis],c={keys:yM(s,!0),values:e._stacks[t.axis]._visualValues};return v2(c,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const a=i[e.axis];let l=a===null?NaN:a;const c=s&&i._stacks[e.axis];s&&c&&(s.values=c,l=v2(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=cF(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=rF(c);let x,w;function T(){w=s[x];const E=w[c.axis];return!Pe(w[t.axis])||m>E||v<E}for(x=0;x<l&&!(!T()&&(this.updateRangeFromParsed(d,t,w,h),a));++x);if(a){for(x=l-1;x>=0;--x)if(!T()){this.updateRangeFromParsed(d,t,w,h);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s][t.axis],Pe(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=nF(jt(this.options.clip,eF(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],a=e.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,a,c,h),m=c;m<c+h;++m){const v=s[m];v.hidden||(v.active&&d?l.push(v):v.draw(t,a))}for(m=0;m<l.length;++m)l[m].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=lF(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=oF(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",a=this._cachedDataOpts,l=t+"-"+e,c=a[l],h=this.enableOptionSharing&&kh(i);if(c)return _2(c,h);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,t),v=s?[`${t}Hover`,"hover",t,""]:[t,""],x=d.getOptionScopes(this.getDataset(),m),w=Object.keys(Se.elements[t]),T=()=>this.getContext(i,s,e),E=d.resolveNamedOptions(x,w,T,v);return E.$shared&&(E.$shared=h,a[l]=Object.freeze(_2(E,h))),E}_resolveAnimations(t,e,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,c=a[l];if(c)return c;let h;if(s.options.animation!==!1){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,e),x=m.getOptionScopes(this.getDataset(),v);h=m.createResolver(x,this.getContext(t,i,e))}const d=new gM(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||dy(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,s){dy(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!dy(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const s=i.length,a=e.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,i=!0){const s=this._cachedMeta,a=s.data,l=t+e;let c;const h=d=>{for(d.length+=e,c=d.length-1;c>=l;c--)d[c]=d[c-e]};for(h(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Pu(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function uF(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=e.length;s<a;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=Kk(i.sort((s,a)=>s-a))}return n._cache.$bar}function hF(n){const t=n.iScale,e=uF(t,n.type);let i=t._length,s,a,l,c;const h=()=>{l===32767||l===-32768||(kh(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,a=e.length;s<a;++s)l=t.getPixelForValue(e[s]),h();for(c=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function dF(n,t,e,i){const s=e.barThickness;let a,l;return Ht(s)?(a=t.min*e.categoryPercentage,l=e.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[n]-a/2}}function fF(n,t,e,i){const s=t.pixels,a=s[n];let l=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const h=e.categoryPercentage;l===null&&(l=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-l);const d=a-(a-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:e.barPercentage,start:d}}function mF(n,t,e,i){const s=e.parse(n[0],i),a=e.parse(n[1],i),l=Math.min(s,a),c=Math.max(s,a);let h=l,d=c;Math.abs(l)>Math.abs(c)&&(h=c,d=l),t[e.axis]=d,t._custom={barStart:h,barEnd:d,start:s,end:a,min:l,max:c}}function vM(n,t,e,i){return we(n)?mF(n,t,e,i):t[e.axis]=e.parse(n,i),t}function w2(n,t,e,i){const s=n.iScale,a=n.vScale,l=s.getLabels(),c=s===a,h=[];let d,m,v,x;for(d=e,m=e+i;d<m;++d)x=t[d],v={},v[s.axis]=c||s.parse(l[d],d),h.push(vM(x,v,a,d));return h}function fy(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function pF(n,t,e){return n!==0?bs(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function gF(n){let t,e,i,s,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:e,end:i,reverse:t,top:s,bottom:a}}function yF(n,t,e,i){let s=t.borderSkipped;const a={};if(!s){n.borderSkipped=a;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:d,bottom:m}=gF(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=d:(e._bottom||0)===i?s=m:(a[T2(m,l,c,h)]=!0,s=d)),a[T2(s,l,c,h)]=!0,n.borderSkipped=a}function T2(n,t,e,i){return i?(n=vF(n,t,e),n=S2(n,e,t)):n=S2(n,t,e),n}function vF(n,t,e){return n===t?e:n===e?t:n}function S2(n,t,e){return n==="start"?t:n==="end"?e:n}function xF(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class bF extends Na{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,s){return w2(t,e,i,s)}parseArrayData(t,e,i,s){return w2(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=a.axis==="x"?c:h,m=l.axis==="x"?c:h,v=[];let x,w,T,E;for(x=i,w=i+s;x<w;++x)E=e[x],T={},T[a.axis]=a.parse(wa(E,d),x),v.push(vM(wa(E,m),T,l,x));return v}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,a=this.getParsed(t),l=a._custom,c=fy(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),d=c.isHorizontal(),m=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(e,s);for(let w=e;w<e+i;w++){const T=this.getParsed(w),E=a||Ht(T[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(w),C=this._calculateBarIndexPixels(w,m),N=(T._stacks||{})[c.axis],j={horizontal:d,base:E.base,enableBorderRadius:!N||fy(T._custom)||l===N._top||l===N._bottom,x:d?E.head:C.center,y:d?C.center:E.head,height:d?C.size:Math.abs(E.size),width:d?Math.abs(E.size):C.size};x&&(j.options=v||this.resolveDataElementOptions(w,t[w].active?"active":s));const B=j.options||t[w].options;yF(j,B,N,l),xF(j,B,m.ratio),this.updateElement(t[w],w,j,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),a=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(e),h=c&&c[i.axis],d=m=>{const v=m._parsed.find(w=>w[i.axis]===h),x=v&&v[m.vScale.axis];if(Ht(x)||isNaN(x))return!0};for(const m of s)if(!(e!==void 0&&d(m))&&((a===!1||l.indexOf(m.stack)===-1||a===void 0&&m.stack===void 0)&&l.push(m.stack),m.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[jt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const s=this._getStacks(t,i),a=e!==void 0?s.indexOf(e):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let a,l;for(a=0,l=e.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=t.barThickness;return{min:c||hF(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,h=this.getParsed(t),d=h._custom,m=fy(d);let v=h[e.axis],x=0,w=i?this.applyStack(e,h,i):v,T,E;w!==v&&(x=w-v,w=v),m&&(v=d.barStart,w=d.barEnd-d.barStart,v!==0&&bs(v)!==bs(d.barEnd)&&(x=0),x+=v);const C=!Ht(a)&&!m?a:x;let N=e.getPixelForValue(C);if(this.chart.getDataVisibility(t)?T=e.getPixelForValue(x+w):T=N,E=T-N,Math.abs(E)<l){E=pF(E,e,c)*l,v===c&&(N-=E/2);const j=e.getPixelForDecimal(0),B=e.getPixelForDecimal(1),W=Math.min(j,B),F=Math.max(j,B);N=Math.max(Math.min(N,F),W),T=N+E,i&&!m&&(h._stacks[e.axis]._visualValues[s]=e.getValueForPixel(T)-e.getValueForPixel(N))}if(N===e.getPixelForValue(c)){const j=bs(E)*e.getLineWidthForValue(c)/2;N+=j,E-=j}return{size:E,base:N,head:T,center:T+E/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,a=s.skipNull,l=jt(s.maxBarThickness,1/0);let c,h;const d=this._getAxisCount();if(e.grouped){const m=a?this._getStackCount(t):e.stackCount,v=s.barThickness==="flex"?fF(t,e,s,m*d):dF(t,e,s,m*d),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(jt(x,this.getFirstScaleIdForIndexAxis())),T=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+w;c=v.start+v.chunk*T+v.chunk/2,h=Math.min(l,v.chunk*v.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,e.min*e.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}class _F extends Na{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const a=super.parsePrimitiveData(t,e,i,s);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+i).radius;return a}parseArrayData(t,e,i,s){const a=super.parseArrayData(t,e,i,s);for(let l=0;l<a.length;l++){const c=e[i+l];a[l]._custom=jt(c[2],this.resolveDataElementOptions(l+i).radius)}return a}parseObjectData(t,e,i,s){const a=super.parseObjectData(t,e,i,s);for(let l=0;l<a.length;l++){const c=e[i+l];a[l]._custom=jt(c&&c.r&&+c.r,this.resolveDataElementOptions(l+i).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=e,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=a.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+c+", "+h+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,s),m=l.axis,v=c.axis;for(let x=e;x<e+i;x++){const w=t[x],T=!a&&this.getParsed(x),E={},C=E[m]=a?l.getPixelForDecimal(.5):l.getPixelForValue(T[m]),N=E[v]=a?c.getBasePixel():c.getPixelForValue(T[v]);E.skip=isNaN(C)||isNaN(N),d&&(E.options=h||this.resolveDataElementOptions(x,w.active?"active":s),a&&(E.options.radius=0)),this.updateElement(w,x,E,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return e!=="active"&&(s.radius=0),s.radius+=jt(i&&i._custom,a),s}}function wF(n,t,e){let i=1,s=1,a=0,l=0;if(t<xe){const c=n,h=c+t,d=Math.cos(c),m=Math.sin(c),v=Math.cos(h),x=Math.sin(h),w=(B,W,F)=>Mh(B,c,h,!0)?1:Math.max(W,W*e,F,F*e),T=(B,W,F)=>Mh(B,c,h,!0)?-1:Math.min(W,W*e,F,F*e),E=w(0,d,v),C=w(Ue,m,x),N=T(te,d,v),j=T(te+Ue,m,x);i=(E-N)/2,s=(C-j)/2,a=-(E+N)/2,l=-(C+j)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:l}}class Ib extends Na{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=h=>+i[h];if(Wt(i[t])){const{key:h="value"}=this._parsing;a=d=>+wa(i[d],h)}let l,c;for(l=t,c=t+e;l<c;++l)s._parsed[l]=a(l)}}_getRotation(){return Ui(this.options.rotation-90)}_getCircumference(){return Ui(this.options.circumference)}_getRotationExtents(){let t=xe,e=-xe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),l=s._getCircumference();t=Math.min(t,a),e=Math.max(e,a+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(IB(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:m,rotation:v}=this._getRotationExtents(),{ratioX:x,ratioY:w,offsetX:T,offsetY:E}=wF(v,m,h),C=(i.width-l)/x,N=(i.height-l)/w,j=Math.max(Math.min(C,N)/2,0),B=$k(this.options.radius,j),W=Math.max(B*h,0),F=(B-W)/this._getVisibleDatasetWeightTotal();this.offsetX=T*B,this.offsetY=E*B,s.total=this.calculateTotal(),this.outerRadius=B-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/xe)}updateElements(t,e,i,s){const a=s==="reset",l=this.chart,c=l.chartArea,d=l.options.animation,m=(c.left+c.right)/2,v=(c.top+c.bottom)/2,x=a&&d.animateScale,w=x?0:this.innerRadius,T=x?0:this.outerRadius,{sharedOptions:E,includeOptions:C}=this._getSharedOptions(e,s);let N=this._getRotation(),j;for(j=0;j<e;++j)N+=this._circumference(j,a);for(j=e;j<e+i;++j){const B=this._circumference(j,a),W=t[j],F={x:m+this.offsetX,y:v+this.offsetY,startAngle:N,endAngle:N+B,circumference:B,outerRadius:T,innerRadius:w};C&&(F.options=E||this.resolveDataElementOptions(j,W.active?"active":s)),N+=B,this.updateElement(W,j,F,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?xe*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=td(e._parsed[t],i.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,a,l,c,h;if(!t){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,c=l.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const a=this.resolveDataElementOptions(i);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(jt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class TF extends Na{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:c,count:h}=Jk(e,s,l);this._drawStart=c,this._drawCount=h,tM(e)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(s,c,h,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(e,s),x=l.axis,w=c.axis,{spanGaps:T,segment:E}=this.options,C=ac(T)?T:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||a||s==="none",j=e+i,B=t.length;let W=e>0&&this.getParsed(e-1);for(let F=0;F<B;++F){const q=t[F],M=N?q:{};if(F<e||F>=j){M.skip=!0;continue}const R=this.getParsed(F),I=Ht(R[w]),P=M[x]=l.getPixelForValue(R[x],F),L=M[w]=a||I?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,R,h):R[w],F);M.skip=isNaN(P)||isNaN(L)||I,M.stop=F>0&&Math.abs(R[x]-W[x])>C,E&&(M.parsed=R,M.raw=d.data[F]),v&&(M.options=m||this.resolveDataElementOptions(F,q.active?"active":s)),N||this.updateElement(q,F,M,s),W=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class xM extends Na{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=td(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:a}}parseObjectData(t,e,i,s){return lM.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),c=(a-l)/t.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,e,i,s){const a=s==="reset",l=this.chart,h=l.options.animation,d=this._cachedMeta.rScale,m=d.xCenter,v=d.yCenter,x=d.getIndexAngle(0)-.5*te;let w=x,T;const E=360/this.countVisibleElements();for(T=0;T<e;++T)w+=this._computeAngle(T,s,E);for(T=e;T<e+i;T++){const C=t[T];let N=w,j=w+this._computeAngle(T,s,E),B=l.getDataVisibility(T)?d.getDistanceFromCenterForValue(this.getParsed(T).r):0;w=j,a&&(h.animateScale&&(B=0),h.animateRotate&&(N=j=x));const W={x:m,y:v,innerRadius:0,outerRadius:B,startAngle:N,endAngle:j,options:this.resolveDataElementOptions(T,C.active?"active":s)};this.updateElement(C,T,W,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Ui(this.resolveDataElementOptions(t,e).angle||i):0}}class SF extends Ib{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class EF extends Na{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return lM.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],a=e.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:a.length===s.length,options:l};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const a=this._cachedMeta.rScale,l=s==="reset";for(let c=e;c<e+i;c++){const h=t[c],d=this.resolveDataElementOptions(c,h.active?"active":s),m=a.getPointPositionForValue(c,this.getParsed(c).r),v=l?a.xCenter:m.x,x=l?a.yCenter:m.y,w={x:v,y:x,angle:m.angle,skip:isNaN(v)||isNaN(x),options:d};this.updateElement(h,c,w,s)}}}class AF extends Na{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=e,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=a.getLabelForValue(l.y);return{label:i[t]||"",value:"("+c+", "+h+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:a,count:l}=Jk(e,i,s);if(this._drawStart=a,this._drawCount=l,tM(e)&&(a=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=e;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,a,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,m=this.resolveDataElementOptions(e,s),v=this.getSharedOptions(m),x=this.includeOptions(s,v),w=l.axis,T=c.axis,{spanGaps:E,segment:C}=this.options,N=ac(E)?E:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||a||s==="none";let B=e>0&&this.getParsed(e-1);for(let W=e;W<e+i;++W){const F=t[W],q=this.getParsed(W),M=j?F:{},R=Ht(q[T]),I=M[w]=l.getPixelForValue(q[w],W),P=M[T]=a||R?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,q,h):q[T],W);M.skip=isNaN(I)||isNaN(P)||R,M.stop=W>0&&Math.abs(q[w]-B[w])>N,C&&(M.parsed=q,M.raw=d.data[W]),x&&(M.options=v||this.resolveDataElementOptions(W,F.active?"active":s)),j||this.updateElement(F,W,M,s),B=q}this.updateSharedOptions(v,s,m)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let c=0;for(let h=e.length-1;h>=0;--h)c=Math.max(c,e[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const a=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,a,l)/2}}var CF=Object.freeze({__proto__:null,BarController:bF,BubbleController:_F,DoughnutController:Ib,LineController:TF,PieController:SF,PolarAreaController:xM,RadarController:EF,ScatterController:AF});function fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Db{static override(t){Object.assign(Db.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return fo()}parse(){return fo()}format(){return fo()}add(){return fo()}diff(){return fo()}startOf(){return fo()}endOf(){return fo()}}var RF={_date:Db};function NF(n,t,e,i){const{controller:s,data:a,_sorted:l}=n,c=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const d=c._reversePixels?$B:rr;if(i){if(s._sharedOptions){const m=a[0],v=typeof m.getRange=="function"&&m.getRange(t);if(v){const x=d(a,t,e-v),w=d(a,t,e+v);return{lo:x.lo,hi:w.hi}}}}else{const m=d(a,t,e);if(h){const{vScale:v}=s._cachedMeta,{_parsed:x}=n,w=x.slice(0,m.lo+1).reverse().findIndex(E=>!Ht(E[v.axis]));m.lo-=Math.max(0,w);const T=x.slice(m.hi).findIndex(E=>!Ht(E[v.axis]));m.hi+=Math.max(0,T)}return m}}return{lo:0,hi:a.length-1}}function Sp(n,t,e,i,s){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let c=0,h=a.length;c<h;++c){const{index:d,data:m}=a[c],{lo:v,hi:x}=NF(a[c],t,l,s);for(let w=v;w<=x;++w){const T=m[w];T.skip||i(T,d,w)}}}function kF(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function my(n,t,e,i,s){const a=[];return!s&&!n.isPointInArea(t)||Sp(n,e,t,function(c,h,d){!s&&!ar(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:h,index:d})},!0),a}function MF(n,t,e,i){let s=[];function a(l,c,h){const{startAngle:d,endAngle:m}=l.getProps(["startAngle","endAngle"],i),{angle:v}=Yk(l,{x:t.x,y:t.y});Mh(v,d,m)&&s.push({element:l,datasetIndex:c,index:h})}return Sp(n,e,t,a),s}function IF(n,t,e,i,s,a){let l=[];const c=kF(e);let h=Number.POSITIVE_INFINITY;function d(m,v,x){const w=m.inRange(t.x,t.y,s);if(i&&!w)return;const T=m.getCenterPoint(s);if(!(!!a||n.isPointInArea(T))&&!w)return;const C=c(t,T);C<h?(l=[{element:m,datasetIndex:v,index:x}],h=C):C===h&&l.push({element:m,datasetIndex:v,index:x})}return Sp(n,e,t,d),l}function py(n,t,e,i,s,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?MF(n,t,e,s):IF(n,t,e,i,s,a)}function E2(n,t,e,i,s){const a=[],l=e==="x"?"inXRange":"inYRange";let c=!1;return Sp(n,e,t,(h,d,m)=>{h[l]&&h[l](t[e],s)&&(a.push({element:h,datasetIndex:d,index:m}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:a}var DF={modes:{index(n,t,e,i){const s=yo(t,n),a=e.axis||"x",l=e.includeInvisible||!1,c=e.intersect?my(n,s,a,i,l):py(n,s,a,!1,i,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const m=c[0].index,v=d.data[m];v&&!v.skip&&h.push({element:v,datasetIndex:d.index,index:m})}),h):[]},dataset(n,t,e,i){const s=yo(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let c=e.intersect?my(n,s,a,i,l):py(n,s,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,d=n.getDatasetMeta(h).data;c=[];for(let m=0;m<d.length;++m)c.push({element:d[m],datasetIndex:h,index:m})}return c},point(n,t,e,i){const s=yo(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return my(n,s,a,i,l)},nearest(n,t,e,i){const s=yo(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return py(n,s,a,e.intersect,i,l)},x(n,t,e,i){const s=yo(t,n);return E2(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=yo(t,n);return E2(n,s,"y",e.intersect,i)}}};const bM=["left","top","right","bottom"];function Ou(n,t){return n.filter(e=>e.pos===t)}function A2(n,t){return n.filter(e=>bM.indexOf(e.pos)===-1&&e.box.axis===t)}function ju(n,t){return n.sort((e,i)=>{const s=t?i:e,a=t?e:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function PF(n){const t=[];let e,i,s,a,l,c;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function OF(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:a}=e;if(!i||!bM.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function jF(n,t){const e=OF(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:h}=c.box,d=e[c.stack],m=d&&c.stackWeight/d.weight;c.horizontal?(c.width=m?m*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=m?m*s:h&&t.availableHeight)}return e}function VF(n){const t=PF(n),e=ju(t.filter(d=>d.box.fullSize),!0),i=ju(Ou(t,"left"),!0),s=ju(Ou(t,"right")),a=ju(Ou(t,"top"),!0),l=ju(Ou(t,"bottom")),c=A2(t,"x"),h=A2(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:Ou(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(c)}}function C2(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function _M(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function LF(n,t,e,i){const{pos:s,box:a}=e,l=n.maxPadding;if(!Wt(s)){e.size&&(n[s]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?a.height:a.width),e.size=v.size/v.count,n[s]+=e.size}a.getPadding&&_M(l,a.getPadding());const c=Math.max(0,t.outerWidth-C2(l,n,"left","right")),h=Math.max(0,t.outerHeight-C2(l,n,"top","bottom")),d=c!==n.w,m=h!==n.h;return n.w=c,n.h=h,e.horizontal?{same:d,other:m}:{same:m,other:d}}function zF(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function BF(n,t){const e=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Yu(n,t,e,i){const s=[];let a,l,c,h,d,m;for(a=0,l=n.length,d=0;a<l;++a){c=n[a],h=c.box,h.update(c.width||t.w,c.height||t.h,BF(c.horizontal,t));const{same:v,other:x}=LF(t,e,c,i);d|=v&&s.length,m=m||x,h.fullSize||s.push(c)}return d&&Yu(s,t,e,i)||m}function qf(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function R2(n,t,e,i){const s=e.padding;let{x:a,y:l}=t;for(const c of n){const h=c.box,d=i[c.stack]||{placed:0,weight:1},m=c.stackWeight/d.weight||1;if(c.horizontal){const v=t.w*m,x=d.size||h.height;kh(d.start)&&(l=d.start),h.fullSize?qf(h,s.left,l,e.outerWidth-s.right-s.left,x):qf(h,t.left+d.placed,l,v,x),d.start=l,d.placed+=v,l=h.bottom}else{const v=t.h*m,x=d.size||h.width;kh(d.start)&&(a=d.start),h.fullSize?qf(h,a,s.top,x,e.outerHeight-s.bottom-s.top):qf(h,a,t.top+d.placed,x,v),d.start=a,d.placed+=v,a=h.right}}t.x=a,t.y=l}var On={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=Ln(n.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(e-s.height,0),c=VF(n.boxes),h=c.vertical,d=c.horizontal;ce(n.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const m=h.reduce((E,C)=>C.box.options&&C.box.options.display===!1?E:E+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/m,hBoxMaxHeight:l/2}),x=Object.assign({},s);_M(x,Ln(i));const w=Object.assign({maxPadding:x,w:a,h:l,x:s.left,y:s.top},s),T=jF(h.concat(d),v);Yu(c.fullSize,w,v,T),Yu(h,w,v,T),Yu(d,w,v,T)&&Yu(h,w,v,T),zF(w),R2(c.leftAndTop,w,v,T),w.x+=w.w,w.y+=w.h,R2(c.rightAndBottom,w,v,T),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},ce(c.chartArea,E=>{const C=E.box;Object.assign(C,n.chartArea),C.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class wM{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class UF extends wM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fm="$chartjs",FF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},N2=n=>n===null||n==="";function HF(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[fm]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",N2(s)){const a=d2(n,"width");a!==void 0&&(n.width=a)}if(N2(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=d2(n,"height");a!==void 0&&(n.height=a)}return n}const TM=LU?{passive:!0}:!1;function qF(n,t,e){n&&n.addEventListener(t,e,TM)}function $F(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,TM)}function GF(n,t){const e=FF[n.type]||n.type,{x:i,y:s}=yo(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Gm(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function WF(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Gm(c.addedNodes,i),l=l&&!Gm(c.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function YF(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Gm(c.removedNodes,i),l=l&&!Gm(c.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Dh=new Map;let k2=0;function SM(){const n=window.devicePixelRatio;n!==k2&&(k2=n,Dh.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function QF(n,t){Dh.size||window.addEventListener("resize",SM),Dh.set(n,t)}function KF(n){Dh.delete(n),Dh.size||window.removeEventListener("resize",SM)}function XF(n,t,e){const i=n.canvas,s=i&&Mb(i);if(!s)return;const a=Zk((c,h)=>{const d=s.clientWidth;e(c,h),d<s.clientWidth&&e()},window),l=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,m=h.contentRect.height;d===0&&m===0||a(d,m)});return l.observe(s),QF(n,a),l}function gy(n,t,e){e&&e.disconnect(),t==="resize"&&KF(n)}function ZF(n,t,e){const i=n.canvas,s=Zk(a=>{n.ctx!==null&&e(GF(a,n))},n);return qF(i,t,s),s}class JF extends wM{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(HF(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[fm])return!1;const i=e[fm].initial;["height","width"].forEach(a=>{const l=i[a];Ht(l)?e.removeAttribute(a):e.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[fm],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:WF,detach:YF,resize:XF}[e]||ZF;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:gy,detach:gy,resize:gy}[e]||$F)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return VU(t,e,i,s)}isAttached(t){const e=t&&Mb(t);return!!(e&&e.isConnected)}}function tH(n){return!kb()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?UF:JF}let xr=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ac(this.x)&&ac(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}};function eH(n,t){const e=n.options.ticks,i=nH(n),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?sH(t):[],l=a.length,c=a[0],h=a[l-1],d=[];if(l>s)return rH(t,d,a,l/s),d;const m=iH(a,t,s);if(l>0){let v,x;const w=l>1?Math.round((h-c)/(l-1)):null;for($f(t,d,m,Ht(w)?0:c-w,c),v=0,x=l-1;v<x;v++)$f(t,d,m,a[v],a[v+1]);return $f(t,d,m,h,Ht(w)?t.length:h+w),d}return $f(t,d,m),d}function nH(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function iH(n,t,e){const i=aH(n),s=t.length/e;if(!i)return Math.max(s,1);const a=BB(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function sH(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function rH(n,t,e,i){let s=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),s++,a=e[s*i])}function $f(n,t,e,i,s){const a=jt(i,0),l=Math.min(jt(s,n.length),n.length);let c=0,h,d,m;for(e=Math.ceil(e),s&&(h=s-i,e=h/Math.floor(h/e)),m=a;m<0;)c++,m=Math.round(a+c*e);for(d=Math.max(a,0);d<l;d++)d===m&&(t.push(n[d]),c++,m=Math.round(a+c*e))}function aH(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const oH=n=>n==="left"?"right":n==="right"?"left":n,M2=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,I2=(n,t)=>Math.min(t||n,n);function D2(n,t){const e=[],i=n.length/t,s=n.length;let a=0;for(;a<s;a+=i)e.push(n[Math.floor(a)]);return e}function lH(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(s),d;if(!(e&&(i===1?d=Math.max(h-a,l-h):t===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(s-1))/2,h+=s<t?d:-d,h<a-c||h>l+c)))return h}function cH(n,t){ce(n,e=>{const i=e.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[i[a]];i.splice(0,s)}})}function Vu(n){return n.drawTicks?n.tickLength:0}function P2(n,t){if(!n.display)return 0;const e=sn(n.font,t),i=Ln(n.padding);return(we(n.text)?n.text.length:1)*e.lineHeight+i.height}function uH(n,t){return Ra(n,{scale:t,type:"scale"})}function hH(n,t,e){return Ra(n,{tick:e,index:t,type:"tick"})}function dH(n,t,e){let i=Sb(n);return(e&&t!=="right"||!e&&t==="right")&&(i=oH(i)),i}function fH(n,t,e,i){const{top:s,left:a,bottom:l,right:c,chart:h}=n,{chartArea:d,scales:m}=h;let v=0,x,w,T;const E=l-s,C=c-a;if(n.isHorizontal()){if(w=Nn(i,a,c),Wt(e)){const N=Object.keys(e)[0],j=e[N];T=m[N].getPixelForValue(j)+E-t}else e==="center"?T=(d.bottom+d.top)/2+E-t:T=M2(n,e,t);x=c-a}else{if(Wt(e)){const N=Object.keys(e)[0],j=e[N];w=m[N].getPixelForValue(j)-C+t}else e==="center"?w=(d.left+d.right)/2-C+t:w=M2(n,e,t);T=Nn(i,l,s),v=e==="left"?-Ue:Ue}return{titleX:w,titleY:T,maxWidth:x,rotation:v}}class Uo extends xr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=ci(t,Number.POSITIVE_INFINITY),e=ci(e,Number.NEGATIVE_INFINITY),i=ci(i,Number.POSITIVE_INFINITY),s=ci(s,Number.NEGATIVE_INFINITY),{min:ci(t,i),max:ci(e,s),minDefined:Pe(t),maxDefined:Pe(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)l=c[h].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=s&&e>i?e:i,{min:ci(e,ci(i,e)),max:ci(i,ci(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pU(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?D2(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=eH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ge(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=ge(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=I2(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let l=s,c,h,d;if(!this._isVisible()||!e.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const m=this._getLabelSizes(),v=m.widest.width,x=m.highest.height,w=mn(this.chart.width-v,0,this.maxWidth);c=t.offset?this.maxWidth/i:w/(i-1),v+6>c&&(c=w/(i-(t.offset?.5:1)),h=this.maxHeight-Vu(t.grid)-e.padding-P2(t.title,this.chart.options.font),d=Math.sqrt(v*v+x*x),l=wb(Math.min(Math.asin(mn((m.highest.height+6)/c,-1,1)),Math.asin(mn(h/d,-1,1))-Math.asin(mn(x/d,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=P2(s,e.options.font);if(c?(t.width=this.maxWidth,t.height=Vu(a)+h):(t.height=this.maxHeight,t.width=Vu(a)+h),i.display&&this.ticks.length){const{first:d,last:m,widest:v,highest:x}=this._getLabelSizes(),w=i.padding*2,T=Ui(this.labelRotation),E=Math.cos(T),C=Math.sin(T);if(c){const N=i.mirror?0:C*v.width+E*x.height;t.height=Math.min(this.maxHeight,t.height+N+w)}else{const N=i.mirror?0:E*v.width+C*x.height;t.width=Math.min(this.maxWidth,t.width+N+w)}this._calculatePadding(d,m,C,E)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,w=0;h?d?(x=s*t.width,w=i*e.height):(x=i*t.height,w=s*e.width):a==="start"?w=e.width:a==="end"?x=t.width:a!=="inner"&&(x=t.width/2,w=e.width/2),this.paddingLeft=Math.max((x-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((w-v+l)*this.width/(this.width-v),0)}else{let m=e.height/2,v=t.height/2;a==="start"?(m=0,v=t.height):a==="end"&&(m=e.height,v=0),this.paddingTop=m+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ht(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=D2(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(e/I2(e,i));let d=0,m=0,v,x,w,T,E,C,N,j,B,W,F;for(v=0;v<e;v+=h){if(T=t[v].label,E=this._resolveTickFontOptions(v),s.font=C=E.string,N=a[C]=a[C]||{data:{},gc:[]},j=E.lineHeight,B=W=0,!Ht(T)&&!we(T))B=qm(s,N.data,N.gc,B,T),W=j;else if(we(T))for(x=0,w=T.length;x<w;++x)F=T[x],!Ht(F)&&!we(F)&&(B=qm(s,N.data,N.gc,B,F),W+=j);l.push(B),c.push(W),d=Math.max(B,d),m=Math.max(W,m)}cH(a,e);const q=l.indexOf(d),M=c.indexOf(m),R=I=>({width:l[I]||0,height:c[I]||0});return{first:R(0),last:R(e-1),widest:R(q),highest:R(M),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return qB(this._alignToPixels?ho(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=hH(this.getContext(),t,i))}return this.$context||(this.$context=uH(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ui(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,h=a.offset,d=this.isHorizontal(),v=this.ticks.length+(h?1:0),x=Vu(a),w=[],T=c.setContext(this.getContext()),E=T.display?T.width:0,C=E/2,N=function(G){return ho(i,G,E)};let j,B,W,F,q,M,R,I,P,L,z,V;if(l==="top")j=N(this.bottom),M=this.bottom-x,I=j-C,L=N(t.top)+C,V=t.bottom;else if(l==="bottom")j=N(this.top),L=t.top,V=N(t.bottom)-C,M=j+C,I=this.top+x;else if(l==="left")j=N(this.right),q=this.right-x,R=j-C,P=N(t.left)+C,z=t.right;else if(l==="right")j=N(this.left),P=t.left,z=N(t.right)-C,q=j+C,R=this.left+x;else if(e==="x"){if(l==="center")j=N((t.top+t.bottom)/2+.5);else if(Wt(l)){const G=Object.keys(l)[0],Z=l[G];j=N(this.chart.scales[G].getPixelForValue(Z))}L=t.top,V=t.bottom,M=j+C,I=M+x}else if(e==="y"){if(l==="center")j=N((t.left+t.right)/2);else if(Wt(l)){const G=Object.keys(l)[0],Z=l[G];j=N(this.chart.scales[G].getPixelForValue(Z))}q=j-C,R=q-x,P=t.left,z=t.right}const et=jt(s.ticks.maxTicksLimit,v),it=Math.max(1,Math.ceil(v/et));for(B=0;B<v;B+=it){const G=this.getContext(B),Z=a.setContext(G),at=c.setContext(G),mt=Z.lineWidth,U=Z.color,st=at.dash||[],dt=at.dashOffset,nt=Z.tickWidth,pt=Z.tickColor,bt=Z.tickBorderDash||[],ft=Z.tickBorderDashOffset;W=lH(this,B,h),W!==void 0&&(F=ho(i,W,mt),d?q=R=P=z=F:M=I=L=V=F,w.push({tx1:q,ty1:M,tx2:R,ty2:I,x1:P,y1:L,x2:z,y2:V,width:mt,color:U,borderDash:st,borderDashOffset:dt,tickWidth:nt,tickColor:pt,tickBorderDash:bt,tickBorderDashOffset:ft}))}return this._ticksLength=v,this._borderValue=j,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:m,mirror:v}=a,x=Vu(i.grid),w=x+m,T=v?-m:w,E=-Ui(this.labelRotation),C=[];let N,j,B,W,F,q,M,R,I,P,L,z,V="middle";if(s==="top")q=this.bottom-T,M=this._getXAxisLabelAlignment();else if(s==="bottom")q=this.top+T,M=this._getXAxisLabelAlignment();else if(s==="left"){const it=this._getYAxisLabelAlignment(x);M=it.textAlign,F=it.x}else if(s==="right"){const it=this._getYAxisLabelAlignment(x);M=it.textAlign,F=it.x}else if(e==="x"){if(s==="center")q=(t.top+t.bottom)/2+w;else if(Wt(s)){const it=Object.keys(s)[0],G=s[it];q=this.chart.scales[it].getPixelForValue(G)+w}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")F=(t.left+t.right)/2-w;else if(Wt(s)){const it=Object.keys(s)[0],G=s[it];F=this.chart.scales[it].getPixelForValue(G)}M=this._getYAxisLabelAlignment(x).textAlign}e==="y"&&(h==="start"?V="top":h==="end"&&(V="bottom"));const et=this._getLabelSizes();for(N=0,j=c.length;N<j;++N){B=c[N],W=B.label;const it=a.setContext(this.getContext(N));R=this.getPixelForTick(N)+a.labelOffset,I=this._resolveTickFontOptions(N),P=I.lineHeight,L=we(W)?W.length:1;const G=L/2,Z=it.color,at=it.textStrokeColor,mt=it.textStrokeWidth;let U=M;l?(F=R,M==="inner"&&(N===j-1?U=this.options.reverse?"left":"right":N===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?d==="near"||E!==0?z=-L*P+P/2:d==="center"?z=-et.highest.height/2-G*P+P:z=-et.highest.height+P/2:d==="near"||E!==0?z=P/2:d==="center"?z=et.highest.height/2-G*P:z=et.highest.height-L*P,v&&(z*=-1),E!==0&&!it.showLabelBackdrop&&(F+=P/2*Math.sin(E))):(q=R,z=(1-L)*P/2);let st;if(it.showLabelBackdrop){const dt=Ln(it.backdropPadding),nt=et.heights[N],pt=et.widths[N];let bt=z-dt.top,ft=0-dt.left;switch(V){case"middle":bt-=nt/2;break;case"bottom":bt-=nt;break}switch(M){case"center":ft-=pt/2;break;case"right":ft-=pt;break;case"inner":N===j-1?ft-=pt:N>0&&(ft-=pt/2);break}st={left:ft,top:bt,width:pt+dt.width,height:nt+dt.height,color:it.backdropColor}}C.push({label:W,font:I,textOffset:z,options:{rotation:E,color:Z,strokeColor:at,strokeWidth:mt,textAlign:U,textBaseline:V,translation:[F,q],backdrop:st}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ui(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,h=l.widest.width;let d,m;return e==="left"?s?(m=this.right+a,i==="near"?d="left":i==="center"?(d="center",m+=h/2):(d="right",m+=h)):(m=this.right-c,i==="near"?d="right":i==="center"?(d="center",m-=h/2):(d="left",m=this.left)):e==="right"?s?(m=this.left+a,i==="near"?d="right":i==="center"?(d="center",m-=h/2):(d="left",m-=h)):(m=this.left+c,i==="near"?d="left":i==="center"?(d="center",m+=h/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(h,d,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=s.length;a<l;++a){const h=s[a];e.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,m,v,x;this.isHorizontal()?(d=ho(t,this.left,l)-l/2,m=ho(t,this.right,c)+c/2,v=x=h):(v=ho(t,this.top,l)-l/2,x=ho(t,this.bottom,c)+c/2,d=m=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(d,v),e.lineTo(m,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&_p(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,h=l.font,d=l.label,m=l.textOffset;jo(i,d,0,m,h,c)}s&&wp(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=sn(i.font),l=Ln(i.padding),c=i.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||Wt(e)?(h+=l.bottom,we(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:m,maxWidth:v,rotation:x}=fH(this,h,e,c);jo(t,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:x,textAlign:dH(c,e,s),textBaseline:"middle",translation:[d,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=jt(t.grid&&t.grid.z,-1),s=jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Uo.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=e.length;a<l;++a){const c=e[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return sn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Gf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;gH(e)&&(i=this.register(e));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,mH(t,l,i),this.override&&Se.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Se[s]&&(delete Se[s][i],this.override&&delete Oo[i])}}function mH(n,t,e){const i=Nh(Object.create(null),[e?Se.get(e):{},Se.get(t),n.defaults]);Se.set(t,i),n.defaultRoutes&&pH(t,n.defaultRoutes),n.descriptors&&Se.describe(t,n.descriptors)}function pH(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),c=l.pop(),h=l.join(".");Se.route(a,s,h,c)})}function gH(n){return"id"in n&&"defaults"in n}class yH{constructor(){this.controllers=new Gf(Na,"datasets",!0),this.elements=new Gf(xr,"elements"),this.plugins=new Gf(Object,"plugins"),this.scales=new Gf(Uo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):ce(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,e,i){const s=_b(t);ge(i["before"+s],[],i),e[t](i),ge(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var us=new yH;class vH{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],h=[e,s,a.options];if(ge(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=jt(i.options&&i.options.plugins,{}),a=xH(i);return s===!1&&!e?[]:_H(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function xH(n){const t={},e=[],i=Object.keys(us.plugins.items);for(let a=0;a<i.length;a++)e.push(us.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function bH(n,t){return!t&&n===!1?null:n===!0?{}:n}function _H(n,{plugins:t,localIds:e},i,s){const a=[],l=n.getContext();for(const c of t){const h=c.id,d=bH(i[h],s);d!==null&&a.push({plugin:c,options:wH(n.config,{plugin:c,local:e[h]},d,l)})}return a}function wH(n,{plugin:t,local:e},i,s){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bv(n,t){const e=Se.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function TH(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function SH(n,t){return n===t?"_index_":"_value_"}function O2(n){if(n==="x"||n==="y"||n==="r")return n}function EH(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function _v(n,...t){if(O2(n))return n;for(const e of t){const i=e.axis||EH(e.position)||n.length>1&&O2(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function j2(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function AH(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return j2(n,"x",e[0])||j2(n,"y",e[0])}return{}}function CH(n,t){const e=Oo[n.type]||{scales:{}},i=t.scales||{},s=bv(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!Wt(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=_v(l,c,AH(l,n),Se.scales[c.type]),d=SH(h,s),m=e.scales||{};a[l]=lh(Object.create(null),[{axis:h},c,m[h],m[d]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||bv(c,t),m=(Oo[c]||{}).scales||{};Object.keys(m).forEach(v=>{const x=TH(v,h),w=l[x+"AxisID"]||x;a[w]=a[w]||Object.create(null),lh(a[w],[{axis:x},i[w],m[v]])})}),Object.keys(a).forEach(l=>{const c=a[l];lh(c,[Se.scales[c.type],Se.scale])}),a}function EM(n){const t=n.options||(n.options={});t.plugins=jt(t.plugins,{}),t.scales=CH(n,t)}function AM(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function RH(n){return n=n||{},n.data=AM(n.data),EM(n),n}const V2=new Map,CM=new Set;function Wf(n,t){let e=V2.get(n);return e||(e=t(),V2.set(n,e),CM.add(e)),e}const Lu=(n,t,e)=>{const i=wa(t,e);i!==void 0&&n.add(i)};class NH{constructor(t){this._config=RH(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=AM(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),EM(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Wf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Wf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Wf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Wf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(e);if(c)return c;const h=new Set;e.forEach(m=>{t&&(h.add(t),m.forEach(v=>Lu(h,t,v))),m.forEach(v=>Lu(h,s,v)),m.forEach(v=>Lu(h,Oo[a]||{},v)),m.forEach(v=>Lu(h,Se,v)),m.forEach(v=>Lu(h,vv,v))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),CM.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Oo[e]||{},Se.datasets[e]||{},{type:e},Se,vv]}resolveNamedOptions(t,e,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=L2(this._resolverCache,t,s);let h=l;if(MH(l,e)){a.$shared=!1,i=Ta(i)?i():i;const d=this.createResolver(t,i,c);h=oc(l,i,d)}for(const d of e)a[d]=h[d];return a}createResolver(t,e,i=[""],s){const{resolver:a}=L2(this._resolverCache,t,i);return Wt(e)?oc(a,e,void 0,s):a}}function L2(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let a=i.get(s);return a||(a={resolver:Cb(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const kH=n=>Wt(n)&&Object.getOwnPropertyNames(n).some(t=>Ta(n[t]));function MH(n,t){const{isScriptable:e,isIndexable:i}=sM(n);for(const s of t){const a=e(s),l=i(s),c=(l||a)&&n[s];if(a&&(Ta(c)||kH(c))||l&&we(c))return!0}return!1}var IH="4.5.0";const DH=["top","bottom","left","right","chartArea"];function z2(n,t){return n==="top"||n==="bottom"||DH.indexOf(n)===-1&&t==="x"}function B2(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function U2(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ge(e&&e.onComplete,[n],t)}function PH(n){const t=n.chart,e=t.options.animation;ge(e&&e.onProgress,[n],t)}function RM(n){return kb()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const mm={},F2=n=>{const t=RM(n);return Object.values(mm).filter(e=>e.canvas===t).pop()};function OH(n,t,e){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=t){const l=n[s];delete n[s],(e>0||a>t)&&(n[a+e]=l)}}}function jH(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Ep=class{static defaults=Se;static instances=mm;static overrides=Oo;static registry=us;static version=IH;static getChart=F2;static register(...t){us.add(...t),H2()}static unregister(...t){us.remove(...t),H2()}constructor(t,e){const i=this.config=new NH(e),s=RM(t),a=F2(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||tH(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,d=h&&h.height,m=h&&h.width;if(this.id=MB(),this.ctx=c,this.canvas=h,this.width=m,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=YB(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],mm[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Zs.listen(this,"complete",U2),Zs.listen(this,"progress",PH),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:a}=this;return Ht(t)?e&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return us}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():h2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return l2(this.canvas,this.ctx),this}stop(){return Zs.stop(this),this}resize(t,e){Zs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,h2(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),ge(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ce(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const c=e[l],h=_v(l,c),d=h==="r",m=h==="x";return{options:c,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),ce(a,l=>{const c=l.options,h=c.id,d=_v(h,c),m=jt(c.type,l.dtype);(c.position===void 0||z2(c.position,d)!==z2(l.dposition))&&(c.position=l.dposition),s[h]=!0;let v=null;if(h in i&&i[h].type===m)v=i[h];else{const x=us.getScale(m);v=new x({id:h,type:m,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(c,t)}),ce(s,(l,c)=>{l||delete i[c]}),ce(i,l=>{On.configure(this,l,l.options),On.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(B2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const a=e[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||bv(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=us.getController(c),{datasetElementType:d,dataElementType:m}=Se.datasets[c];Object.assign(h,{dataElementType:us.getElement(m),datasetElementType:d&&us.getElement(d)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){ce(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:v}=this.getDatasetMeta(d),x=!s&&a.indexOf(v)===-1;v.buildOrUpdateElements(x),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||ce(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(B2("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){ce(this.scales,t=>{On.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!JE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of e){const l=i==="_removeElements"?-a:a;OH(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<e;a++)if(!JE(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;On.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ce(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ta(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zs.has(this)?this.attached&&!Zs.running(this)&&Zs.start(this):(this.draw(),U2({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=pM(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&_p(e,s),t.controller.draw(),s&&wp(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return ar(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const a=DF.modes[e];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ra(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);kh(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Zs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),l2(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete mm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};ce(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,d)=>{e.addEventListener(this,h,d),t[h]=d},s=(h,d)=>{t[h]&&(e.removeEventListener(this,h,d),delete t[h])},a=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},e.isAttached(this.canvas)?c():l()}unbindEvents(){ce(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ce(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,l,c,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!Um(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,a=(h,d)=>h.filter(m=>!d.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),l=a(e,t),c=i?t:a(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:a}=this,l=e,c=this._getActiveElements(t,s,i,l),h=VB(t),d=jH(t,this._lastEvent,i,h);i&&(this._lastEvent=null,ge(a.onHover,[t,c,this],this),h&&ge(a.onClick,[t,c,this],this));const m=!Um(c,s);return(m||e)&&(this._active=c,this._updateHoverStyles(c,s,e)),this._lastEvent=d,m}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function H2(){return ce(Ep.instances,n=>n._plugins.invalidate())}function VH(n,t,e){const{startAngle:i,x:s,y:a,outerRadius:l,innerRadius:c,options:h}=t,{borderWidth:d,borderJoinStyle:m}=h,v=Math.min(d/l,Mn(i-e));if(n.beginPath(),n.arc(s,a,l-d/2,i+v/2,e-v/2),c>0){const x=Math.min(d/c,Mn(i-e));n.arc(s,a,c+d/2,e-x/2,i+x/2,!0)}else{const x=Math.min(d/2,l*Mn(i-e));if(m==="round")n.arc(s,a,x,e-te/2,i+te/2,!0);else if(m==="bevel"){const w=2*x*x,T=-w*Math.cos(e+te/2)+s,E=-w*Math.sin(e+te/2)+a,C=w*Math.cos(i+te/2)+s,N=w*Math.sin(i+te/2)+a;n.lineTo(T,E),n.lineTo(C,N)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function LH(n,t,e){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:c,innerRadius:h}=t;let d=s/c;n.beginPath(),n.arc(a,l,c,i-d,e+d),h>s?(d=s/h,n.arc(a,l,h,e+d,i-d,!0)):n.arc(a,l,s,e+Ue,i-Ue),n.closePath(),n.clip()}function zH(n){return Ab(n,["outerStart","outerEnd","innerStart","innerEnd"])}function BH(n,t,e,i){const s=zH(n.options.borderRadius),a=(e-t)/2,l=Math.min(a,i*t/2),c=h=>{const d=(e-Math.min(a,h))*i/2;return mn(h,0,Math.min(a,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:mn(s.innerStart,0,l),innerEnd:mn(s.innerEnd,0,l)}}function Pl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Wm(n,t,e,i,s,a){const{x:l,y:c,startAngle:h,pixelMargin:d,innerRadius:m}=t,v=Math.max(t.outerRadius+i+e-d,0),x=m>0?m+i+e+d:0;let w=0;const T=s-h;if(i){const it=m>0?m-i:0,G=v>0?v-i:0,Z=(it+G)/2,at=Z!==0?T*Z/(Z+i):T;w=(T-at)/2}const E=Math.max(.001,T*v-e/te)/v,C=(T-E)/2,N=h+C+w,j=s-C-w,{outerStart:B,outerEnd:W,innerStart:F,innerEnd:q}=BH(t,x,v,j-N),M=v-B,R=v-W,I=N+B/M,P=j-W/R,L=x+F,z=x+q,V=N+F/L,et=j-q/z;if(n.beginPath(),a){const it=(I+P)/2;if(n.arc(l,c,v,I,it),n.arc(l,c,v,it,P),W>0){const mt=Pl(R,P,l,c);n.arc(mt.x,mt.y,W,P,j+Ue)}const G=Pl(z,j,l,c);if(n.lineTo(G.x,G.y),q>0){const mt=Pl(z,et,l,c);n.arc(mt.x,mt.y,q,j+Ue,et+Math.PI)}const Z=(j-q/x+(N+F/x))/2;if(n.arc(l,c,x,j-q/x,Z,!0),n.arc(l,c,x,Z,N+F/x,!0),F>0){const mt=Pl(L,V,l,c);n.arc(mt.x,mt.y,F,V+Math.PI,N-Ue)}const at=Pl(M,N,l,c);if(n.lineTo(at.x,at.y),B>0){const mt=Pl(M,I,l,c);n.arc(mt.x,mt.y,B,N-Ue,I)}}else{n.moveTo(l,c);const it=Math.cos(I)*v+l,G=Math.sin(I)*v+c;n.lineTo(it,G);const Z=Math.cos(P)*v+l,at=Math.sin(P)*v+c;n.lineTo(Z,at)}n.closePath()}function UH(n,t,e,i,s){const{fullCircles:a,startAngle:l,circumference:c}=t;let h=t.endAngle;if(a){Wm(n,t,e,i,h,s);for(let d=0;d<a;++d)n.fill();isNaN(c)||(h=l+(c%xe||xe))}return Wm(n,t,e,i,h,s),n.fill(),h}function FH(n,t,e,i,s){const{fullCircles:a,startAngle:l,circumference:c,options:h}=t,{borderWidth:d,borderJoinStyle:m,borderDash:v,borderDashOffset:x,borderRadius:w}=h,T=h.borderAlign==="inner";if(!d)return;n.setLineDash(v||[]),n.lineDashOffset=x,T?(n.lineWidth=d*2,n.lineJoin=m||"round"):(n.lineWidth=d,n.lineJoin=m||"bevel");let E=t.endAngle;if(a){Wm(n,t,e,i,E,s);for(let C=0;C<a;++C)n.stroke();isNaN(c)||(E=l+(c%xe||xe))}T&&LH(n,t,E),h.selfJoin&&E-l>=te&&w===0&&m!=="miter"&&VH(n,t,E),a||(Wm(n,t,e,i,E,s),n.stroke())}class HH extends xr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:a,distance:l}=Yk(s,{x:t,y:e}),{startAngle:c,endAngle:h,innerRadius:d,outerRadius:m,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,w=jt(v,h-c),T=Mh(a,c,h)&&c!==h,E=w>=xe||T,C=sr(l,d+x,m+x);return E&&C}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:d}=this.options,m=(s+a)/2,v=(l+c+d+h)/2;return{x:e+Math.cos(m)*v,y:i+Math.sin(m)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/4,a=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>xe?Math.floor(i/xe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const h=1-Math.sin(Math.min(te,i||0)),d=s*h;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,UH(t,this,d,a,l),FH(t,this,d,a,l),t.restore()}}function NM(n,t,e=t){n.lineCap=jt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(jt(e.borderDash,t.borderDash)),n.lineDashOffset=jt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=jt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=jt(e.borderWidth,t.borderWidth),n.strokeStyle=jt(e.borderColor,t.borderColor)}function qH(n,t,e){n.lineTo(e.x,e.y)}function $H(n){return n.stepped?aU:n.tension||n.cubicInterpolationMode==="monotone"?oU:qH}function kM(n,t,e={}){const i=n.length,{start:s=0,end:a=i-1}=e,{start:l,end:c}=t,h=Math.max(s,l),d=Math.min(a,c),m=s<l&&a<l||s>c&&a>c;return{count:i,start:h,loop:t.loop,ilen:d<h&&!m?i+d-h:d-h}}function GH(n,t,e,i){const{points:s,options:a}=t,{count:l,start:c,loop:h,ilen:d}=kM(s,e,i),m=$H(a);let{move:v=!0,reverse:x}=i||{},w,T,E;for(w=0;w<=d;++w)T=s[(c+(x?d-w:w))%l],!T.skip&&(v?(n.moveTo(T.x,T.y),v=!1):m(n,E,T,x,a.stepped),E=T);return h&&(T=s[(c+(x?d:0))%l],m(n,E,T,x,a.stepped)),!!h}function WH(n,t,e,i){const s=t.points,{count:a,start:l,ilen:c}=kM(s,e,i),{move:h=!0,reverse:d}=i||{};let m=0,v=0,x,w,T,E,C,N;const j=W=>(l+(d?c-W:W))%a,B=()=>{E!==C&&(n.lineTo(m,C),n.lineTo(m,E),n.lineTo(m,N))};for(h&&(w=s[j(0)],n.moveTo(w.x,w.y)),x=0;x<=c;++x){if(w=s[j(x)],w.skip)continue;const W=w.x,F=w.y,q=W|0;q===T?(F<E?E=F:F>C&&(C=F),m=(v*m+W)/++v):(B(),n.lineTo(W,F),T=q,v=0,E=C=F),N=F}B()}function wv(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?WH:GH}function YH(n){return n.stepped?zU:n.tension||n.cubicInterpolationMode==="monotone"?BU:vo}function QH(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),NM(n,t.options),n.stroke(s)}function KH(n,t,e,i){const{segments:s,options:a}=t,l=wv(t);for(const c of s)NM(n,a,c.style),n.beginPath(),l(n,t,c,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const XH=typeof Path2D=="function";function ZH(n,t,e,i){XH&&!t.options.segment?QH(n,t,e,i):KH(n,t,e,i)}class ed extends xr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;MU(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=GU(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],a=this.points,l=mM(this,{property:e,start:s,end:s});if(!l.length)return;const c=[],h=YH(i);let d,m;for(d=0,m=l.length;d<m;++d){const{start:v,end:x}=l[d],w=a[v],T=a[x];if(w===T){c.push(w);continue}const E=Math.abs((s-w[e])/(T[e]-w[e])),C=h(w,T,E,i.stepped);C[e]=t[e],c.push(C)}return c.length===1?c[0]:c}pathSegment(t,e,i){return wv(this)(t,this,e,i)}path(t,e,i){const s=this.segments,a=wv(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const c of s)l&=a(t,this,c,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),ZH(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function q2(n,t,e,i){const s=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<s.radius+s.hitRadius}class MM extends xr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return q2(this,t,"x",e)}inYRange(t,e){return q2(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!ar(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,xv(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function IM(n,t){const{x:e,y:i,base:s,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let c,h,d,m,v;return n.horizontal?(v=l/2,c=Math.min(e,s),h=Math.max(e,s),d=i-v,m=i+v):(v=a/2,c=e-v,h=e+v,d=Math.min(i,s),m=Math.max(i,s)),{left:c,top:d,right:h,bottom:m}}function ra(n,t,e,i){return n?0:mn(t,e,i)}function JH(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,a=iM(i);return{t:ra(s.top,a.top,0,e),r:ra(s.right,a.right,0,t),b:ra(s.bottom,a.bottom,0,e),l:ra(s.left,a.left,0,t)}}function tq(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=Co(s),l=Math.min(t,e),c=n.borderSkipped,h=i||Wt(s);return{topLeft:ra(!h||c.top||c.left,a.topLeft,0,l),topRight:ra(!h||c.top||c.right,a.topRight,0,l),bottomLeft:ra(!h||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:ra(!h||c.bottom||c.right,a.bottomRight,0,l)}}function eq(n){const t=IM(n),e=t.right-t.left,i=t.bottom-t.top,s=JH(n,e/2,i/2),a=tq(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function yy(n,t,e,i){const s=t===null,a=e===null,c=n&&!(s&&a)&&IM(n,i);return c&&(s||sr(t,c.left,c.right))&&(a||sr(e,c.top,c.bottom))}function nq(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function iq(n,t){n.rect(t.x,t.y,t.w,t.h)}function vy(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,a=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+a,h:n.h+l,radius:n.radius}}class DM extends xr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=eq(this),c=nq(l.radius)?Ih:iq;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,vy(l,e,a)),t.clip(),c(t,vy(a,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,vy(a,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return yy(this,t,e,i)}inXRange(t,e){return yy(this,t,null,e)}inYRange(t,e){return yy(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+s)/2:e,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var sq=Object.freeze({__proto__:null,ArcElement:HH,BarElement:DM,LineElement:ed,PointElement:MM});const Tv=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$2=Tv.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function PM(n){return Tv[n%Tv.length]}function OM(n){return $2[n%$2.length]}function rq(n,t){return n.borderColor=PM(t),n.backgroundColor=OM(t),++t}function aq(n,t){return n.backgroundColor=n.data.map(()=>PM(t++)),t}function oq(n,t){return n.backgroundColor=n.data.map(()=>OM(t++)),t}function lq(n){let t=0;return(e,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Ib?t=aq(e,t):s instanceof xM?t=oq(e,t):s&&(t=rq(e,t))}}function G2(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function cq(n){return n&&(n.borderColor||n.backgroundColor)}function uq(){return Se.borderColor!=="rgba(0,0,0,0.1)"||Se.backgroundColor!=="rgba(0,0,0,0.1)"}var hq={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:a}=s,l=G2(i)||cq(s)||a&&G2(a)||uq();if(!e.forceOverride&&l)return;const c=lq(n);i.forEach(c)}};function dq(n,t,e,i,s){const a=s.samples||i;if(a>=e)return n.slice(t,t+e);const l=[],c=(e-2)/(a-2);let h=0;const d=t+e-1;let m=t,v,x,w,T,E;for(l[h++]=n[m],v=0;v<a-2;v++){let C=0,N=0,j;const B=Math.floor((v+1)*c)+1+t,W=Math.min(Math.floor((v+2)*c)+1,e)+t,F=W-B;for(j=B;j<W;j++)C+=n[j].x,N+=n[j].y;C/=F,N/=F;const q=Math.floor(v*c)+1+t,M=Math.min(Math.floor((v+1)*c)+1,e)+t,{x:R,y:I}=n[m];for(w=T=-1,j=q;j<M;j++)T=.5*Math.abs((R-C)*(n[j].y-I)-(R-n[j].x)*(N-I)),T>w&&(w=T,x=n[j],E=j);l[h++]=x,m=E}return l[h++]=n[d],l}function fq(n,t,e,i){let s=0,a=0,l,c,h,d,m,v,x,w,T,E;const C=[],N=t+e-1,j=n[t].x,W=n[N].x-j;for(l=t;l<t+e;++l){c=n[l],h=(c.x-j)/W*i,d=c.y;const F=h|0;if(F===m)d<T?(T=d,v=l):d>E&&(E=d,x=l),s=(a*s+c.x)/++a;else{const q=l-1;if(!Ht(v)&&!Ht(x)){const M=Math.min(v,x),R=Math.max(v,x);M!==w&&M!==q&&C.push({...n[M],x:s}),R!==w&&R!==q&&C.push({...n[R],x:s})}l>0&&q!==w&&C.push(n[q]),C.push(c),m=F,a=0,T=E=d,v=x=w=l}}return C}function jM(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function W2(n){n.data.datasets.forEach(t=>{jM(t)})}function mq(n,t){const e=t.length;let i=0,s;const{iScale:a}=n,{min:l,max:c,minDefined:h,maxDefined:d}=a.getUserBounds();return h&&(i=mn(rr(t,a.axis,l).lo,0,e-1)),d?s=mn(rr(t,a.axis,c).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var pq={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){W2(n);return}const i=n.width;n.data.datasets.forEach((s,a)=>{const{_data:l,indexAxis:c}=s,h=n.getDatasetMeta(a),d=l||s.data;if(Wu([c,n.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const m=n.scales[h.xAxisID];if(m.type!=="linear"&&m.type!=="time"||n.options.parsing)return;let{start:v,count:x}=mq(h,d);const w=e.threshold||4*i;if(x<=w){jM(s);return}Ht(l)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(E){this._data=E}}));let T;switch(e.algorithm){case"lttb":T=dq(d,v,x,i,e);break;case"min-max":T=fq(d,v,x,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=T})},destroy(n){W2(n)}};function gq(n,t,e){const i=n.segments,s=n.points,a=t.points,l=[];for(const c of i){let{start:h,end:d}=c;d=Ap(h,d,s);const m=Sv(e,s[h],s[d],c.loop);if(!t.segments){l.push({source:c,target:m,start:s[h],end:s[d]});continue}const v=mM(t,m);for(const x of v){const w=Sv(e,a[x.start],a[x.end],x.loop),T=fM(c,s,w);for(const E of T)l.push({source:E,target:x,start:{[e]:Y2(m,w,"start",Math.max)},end:{[e]:Y2(m,w,"end",Math.min)}})}}return l}function Sv(n,t,e,i){if(i)return;let s=t[n],a=e[n];return n==="angle"&&(s=Mn(s),a=Mn(a)),{property:n,start:s,end:a}}function yq(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=Ap(l,c,s);const h=s[l],d=s[c];i!==null?(a.push({x:h.x,y:i}),a.push({x:d.x,y:i})):e!==null&&(a.push({x:e,y:h.y}),a.push({x:e,y:d.y}))}),a}function Ap(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Y2(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function VM(n,t){let e=[],i=!1;return we(n)?(i=!0,e=n):e=yq(n,t),e.length?new ed({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Q2(n){return n&&n.fill!==!1}function vq(n,t,e){let s=n[t].fill;const a=[t];let l;if(!e)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!Pe(s))return s;if(l=n[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function xq(n,t,e){const i=Tq(n);if(Wt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Pe(s)&&Math.floor(s)===s?bq(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function bq(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function _q(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Wt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function wq(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Wt(n)?i=n.value:i=t.getBaseValue(),i}function Tq(n){const t=n.options,e=t.fill;let i=jt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Sq(n){const{scale:t,index:e,line:i}=n,s=[],a=i.segments,l=i.points,c=Eq(t,e);c.push(VM({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const d=a[h];for(let m=d.start;m<=d.end;m++)Aq(s,l[m],c)}return new ed({points:s,options:{}})}function Eq(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function Aq(n,t,e){const i=[];for(let s=0;s<e.length;s++){const a=e[s],{first:l,last:c,point:h}=Cq(a,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(n.push(h),!c)break}}n.push(...i)}function Cq(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],a=n.segments,l=n.points;let c=!1,h=!1;for(let d=0;d<a.length;d++){const m=a[d],v=l[m.start][e],x=l[m.end][e];if(sr(s,v,x)){c=s===v,h=s===x;break}}return{first:c,last:h,point:i}}class LM{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:a,radius:l}=this;return e=e||{start:0,end:xe},t.arc(s,a,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,a=t.angle;return{x:e+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function Rq(n){const{chart:t,fill:e,line:i}=n;if(Pe(e))return Nq(t,e);if(e==="stack")return Sq(n);if(e==="shape")return!0;const s=kq(n);return s instanceof LM?s:VM(s,i)}function Nq(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function kq(n){return(n.scale||{}).getPointPositionForValue?Iq(n):Mq(n)}function Mq(n){const{scale:t={},fill:e}=n,i=_q(e,t);if(Pe(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function Iq(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=wq(e,t,a),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new LM({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function xy(n,t,e){const i=Rq(t),{chart:s,index:a,line:l,scale:c,axis:h}=t,d=l.options,m=d.fill,v=d.backgroundColor,{above:x=v,below:w=v}=m||{},T=s.getDatasetMeta(a),E=pM(s,T);i&&l.points.length&&(_p(n,e),Dq(n,{line:l,target:i,above:x,below:w,area:e,scale:c,axis:h,clip:E}),wp(n))}function Dq(n,t){const{line:e,target:i,above:s,below:a,area:l,scale:c,clip:h}=t,d=e._loop?"angle":t.axis;n.save();let m=a;a!==s&&(d==="x"?(K2(n,i,l.top),by(n,{line:e,target:i,color:s,scale:c,property:d,clip:h}),n.restore(),n.save(),K2(n,i,l.bottom)):d==="y"&&(X2(n,i,l.left),by(n,{line:e,target:i,color:a,scale:c,property:d,clip:h}),n.restore(),n.save(),X2(n,i,l.right),m=s)),by(n,{line:e,target:i,color:m,scale:c,property:d,clip:h}),n.restore()}function K2(n,t,e){const{segments:i,points:s}=t;let a=!0,l=!1;n.beginPath();for(const c of i){const{start:h,end:d}=c,m=s[h],v=s[Ap(h,d,s)];a?(n.moveTo(m.x,m.y),a=!1):(n.lineTo(m.x,e),n.lineTo(m.x,m.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(v.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function X2(n,t,e){const{segments:i,points:s}=t;let a=!0,l=!1;n.beginPath();for(const c of i){const{start:h,end:d}=c,m=s[h],v=s[Ap(h,d,s)];a?(n.moveTo(m.x,m.y),a=!1):(n.lineTo(e,m.y),n.lineTo(m.x,m.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(e,v.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function by(n,t){const{line:e,target:i,property:s,color:a,scale:l,clip:c}=t,h=gq(e,i,s);for(const{source:d,target:m,start:v,end:x}of h){const{style:{backgroundColor:w=a}={}}=d,T=i!==!0;n.save(),n.fillStyle=w,Pq(n,l,c,T&&Sv(s,v,x)),n.beginPath();const E=!!e.pathSegment(n,d);let C;if(T){E?n.closePath():Z2(n,i,x,s);const N=!!i.pathSegment(n,m,{move:E,reverse:!0});C=E&&N,C||Z2(n,i,v,s)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function Pq(n,t,e,i){const s=t.chart.chartArea,{property:a,start:l,end:c}=i||{};if(a==="x"||a==="y"){let h,d,m,v;a==="x"?(h=l,d=s.top,m=c,v=s.bottom):(h=s.left,d=l,m=s.right,v=c),n.beginPath(),e&&(h=Math.max(h,e.left),m=Math.min(m,e.right),d=Math.max(d,e.top),v=Math.min(v,e.bottom)),n.rect(h,d,m-h,v-d),n.clip()}}function Z2(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var Oq={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let a,l,c,h;for(l=0;l<i;++l)a=n.getDatasetMeta(l),c=a.dataset,h=null,c&&c.options&&c instanceof ed&&(h={visible:n.isDatasetVisible(l),index:l,fill:xq(c,l,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=vq(s,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),i&&c.fill&&xy(n.ctx,c,a))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;Q2(a)&&xy(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Q2(i)||e.drawTime!=="beforeDatasetDraw"||xy(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const J2=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},jq=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class tA extends xr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ge(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=sn(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=J2(i,a);let d,m;e.font=s.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(l,a,c,h)+10):(m=this.maxHeight,d=this._fitCols(l,s,c,h)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],m=s+c;let v=t;a.textAlign="left",a.textBaseline="middle";let x=-1,w=-m;return this.legendItems.forEach((T,E)=>{const C=i+e/2+a.measureText(T.text).width;(E===0||d[d.length-1]+C+2*c>l)&&(v+=m,d[d.length-(E>0?0:1)]=0,w+=m,x++),h[E]={left:0,top:w,row:x,width:C,height:s},d[d.length-1]+=C+c}),v}_fitCols(t,e,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],m=l-t;let v=c,x=0,w=0,T=0,E=0;return this.legendItems.forEach((C,N)=>{const{itemWidth:j,itemHeight:B}=Vq(i,e,a,C,s);N>0&&w+B+2*c>m&&(v+=x+c,d.push({width:x,height:w}),T+=x+c,E++,x=w=0),h[N]={left:T,top:w,col:E,width:j,height:B},x=Math.max(x,j),w+=B+c}),v+=x,d.push({width:x,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:a}}=this,l=Ql(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=Nn(i,this.left+s,this.right-this.lineWidths[c]);for(const d of e)c!==d.row&&(c=d.row,h=Nn(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+t+s,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+s}else{let c=0,h=Nn(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const d of e)d.col!==c&&(c=d.col,h=Nn(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;_p(t,this),this._draw(),wp(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,c=Se.color,h=Ql(t.rtl,this.left,this.width),d=sn(l.font),{padding:m}=l,v=d.size,x=v/2;let w;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:T,boxHeight:E,itemHeight:C}=J2(l,v),N=function(q,M,R){if(isNaN(T)||T<=0||isNaN(E)||E<0)return;s.save();const I=jt(R.lineWidth,1);if(s.fillStyle=jt(R.fillStyle,c),s.lineCap=jt(R.lineCap,"butt"),s.lineDashOffset=jt(R.lineDashOffset,0),s.lineJoin=jt(R.lineJoin,"miter"),s.lineWidth=I,s.strokeStyle=jt(R.strokeStyle,c),s.setLineDash(jt(R.lineDash,[])),l.usePointStyle){const P={radius:E*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:I},L=h.xPlus(q,T/2),z=M+x;nM(s,P,L,z,l.pointStyleWidth&&T)}else{const P=M+Math.max((v-E)/2,0),L=h.leftForLtr(q,T),z=Co(R.borderRadius);s.beginPath(),Object.values(z).some(V=>V!==0)?Ih(s,{x:L,y:P,w:T,h:E,radius:z}):s.rect(L,P,T,E),s.fill(),I!==0&&s.stroke()}s.restore()},j=function(q,M,R){jo(s,R.text,q,M+C/2,d,{strikethrough:R.hidden,textAlign:h.textAlign(R.textAlign)})},B=this.isHorizontal(),W=this._computeTitleHeight();B?w={x:Nn(a,this.left+m,this.right-i[0]),y:this.top+m+W,line:0}:w={x:this.left+m,y:Nn(a,this.top+W+m,this.bottom-e[0].height),line:0},uM(this.ctx,t.textDirection);const F=C+m;this.legendItems.forEach((q,M)=>{s.strokeStyle=q.fontColor,s.fillStyle=q.fontColor;const R=s.measureText(q.text).width,I=h.textAlign(q.textAlign||(q.textAlign=l.textAlign)),P=T+x+R;let L=w.x,z=w.y;h.setWidth(this.width),B?M>0&&L+P+m>this.right&&(z=w.y+=F,w.line++,L=w.x=Nn(a,this.left+m,this.right-i[w.line])):M>0&&z+F>this.bottom&&(L=w.x=L+e[w.line].width+m,w.line++,z=w.y=Nn(a,this.top+W+m,this.bottom-e[w.line].height));const V=h.x(L);if(N(V,z,q),L=QB(I,L+T+x,B?L+P:this.right,t.rtl),j(h.x(L),z,q),B)w.x+=P+m;else if(typeof q.text!="string"){const et=d.lineHeight;w.y+=zM(q,et)+m}else w.y+=F}),hM(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=sn(e.font),s=Ln(e.padding);if(!e.display)return;const a=Ql(t.rtl,this.left,this.width),l=this.ctx,c=e.position,h=i.size/2,d=s.top+h;let m,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),m=this.top+d,v=Nn(t.align,v,this.right-x);else{const T=this.columnSizes.reduce((E,C)=>Math.max(E,C.height),0);m=d+Nn(t.align,this.top,this.bottom-T-t.labels.padding-this._computeTitleHeight())}const w=Nn(c,v,v+x);l.textAlign=a.textAlign(Sb(c)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,jo(l,e.text,w,m,i)}_computeTitleHeight(){const t=this.options.title,e=sn(t.font),i=Ln(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,a;if(sr(t,this.left,this.right)&&sr(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],sr(t,s.left,s.left+s.width)&&sr(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!Bq(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=jq(s,i);s&&!a&&ge(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&ge(e.onHover,[t,i,this],this)}else i&&ge(e.onClick,[t,i,this],this)}}function Vq(n,t,e,i,s){const a=Lq(i,n,t,e),l=zq(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function Lq(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(s).width}function zq(n,t,e){let i=n;return typeof t.text!="string"&&(i=zM(t,e)),i}function zM(n,t){const e=n.text?n.text.length:0;return t*e}function Bq(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var BM={id:"legend",_element:tA,start(n,t,e){const i=n.legend=new tA({ctx:n.ctx,options:e,chart:n});On.configure(n,i,e),On.addBox(n,i)},stop(n){On.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;On.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(e?0:void 0),m=Ln(d.borderWidth);return{text:t[h.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Pb extends xr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=we(i.text)?i.text.length:1;this._padding=Ln(i.padding);const a=s*sn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:a,options:l}=this,c=l.align;let h=0,d,m,v;return this.isHorizontal()?(m=Nn(c,i,a),v=e+t,d=a-i):(l.position==="left"?(m=i+t,v=Nn(c,s,e),h=te*-.5):(m=a-t,v=Nn(c,e,s),h=te*.5),d=s-e),{titleX:m,titleY:v,maxWidth:d,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=sn(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(a);jo(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:d,textAlign:Sb(e.align),textBaseline:"middle",translation:[l,c]})}}function Uq(n,t){const e=new Pb({ctx:n.ctx,options:t,chart:n});On.configure(n,e,t),On.addBox(n,e),n.titleBlock=e}var Fq={id:"title",_element:Pb,start(n,t,e){Uq(n,e)},stop(n){const t=n.titleBlock;On.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;On.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yf=new WeakMap;var Hq={id:"subtitle",start(n,t,e){const i=new Pb({ctx:n.ctx,options:e,chart:n});On.configure(n,i,e),On.addBox(n,i),Yf.set(n,i)},stop(n){On.removeBox(n,Yf.get(n)),Yf.delete(n)},beforeUpdate(n,t,e){const i=Yf.get(n);On.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qu={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,a=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),m=yv(t,d);m<s&&(s=m,c=h)}}if(c){const h=c.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function cs(n,t){return t&&(we(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Js(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function qq(n,t){const{element:e,datasetIndex:i,index:s}=t,a=n.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function eA(n,t){const e=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:c}=t,h=sn(t.bodyFont),d=sn(t.titleFont),m=sn(t.footerFont),v=a.length,x=s.length,w=i.length,T=Ln(t.padding);let E=T.height,C=0,N=i.reduce((W,F)=>W+F.before.length+F.lines.length+F.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,v&&(E+=v*d.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),N){const W=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;E+=w*W+(N-w)*h.lineHeight+(N-1)*t.bodySpacing}x&&(E+=t.footerMarginTop+x*m.lineHeight+(x-1)*t.footerSpacing);let j=0;const B=function(W){C=Math.max(C,e.measureText(W).width+j)};return e.save(),e.font=d.string,ce(n.title,B),e.font=h.string,ce(n.beforeBody.concat(n.afterBody),B),j=t.displayColors?l+2+t.boxPadding:0,ce(i,W=>{ce(W.before,B),ce(W.lines,B),ce(W.after,B)}),j=0,e.font=m.string,ce(n.footer,B),e.restore(),C+=T.width,{width:C,height:E}}function $q(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Gq(n,t,e,i){const{x:s,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+a+l>t.width||n==="right"&&s-a-l<0)return!0}function Wq(n,t,e,i){const{x:s,width:a}=e,{width:l,chartArea:{left:c,right:h}}=n;let d="center";return i==="center"?d=s<=(c+h)/2?"left":"right":s<=a/2?d="left":s>=l-a/2&&(d="right"),Gq(d,n,t,e)&&(d="center"),d}function nA(n,t,e){const i=e.yAlign||t.yAlign||$q(n,e);return{xAlign:e.xAlign||t.xAlign||Wq(n,t,e,i),yAlign:i}}function Yq(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function Qq(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function iA(n,t,e,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:h}=e,d=s+a,{topLeft:m,topRight:v,bottomLeft:x,bottomRight:w}=Co(l);let T=Yq(t,c);const E=Qq(t,h,d);return h==="center"?c==="left"?T+=d:c==="right"&&(T-=d):c==="left"?T-=Math.max(m,x)+s:c==="right"&&(T+=Math.max(v,w)+s),{x:mn(T,0,i.width-t.width),y:mn(E,0,i.height-t.height)}}function Qf(n,t,e){const i=Ln(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function sA(n){return cs([],Js(n))}function Kq(n,t,e){return Ra(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function rA(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const UM={beforeTitle:Xs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Xs,beforeBody:Xs,beforeLabel:Xs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ht(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Xs,afterBody:Xs,beforeFooter:Xs,footer:Xs,afterFooter:Xs};function Qn(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?UM[t].call(e,i):s}class aA extends xr{static positioners=Qu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,a=new gM(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Kq(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Qn(i,"beforeTitle",this,t),a=Qn(i,"title",this,t),l=Qn(i,"afterTitle",this,t);let c=[];return c=cs(c,Js(s)),c=cs(c,Js(a)),c=cs(c,Js(l)),c}getBeforeBody(t,e){return sA(Qn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return ce(t,a=>{const l={before:[],lines:[],after:[]},c=rA(i,a);cs(l.before,Js(Qn(c,"beforeLabel",this,a))),cs(l.lines,Qn(c,"label",this,a)),cs(l.after,Js(Qn(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,e){return sA(Qn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Qn(i,"beforeFooter",this,t),a=Qn(i,"footer",this,t),l=Qn(i,"afterFooter",this,t);let c=[];return c=cs(c,Js(s)),c=cs(c,Js(a)),c=cs(c,Js(l)),c}_createItems(t){const e=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],h,d;for(h=0,d=e.length;h<d;++h)c.push(qq(this.chart,e[h]));return t.filter&&(c=c.filter((m,v,x)=>t.filter(m,v,x,i))),t.itemSort&&(c=c.sort((m,v)=>t.itemSort(m,v,i))),ce(c,m=>{const v=rA(t.callbacks,m);s.push(Qn(v,"labelColor",this,m)),a.push(Qn(v,"labelPointStyle",this,m)),l.push(Qn(v,"labelTextColor",this,m))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=Qu[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=eA(this,i),d=Object.assign({},c,h),m=nA(this.chart,i,d),v=iA(i,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const a=this.getCaretPosition(t,i,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:d,bottomLeft:m,bottomRight:v}=Co(c),{x,y:w}=t,{width:T,height:E}=e;let C,N,j,B,W,F;return a==="center"?(W=w+E/2,s==="left"?(C=x,N=C-l,B=W+l,F=W-l):(C=x+T,N=C+l,B=W-l,F=W+l),j=C):(s==="left"?N=x+Math.max(h,m)+l:s==="right"?N=x+T-Math.max(d,v)-l:N=this.caretX,a==="top"?(B=w,W=B-l,C=N-l,j=N+l):(B=w+E,W=B+l,C=N+l,j=N-l),F=B),{x1:C,x2:N,x3:j,y1:B,y2:W,y3:F}}drawTitle(t,e,i){const s=this.title,a=s.length;let l,c,h;if(a){const d=Ql(i.rtl,this.x,this.width);for(t.x=Qf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=sn(i.titleFont),c=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,h=0;h<a;++h)e.fillText(s[h],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,e,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=a,m=sn(a.bodyFont),v=Qf(this,"left",a),x=s.x(v),w=h<m.lineHeight?(m.lineHeight-h)/2:0,T=e.y+w;if(a.usePointStyle){const E={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=s.leftForLtr(x,d)+d/2,N=T+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,xv(t,E,C,N),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,xv(t,E,C,N)}else{t.lineWidth=Wt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const E=s.leftForLtr(x,d),C=s.leftForLtr(s.xPlus(x,1),d-2),N=Co(l.borderRadius);Object.values(N).some(j=>j!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Ih(t,{x:E,y:T,w:d,h,radius:N}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Ih(t,{x:C,y:T+1,w:d-2,h:h-2,radius:N}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(E,T,d,h),t.strokeRect(E,T,d,h),t.fillStyle=l.backgroundColor,t.fillRect(C,T+1,d-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:m}=i,v=sn(i.bodyFont);let x=v.lineHeight,w=0;const T=Ql(i.rtl,this.x,this.width),E=function(R){e.fillText(R,T.x(t.x+w),t.y+x/2),t.y+=x+a},C=T.textAlign(l);let N,j,B,W,F,q,M;for(e.textAlign=l,e.textBaseline="middle",e.font=v.string,t.x=Qf(this,C,i),e.fillStyle=i.bodyColor,ce(this.beforeBody,E),w=c&&C!=="right"?l==="center"?d/2+m:d+2+m:0,W=0,q=s.length;W<q;++W){for(N=s[W],j=this.labelTextColors[W],e.fillStyle=j,ce(N.before,E),B=N.lines,c&&B.length&&(this._drawColorBox(e,t,W,T,i),x=Math.max(v.lineHeight,h)),F=0,M=B.length;F<M;++F)E(B[F]),x=v.lineHeight;ce(N.after,E)}w=0,x=v.lineHeight,ce(this.afterBody,E),t.y-=a}drawFooter(t,e,i){const s=this.footer,a=s.length;let l,c;if(a){const h=Ql(i.rtl,this.x,this.width);for(t.x=Qf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",l=sn(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,c=0;c<a;++c)e.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=t,{width:d,height:m}=i,{topLeft:v,topRight:x,bottomLeft:w,bottomRight:T}=Co(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(c+v,h),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(c+d-x,h),e.quadraticCurveTo(c+d,h,c+d,h+x),l==="center"&&a==="right"&&this.drawCaret(t,e,i,s),e.lineTo(c+d,h+m-T),e.quadraticCurveTo(c+d,h+m,c+d-T,h+m),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(c+w,h+m),e.quadraticCurveTo(c,h+m,c,h+m-w),l==="center"&&a==="left"&&this.drawCaret(t,e,i,s),e.lineTo(c,h+v),e.quadraticCurveTo(c,h,c+v,h),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Qu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=eA(this,t),h=Object.assign({},l,this._size),d=nA(e,t,h),m=iA(t,h,d,e);(s._to!==m.x||a._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ln(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,e),uM(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),hM(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),a=!Um(i,s),l=this._positionChanged(s,e);(a||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),c=this._positionChanged(l,t),h=e||!Um(l,a)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:a}=this,l=Qu[a.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}var FM={id:"tooltip",_element:aA,positioners:Qu,afterInit(n,t,e){e&&(n.tooltip=new aA({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:UM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Xq=Object.freeze({__proto__:null,Colors:hq,Decimation:pq,Filler:Oq,Legend:BM,SubTitle:Hq,Title:Fq,Tooltip:FM});const Zq=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Jq(n,t,e,i){const s=n.indexOf(t);if(s===-1)return Zq(n,t,e,i);const a=n.lastIndexOf(t);return s!==a?e:s}const t$=(n,t)=>n===null?null:mn(Math.round(n),0,t);function oA(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class HM extends Uo{static id="category";static defaults={ticks:{callback:oA}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:a}of e)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ht(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Jq(i,t,jt(e,t),this._addedLabels),t$(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return oA.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function e$(n,t){const e=[],{bounds:s,step:a,min:l,max:c,precision:h,count:d,maxTicks:m,maxDigits:v,includeBounds:x}=n,w=a||1,T=m-1,{min:E,max:C}=t,N=!Ht(l),j=!Ht(c),B=!Ht(d),W=(C-E)/(v+1);let F=e2((C-E)/T/w)*w,q,M,R,I;if(F<1e-14&&!N&&!j)return[{value:E},{value:C}];I=Math.ceil(C/F)-Math.floor(E/F),I>T&&(F=e2(I*F/T/w)*w),Ht(h)||(q=Math.pow(10,h),F=Math.ceil(F*q)/q),s==="ticks"?(M=Math.floor(E/F)*F,R=Math.ceil(C/F)*F):(M=E,R=C),N&&j&&a&&FB((c-l)/a,F/1e3)?(I=Math.round(Math.min((c-l)/F,m)),F=(c-l)/I,M=l,R=c):B?(M=N?l:M,R=j?c:R,I=d-1,F=(R-M)/I):(I=(R-M)/F,ch(I,Math.round(I),F/1e3)?I=Math.round(I):I=Math.ceil(I));const P=Math.max(n2(F),n2(M));q=Math.pow(10,Ht(h)?P:h),M=Math.round(M*q)/q,R=Math.round(R*q)/q;let L=0;for(N&&(x&&M!==l?(e.push({value:l}),M<l&&L++,ch(Math.round((M+L*F)*q)/q,l,lA(l,W,n))&&L++):M<l&&L++);L<I;++L){const z=Math.round((M+L*F)*q)/q;if(j&&z>c)break;e.push({value:z})}return j&&x&&R!==c?e.length&&ch(e[e.length-1].value,c,lA(c,W,n))?e[e.length-1].value=c:e.push({value:c}):(!j||R===c)&&e.push({value:R}),e}function lA(n,t,{horizontal:e,minRotation:i}){const s=Ui(i),a=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class Ym extends Uo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ht(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=e?s:h,c=h=>a=i?a:h;if(t){const h=bs(s),d=bs(a);h<0&&d<0?c(0):h>0&&d>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);c(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=e$(s,a);return t.bounds==="ticks"&&Wk(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return td(t,this.chart.options.locale,this.options.ticks.format)}}class qM extends Ym{static id="linear";static defaults={ticks:{callback:bp.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Pe(t)?t:0,this.max=Pe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ui(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ph=n=>Math.floor(sa(n)),mo=(n,t)=>Math.pow(10,Ph(n)+t);function cA(n){return n/Math.pow(10,Ph(n))===1}function uA(n,t,e){const i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function n$(n,t){const e=t-n;let i=Ph(e);for(;uA(n,t,i)>10;)i++;for(;uA(n,t,i)<10;)i--;return Math.min(i,Ph(n))}function i$(n,{min:t,max:e}){t=ci(n.min,t);const i=[],s=Ph(t);let a=n$(t,e),l=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),h=s>a?Math.pow(10,s):0,d=Math.round((t-h)*l)/l,m=Math.floor((t-h)/c/10)*c*10;let v=Math.floor((d-m)/Math.pow(10,a)),x=ci(n.min,Math.round((h+m+v*Math.pow(10,a))*l)/l);for(;x<e;)i.push({value:x,major:cA(x),significand:v}),v>=10?v=v<15?15:20:v++,v>=20&&(a++,v=2,l=a>=0?1:l),x=Math.round((h+m+v*Math.pow(10,a))*l)/l;const w=ci(n.max,x);return i.push({value:w,major:cA(w),significand:v}),i}class s$ extends Uo{static id="logarithmic";static defaults={ticks:{callback:bp.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Ym.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Pe(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Pe(t)?Math.max(0,t):null,this.max=Pe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pe(this._userMin)&&(this.min=t===mo(this.min,0)?mo(this.min,-1):mo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const a=c=>i=t?i:c,l=c=>s=e?s:c;i===s&&(i<=0?(a(1),l(10)):(a(mo(i,-1)),l(mo(s,1)))),i<=0&&a(mo(s,-1)),s<=0&&l(mo(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=i$(e,this);return t.bounds==="ticks"&&Wk(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":td(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=sa(t),this._valueRange=sa(this.max)-sa(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(sa(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Ev(n){const t=n.ticks;if(t.display&&n.display){const e=Ln(t.backdropPadding);return jt(t.font&&t.font.size,Se.font.size)+e.height}return 0}function r$(n,t,e){return e=we(e)?e:[e],{w:rU(n,t.string,e),h:e.length*t.lineHeight}}function hA(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function a$(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],a=n._pointLabels.length,l=n.options.pointLabels,c=l.centerPointLabels?te/a:0;for(let h=0;h<a;h++){const d=l.setContext(n.getPointLabelContext(h));s[h]=d.padding;const m=n.getPointPosition(h,n.drawingArea+s[h],c),v=sn(d.font),x=r$(n.ctx,v,n._pointLabels[h]);i[h]=x;const w=Mn(n.getIndexAngle(h)+c),T=Math.round(wb(w)),E=hA(T,m.x,x.w,0,180),C=hA(T,m.y,x.h,90,270);o$(e,t,w,E,C)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=u$(n,i,s)}function o$(n,t,e,i,s){const a=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let c=0,h=0;i.start<t.l?(c=(t.l-i.start)/a,n.l=Math.min(n.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/a,n.r=Math.max(n.r,t.r+c)),s.start<t.t?(h=(t.t-s.start)/l,n.t=Math.min(n.t,t.t-h)):s.end>t.b&&(h=(s.end-t.b)/l,n.b=Math.max(n.b,t.b+h))}function l$(n,t,e){const i=n.drawingArea,{extra:s,additionalAngle:a,padding:l,size:c}=e,h=n.getPointPosition(t,i+s+l,a),d=Math.round(wb(Mn(h.angle+Ue))),m=f$(h.y,c.h,d),v=h$(d),x=d$(h.x,c.w,v);return{visible:!0,x:h.x,y:m,textAlign:v,left:x,top:m,right:x+c.w,bottom:m+c.h}}function c$(n,t){if(!t)return!0;const{left:e,top:i,right:s,bottom:a}=n;return!(ar({x:e,y:i},t)||ar({x:e,y:a},t)||ar({x:s,y:i},t)||ar({x:s,y:a},t))}function u$(n,t,e){const i=[],s=n._pointLabels.length,a=n.options,{centerPointLabels:l,display:c}=a.pointLabels,h={extra:Ev(a)/2,additionalAngle:l?te/s:0};let d;for(let m=0;m<s;m++){h.padding=e[m],h.size=t[m];const v=l$(n,m,h);i.push(v),c==="auto"&&(v.visible=c$(v,d),v.visible&&(d=v))}return i}function h$(n){return n===0||n===180?"center":n<180?"left":"right"}function d$(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function f$(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function m$(n,t,e){const{left:i,top:s,right:a,bottom:l}=e,{backdropColor:c}=t;if(!Ht(c)){const h=Co(t.borderRadius),d=Ln(t.backdropPadding);n.fillStyle=c;const m=i-d.left,v=s-d.top,x=a-i+d.width,w=l-s+d.height;Object.values(h).some(T=>T!==0)?(n.beginPath(),Ih(n,{x:m,y:v,w:x,h:w,radius:h}),n.fill()):n.fillRect(m,v,x,w)}}function p$(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const a=n._pointLabelItems[s];if(!a.visible)continue;const l=i.setContext(n.getPointLabelContext(s));m$(e,l,a);const c=sn(l.font),{x:h,y:d,textAlign:m}=a;jo(e,n._pointLabels[s],h,d+c.lineHeight/2,c,{color:l.color,textAlign:m,textBaseline:"middle"})}}function $M(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,xe);else{let a=n.getPointPosition(0,t);s.moveTo(a.x,a.y);for(let l=1;l<i;l++)a=n.getPointPosition(l,t),s.lineTo(a.x,a.y)}}function g$(n,t,e,i,s){const a=n.ctx,l=t.circular,{color:c,lineWidth:h}=t;!l&&!i||!c||!h||e<0||(a.save(),a.strokeStyle=c,a.lineWidth=h,a.setLineDash(s.dash||[]),a.lineDashOffset=s.dashOffset,a.beginPath(),$M(n,e,l,i),a.closePath(),a.stroke(),a.restore())}function y$(n,t,e){return Ra(n,{label:e,index:t,type:"pointLabel"})}class v$ extends Ym{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ln(Ev(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Pe(t)&&!isNaN(t)?t:0,this.max=Pe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ev(this.options))}generateTickLabels(t){Ym.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=ge(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?a$(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){const e=xe/(this._pointLabels.length||1),i=this.options.startAngle||0;return Mn(t*e+Ui(i))}getDistanceFromCenterForValue(t){if(Ht(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ht(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return y$(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-Ue+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:a}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),$M(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:a}=e,l=this._pointLabels.length;let c,h,d;if(e.pointLabels.display&&p$(this,l),s.display&&this.ticks.forEach((m,v)=>{if(v!==0||v===0&&this.min<0){h=this.getDistanceFromCenterForValue(m.value);const x=this.getContext(v),w=s.setContext(x),T=a.setContext(x);g$(this,w,h,l,T)}}),i.display){for(t.save(),c=l-1;c>=0;c--){const m=i.setContext(this.getPointLabelContext(c)),{color:v,lineWidth:x}=m;!x||!v||(t.lineWidth=x,t.strokeStyle=v,t.setLineDash(m.borderDash),t.lineDashOffset=m.borderDashOffset,h=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(c,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let a,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(h)),m=sn(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){t.font=m.string,l=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const v=Ln(d.backdropPadding);t.fillRect(-l/2-v.left,-a-m.size/2-v.top,l+v.width,m.size+v.height)}jo(t,c.label,0,-a,m,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}const Cp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xn=Object.keys(Cp);function dA(n,t){return n-t}function fA(n,t){if(Ht(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Pe(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(ac(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,s)),+l)}function mA(n,t,e,i){const s=Xn.length;for(let a=Xn.indexOf(n);a<s-1;++a){const l=Cp[Xn[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(c*l.size))<=i)return Xn[a]}return Xn[s-1]}function x$(n,t,e,i,s){for(let a=Xn.length-1;a>=Xn.indexOf(e);a--){const l=Xn[a];if(Cp[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return Xn[e?Xn.indexOf(e):0]}function b$(n){for(let t=Xn.indexOf(n)+1,e=Xn.length;t<e;++t)if(Cp[Xn[t]].common)return Xn[t]}function pA(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=Tb(e,t),a=e[i]>=t?e[i]:e[s];n[a]=!0}}function _$(n,t,e,i){const s=n._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=a;c<=l;c=+s.add(c,1,i))h=e[c],h>=0&&(t[h].major=!0);return t}function gA(n,t,e){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!e?i:_$(n,i,s,e)}class Av extends Uo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new RF._date(t.adapters.date);s.init(e),lh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:fA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Pe(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),a=Pe(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=GB(s,a,l);return this._unit=e.unit||(i.autoSkip?mA(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):x$(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:b$(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),gA(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=mn(e,0,l),i=mn(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||mA(a.minUnit,e,i,this._getLabelCapacity(e)),c=jt(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,d=ac(h)||h===!0,m={};let v=e,x,w;if(d&&(v=+t.startOf(v,"isoWeek",h)),v=+t.startOf(v,d?"day":l),t.diff(i,e,l)>1e5*c)throw new Error(e+" and "+i+" are too far apart with stepSize of "+c+" "+l);const T=s.ticks.source==="data"&&this.getDataTimestamps();for(x=v,w=0;x<i;x=+t.add(x,c,l),w++)pA(m,x,T);return(x===i||s.bounds==="ticks"||w===1)&&pA(m,x,T),Object.keys(m).sort(dA).map(E=>+E)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,l=e||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const a=this.options,l=a.ticks.callback;if(l)return ge(l,[t,e,i],this);const c=a.time.displayFormats,h=this._unit,d=this._majorUnit,m=h&&c[h],v=d&&c[d],x=i[e],w=d&&v&&x&&x.major;return this._adapter.format(t,s||(w?v:m))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=Ui(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,gA(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(fA(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Kk(t.sort(dA))}}function Kf(n,t,e){let i=0,s=n.length-1,a,l,c,h;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=rr(n,"pos",t)),{pos:a,time:c}=n[i],{pos:l,time:h}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=rr(n,"time",t)),{time:a,pos:c}=n[i],{time:l,pos:h}=n[s]);const d=l-a;return d?c+(h-c)*(t-a)/d:c}class w$ extends Av{static id="timeseries";static defaults=Av.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Kf(e,this.min),this._tableRange=Kf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],a=[];let l,c,h,d,m;for(l=0,c=t.length;l<c;++l)d=t[l],d>=e&&d<=i&&s.push(d);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)m=s[l+1],h=s[l-1],d=s[l],Math.round((m+h)/2)!==d&&a.push({time:d,pos:l/(c-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Kf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Kf(this._table,i*this._tableRange+this._minPos,!0)}}var T$=Object.freeze({__proto__:null,CategoryScale:HM,LinearScale:qM,LogarithmicScale:s$,RadialLinearScale:v$,TimeScale:Av,TimeSeriesScale:w$});const S$=[CF,sq,Xq,T$];Ep.register(...S$);const GM="label";function yA(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function E$(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function WM(n,t){n.labels=t}function YM(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GM;const i=[];n.datasets=t.map(s=>{const a=n.datasets.find(l=>l[e]===s[e]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function A$(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GM;const e={labels:[],datasets:[]};return WM(e,n.labels),YM(e,n.datasets,t),e}function C$(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:d=[],fallbackContent:m,updateMode:v,...x}=n,w=O.useRef(null),T=O.useRef(null),E=()=>{w.current&&(T.current=new Ep(w.current,{type:l,data:A$(c,a),options:h&&{...h},plugins:d}),yA(t,T.current))},C=()=>{yA(t,null),T.current&&(T.current.destroy(),T.current=null)};return O.useEffect(()=>{!s&&T.current&&h&&E$(T.current,h)},[s,h]),O.useEffect(()=>{!s&&T.current&&WM(T.current.config.data,c.labels)},[s,c.labels]),O.useEffect(()=>{!s&&T.current&&c.datasets&&YM(T.current.config.data,c.datasets,a)},[s,c.datasets]),O.useEffect(()=>{T.current&&(s?(C(),setTimeout(E)):T.current.update(v))},[s,h,c.labels,c.datasets,v]),O.useEffect(()=>{T.current&&(C(),setTimeout(E))},[l]),O.useEffect(()=>(E(),()=>C()),[]),Rv.createElement("canvas",{ref:w,role:"img",height:e,width:i,...x},m)}const R$=O.forwardRef(C$);Ep.register(DM,ed,MM,qM,HM,FM,BM);const N$=({attempts:n})=>{const{labels:t,scores:e,percentages:i,maxQuestions:s,formattedDates:a}=O.useMemo(()=>{const h=[...n].sort((d,m)=>d.timestamp?.seconds-m.timestamp?.seconds);return{labels:h.map((d,m)=>`Attempt ${m+1}`),scores:h.map(d=>d.score),percentages:h.map(d=>d.percentage),maxQuestions:h[0]?.totalQuestions||1,formattedDates:h.map(d=>new Date(d.timestamp?.seconds*1e3).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}))}},[n]),l=O.useMemo(()=>({labels:t,datasets:[{type:"bar",label:"Score",data:e,backgroundColor:"rgba(54, 162, 235, 0.7)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,yAxisID:"y"},{type:"line",label:"Percentage",data:i,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.7)",borderWidth:2,pointRadius:4,pointHoverRadius:6,yAxisID:"y1"}]}),[t,e,i]),c=O.useMemo(()=>({responsive:!0,animation:{duration:2e3},plugins:{legend:{position:"top",labels:{usePointStyle:!0}},tooltip:{callbacks:{title:h=>a[h[0].dataIndex],label:h=>{let d=h.dataset.label||"";return d+=": ",d+=h.datasetIndex===0?`${h.raw}/${s}`:`${h.raw}%`,d}}}},scales:{y:{type:"linear",position:"left",title:{display:!0,text:"Score"},max:s,min:0},y1:{type:"linear",position:"right",title:{display:!0,text:"Percentage (%)"},max:100,min:0,grid:{drawOnChartArea:!1}}}}),[a,s]);return y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quiz Performance Timeline"}),y.jsx("div",{className:"h-64",children:y.jsx(R$,{type:"bar",data:l,options:c,fallbackContent:y.jsx("div",{className:"text-center py-8",children:"Loading chart..."})})}),y.jsx("div",{className:"mt-2 text-sm text-gray-500",children:n.length>0&&`From ${a[0]} to ${a[a.length-1]}`})]})},k$=Rv.memo(N$),M$=()=>{const n=Ss(),t=qn(),{courseId:e,chapterId:i,sectionId:s,userId:a}=n.state||{},{courses:l}=Ox([e]),{chapters:c}=jx([{courseId:e,chapterId:i}]),{sections:h}=Vx([{courseId:e,chapterId:i,sectionId:s}]),[d,m]=O.useState([]),[v,x]=O.useState(!0),[w,T]=O.useState(null),[E,C]=O.useState(null),[N,j]=O.useState(!1),B=et=>l[et]?.Subject||et,W=et=>c[et]?.Title||et,F=et=>h[et]?.SectionName||et;O.useEffect(()=>{if(!e||!i||!s||!a){T("Missing required parameters"),x(!1);return}(async()=>{try{x(!0);const it=`users/${a}/quizResults/${e}/chapters/${i}/sections/${s}/attempts`,G=fn(Zt,it),Z=na(G,l6("timestamp","desc")),mt=(await Bi(Z)).docs.map(U=>({id:U.id,...U.data(),date:U.data().timestamp?.toDate()}));m(mt)}catch(it){console.error("Error fetching attempts:",it),T(it.message)}finally{x(!1)}})()},[e,i,s,a]);const q=(et,it)=>Math.round(et/it*100),M=et=>et?.toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})||"N/A",R=(et,it)=>{const G=q(et,it);return G>=80?"text-green-600":G>=60?"text-yellow-600":"text-red-600"},I=(et,it)=>{const G=q(et,it);return G>=80?"":G>=60?"":""},P=(et,it,G)=>{const Z=q(et.score,et.totalQuestions),at=G-it;return Z>=90?`Exceptional Performance #${at}`:Z>=80?`Great Work #${at}`:Z>=70?`Solid Effort #${at}`:Z>=60?`Good Try #${at}`:Z>=50?`Practice Needed #${at}`:`Let's Improve #${at}`},L=et=>{const it=new Date,G=new Date(et),Z=Math.floor((it-G)/(1e3*60*60));if(Z<1)return"Just now";if(Z<24)return`${Z} hours ago`;if(Z<48)return"Yesterday";const at=Math.floor(Z/24);return at<7?`${at} days ago`:M(et)},z=N?d:d.slice(0,3),V={collapsed:{opacity:0,height:0,transition:{duration:.4}},expanded:{opacity:1,height:"auto",transition:{duration:.4}}};return v?y.jsxs("div",{className:"flex justify-center items-center h-64",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("span",{className:"ml-3 text-gray-600",children:"Loading your results..."})]}):w?y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative max-w-md",children:y.jsxs("span",{className:"block sm:inline",children:[" Error: ",w]})})}):y.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[y.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[y.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200 transform hover:-translate-x-1",children:[y.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Scores"]}),y.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[y.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Attempt Details"]}),y.jsx("div",{className:"w-24"})," "]}),y.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-200 transition-all duration-300 hover:shadow-lg",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold",children:B(e)})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold",children:W(i)})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold",children:F(s)})]})]})]})}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Quiz Attempts"]}),d.length===0?y.jsxs("div",{className:"text-center py-8 text-gray-500 bg-gray-100 rounded-lg animate-pulse",children:[y.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),y.jsx("p",{className:"mt-2",children:"No attempts found for this section"})]}):y.jsxs(y.Fragment,{children:[d.slice(0,3).map((et,it)=>y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden transition-all duration-300 hover:shadow-md",children:[y.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>C(E===et.id?null:et.id),children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-2xl mr-3",children:I(et.score,et.totalQuestions)}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:P(et,it,d.length)}),y.jsx("p",{className:"text-sm text-gray-500",children:L(et.date)}),y.jsxs("p",{className:`text-sm font-semibold ${R(et.score,et.totalQuestions)}`,children:["Score: ",et.score,"/",et.totalQuestions," (",q(et.score,et.totalQuestions),"%)"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-gray-500 mr-2 text-sm",children:E===et.id?"Hide details":"Show details"}),y.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform duration-300 ${E===et.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),y.jsx(ha,{children:E===et.id&&y.jsx(Mt.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:V,className:"p-4 border-t border-gray-200 bg-gray-50 animate-fadeIn",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Date Completed"}),y.jsx("p",{children:M(et.date)})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Time Spent"}),y.jsx("p",{children:et.timeSpent||"N/A"})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Correct Answers"}),y.jsxs("p",{children:[et.score,"/",et.totalQuestions]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Percentage"}),y.jsxs("p",{className:R(et.score,et.totalQuestions),children:[q(et.score,et.totalQuestions),"%"]})]})]})]})},"extraAttempts")})]},et.id)),y.jsx(ha,{children:N&&y.jsx(Mt.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:V,className:"space-y-4 overflow-hidden",children:z.slice(3).map((et,it)=>y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden transition-all duration-300 hover:shadow-md",children:[y.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>C(E===et.id?null:et.id),children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-2xl mr-3",children:I(et.score,et.totalQuestions)}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:P(et,it,d.length-3)}),y.jsx("p",{className:"text-sm text-gray-500",children:L(et.date)}),y.jsxs("p",{className:`text-sm font-semibold ${R(et.score,et.totalQuestions)}`,children:["Score: ",et.score,"/",et.totalQuestions," (",q(et.score,et.totalQuestions),"%)"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-gray-500 mr-2 text-sm",children:E===et.id?"Hide details":"Show details"}),y.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform duration-300 ${E===et.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),y.jsx(ha,{children:E===et.id&&y.jsx(Mt.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:V,className:"p-4 border-t border-gray-200 bg-gray-50 animate-fadeIn",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Date Completed"}),y.jsx("p",{children:M(et.date)})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Time Spent"}),y.jsx("p",{children:et.timeSpent||"N/A"})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Correct Answers"}),y.jsxs("p",{children:[et.score,"/",et.totalQuestions]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Percentage"}),y.jsxs("p",{className:R(et.score,et.totalQuestions),children:[q(et.score,et.totalQuestions),"%"]})]})]})]})},"extraAttempts")})]},et.id))},"extraAttempts")}),d.length>3&&y.jsx("div",{className:"flex justify-center mt-6",children:y.jsx("button",{onClick:()=>j(!N),className:"px-6 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors duration-200 flex items-center",children:N?y.jsxs(y.Fragment,{children:[y.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Show Less"]}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"View All"]})})})]}),y.jsx(k$,{attempts:d})]}),y.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-in-out;
        }
      `})]})},I$=()=>{const n=qn(),[t,e]=O.useState(!0),[i,s]=O.useState(null),[a,l]=O.useState(null),[c,h]=O.useState([]),[d,m]=O.useState({}),[v,x]=O.useState({}),[w,T]=O.useState({}),[E,C]=O.useState({});O.useEffect(()=>{(async()=>{const I=na(fn(Zt,"courses")),L=(await Bi(I)).docs.map(et=>({id:et.id,...et.data()})),z={},V={};for(const et of L){const it=na(fn(Zt,`courses/${et.id}/Chapters`)),G=await Bi(it);z[et.id]=G.size;const Z=G.docs.map(at=>({id:at.id,...at.data()})).sort((at,mt)=>{const U=parseFloat(at.Number),st=parseFloat(mt.Number);return U-st});m(at=>({...at,[et.id]:Z}));for(const at of Z){const mt=na(fn(Zt,`courses/${et.id}/Chapters/${at.id}/Section`)),U=await Bi(mt),st=`${et.id}-${at.id}`;V[st]=U.size;const dt=U.docs.map(nt=>({id:nt.id,...nt.data()})).sort((nt,pt)=>nt.SectionNumber.localeCompare(pt.SectionNumber,void 0,{numeric:!0,sensitivity:"base"}));x(nt=>({...nt,[st]:dt}))}}T(z),C(V),h(L),e(!1)})()},[]);const N=async(R,I)=>{const P=`${R}-${I}`;if(v[P])return;const L=na(fn(Zt,`courses/${R}/Chapters/${I}/Section`)),V=(await Bi(L)).docs.map(et=>({id:et.id,...et.data()})).sort((et,it)=>et.SectionNumber.localeCompare(it.SectionNumber,void 0,{numeric:!0,sensitivity:"base"}));x(et=>({...et,[P]:V})),C(et=>({...et,[P]:V.length}))},j=R=>{i===R?(s(null),l(null)):(s(R),l(null))},B=async(R,I)=>{a===I?l(null):(await N(R,I),l(I))},W=R=>{const I=["blue","green","purple","orange","red","indigo"];return I[R%I.length]},F={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},q={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.3}}},M={hidden:{opacity:0,height:0,transition:{duration:.2}},visible:{opacity:1,height:"auto",transition:{duration:.3}}};return t?y.jsx("div",{className:"p-6 max-w-5xl mx-auto flex justify-center items-center h-96",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Loading courses..."})]})}):y.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[y.jsxs(Mt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-10 text-center",children:[y.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-3",children:"Practice Questions"}),y.jsx("p",{className:"text-xl text-gray-600",children:"Select a course and chapter to practice questions"})]}),y.jsxs(Mt.div,{variants:F,initial:"hidden",animate:"visible",className:"hidden md:grid grid-cols-1 md:grid-cols-3 gap-5 mb-10",children:[y.jsxs(Mt.div,{variants:q,className:"bg-white rounded-xl p-5 shadow-md border border-gray-200 flex items-center",children:[y.jsx("div",{className:"p-4 rounded-xl bg-blue-100 text-blue-600 mr-5",children:y.jsx("i",{className:"fas fa-book text-2xl"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-base text-gray-500",children:"Active Courses"}),y.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.length})]})]}),y.jsxs(Mt.div,{variants:q,className:"bg-white rounded-xl p-5 shadow-md border border-gray-200 flex items-center",children:[y.jsx("div",{className:"p-4 rounded-xl bg-green-100 text-green-600 mr-5",children:y.jsx("i",{className:"fas fa-check-circle text-2xl"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-base text-gray-500",children:"Completed Chapters"}),y.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["0/",Object.values(d).flat().length]})]})]}),y.jsxs(Mt.div,{variants:q,className:"bg-white rounded-xl p-5 shadow-md border border-gray-200 flex items-center",children:[y.jsx("div",{className:"p-4 rounded-xl bg-purple-100 text-purple-600 mr-5",children:y.jsx("i",{className:"fas fa-trophy text-2xl"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-base text-gray-500",children:"Average Score"}),y.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"0%"})]})]})]}),y.jsx(Mt.div,{variants:F,initial:"hidden",animate:"visible",className:"space-y-6",children:c.map((R,I)=>{const P=W(I),L=`border-${P}-500 bg-${P}-100 text-${P}-600`;return y.jsxs(Mt.div,{variants:q,className:`course-card bg-white rounded-xl shadow-md border-l-5 border-${P}-500 overflow-hidden`,children:[y.jsxs("div",{className:"p-5 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>j(R.id),children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h2",{className:"font-semibold text-gray-800 text-xl",children:R.Subject}),y.jsxs("span",{className:`text-base font-medium px-3 py-1.5 rounded-full ${L}`,children:[d[R.id]?.length||"0"," Chapters"]})]}),y.jsxs("p",{className:"text-base text-gray-600 mb-3",children:["Tutor: ",R.Tutor]}),y.jsxs("div",{className:"mt-3",children:[y.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[y.jsx("span",{children:"Progress"}),y.jsx("span",{children:"0%"})]}),y.jsx("div",{className:"progress-bar bg-gray-200 w-full h-2.5 rounded-full",children:y.jsx("div",{className:`progress-fill bg-${P}-500 h-full rounded-full transition-all duration-500`,style:{width:"0%"}})})]})]}),y.jsx("div",{className:"ml-5 text-gray-400 text-xl",children:y.jsx("i",{className:`fas fa-chevron-down transition-transform duration-300 ${i===R.id?"rotate-180":""}`})})]}),y.jsx(ha,{children:i===R.id&&y.jsx(Mt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:M,className:"border-t border-gray-200 overflow-hidden",children:d[R.id]?.map(z=>y.jsxs("div",{className:"chapter-item p-5 bg-gray-50 border-b border-gray-200",children:[y.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>B(R.id,z.id),children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("h3",{className:"font-medium text-gray-800 text-lg",children:[z.Number,". ",z.Title]}),y.jsxs("div",{className:"flex items-center mt-2",children:[y.jsx("span",{className:"text-sm font-medium px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 mr-3",children:"Not started"}),y.jsxs("span",{className:"text-sm text-gray-500",children:[v[`${R.id}-${z.id}`]?.length||"0"," sections"]})]})]}),y.jsx("div",{className:"ml-5 text-gray-400 text-lg",children:y.jsx("i",{className:`fas fa-chevron-down transition-transform duration-300 ${a===z.id?"rotate-180":""}`})})]}),y.jsx(ha,{children:a===z.id&&y.jsx(Mt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:M,className:"mt-4 pl-5 space-y-4 overflow-hidden",children:v[`${R.id}-${z.id}`]?.map(V=>y.jsxs(Mt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:"p-4 bg-white rounded-lg border border-gray-200 flex justify-between items-center shadow-sm",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"font-medium text-gray-800 text-base",children:[V.SectionNumber," ",V.SectionName]}),V.QuizVideoLink&&y.jsxs("a",{href:V.QuizVideoLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline inline-flex items-center mt-2",children:[y.jsx("i",{className:"fas fa-video mr-2 text-xs"})," Watch Video"]})]}),y.jsxs("div",{className:"flex space-x-3",children:[V.QuizVideoLink&&y.jsx("button",{className:"p-2.5 text-blue-500 hover:bg-blue-50 rounded-full transition-colors duration-200",onClick:et=>{et.stopPropagation(),window.open(V.QuizVideoLink,"_blank")},children:y.jsx("i",{className:"fas fa-video text-lg"})}),y.jsx("button",{onClick:()=>n("/home/practice/quiz",{state:{courseId:R.id,chapterId:z.id,sectionId:V.id}}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-base font-medium transition-colors duration-200",children:"Practice"})]})]},V.id))})})]},z.id))})})]},R.id)})})]})},D$=()=>{const{state:n}=Ss(),{courseId:t,chapterId:e,sectionId:i}=n||{},s=qn(),[a,l]=O.useState([]),[c,h]=O.useState(0),[d,m]=O.useState(null),[v,x]=O.useState(!1),[w,T]=O.useState(0),[E,C]=O.useState(!0),[N,j]=O.useState(null),[B,W]=O.useState(!1),[F,q]=O.useState(!1),[M,R]=O.useState(!1),[I,P]=O.useState([]),{courses:L}=Ox([t]),{chapters:z}=jx([{courseId:t,chapterId:e}]),{sections:V}=Vx([{courseId:t,chapterId:e,sectionId:i}]),et=nt=>L[nt]?.Subject||nt,it=nt=>L[nt]?.Tutor||nt,G=nt=>z[nt]?.Title||nt,Z=nt=>V[nt]?.SectionName||nt;O.useEffect(()=>{if(!t||!e||!i){j("Missing required parameters"),C(!1);return}const nt=fn(Zt,"courses",t,"Chapters",e,"Section",i,"Quiz"),pt=Dn(nt,bt=>{const ft=bt.docs.map(At=>({id:At.id,...At.data()}));l(ft),C(!1)},bt=>{console.error("Firestore error:",bt),j(bt.message),C(!1)});return()=>pt()},[t,e,i]);const at=nt=>{m(nt),x(!0),P(pt=>[...pt,{question:a[c].Question,selected:nt,correct:nt===a[c].CorrectAnswer}]),nt===a[c].CorrectAnswer&&!F&&q(!0)},mt=()=>{R(!0),x(!1),setTimeout(()=>{F===!0&&(T(nt=>nt+1),q(!1)),c<a.length-1?(h(nt=>nt+1),m(null)):W(!0),R(!1)},500)},U=()=>{h(0),m(null),x(!1),T(0),W(!1),q(!1),R(!1),P([])};if(E)return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Quiz"}),y.jsx("p",{className:"text-gray-600",children:"Preparing your questions..."})]})});if(N)return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Quiz"}),y.jsx("p",{className:"text-gray-600 mb-6",children:N}),y.jsx("button",{onClick:()=>s("/home/practice"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Back to Practice"})]})});if(a.length===0)return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"text-gray-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Questions Available"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"This section doesn't have any quiz questions yet."}),y.jsx("button",{onClick:()=>s("/home/practice"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Back to Practice"})]})});if(B){const nt=Math.round(w/a.length*100);let pt="",bt="text-yellow-600",ft="Good effort!";return nt>=90?(pt="",bt="text-green-600",ft="Outstanding!"):nt>=70?(pt="",bt="text-blue-600",ft="Well done!"):nt>=50&&(pt="",bt="text-yellow-600",ft="Good effort!"),y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex flex-col items-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:[y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"block md:hidden mb-6 p-6 bg-white rounded-2xl shadow-lg border border-gray-200 text-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:et(t)}),y.jsxs("p",{className:"text-gray-600",children:["Tutor: ",it(t)]}),y.jsxs("div",{className:"mt-4 bg-blue-100 text-blue-800 px-4 py-2 rounded-full inline-block",children:[y.jsx("i",{className:"fas fa-question-circle mr-2"}),a.length," questions completed"]})]}),y.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-md p-6 mb-8 border border-gray-200",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold text-blue-700",children:et(t)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold text-green-700",children:G(e)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold text-purple-700",children:Z(i)})]})]})}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("span",{className:"text-6xl",children:pt}),y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-2",children:"Practice Complete"}),y.jsx("p",{className:`text-xl font-semibold mt-2 ${bt}`,children:ft})]}),y.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[w,"/",a.length]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[nt,"%"]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Percentage"})]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${nt}%`}})})})]}),y.jsxs("div",{className:"flex flex-col space-y-3",children:[y.jsx("button",{onClick:U,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-medium",children:"Try Again"}),y.jsx("button",{onClick:()=>s("/home/practice"),className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 font-medium",children:"Back to Practice"}),y.jsx("button",{onClick:()=>s("/home/quizMenu"),className:"px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 font-medium",children:"Play Quiz Now"})]})]})]})})}const st=a[c],dt=c/a.length*100;return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("button",{onClick:()=>s("/home/practice"),className:"flex items-center text-gray-600 hover:text-gray-800",children:[y.jsx("span",{className:"mr-2",children:""})," Back"]}),y.jsxs("div",{className:"flex-1 mx-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Question ",c+1," of ",a.length]}),y.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Score: ",w,"/",c]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${dt}%`}})})]})]}),y.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-md p-6 mb-8 border border-gray-200",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold text-blue-700",children:et(t)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold text-green-700",children:G(e)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold text-purple-700",children:Z(i)})]})]})}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-8 border border-gray-200",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Question ",c+1]}),y.jsx("p",{className:"text-lg text-gray-700",children:st.Question})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:st.Options.map((nt,pt)=>{const bt=d===nt,ft=nt===st.CorrectAnswer,At=v&&(bt||ft);let It="bg-white border-gray-300 hover:bg-gray-50";return At?It=ft?"bg-green-100 border-green-500":"bg-red-100 border-red-500":bt&&(It="bg-blue-100 border-blue-500"),y.jsx("button",{onClick:()=>!M&&!v&&at(nt),disabled:M||v,className:`p-4 rounded-xl border text-left transition-all duration-200 ${It} ${M||v?"cursor-default":"cursor-pointer"}`,children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center mr-3 font-medium",children:String.fromCharCode(65+pt)}),y.jsx("span",{className:"text-gray-800",children:nt})]})},pt)})}),v&&y.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 mb-6 border border-blue-200 animate-fadeIn",children:[y.jsx("h4",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Explanation"}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:`text-2xl mr-3 ${d===st.CorrectAnswer?"text-green-500":"text-red-500"}`,children:d===st.CorrectAnswer?"":""}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-blue-800",children:["The correct answer is ",y.jsx("span",{className:"font-bold",children:st.CorrectAnswer})]}),st.Explanation&&y.jsx("p",{className:"mt-2 text-blue-700",children:st.Explanation})]})]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("button",{onClick:()=>!M&&x(!1),disabled:!v||M,className:`px-5 py-2.5 rounded-lg font-medium ${v&&!M?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Redo Question"}),y.jsx("button",{onClick:mt,disabled:!v||M,className:`px-5 py-2.5 rounded-lg font-medium ${v&&!M?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-300 text-white cursor-not-allowed"}`,children:c<a.length-1?"Next Question ":"See Results"})]})]}),y.jsx("div",{className:"flex justify-center space-x-2 mb-8",children:a.map((nt,pt)=>y.jsx("div",{className:`w-3 h-3 rounded-full ${pt===c?"bg-blue-600":pt<c?"bg-green-500":"bg-gray-300"}`},pt))})]})})},P$=()=>{const n=qn(),[t,e]=O.useState(!0),[i,s]=O.useState([]),[a,l]=O.useState({}),[c,h]=O.useState({}),[d,m]=O.useState(null),[v,x]=O.useState(null),[w,T]=O.useState(null),[E,C]=O.useState([]),[N,j]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const L=na(fn(Zt,"courses")),V=(await Bi(L)).docs.map(it=>({id:it.id,...it.data()}));s(V);const et={};for(const it of V){const G=na(fn(Zt,`courses/${it.id}/Chapters`)),at=(await Bi(G)).docs.map(U=>({id:U.id,...U.data()})).sort((U,st)=>{const dt=parseFloat(U.Number),nt=parseFloat(st.Number);return dt-nt});et[it.id]=at;const mt={};for(const U of at){const st=na(fn(Zt,`courses/${it.id}/Chapters/${U.id}/Section`)),nt=(await Bi(st)).docs.map(pt=>({id:pt.id,...pt.data()})).sort((pt,bt)=>pt.SectionNumber.localeCompare(bt.SectionNumber,void 0,{numeric:!0,sensitivity:"base"}));mt[`${it.id}-${U.id}`]=nt}h(U=>({...U,...mt}))}l(et),e(!1)}catch(L){console.error("Error fetching data:",L),e(!1)}})()},[]);const B=async P=>{j(!0),m(P),C([{type:"course",data:P}]),setTimeout(()=>j(!1),300)},W=async P=>{j(!0),x(P),C(L=>[...L,{type:"chapter",data:P}]),setTimeout(()=>j(!1),300)},F=P=>{T(P),n("/home/quizMenu/quizGame",{state:{courseId:d.id,chapterId:v.id,sectionId:P.id}})},q=(P=1)=>{if(j(!0),E.length<=P)m(null),x(null),C([]);else{const L=E.slice(0,E.length-P),z=L[L.length-1];z?z.type==="course"?(m(z.data),x(null)):z.type==="chapter"&&x(z.data):(m(null),x(null)),C(L)}setTimeout(()=>j(!1),300)},M=P=>{const L=["blue","green","purple","orange","red","indigo"];return L[P%L.length]},R={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},I={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.3}}};return t?y.jsx("div",{className:"p-6 max-w-5xl mx-auto flex justify-center items-center h-96",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Loading courses..."})]})}):y.jsxs("div",{className:"p-6 max-w-5xl mx-auto min-h-screen",children:[y.jsxs(Mt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-10 text-center",children:[y.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-3",children:"Quiz Questions"}),y.jsx("p",{className:"text-xl text-gray-600 hidden sm:block",children:"Test your knowledge with quiz today!"})]}),E.length>0&&y.jsxs(Mt.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6 flex items-center justify-center",children:[y.jsxs("button",{onClick:()=>q(1),className:"flex items-center text-blue-600 hover:text-blue-800 font-medium mr-4 px-4 py-2 bg-blue-100 rounded-full",children:[y.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back"]}),y.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[y.jsx("span",{className:`cursor-pointer hover:text-blue-600 ${E.length>1?"font-medium":""}`,onClick:()=>q(E.length),children:"All Courses"}),E.map((P,L)=>y.jsxs(Rv.Fragment,{children:[y.jsx("i",{className:"fas fa-chevron-right mx-2 text-xs"}),y.jsx("span",{className:`cursor-pointer hover:text-blue-600 ${L===E.length-1?"font-bold text-blue-700":""}`,onClick:()=>q(E.length-1-L),children:P.data.Subject||P.data.Title||P.data.SectionName})]},L))]})]}),y.jsx("div",{className:"relative min-h-96",children:y.jsx(ha,{mode:"wait",children:!N&&y.jsxs(Mt.div,{initial:{opacity:0,x:E.length>0?50:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:E.length>0?-50:50},transition:{duration:.3},className:"absolute inset-0",children:[!d&&y.jsx(Mt.div,{variants:R,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((P,L)=>{const z=M(L);return y.jsxs(Mt.div,{variants:I,whileHover:{scale:1.03},whileTap:{scale:.98},className:`bg-white rounded-2xl p-6 shadow-lg border-l-8 border-${z}-500 cursor-pointer transition-all duration-300 hover:shadow-xl`,onClick:()=>B(P),children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("div",{className:`p-3 rounded-xl bg-${z}-100 text-${z}-600 mr-4`,children:y.jsx("i",{className:"fas fa-book text-2xl"})}),y.jsx("h2",{className:"text-xl font-bold text-gray-800",children:P.Subject})]}),y.jsxs("p",{className:"text-gray-600 mb-4",children:["Tutor: ",P.Tutor]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("span",{className:`text-sm font-medium px-3 py-1 rounded-full bg-${z}-100 text-${z}-700`,children:[a[P.id]?.length||"0"," Chapters"]}),y.jsxs("button",{className:`px-4 py-2 bg-${z}-500 text-white rounded-lg font-medium`,children:["Choose ",y.jsx("i",{className:"fas fa-arrow-right ml-2"})]})]})]},P.id)})}),d&&!v&&y.jsxs(Mt.div,{variants:R,initial:"hidden",animate:"visible",className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-200 mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 flex items-center",children:[y.jsx("div",{className:"p-2 rounded-xl bg-blue-100 text-blue-600 mr-3",children:y.jsx("i",{className:"fas fa-book"})}),d.Subject]}),y.jsx("p",{className:"text-gray-600",children:"Select a chapter to practice"})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:a[d.id]?.map((P,L)=>{const z=M(L);return y.jsx(Mt.div,{variants:I,whileHover:{scale:1.02},whileTap:{scale:.98},className:`bg-white rounded-xl p-5 shadow-sm border-l-4 border-${z}-500 cursor-pointer transition-all duration-300 hover:shadow-md`,onClick:()=>W(P),children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg py-1.5 text-gray-800",children:[P.Number,". ",P.Title]}),y.jsxs("p",{className:`text-sm font-medium px-3 py-1 rounded-full text-${z}-700`,children:[c[`${d.id}-${P.id}`]?.length||"0"," sections available"]})]}),y.jsxs("button",{className:`px-4 py-2 bg-${z}-500 text-white rounded-lg font-medium`,children:["Select ",y.jsx("i",{className:"fas fa-arrow-right ml-2"})]})]})},P.id)})})]}),d&&v&&y.jsxs(Mt.div,{variants:R,initial:"hidden",animate:"visible",className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-200 mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 flex items-center",children:[y.jsx("div",{className:"p-2 rounded-xl bg-green-100 text-green-600 mr-3",children:y.jsx("i",{className:"fas fa-layer-group"})}),d.Subject," - Chapter ",v.Number]}),y.jsx("p",{className:"text-gray-600",children:"Select a section to practice"})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:c[`${d.id}-${v.id}`]?.map((P,L)=>{const z=M(L);return y.jsx(Mt.div,{variants:I,whileHover:{scale:1.02},whileTap:{scale:.98},className:`bg-white rounded-xl p-5 shadow-sm border-l-4 border-${z}-500 transition-all duration-300 hover:shadow-md`,children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("h3",{className:"font-bold text-lg text-gray-800",children:[P.SectionNumber," ",P.SectionName]}),y.jsxs("div",{className:"flex items-center mt-2",children:[y.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Status: "}),y.jsx("span",{className:"text-sm font-medium px-2.5 py-1 rounded-full bg-gray-100 text-gray-700",children:"Not started"})]}),P.QuizVideoLink&&y.jsxs("a",{href:P.QuizVideoLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline inline-flex items-center mt-2",onClick:V=>V.stopPropagation(),children:[y.jsx("i",{className:"fas fa-video mr-2 text-xs"})," Watch Video"]})]}),y.jsxs("div",{className:"flex space-x-3",children:[P.QuizVideoLink&&y.jsx("button",{className:"p-2.5 text-blue-500 hover:bg-blue-50 rounded-full transition-colors duration-200",onClick:V=>{V.stopPropagation(),window.open(P.QuizVideoLink,"_blank")},children:y.jsx("i",{className:"fas fa-video text-lg"})}),y.jsx("button",{onClick:()=>F(P),className:`px-4 py-2 bg-${z}-500 text-white rounded-lg font-medium hover:bg-${z}-600 transition-colors duration-200`,children:"Play Quiz"})]})]})},P.id)})})]})]},E.length)})})]})},O$=()=>{const{state:n}=Ss(),{courseId:t,chapterId:e,sectionId:i}=n||{},s=qn(),{currentUser:a}=Px(),[l,c]=O.useState([]),[h,d]=O.useState(null),[m,v]=O.useState(!0),[x,w]=O.useState(null),[T,E]=O.useState(0),[C,N]=O.useState(0),[j,B]=O.useState(null),[W,F]=O.useState(null),[q,M]=O.useState(!1),[R,I]=O.useState(!1),[P,L]=O.useState(0),[z,V]=O.useState([{name:"Loading...",id:"intializing..."}]),[et,it]=O.useState([{name:"Loading...",id:"intializing..."}]),[G,Z]=O.useState(!1),[at,mt]=O.useState(0),[U]=O.useState(window.innerWidth<768),st=_t=>_t>=80?"text-green-600":_t>=60?"text-yellow-600":"text-red-600",dt=_t=>{if(!_t)return null;if(_t.includes("youtube.com/embed"))return _t;const ee=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Dt=_t.match(ee),Ne=Dt&&Dt[2].length===11?Dt[2]:null;return Ne?`https://www.youtube.com/embed/${Ne}?rel=0`:null};O.useEffect(()=>{const _t=dn(Zt,"courses",t),ee=Dn(_t,Ot=>{Ot.exists()&&w(Ot.data())}),Dt=dn(Zt,"courses",t,"Chapters",e);Dn(Dt,Ot=>{Ot.exists()?V({...Ot.data(),id:Ot.id}):console.log("No such chapter document!")},Ot=>{console.error("Firestore error:",Ot),d(Ot.message)},[t,e]);const Ne=dn(Zt,"courses",t,"Chapters",e,"Section",i);Dn(Ne,Ot=>{Ot.exists()?it({...Ot.data(),id:Ot.id}):console.log("No such section document!")},Ot=>{console.error("Firestore error:",Ot),d(Ot.message)},[t,e,i]);const Xe=fn(Zt,"courses",t,"Chapters",e,"Section",i,"Quiz");console.log(Xe);const Jn=Dn(Xe,Ot=>{const Es=Ot.docs.map(Gi=>({id:Gi.id,...Gi.data()}));c(Es),v(!1)},Ot=>{console.error("Firestore error:",Ot),d(Ot.message)});return()=>{ee(),Jn()}},[t]);const nt=()=>{L(3);const _t=setInterval(()=>{L(ee=>ee<=1?(clearInterval(_t),I(!0),0):ee-1)},1e3)},pt=_t=>{B(_t),F(l[T].Options[_t]);const ee=l[T];l[T].Options[_t].toString()===ee.CorrectAnswer&&N(Ne=>Ne+1),M(!0),mt(1),setTimeout(()=>{mt(2)},1e3)},bt=(_t,ee)=>{if(!q)return _t===0?"bg-red-400 text-white":_t===1?"bg-blue-400 text-white":_t===2?"bg-yellow-400 text-white":"bg-green-400 text-white";const Dt=l[T].Options[_t],Ne=j===_t,Xe=Dt.toString()===ee.CorrectAnswer;if(at===1){const Jn=_t===0?"bg-red-400":_t===1?"bg-blue-400":_t===2?"bg-yellow-400":"bg-green-400";return Ne?`${Jn} text-white`:`${Jn} text-white opacity-50`}else if(at===2)return Xe?"!bg-green-500 !text-white":Ne&&!Xe?"!bg-red-500/75 !text-white":"bg-gray-300 opacity-70";return""},ft=async()=>{T<l.length-1?(E(_t=>_t+1),F(null),M(!1),mt(0)):(M("completed"),await At())},At=async()=>{try{const _t=xc.currentUser;if(!_t)return;const ee={score:C,totalQuestions:l.length,percentage:Math.round(C/l.length*100),timestamp:new Date,courseId:t,chapterId:e,sectionId:i},Dt=fn(Zt,"users",_t.uid,"quizResults",t,"chapters",e,"sections",i,"attempts"),Xe=(await Bi(Dt)).docs.map($n=>({id:$n.id,...$n.data()})),Jn=Xe.sort(($n,Tc)=>$n.timestamp.toMillis()-Tc.timestamp.toMillis()).slice(0,9),Ot=[];if(Xe.length>=10){const $n=Jn[0];Ot.push(sN(dn(Dt,$n.id)))}const Es=rN(Dt,ee),Gi=dn(Zt,"users",_t.uid,"allQuizAttempts",`${t}_${e}_${i}`),br=nh(Gi,ee);await Promise.all([...Ot,Es,br]),console.log("Quiz results saved successfully!")}catch(_t){console.error("Error saving quiz results:",_t)}},It=()=>{window.location.reload()};if(m)return y.jsxs("div",{className:"flex justify-center items-center h-64",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("span",{className:"ml-3 text-gray-600",children:"Loading quiz..."})]});if(h)return y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative max-w-md",children:y.jsxs("span",{className:"block sm:inline",children:[" Error: ",h]})})});if(!l||l.length===0)return y.jsxs("div",{className:"text-center py-8",children:[y.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded max-w-md mx-auto",children:y.jsx("p",{children:"No quiz questions found."})}),y.jsx("button",{onClick:()=>s(-1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]});if(!R)return y.jsxs("div",{className:"p-6 max-w-4xl mx-auto text-center",children:[x&&y.jsxs("div",{children:[y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"block md:hidden mb-6 p-6 bg-white rounded-2xl shadow-lg border border-gray-200",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:x.Subject}),y.jsxs("p",{className:"text-gray-600",children:["Tutor: ",x.Tutor]}),y.jsxs("div",{className:"mt-4 bg-blue-100 text-blue-800 px-4 py-2 rounded-full inline-block",children:[y.jsx("i",{className:"fas fa-question-circle mr-2"}),l.length," questions ready"]})]}),y.jsx("div",{children:y.jsx(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hidden md:block bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-200 transition-all duration-300 hover:shadow-lg text-left",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold",children:x.Subject})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold",children:z.Title})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold",children:et.SectionName})]})]})]})})})]}),P>0?y.jsx(Mt.div,{initial:{scale:0},animate:{scale:1},className:"text-8xl font-bold my-16 text-blue-600",children:P},P):y.jsx(y.Fragment,{children:G?y.jsxs(Mt.div,{initial:{opacity:0},animate:{opacity:1},children:[y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-200 mb-8",children:[y.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Are you ready?"}),y.jsx("div",{className:"text-5xl mb-6",children:""}),y.jsxs("p",{className:"text-gray-600 mb-6",children:["You'll answer ",l.length," questions. Do your best!"]}),y.jsxs("button",{onClick:nt,className:"px-8 py-4 bg-green-600 text-white text-xl rounded-lg hover:bg-green-700 flex items-center mx-auto",children:[y.jsx("i",{className:"fas fa-play mr-2"}),"START QUIZ"]})]}),y.jsxs("div",{className:"flex justify-center space-x-4",children:[y.jsxs("button",{onClick:()=>Z(!1),className:"px-6 py-3 bg-gray-300 text-gray-700 text-lg rounded-lg hover:bg-gray-400 flex items-center",children:[y.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Back to Video"]}),y.jsxs("button",{onClick:()=>s(-1),className:"px-6 py-3 bg-red-500 text-white text-lg rounded-lg hover:bg-red-600 flex items-center",children:[y.jsx("i",{className:"fas fa-times mr-2"}),"Exit Quiz"]})]})]}):y.jsxs(Mt.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8",children:[y.jsxs("h2",{className:"text-3xl font-bold mb-6 text-gray-800 flex items-center justify-center",children:[y.jsx("i",{className:"fas fa-video mr-3 text-blue-500"}),"Watch This First"]}),y.jsx("div",{className:"mb-6",children:et.QuizVideoLink?y.jsx("div",{className:"relative pb-[56.25%] h-0 overflow-hidden rounded-xl shadow-lg",children:y.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:dt(et.QuizVideoLink),title:"Quiz Preparation Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):y.jsx("div",{className:"bg-gray-100 h-64 flex items-center justify-center rounded-xl",children:y.jsx("p",{className:"text-gray-500",children:"No video available"})})}),y.jsxs("div",{className:"flex justify-center space-x-4",children:[y.jsxs("button",{onClick:()=>Z(!0),className:"px-6 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700 flex items-center",children:[y.jsx("i",{className:"fas fa-arrow-right mr-2"}),"Next"]}),y.jsxs("button",{onClick:()=>s(-1),className:"px-6 py-3 bg-red-500 text-white text-lg rounded-lg hover:bg-red-600 flex items-center",children:[y.jsx("i",{className:"fas fa-times mr-2"}),"Exit Quiz"]})]})]})})]});if(q==="completed"){const _t=Math.round(C/l.length*100);return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto text-center",children:[x&&y.jsxs("div",{children:[y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"block md:hidden mb-6 p-6 bg-white rounded-2xl shadow-lg border border-gray-200",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:x.Subject}),y.jsxs("p",{className:"text-gray-600",children:["Tutor: ",x.Tutor]}),y.jsxs("div",{className:"mt-4 bg-blue-100 text-blue-800 px-4 py-2 rounded-full inline-block",children:[y.jsx("i",{className:"fas fa-question-circle mr-2"}),l.length," questions ready"]})]}),y.jsx("div",{children:y.jsx(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hidden md:block bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-200 transition-all duration-300 hover:shadow-lg text-left",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold",children:x.Subject})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold",children:z.Title})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold",children:et.SectionName})]})]})]})})})]}),y.jsxs(Mt.div,{initial:{scale:.5},animate:{scale:1},className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-200",children:[y.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:["Quiz Completed! ",_t>=80?"":_t>=60?"":""]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("div",{className:"text-6xl font-bold mb-2",children:y.jsxs("span",{className:st(_t),children:[C,"/",l.length]})}),y.jsxs("div",{className:"text-xl text-gray-600",children:["(",_t,"% Correct)"]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:y.jsx("div",{className:`h-4 rounded-full ${_t>=80?"bg-green-500":_t>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${_t}%`}})}),y.jsxs("div",{className:"flex justify-center space-x-4",children:[y.jsxs("button",{onClick:It,className:"px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[y.jsx("i",{className:"fas fa-redo mr-2"}),"Play Again"]}),y.jsxs("button",{onClick:()=>s("/home/Practice"),className:"px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:bg-gray-400 flex items-center",children:[y.jsx("i",{className:"fas fa-book-open mr-2"}),"Practice Quiz"]}),y.jsxs("button",{onClick:()=>s("/home/Score"),className:"px-4 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:bg-gray-400 flex items-center",children:[y.jsx("i",{className:"fas fa-chart-line mr-2"}),"View Score"]})]})]})]})}const ie=l[T],Fe=(T+1)/l.length*100;return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[y.jsxs("div",{className:"mb-6 bg-white rounded-xl p-4 shadow-md border border-gray-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Question ",T+1," of ",l.length]}),y.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Score: ",C]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${Fe}%`}})})]}),y.jsxs(Mt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200 mb-6",children:[y.jsx("h3",{className:"font-bold text-xl mb-6 text-gray-800 text-center",children:ie.Question||"No question text available"}),y.jsx("div",{className:"space-y-4",children:ie.Options.map((_t,ee)=>y.jsxs(Mt.div,{whileHover:{scale:q?1:1.02},whileTap:{scale:q?1:.98},className:`flex items-center p-4 rounded-xl cursor-pointer transition-all duration-300 ${bt(ee,ie)}`,onClick:()=>!q&&pt(ee),children:[y.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full mr-4 ${!q||at===1?"bg-white/20":""}`,children:y.jsx("span",{className:"font-bold",children:String.fromCharCode(65+ee)})}),y.jsx("span",{className:"text-lg",children:_t||`Option ${ee+1}`})]},ee))}),q&&y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 flex justify-between items-center",children:[y.jsx("div",{className:`p-3 rounded-lg ${W.toString()===ie.CorrectAnswer?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.toString()===ie.CorrectAnswer?y.jsxs("span",{children:[y.jsx("i",{className:"fas fa-check-circle mr-2"})," Correct!"]}):y.jsxs("span",{children:[y.jsx("i",{className:"fas fa-times-circle mr-2"})," Incorrect! The correct answer is: ",ie.CorrectAnswer]})}),y.jsx("button",{onClick:ft,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:T<l.length-1?y.jsxs(y.Fragment,{children:["Next ",y.jsx("i",{className:"fas fa-arrow-right ml-2"})]}):y.jsxs(y.Fragment,{children:["Finish ",y.jsx("i",{className:"fas fa-flag-checkered ml-2"})]})})]})]},T)]})},j$=()=>{const[n,t]=O.useState(()=>localStorage.getItem("theme")==="dark");return O.useEffect(()=>{const e=window.document.documentElement;n?(e.classList.add("dark"),localStorage.setItem("theme","dark")):(e.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),y.jsx(v6,{children:y.jsx($P,{children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg ring shadow-xl ring-gray-900/5 min-h-screen",children:[y.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"}),y.jsxs(wP,{children:[y.jsx(Rn,{path:"/quiz",element:y.jsx(f6,{})}),y.jsxs(Rn,{path:"/home",element:y.jsxs(y.Fragment,{children:[y.jsx(y6,{})," "]}),children:[y.jsx(Rn,{index:!0,element:y.jsx(x6,{})}),y.jsx(Rn,{path:"testing",element:y.jsx(_6,{})}),y.jsx(Rn,{path:"courses",element:y.jsx(T6,{})}),y.jsx(Rn,{path:"courses/:courseId/chapters",element:y.jsx(A6,{})}),y.jsx(Rn,{path:"courses/:courseId/chapters/:chapterId/section",element:y.jsx(R6,{})}),y.jsx(Rn,{path:"courses/:courseId/chapters/:chapterId/section/:sectionId/quiz",element:y.jsx(S6,{})}),y.jsx(Rn,{path:"quizMenu",element:y.jsx(P$,{})}),y.jsx(Rn,{path:"quizMenu/quizGame",element:y.jsx(O$,{})}),y.jsx(Rn,{path:"score",element:y.jsx(lB,{})}),y.jsx(Rn,{path:"score/sectionScore",element:y.jsx(M$,{})}),y.jsx(Rn,{path:"practice",element:y.jsx(I$,{})}),y.jsx(Rn,{path:"practice/quiz",element:y.jsx(D$,{})}),y.jsx(Rn,{path:"settings",element:y.jsx(b6,{})})]})]})]})})})};ND.createRoot(document.getElementById("root")).render(y.jsx(O.StrictMode,{children:y.jsx(j$,{})}));
