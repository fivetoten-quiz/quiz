(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function TM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var c0={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function SM(){if(_w)return Tu;_w=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Tu.Fragment=t,Tu.jsx=e,Tu.jsxs=e,Tu}var ww;function EM(){return ww||(ww=1,c0.exports=SM()),c0.exports}var y=EM(),u0={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function AM(){if(Tw)return Vt;Tw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function R(U,it,dt){this.props=U,this.context=it,this.refs=A,this.updater=dt||w}R.prototype.isReactComponent={},R.prototype.setState=function(U,it){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,it,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function I(){}I.prototype=R.prototype;function B(U,it,dt){this.props=U,this.context=it,this.refs=A,this.updater=dt||w}var F=B.prototype=new I;F.constructor=B,S(F,R.prototype),F.isPureReactComponent=!0;var Y=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function k(U,it,dt,et,mt,bt){return dt=bt.ref,{$$typeof:n,type:U,key:it,ref:dt!==void 0?dt:null,props:bt}}function C(U,it){return k(U.type,it,void 0,void 0,void 0,U.props)}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function P(U){var it={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(dt){return it[dt]})}var V=/\/+/g;function L(U,it){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):it.toString(36)}function j(){}function nt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(j,j):(U.status="pending",U.then(function(it){U.status==="pending"&&(U.status="fulfilled",U.value=it)},function(it){U.status==="pending"&&(U.status="rejected",U.reason=it)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function rt(U,it,dt,et,mt){var bt=typeof U;(bt==="undefined"||bt==="boolean")&&(U=null);var ft=!1;if(U===null)ft=!0;else switch(bt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(U.$$typeof){case n:case t:ft=!0;break;case p:return ft=U._init,rt(ft(U._payload),it,dt,et,mt)}}if(ft)return mt=mt(U),ft=et===""?"."+L(U,0):et,Y(mt)?(dt="",ft!=null&&(dt=ft.replace(V,"$&/")+"/"),rt(mt,it,dt,"",function(ee){return ee})):mt!=null&&(M(mt)&&(mt=C(mt,dt+(mt.key==null||U&&U.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+ft)),it.push(mt)),1;ft=0;var At=et===""?".":et+":";if(Y(U))for(var Mt=0;Mt<U.length;Mt++)et=U[Mt],bt=At+L(et,Mt),ft+=rt(et,it,dt,bt,mt);else if(Mt=b(U),typeof Mt=="function")for(U=Mt.call(U),Mt=0;!(et=U.next()).done;)et=et.value,bt=At+L(et,Mt++),ft+=rt(et,it,dt,bt,mt);else if(bt==="object"){if(typeof U.then=="function")return rt(nt(U),it,dt,et,mt);throw it=String(U),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return ft}function $(U,it,dt){if(U==null)return U;var et=[],mt=0;return rt(U,et,"","",function(bt){return it.call(dt,bt,mt++)}),et}function J(U){if(U._status===-1){var it=U._result;it=it(),it.then(function(dt){(U._status===0||U._status===-1)&&(U._status=1,U._result=dt)},function(dt){(U._status===0||U._status===-1)&&(U._status=2,U._result=dt)}),U._status===-1&&(U._status=0,U._result=it)}if(U._status===1)return U._result.default;throw U._result}var ct=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function gt(){}return Vt.Children={map:$,forEach:function(U,it,dt){$(U,function(){it.apply(this,arguments)},dt)},count:function(U){var it=0;return $(U,function(){it++}),it},toArray:function(U){return $(U,function(it){return it})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Vt.Component=R,Vt.Fragment=e,Vt.Profiler=s,Vt.PureComponent=B,Vt.StrictMode=i,Vt.Suspense=h,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return H.H.useMemoCache(U)}},Vt.cache=function(U){return function(){return U.apply(null,arguments)}},Vt.cloneElement=function(U,it,dt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var et=S({},U.props),mt=U.key,bt=void 0;if(it!=null)for(ft in it.ref!==void 0&&(bt=void 0),it.key!==void 0&&(mt=""+it.key),it)!G.call(it,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&it.ref===void 0||(et[ft]=it[ft]);var ft=arguments.length-2;if(ft===1)et.children=dt;else if(1<ft){for(var At=Array(ft),Mt=0;Mt<ft;Mt++)At[Mt]=arguments[Mt+2];et.children=At}return k(U.type,mt,void 0,void 0,bt,et)},Vt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Vt.createElement=function(U,it,dt){var et,mt={},bt=null;if(it!=null)for(et in it.key!==void 0&&(bt=""+it.key),it)G.call(it,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(mt[et]=it[et]);var ft=arguments.length-2;if(ft===1)mt.children=dt;else if(1<ft){for(var At=Array(ft),Mt=0;Mt<ft;Mt++)At[Mt]=arguments[Mt+2];mt.children=At}if(U&&U.defaultProps)for(et in ft=U.defaultProps,ft)mt[et]===void 0&&(mt[et]=ft[et]);return k(U,bt,void 0,void 0,null,mt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(U){return{$$typeof:u,render:U}},Vt.isValidElement=M,Vt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:J}},Vt.memo=function(U,it){return{$$typeof:f,type:U,compare:it===void 0?null:it}},Vt.startTransition=function(U){var it=H.T,dt={};H.T=dt;try{var et=U(),mt=H.S;mt!==null&&mt(dt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(gt,ct)}catch(bt){ct(bt)}finally{H.T=it}},Vt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Vt.use=function(U){return H.H.use(U)},Vt.useActionState=function(U,it,dt){return H.H.useActionState(U,it,dt)},Vt.useCallback=function(U,it){return H.H.useCallback(U,it)},Vt.useContext=function(U){return H.H.useContext(U)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(U,it){return H.H.useDeferredValue(U,it)},Vt.useEffect=function(U,it,dt){var et=H.H;if(typeof dt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(U,it)},Vt.useId=function(){return H.H.useId()},Vt.useImperativeHandle=function(U,it,dt){return H.H.useImperativeHandle(U,it,dt)},Vt.useInsertionEffect=function(U,it){return H.H.useInsertionEffect(U,it)},Vt.useLayoutEffect=function(U,it){return H.H.useLayoutEffect(U,it)},Vt.useMemo=function(U,it){return H.H.useMemo(U,it)},Vt.useOptimistic=function(U,it){return H.H.useOptimistic(U,it)},Vt.useReducer=function(U,it,dt){return H.H.useReducer(U,it,dt)},Vt.useRef=function(U){return H.H.useRef(U)},Vt.useState=function(U){return H.H.useState(U)},Vt.useSyncExternalStore=function(U,it,dt){return H.H.useSyncExternalStore(U,it,dt)},Vt.useTransition=function(){return H.H.useTransition()},Vt.version="19.1.1",Vt}var Sw;function sv(){return Sw||(Sw=1,u0.exports=AM()),u0.exports}var O=sv();const rv=TM(O);var h0={exports:{}},Su={},d0={exports:{}},f0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function CM(){return Ew||(Ew=1,function(n){function t($,J){var ct=$.length;$.push(J);t:for(;0<ct;){var gt=ct-1>>>1,U=$[gt];if(0<s(U,J))$[gt]=J,$[ct]=U,ct=gt;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var J=$[0],ct=$.pop();if(ct!==J){$[0]=ct;t:for(var gt=0,U=$.length,it=U>>>1;gt<it;){var dt=2*(gt+1)-1,et=$[dt],mt=dt+1,bt=$[mt];if(0>s(et,ct))mt<U&&0>s(bt,et)?($[gt]=bt,$[mt]=ct,gt=mt):($[gt]=et,$[dt]=ct,gt=dt);else if(mt<U&&0>s(bt,ct))$[gt]=bt,$[mt]=ct,gt=mt;else break t}}return J}function s($,J){var ct=$.sortIndex-J.sortIndex;return ct!==0?ct:$.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,v=null,b=3,w=!1,S=!1,A=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Y($){for(var J=e(f);J!==null;){if(J.callback===null)i(f);else if(J.startTime<=$)i(f),J.sortIndex=J.expirationTime,t(h,J);else break;J=e(f)}}function H($){if(A=!1,Y($),!S)if(e(h)!==null)S=!0,G||(G=!0,L());else{var J=e(f);J!==null&&rt(H,J.startTime-$)}}var G=!1,k=-1,C=5,M=-1;function P(){return R?!0:!(n.unstable_now()-M<C)}function V(){if(R=!1,G){var $=n.unstable_now();M=$;var J=!0;try{t:{S=!1,A&&(A=!1,B(k),k=-1),w=!0;var ct=b;try{e:{for(Y($),v=e(h);v!==null&&!(v.expirationTime>$&&P());){var gt=v.callback;if(typeof gt=="function"){v.callback=null,b=v.priorityLevel;var U=gt(v.expirationTime<=$);if($=n.unstable_now(),typeof U=="function"){v.callback=U,Y($),J=!0;break e}v===e(h)&&i(h),Y($)}else i(h);v=e(h)}if(v!==null)J=!0;else{var it=e(f);it!==null&&rt(H,it.startTime-$),J=!1}}break t}finally{v=null,b=ct,w=!1}J=void 0}}finally{J?L():G=!1}}}var L;if(typeof F=="function")L=function(){F(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,nt=j.port2;j.port1.onmessage=V,L=function(){nt.postMessage(null)}}else L=function(){I(V,0)};function rt($,J){k=I(function(){$(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var ct=b;b=J;try{return $()}finally{b=ct}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ct=b;b=$;try{return J()}finally{b=ct}},n.unstable_scheduleCallback=function($,J,ct){var gt=n.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?gt+ct:gt):ct=gt,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ct+U,$={id:p++,callback:J,priorityLevel:$,startTime:ct,expirationTime:U,sortIndex:-1},ct>gt?($.sortIndex=ct,t(f,$),e(h)===null&&$===e(f)&&(A?(B(k),k=-1):A=!0,rt(H,ct-gt))):($.sortIndex=U,t(h,$),S||w||(S=!0,G||(G=!0,L()))),$},n.unstable_shouldYield=P,n.unstable_wrapCallback=function($){var J=b;return function(){var ct=b;b=J;try{return $.apply(this,arguments)}finally{b=ct}}}}(f0)),f0}var Aw;function RM(){return Aw||(Aw=1,d0.exports=CM()),d0.exports}var m0={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function NM(){if(Cw)return bn;Cw=1;var n=sv();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,bn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},bn.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},bn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},bn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},bn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):p==="script"&&i.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},bn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},bn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},bn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},bn.requestFormReset=function(h){i.d.r(h)},bn.unstable_batchedUpdates=function(h,f){return h(f)},bn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},bn.version="19.1.1",bn}var Rw;function IM(){if(Rw)return m0.exports;Rw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),m0.exports=NM(),m0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function kM(){if(Nw)return Su;Nw=1;var n=RM(),t=sv(),e=IM();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var c=r,d=o;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return u(g),r;if(x===d)return u(g),o;x=x.sibling}throw Error(i(188))}if(c.return!==d.return)c=g,d=x;else{for(var E=!1,N=g.child;N;){if(N===c){E=!0,c=g,d=x;break}if(N===d){E=!0,d=g,c=x;break}N=N.sibling}if(!E){for(N=x.child;N;){if(N===c){E=!0,c=x,d=g;break}if(N===d){E=!0,d=x,c=g;break}N=N.sibling}if(!E)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function nt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case G:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case F:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case Y:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return o=r.displayName||null,o!==null?o:nt(r.type)||"Memo";case C:o=r._payload,r=r._init;try{return nt(r(o))}catch{}}return null}var rt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},gt=[],U=-1;function it(r){return{current:r}}function dt(r){0>U||(r.current=gt[U],gt[U]=null,U--)}function et(r,o){U++,gt[U]=r.current,r.current=o}var mt=it(null),bt=it(null),ft=it(null),At=it(null);function Mt(r,o){switch(et(ft,o),et(bt,r),et(mt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?K1(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=K1(o),r=Y1(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}dt(mt),et(mt,r)}function ee(){dt(mt),dt(bt),dt(ft)}function Ve(r){r.memoizedState!==null&&et(At,r);var o=mt.current,c=Y1(o,r.type);o!==c&&(et(bt,r),et(mt,c))}function _t(r){bt.current===r&&(dt(mt),dt(bt)),At.current===r&&(dt(At),vu._currentValue=ct)}var Jt=Object.prototype.hasOwnProperty,Dt=n.unstable_scheduleCallback,Ee=n.unstable_cancelCallback,Ge=n.unstable_shouldYield,$n=n.unstable_requestPaint,Ot=n.unstable_now,ws=n.unstable_getCurrentPriorityLevel,Bi=n.unstable_ImmediatePriority,fr=n.unstable_UserBlockingPriority,jn=n.unstable_NormalPriority,gc=n.unstable_LowPriority,Po=n.unstable_IdlePriority,yc=n.log,$h=n.unstable_setDisableYieldValue,Ae=null,re=null;function Gn(r){if(typeof yc=="function"&&$h(r),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(Ae,r)}catch{}}var vn=Math.clz32?Math.clz32:_a,Gh=Math.log,hp=Math.LN2;function _a(r){return r>>>=0,r===0?32:31-(Gh(r)/hp|0)|0}var wa=256,Ta=4194304;function Ei(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Oo(r,o,c){var d=r.pendingLanes;if(d===0)return 0;var g=0,x=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var N=d&134217727;return N!==0?(d=N&~x,d!==0?g=Ei(d):(E&=N,E!==0?g=Ei(E):c||(c=N&~r,c!==0&&(g=Ei(c))))):(N=d&~x,N!==0?g=Ei(N):E!==0?g=Ei(E):c||(c=d&~r,c!==0&&(g=Ei(c)))),g===0?0:o!==0&&o!==g&&(o&x)===0&&(x=g&-g,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:g}function Sa(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function vc(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var r=wa;return wa<<=1,(wa&4194048)===0&&(wa=256),r}function bc(){var r=Ta;return Ta<<=1,(Ta&62914560)===0&&(Ta=4194304),r}function Ts(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Ss(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function _c(r,o,c,d,g,x){var E=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var N=r.entanglements,z=r.expirationTimes,X=r.hiddenUpdates;for(c=E&~c;0<c;){var at=31-vn(c),ut=1<<at;N[at]=0,z[at]=-1;var Z=X[at];if(Z!==null)for(X[at]=null,at=0;at<Z.length;at++){var tt=Z[at];tt!==null&&(tt.lane&=-536870913)}c&=~ut}d!==0&&Fi(r,d,0),x!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=x&~(E&~o))}function Fi(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-vn(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function wc(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var d=31-vn(c),g=1<<d;g&o|r[d]&o&&(r[d]|=o),c&=~g}}function mr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function jo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function pr(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:pw(r.type))}function Qh(r,o){var c=J.p;try{return J.p=r,o()}finally{J.p=c}}var ve=Math.random().toString(36).slice(2),Qe="__reactFiber$"+ve,Le="__reactProps$"+ve,si="__reactContainer$"+ve,Tc="__reactEvents$"+ve,dp="__reactListeners$"+ve,gr="__reactHandles$"+ve,Wh="__reactResources$"+ve,Ea="__reactMarker$"+ve;function yr(r){delete r[Qe],delete r[Le],delete r[Tc],delete r[dp],delete r[gr]}function Es(r){var o=r[Qe];if(o)return o;for(var c=r.parentNode;c;){if(o=c[si]||c[Qe]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=tw(r);r!==null;){if(c=r[Qe])return c;r=tw(r)}return o}r=c,c=r.parentNode}return null}function Hi(r){if(r=r[Qe]||r[si]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function qi(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function In(r){var o=r[Wh];return o||(o=r[Wh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ie(r){r[Ea]=!0}var Sc=new Set,Vo={};function Ai(r,o){As(r,o),As(r+"Capture",o)}function As(r,o){for(Vo[r]=o,r=0;r<o.length;r++)Sc.add(o[r])}var Kh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yh={},Aa={};function Xh(r){return Jt.call(Aa,r)?!0:Jt.call(Yh,r)?!1:Kh.test(r)?Aa[r]=!0:(Yh[r]=!0,!1)}function vr(r,o,c){if(Xh(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function $i(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function cn(r,o,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+d)}}var Ca,Zh;function Cs(r){if(Ca===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Ca=o&&o[1]||"",Zh=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+r+Zh}var Lo=!1;function Uo(r,o){if(!r||Lo)return"";Lo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(tt){var Z=tt}Reflect.construct(r,[],ut)}else{try{ut.call()}catch(tt){Z=tt}r.call(ut.prototype)}}else{try{throw Error()}catch(tt){Z=tt}(ut=r())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(tt){if(tt&&Z&&typeof tt.stack=="string")return[tt.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),E=x[0],N=x[1];if(E&&N){var z=E.split(`
`),X=N.split(`
`);for(g=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;if(d===z.length||g===X.length)for(d=z.length-1,g=X.length-1;1<=d&&0<=g&&z[d]!==X[g];)g--;for(;1<=d&&0<=g;d--,g--)if(z[d]!==X[g]){if(d!==1||g!==1)do if(d--,g--,0>g||z[d]!==X[g]){var at=`
`+z[d].replace(" at new "," at ");return r.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",r.displayName)),at}while(1<=d&&0<=g);break}}}finally{Lo=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Cs(c):""}function Ec(r){switch(r.tag){case 26:case 27:case 5:return Cs(r.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 15:return Uo(r.type,!1);case 11:return Uo(r.type.render,!1);case 1:return Uo(r.type,!0);case 31:return Cs("Activity");default:return""}}function zo(r){try{var o="";do o+=Ec(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function kn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ac(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function fp(r){var o=Ac(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){d=""+E,x.call(this,E)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Bo(r){r._valueTracker||(r._valueTracker=fp(r))}function Cc(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return r&&(d=Ac(r)?r.checked?"true":"false":r.value),r=d,r!==c?(o.setValue(r),!0):!1}function Ra(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var mp=/[\n"\\]/g;function Ue(r){return r.replace(mp,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Qn(r,o,c,d,g,x,E,N){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),o!=null?E==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+kn(o)):r.value!==""+kn(o)&&(r.value=""+kn(o)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),o!=null?xr(r,E,kn(o)):c!=null?xr(r,E,kn(c)):d!=null&&r.removeAttribute("value"),g==null&&x!=null&&(r.defaultChecked=!!x),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+kn(N):r.removeAttribute("name")}function Na(r,o,c,d,g,x,E,N){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null))return;c=c!=null?""+kn(c):"",o=o!=null?""+kn(o):c,N||o===r.value||(r.value=o),r.defaultValue=o}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=N?r.checked:!!d,r.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function xr(r,o,c){o==="number"&&Ra(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Rs(r,o,c,d){if(r=r.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=o.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&d&&(r[c].defaultSelected=!0)}else{for(c=""+kn(c),o=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function ce(r,o,c){if(o!=null&&(o=""+kn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+kn(c):""}function Ia(r,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(rt(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=kn(o),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function ri(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jh(r,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,c):typeof c!="number"||c===0||ka.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function Rc(r,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in o)d=o[g],o.hasOwnProperty(g)&&c[g]!==d&&Jh(r,g,d)}else for(var x in o)o.hasOwnProperty(x)&&Jh(r,x,o[x])}function Nc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(r){return gp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ns=null;function ai(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Is=null,ks=null;function Ic(r){var o=Hi(r);if(o&&(r=o.stateNode)){var c=r[Le]||null;t:switch(r=o.stateNode,o.type){case"input":if(Qn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ue(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==r&&d.form===r.form){var g=d[Le]||null;if(!g)throw Error(i(90));Qn(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===r.form&&Cc(d)}break t;case"textarea":ce(r,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&Rs(r,!!c.multiple,o,!1)}}}var Gi=!1;function td(r,o,c){if(Gi)return r(o,c);Gi=!0;try{var d=r(o);return d}finally{if(Gi=!1,(Is!==null||ks!==null)&&(Qd(),Is&&(o=Is,r=ks,ks=Is=null,Ic(o),r)))for(o=0;o<r.length;o++)Ic(r[o])}}function Ma(r,o){var c=r.stateNode;if(c===null)return null;var d=c[Le]||null;if(d===null)return null;c=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oi=!1;if(Ci)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){oi=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{oi=!1}var Qi=null,br=null,Ms=null;function kc(){if(Ms)return Ms;var r,o=br,c=o.length,d,g="value"in Qi?Qi.value:Qi.textContent,x=g.length;for(r=0;r<c&&o[r]===g[r];r++);var E=c-r;for(d=1;d<=E&&o[c-d]===g[x-d];d++);return Ms=g.slice(r,1<d?1-d:void 0)}function Wi(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ki(){return!0}function Mc(){return!1}function Je(r){function o(c,d,g,x,E){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(c=r[N],this[N]=c?c(x):x[N]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ki:Mc,this.isPropagationStopped=Mc,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),o}var ne={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=Je(ne),Pa=p({},ne,{view:0,detail:0}),ed=Je(Pa),qo,$o,Yi,Oa=p({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yi&&(Yi&&r.type==="mousemove"?(qo=r.screenX-Yi.screenX,$o=r.screenY-Yi.screenY):$o=qo=0,Yi=r),qo)},movementY:function(r){return"movementY"in r?r.movementY:$o}}),li=Je(Oa),nd=p({},Oa,{dataTransfer:0}),yp=Je(nd),ja=p({},Pa,{relatedTarget:0}),Go=Je(ja),Dc=p({},ne,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=Je(Dc),id=p({},ne,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wo=Je(id),vp=p({},ne,{data:0}),Pc=Je(vp),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=rd[r])?!!o[r]:!1}function La(){return Oc}var ad=p({},Pa,{key:function(r){if(r.key){var o=Va[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Wi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(r){return r.type==="keypress"?Wi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ko=Je(ad),od=p({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=Je(od),Ds=p({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),ld=Je(Ds),cd=p({},ne,{propertyName:0,elapsedTime:0,pseudoElement:0}),ud=Je(cd),hd=p({},Oa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Yo=Je(hd),Mn=p({},ne,{newState:0,oldState:0}),dd=Je(Mn),fd=[9,13,27,32],Xi=Ci&&"CompositionEvent"in window,m=null;Ci&&"documentMode"in document&&(m=document.documentMode);var _=Ci&&"TextEvent"in window&&!m,T=Ci&&(!Xi||m&&8<m&&11>=m),D=" ",W=!1;function st(r,o){switch(r){case"keyup":return fd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Gt=!1;function We(r,o){switch(r){case"compositionend":return pt(o);case"keypress":return o.which!==32?null:(W=!0,D);case"textInput":return r=o.data,r===D&&W?null:r;default:return null}}function Qt(r,o){if(Gt)return r==="compositionend"||!Xi&&st(r,o)?(r=kc(),Ms=br=Qi=null,Gt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ke(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!tn[r.type]:o==="textarea"}function Ps(r,o,c,d){Is?ks?ks.push(d):ks=[d]:Is=d,o=Jd(o,"onChange"),0<o.length&&(c=new Ho("onChange","change",null,c,d),r.push({event:c,listeners:o}))}var un=null,Zi=null;function Vc(r){q1(r,0)}function md(r){var o=qi(r);if(Cc(o))return r}function hb(r,o){if(r==="change")return o}var db=!1;if(Ci){var xp;if(Ci){var bp="oninput"in document;if(!bp){var fb=document.createElement("div");fb.setAttribute("oninput","return;"),bp=typeof fb.oninput=="function"}xp=bp}else xp=!1;db=xp&&(!document.documentMode||9<document.documentMode)}function mb(){un&&(un.detachEvent("onpropertychange",pb),Zi=un=null)}function pb(r){if(r.propertyName==="value"&&md(Zi)){var o=[];Ps(o,Zi,r,ai(r)),td(Vc,o)}}function JI(r,o,c){r==="focusin"?(mb(),un=o,Zi=c,un.attachEvent("onpropertychange",pb)):r==="focusout"&&mb()}function tk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return md(Zi)}function ek(r,o){if(r==="click")return md(o)}function nk(r,o){if(r==="input"||r==="change")return md(o)}function ik(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Wn=typeof Object.is=="function"?Object.is:ik;function Lc(r,o){if(Wn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!Jt.call(o,g)||!Wn(r[g],o[g]))return!1}return!0}function gb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function yb(r,o){var c=gb(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=o&&d>=o)return{node:c,offset:o-r};r=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=gb(c)}}function vb(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?vb(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function xb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Ra(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Ra(r.document)}return o}function _p(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var sk=Ci&&"documentMode"in document&&11>=document.documentMode,Xo=null,wp=null,Uc=null,Tp=!1;function bb(r,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Tp||Xo==null||Xo!==Ra(d)||(d=Xo,"selectionStart"in d&&_p(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Uc&&Lc(Uc,d)||(Uc=d,d=Jd(wp,"onSelect"),0<d.length&&(o=new Ho("onSelect","select",null,o,c),r.push({event:o,listeners:d}),o.target=Xo)))}function Ua(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var Zo={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},Sp={},_b={};Ci&&(_b=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function za(r){if(Sp[r])return Sp[r];if(!Zo[r])return r;var o=Zo[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in _b)return Sp[r]=o[c];return r}var wb=za("animationend"),Tb=za("animationiteration"),Sb=za("animationstart"),rk=za("transitionrun"),ak=za("transitionstart"),ok=za("transitioncancel"),Eb=za("transitionend"),Ab=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ep.push("scrollEnd");function Ri(r,o){Ab.set(r,o),Ai(o,[r])}var Cb=new WeakMap;function ci(r,o){if(typeof r=="object"&&r!==null){var c=Cb.get(r);return c!==void 0?c:(o={value:r,source:o,stack:zo(o)},Cb.set(r,o),o)}return{value:r,source:o,stack:zo(o)}}var ui=[],Jo=0,Ap=0;function pd(){for(var r=Jo,o=Ap=Jo=0;o<r;){var c=ui[o];ui[o++]=null;var d=ui[o];ui[o++]=null;var g=ui[o];ui[o++]=null;var x=ui[o];if(ui[o++]=null,d!==null&&g!==null){var E=d.pending;E===null?g.next=g:(g.next=E.next,E.next=g),d.pending=g}x!==0&&Rb(c,g,x)}}function gd(r,o,c,d){ui[Jo++]=r,ui[Jo++]=o,ui[Jo++]=c,ui[Jo++]=d,Ap|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Cp(r,o,c,d){return gd(r,o,c,d),yd(r)}function tl(r,o){return gd(r,null,null,o),yd(r)}function Rb(r,o,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var g=!1,x=r.return;x!==null;)x.childLanes|=c,d=x.alternate,d!==null&&(d.childLanes|=c),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(g=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,g&&o!==null&&(g=31-vn(c),r=x.hiddenUpdates,d=r[g],d===null?r[g]=[o]:d.push(o),o.lane=c|536870912),x):null}function yd(r){if(50<uu)throw uu=0,Dg=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var el={};function lk(r,o,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,o,c,d){return new lk(r,o,c,d)}function Rp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Os(r,o){var c=r.alternate;return c===null?(c=Kn(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Nb(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function vd(r,o,c,d,g,x){var E=0;if(d=r,typeof r=="function")Rp(r)&&(E=1);else if(typeof r=="string")E=uM(r,c,mt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case M:return r=Kn(31,c,o,g),r.elementType=M,r.lanes=x,r;case S:return Ba(c.children,g,x,o);case A:E=8,g|=24;break;case R:return r=Kn(12,c,o,g|2),r.elementType=R,r.lanes=x,r;case H:return r=Kn(13,c,o,g),r.elementType=H,r.lanes=x,r;case G:return r=Kn(19,c,o,g),r.elementType=G,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case I:case F:E=10;break t;case B:E=9;break t;case Y:E=11;break t;case k:E=14;break t;case C:E=16,d=null;break t}E=29,c=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Kn(E,c,o,g),o.elementType=r,o.type=d,o.lanes=x,o}function Ba(r,o,c,d){return r=Kn(7,r,d,o),r.lanes=c,r}function Np(r,o,c){return r=Kn(6,r,null,o),r.lanes=c,r}function Ip(r,o,c){return o=Kn(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var nl=[],il=0,xd=null,bd=0,hi=[],di=0,Fa=null,js=1,Vs="";function Ha(r,o){nl[il++]=bd,nl[il++]=xd,xd=r,bd=o}function Ib(r,o,c){hi[di++]=js,hi[di++]=Vs,hi[di++]=Fa,Fa=r;var d=js;r=Vs;var g=32-vn(d)-1;d&=~(1<<g),c+=1;var x=32-vn(o)+g;if(30<x){var E=g-g%5;x=(d&(1<<E)-1).toString(32),d>>=E,g-=E,js=1<<32-vn(o)+g|c<<g|d,Vs=x+r}else js=1<<x|c<<g|d,Vs=r}function kp(r){r.return!==null&&(Ha(r,1),Ib(r,1,0))}function Mp(r){for(;r===xd;)xd=nl[--il],nl[il]=null,bd=nl[--il],nl[il]=null;for(;r===Fa;)Fa=hi[--di],hi[di]=null,Vs=hi[--di],hi[di]=null,js=hi[--di],hi[di]=null}var Dn=null,Ce=null,te=!1,qa=null,Ji=!1,Dp=Error(i(519));function $a(r){var o=Error(i(418,""));throw Fc(ci(o,r)),Dp}function kb(r){var o=r.stateNode,c=r.type,d=r.memoizedProps;switch(o[Qe]=r,o[Le]=d,c){case"dialog":Bt("cancel",o),Bt("close",o);break;case"iframe":case"object":case"embed":Bt("load",o);break;case"video":case"audio":for(c=0;c<du.length;c++)Bt(du[c],o);break;case"source":Bt("error",o);break;case"img":case"image":case"link":Bt("error",o),Bt("load",o);break;case"details":Bt("toggle",o);break;case"input":Bt("invalid",o),Na(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Bo(o);break;case"select":Bt("invalid",o);break;case"textarea":Bt("invalid",o),Ia(o,d.value,d.defaultValue,d.children),Bo(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||W1(o.textContent,c)?(d.popover!=null&&(Bt("beforetoggle",o),Bt("toggle",o)),d.onScroll!=null&&Bt("scroll",o),d.onScrollEnd!=null&&Bt("scrollend",o),d.onClick!=null&&(o.onclick=tf),o=!0):o=!1,o||$a(r)}function Mb(r){for(Dn=r.return;Dn;)switch(Dn.tag){case 5:case 13:Ji=!1;return;case 27:case 3:Ji=!0;return;default:Dn=Dn.return}}function zc(r){if(r!==Dn)return!1;if(!te)return Mb(r),te=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Kg(r.type,r.memoizedProps)),c=!c),c&&Ce&&$a(r),Mb(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){Ce=Ii(r.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}Ce=null}}else o===27?(o=Ce,jr(r.type)?(r=Jg,Jg=null,Ce=r):Ce=o):Ce=Dn?Ii(r.stateNode.nextSibling):null;return!0}function Bc(){Ce=Dn=null,te=!1}function Db(){var r=qa;return r!==null&&(Un===null?Un=r:Un.push.apply(Un,r),qa=null),r}function Fc(r){qa===null?qa=[r]:qa.push(r)}var Pp=it(null),Ga=null,Ls=null;function _r(r,o,c){et(Pp,o._currentValue),o._currentValue=c}function Us(r){r._currentValue=Pp.current,dt(Pp)}function Op(r,o,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===c)break;r=r.return}}function jp(r,o,c,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var x=g.dependencies;if(x!==null){var E=g.child;x=x.firstContext;t:for(;x!==null;){var N=x;x=g;for(var z=0;z<o.length;z++)if(N.context===o[z]){x.lanes|=c,N=x.alternate,N!==null&&(N.lanes|=c),Op(x.return,c,r),d||(E=null);break t}x=N.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=c,x=E.alternate,x!==null&&(x.lanes|=c),Op(E,c,r),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===r){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Hc(r,o,c,d){r=null;for(var g=o,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var N=g.type;Wn(g.pendingProps.value,E.value)||(r!==null?r.push(N):r=[N])}}else if(g===At.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(vu):r=[vu])}g=g.return}r!==null&&jp(o,r,c,d),o.flags|=262144}function _d(r){for(r=r.firstContext;r!==null;){if(!Wn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Qa(r){Ga=r,Ls=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function xn(r){return Pb(Ga,r)}function wd(r,o){return Ga===null&&Qa(r),Pb(r,o)}function Pb(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ls===null){if(r===null)throw Error(i(308));Ls=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Ls=Ls.next=o;return c}var ck=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},uk=n.unstable_scheduleCallback,hk=n.unstable_NormalPriority,Ye={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vp(){return{controller:new ck,data:new Map,refCount:0}}function qc(r){r.refCount--,r.refCount===0&&uk(hk,function(){r.controller.abort()})}var $c=null,Lp=0,sl=0,rl=null;function dk(r,o){if($c===null){var c=$c=[];Lp=0,sl=zg(),rl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Lp++,o.then(Ob,Ob),o}function Ob(){if(--Lp===0&&$c!==null){rl!==null&&(rl.status="fulfilled");var r=$c;$c=null,sl=0,rl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function fk(r,o){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var g=0;g<c.length;g++)(0,c[g])(o)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var jb=$.S;$.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&dk(r,o),jb!==null&&jb(r,o)};var Wa=it(null);function Up(){var r=Wa.current;return r!==null?r:me.pooledCache}function Td(r,o){o===null?et(Wa,Wa.current):et(Wa,o.pool)}function Vb(){var r=Up();return r===null?null:{parent:Ye._currentValue,pool:r}}var Gc=Error(i(460)),Lb=Error(i(474)),Sd=Error(i(542)),zp={then:function(){}};function Ub(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ed(){}function zb(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Ed,Ed),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Fb(r),r;default:if(typeof o.status=="string")o.then(Ed,Ed);else{if(r=me,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=d}},function(d){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Fb(r),r}throw Qc=o,Gc}}var Qc=null;function Bb(){if(Qc===null)throw Error(i(459));var r=Qc;return Qc=null,r}function Fb(r){if(r===Gc||r===Sd)throw Error(i(483))}var wr=!1;function Bp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fp(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Tr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Sr(r,o,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(ae&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,o=yd(r),Rb(r,null,c),o}return gd(r,d,o,c),yd(r)}function Wc(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,wc(r,c)}}function Hp(r,o){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?g=x=E:x=x.next=E,c=c.next}while(c!==null);x===null?g=x=o:x=x.next=o}else g=x=o;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var qp=!1;function Kc(){if(qp){var r=rl;if(r!==null)throw r}}function Yc(r,o,c,d){qp=!1;var g=r.updateQueue;wr=!1;var x=g.firstBaseUpdate,E=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var z=N,X=z.next;z.next=null,E===null?x=X:E.next=X,E=z;var at=r.alternate;at!==null&&(at=at.updateQueue,N=at.lastBaseUpdate,N!==E&&(N===null?at.firstBaseUpdate=X:N.next=X,at.lastBaseUpdate=z))}if(x!==null){var ut=g.baseState;E=0,at=X=z=null,N=x;do{var Z=N.lane&-536870913,tt=Z!==N.lane;if(tt?(Wt&Z)===Z:(d&Z)===Z){Z!==0&&Z===sl&&(qp=!0),at!==null&&(at=at.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var Nt=r,St=N;Z=o;var de=c;switch(St.tag){case 1:if(Nt=St.payload,typeof Nt=="function"){ut=Nt.call(de,ut,Z);break t}ut=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=St.payload,Z=typeof Nt=="function"?Nt.call(de,ut,Z):Nt,Z==null)break t;ut=p({},ut,Z);break t;case 2:wr=!0}}Z=N.callback,Z!==null&&(r.flags|=64,tt&&(r.flags|=8192),tt=g.callbacks,tt===null?g.callbacks=[Z]:tt.push(Z))}else tt={lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},at===null?(X=at=tt,z=ut):at=at.next=tt,E|=Z;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;tt=N,N=tt.next,tt.next=null,g.lastBaseUpdate=tt,g.shared.pending=null}}while(!0);at===null&&(z=ut),g.baseState=z,g.firstBaseUpdate=X,g.lastBaseUpdate=at,x===null&&(g.shared.lanes=0),Mr|=E,r.lanes=E,r.memoizedState=ut}}function Hb(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function qb(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Hb(c[r],o)}var al=it(null),Ad=it(0);function $b(r,o){r=Gs,et(Ad,r),et(al,o),Gs=r|o.baseLanes}function $p(){et(Ad,Gs),et(al,al.current)}function Gp(){Gs=Ad.current,dt(al),dt(Ad)}var Er=0,Lt=null,ue=null,ze=null,Cd=!1,ol=!1,Ka=!1,Rd=0,Xc=0,ll=null,mk=0;function ke(){throw Error(i(321))}function Qp(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!Wn(r[c],o[c]))return!1;return!0}function Wp(r,o,c,d,g,x){return Er=x,Lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=r===null||r.memoizedState===null?R_:N_,Ka=!1,x=c(d,g),Ka=!1,ol&&(x=Qb(o,c,d,g)),Gb(r),x}function Gb(r){$.H=Pd;var o=ue!==null&&ue.next!==null;if(Er=0,ze=ue=Lt=null,Cd=!1,Xc=0,ll=null,o)throw Error(i(300));r===null||en||(r=r.dependencies,r!==null&&_d(r)&&(en=!0))}function Qb(r,o,c,d){Lt=r;var g=0;do{if(ol&&(ll=null),Xc=0,ol=!1,25<=g)throw Error(i(301));if(g+=1,ze=ue=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}$.H=_k,x=o(c,d)}while(ol);return x}function pk(){var r=$.H,o=r.useState()[0];return o=typeof o.then=="function"?Zc(o):o,r=r.useState()[0],(ue!==null?ue.memoizedState:null)!==r&&(Lt.flags|=1024),o}function Kp(){var r=Rd!==0;return Rd=0,r}function Yp(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function Xp(r){if(Cd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Cd=!1}Er=0,ze=ue=Lt=null,ol=!1,Xc=Rd=0,ll=null}function Vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Lt.memoizedState=ze=r:ze=ze.next=r,ze}function Be(){if(ue===null){var r=Lt.alternate;r=r!==null?r.memoizedState:null}else r=ue.next;var o=ze===null?Lt.memoizedState:ze.next;if(o!==null)ze=o,ue=r;else{if(r===null)throw Lt.alternate===null?Error(i(467)):Error(i(310));ue=r,r={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ze===null?Lt.memoizedState=ze=r:ze=ze.next=r}return ze}function Zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zc(r){var o=Xc;return Xc+=1,ll===null&&(ll=[]),r=zb(ll,r,o),o=Lt,(ze===null?o.memoizedState:ze.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?R_:N_),r}function Nd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Zc(r);if(r.$$typeof===F)return xn(r)}throw Error(i(438,String(r)))}function Jp(r){var o=null,c=Lt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Lt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Zp(),Lt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),d=0;d<r;d++)c[d]=P;return o.index++,c}function zs(r,o){return typeof o=="function"?o(r):o}function Id(r){var o=Be();return tg(o,ue,r)}function tg(r,o,c){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var g=r.baseQueue,x=d.pending;if(x!==null){if(g!==null){var E=g.next;g.next=x.next,x.next=E}o.baseQueue=g=x,d.pending=null}if(x=r.baseState,g===null)r.memoizedState=x;else{o=g.next;var N=E=null,z=null,X=o,at=!1;do{var ut=X.lane&-536870913;if(ut!==X.lane?(Wt&ut)===ut:(Er&ut)===ut){var Z=X.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ut===sl&&(at=!0);else if((Er&Z)===Z){X=X.next,Z===sl&&(at=!0);continue}else ut={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(N=z=ut,E=x):z=z.next=ut,Lt.lanes|=Z,Mr|=Z;ut=X.action,Ka&&c(x,ut),x=X.hasEagerState?X.eagerState:c(x,ut)}else Z={lane:ut,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(N=z=Z,E=x):z=z.next=Z,Lt.lanes|=ut,Mr|=ut;X=X.next}while(X!==null&&X!==o);if(z===null?E=x:z.next=N,!Wn(x,r.memoizedState)&&(en=!0,at&&(c=rl,c!==null)))throw c;r.memoizedState=x,r.baseState=E,r.baseQueue=z,d.lastRenderedState=x}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function eg(r){var o=Be(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var d=c.dispatch,g=c.pending,x=o.memoizedState;if(g!==null){c.pending=null;var E=g=g.next;do x=r(x,E.action),E=E.next;while(E!==g);Wn(x,o.memoizedState)||(en=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,d]}function Wb(r,o,c){var d=Lt,g=Be(),x=te;if(x){if(c===void 0)throw Error(i(407));c=c()}else c=o();var E=!Wn((ue||g).memoizedState,c);E&&(g.memoizedState=c,en=!0),g=g.queue;var N=Xb.bind(null,d,g,r);if(Jc(2048,8,N,[r]),g.getSnapshot!==o||E||ze!==null&&ze.memoizedState.tag&1){if(d.flags|=2048,cl(9,kd(),Yb.bind(null,d,g,c,o),null),me===null)throw Error(i(349));x||(Er&124)!==0||Kb(d,o,c)}return c}function Kb(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Lt.updateQueue,o===null?(o=Zp(),Lt.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function Yb(r,o,c,d){o.value=c,o.getSnapshot=d,Zb(o)&&Jb(r)}function Xb(r,o,c){return c(function(){Zb(o)&&Jb(r)})}function Zb(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!Wn(r,c)}catch{return!0}}function Jb(r){var o=tl(r,2);o!==null&&ti(o,r,2)}function ng(r){var o=Vn();if(typeof r=="function"){var c=r;if(r=c(),Ka){Gn(!0);try{c()}finally{Gn(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:r},o}function t_(r,o,c,d){return r.baseState=c,tg(r,ue,typeof d=="function"?d:zs)}function gk(r,o,c,d,g){if(Dd(r))throw Error(i(485));if(r=o.action,r!==null){var x={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};$.T!==null?c(!0):x.isTransition=!1,d(x),c=o.pending,c===null?(x.next=o.pending=x,e_(o,x)):(x.next=c.next,o.pending=c.next=x)}}function e_(r,o){var c=o.action,d=o.payload,g=r.state;if(o.isTransition){var x=$.T,E={};$.T=E;try{var N=c(g,d),z=$.S;z!==null&&z(E,N),n_(r,o,N)}catch(X){ig(r,o,X)}finally{$.T=x}}else try{x=c(g,d),n_(r,o,x)}catch(X){ig(r,o,X)}}function n_(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){i_(r,o,d)},function(d){return ig(r,o,d)}):i_(r,o,c)}function i_(r,o,c){o.status="fulfilled",o.value=c,s_(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,e_(r,c)))}function ig(r,o,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,s_(o),o=o.next;while(o!==d)}r.action=null}function s_(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function r_(r,o){return o}function a_(r,o){if(te){var c=me.formState;if(c!==null){t:{var d=Lt;if(te){if(Ce){e:{for(var g=Ce,x=Ji;g.nodeType!==8;){if(!x){g=null;break e}if(g=Ii(g.nextSibling),g===null){g=null;break e}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Ce=Ii(g.nextSibling),d=g.data==="F!";break t}}$a(d)}d=!1}d&&(o=c[0])}}return c=Vn(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:o},c.queue=d,c=E_.bind(null,Lt,d),d.dispatch=c,d=ng(!1),x=lg.bind(null,Lt,!1,d.queue),d=Vn(),g={state:o,dispatch:null,action:r,pending:null},d.queue=g,c=gk.bind(null,Lt,g,x,c),g.dispatch=c,d.memoizedState=r,[o,c,!1]}function o_(r){var o=Be();return l_(o,ue,r)}function l_(r,o,c){if(o=tg(r,o,r_)[0],r=Id(zs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Zc(o)}catch(E){throw E===Gc?Sd:E}else d=o;o=Be();var g=o.queue,x=g.dispatch;return c!==o.memoizedState&&(Lt.flags|=2048,cl(9,kd(),yk.bind(null,g,c),null)),[d,x,r]}function yk(r,o){r.action=o}function c_(r){var o=Be(),c=ue;if(c!==null)return l_(o,c,r);Be(),o=o.memoizedState,c=Be();var d=c.queue.dispatch;return c.memoizedState=r,[o,d,!1]}function cl(r,o,c,d){return r={tag:r,create:c,deps:d,inst:o,next:null},o=Lt.updateQueue,o===null&&(o=Zp(),Lt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,o.lastEffect=r),r}function kd(){return{destroy:void 0,resource:void 0}}function u_(){return Be().memoizedState}function Md(r,o,c,d){var g=Vn();d=d===void 0?null:d,Lt.flags|=r,g.memoizedState=cl(1|o,kd(),c,d)}function Jc(r,o,c,d){var g=Be();d=d===void 0?null:d;var x=g.memoizedState.inst;ue!==null&&d!==null&&Qp(d,ue.memoizedState.deps)?g.memoizedState=cl(o,x,c,d):(Lt.flags|=r,g.memoizedState=cl(1|o,x,c,d))}function h_(r,o){Md(8390656,8,r,o)}function d_(r,o){Jc(2048,8,r,o)}function f_(r,o){return Jc(4,2,r,o)}function m_(r,o){return Jc(4,4,r,o)}function p_(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function g_(r,o,c){c=c!=null?c.concat([r]):null,Jc(4,4,p_.bind(null,o,r),c)}function sg(){}function y_(r,o){var c=Be();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&Qp(o,d[1])?d[0]:(c.memoizedState=[r,o],r)}function v_(r,o){var c=Be();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&Qp(o,d[1]))return d[0];if(d=r(),Ka){Gn(!0);try{r()}finally{Gn(!1)}}return c.memoizedState=[d,o],d}function rg(r,o,c){return c===void 0||(Er&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=_1(),Lt.lanes|=r,Mr|=r,c)}function x_(r,o,c,d){return Wn(c,o)?c:al.current!==null?(r=rg(r,c,d),Wn(r,o)||(en=!0),r):(Er&42)===0?(en=!0,r.memoizedState=c):(r=_1(),Lt.lanes|=r,Mr|=r,o)}function b_(r,o,c,d,g){var x=J.p;J.p=x!==0&&8>x?x:8;var E=$.T,N={};$.T=N,lg(r,!1,o,c);try{var z=g(),X=$.S;if(X!==null&&X(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var at=fk(z,d);tu(r,o,at,Jn(r))}else tu(r,o,d,Jn(r))}catch(ut){tu(r,o,{then:function(){},status:"rejected",reason:ut},Jn())}finally{J.p=x,$.T=E}}function vk(){}function ag(r,o,c,d){if(r.tag!==5)throw Error(i(476));var g=__(r).queue;b_(r,g,o,ct,c===null?vk:function(){return w_(r),c(d)})}function __(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:ct},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function w_(r){var o=__(r).next.queue;tu(r,o,{},Jn())}function og(){return xn(vu)}function T_(){return Be().memoizedState}function S_(){return Be().memoizedState}function xk(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=Jn();r=Tr(c);var d=Sr(o,r,c);d!==null&&(ti(d,o,c),Wc(d,o,c)),o={cache:Vp()},r.payload=o;return}o=o.return}}function bk(r,o,c){var d=Jn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Dd(r)?A_(o,c):(c=Cp(r,o,c,d),c!==null&&(ti(c,r,d),C_(c,o,d)))}function E_(r,o,c){var d=Jn();tu(r,o,c,d)}function tu(r,o,c,d){var g={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Dd(r))A_(o,g);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var E=o.lastRenderedState,N=x(E,c);if(g.hasEagerState=!0,g.eagerState=N,Wn(N,E))return gd(r,o,g,0),me===null&&pd(),!1}catch{}finally{}if(c=Cp(r,o,g,d),c!==null)return ti(c,r,d),C_(c,o,d),!0}return!1}function lg(r,o,c,d){if(d={lane:2,revertLane:zg(),action:d,hasEagerState:!1,eagerState:null,next:null},Dd(r)){if(o)throw Error(i(479))}else o=Cp(r,c,d,2),o!==null&&ti(o,r,2)}function Dd(r){var o=r.alternate;return r===Lt||o!==null&&o===Lt}function A_(r,o){ol=Cd=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function C_(r,o,c){if((c&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,wc(r,c)}}var Pd={readContext:xn,use:Nd,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke},R_={readContext:xn,use:Nd,useCallback:function(r,o){return Vn().memoizedState=[r,o===void 0?null:o],r},useContext:xn,useEffect:h_,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,Md(4194308,4,p_.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Md(4194308,4,r,o)},useInsertionEffect:function(r,o){Md(4,2,r,o)},useMemo:function(r,o){var c=Vn();o=o===void 0?null:o;var d=r();if(Ka){Gn(!0);try{r()}finally{Gn(!1)}}return c.memoizedState=[d,o],d},useReducer:function(r,o,c){var d=Vn();if(c!==void 0){var g=c(o);if(Ka){Gn(!0);try{c(o)}finally{Gn(!1)}}}else g=o;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=bk.bind(null,Lt,r),[d.memoizedState,r]},useRef:function(r){var o=Vn();return r={current:r},o.memoizedState=r},useState:function(r){r=ng(r);var o=r.queue,c=E_.bind(null,Lt,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:sg,useDeferredValue:function(r,o){var c=Vn();return rg(c,r,o)},useTransition:function(){var r=ng(!1);return r=b_.bind(null,Lt,r.queue,!0,!1),Vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var d=Lt,g=Vn();if(te){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),me===null)throw Error(i(349));(Wt&124)!==0||Kb(d,o,c)}g.memoizedState=c;var x={value:c,getSnapshot:o};return g.queue=x,h_(Xb.bind(null,d,x,r),[r]),d.flags|=2048,cl(9,kd(),Yb.bind(null,d,x,c,o),null),c},useId:function(){var r=Vn(),o=me.identifierPrefix;if(te){var c=Vs,d=js;c=(d&~(1<<32-vn(d)-1)).toString(32)+c,o=""+o+"R"+c,c=Rd++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=mk++,o=""+o+"r"+c.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:og,useFormState:a_,useActionState:a_,useOptimistic:function(r){var o=Vn();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=lg.bind(null,Lt,!0,c),c.dispatch=o,[r,o]},useMemoCache:Jp,useCacheRefresh:function(){return Vn().memoizedState=xk.bind(null,Lt)}},N_={readContext:xn,use:Nd,useCallback:y_,useContext:xn,useEffect:d_,useImperativeHandle:g_,useInsertionEffect:f_,useLayoutEffect:m_,useMemo:v_,useReducer:Id,useRef:u_,useState:function(){return Id(zs)},useDebugValue:sg,useDeferredValue:function(r,o){var c=Be();return x_(c,ue.memoizedState,r,o)},useTransition:function(){var r=Id(zs)[0],o=Be().memoizedState;return[typeof r=="boolean"?r:Zc(r),o]},useSyncExternalStore:Wb,useId:T_,useHostTransitionStatus:og,useFormState:o_,useActionState:o_,useOptimistic:function(r,o){var c=Be();return t_(c,ue,r,o)},useMemoCache:Jp,useCacheRefresh:S_},_k={readContext:xn,use:Nd,useCallback:y_,useContext:xn,useEffect:d_,useImperativeHandle:g_,useInsertionEffect:f_,useLayoutEffect:m_,useMemo:v_,useReducer:eg,useRef:u_,useState:function(){return eg(zs)},useDebugValue:sg,useDeferredValue:function(r,o){var c=Be();return ue===null?rg(c,r,o):x_(c,ue.memoizedState,r,o)},useTransition:function(){var r=eg(zs)[0],o=Be().memoizedState;return[typeof r=="boolean"?r:Zc(r),o]},useSyncExternalStore:Wb,useId:T_,useHostTransitionStatus:og,useFormState:c_,useActionState:c_,useOptimistic:function(r,o){var c=Be();return ue!==null?t_(c,ue,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Jp,useCacheRefresh:S_},ul=null,eu=0;function Od(r){var o=eu;return eu+=1,ul===null&&(ul=[]),zb(ul,r,o)}function nu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function jd(r,o){throw o.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function I_(r){var o=r._init;return o(r._payload)}function k_(r){function o(Q,q){if(r){var K=Q.deletions;K===null?(Q.deletions=[q],Q.flags|=16):K.push(q)}}function c(Q,q){if(!r)return null;for(;q!==null;)o(Q,q),q=q.sibling;return null}function d(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function g(Q,q){return Q=Os(Q,q),Q.index=0,Q.sibling=null,Q}function x(Q,q,K){return Q.index=K,r?(K=Q.alternate,K!==null?(K=K.index,K<q?(Q.flags|=67108866,q):K):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function E(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,q,K,ot){return q===null||q.tag!==6?(q=Np(K,Q.mode,ot),q.return=Q,q):(q=g(q,K),q.return=Q,q)}function z(Q,q,K,ot){var xt=K.type;return xt===S?at(Q,q,K.props.children,ot,K.key):q!==null&&(q.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===C&&I_(xt)===q.type)?(q=g(q,K.props),nu(q,K),q.return=Q,q):(q=vd(K.type,K.key,K.props,null,Q.mode,ot),nu(q,K),q.return=Q,q)}function X(Q,q,K,ot){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=Ip(K,Q.mode,ot),q.return=Q,q):(q=g(q,K.children||[]),q.return=Q,q)}function at(Q,q,K,ot,xt){return q===null||q.tag!==7?(q=Ba(K,Q.mode,ot,xt),q.return=Q,q):(q=g(q,K),q.return=Q,q)}function ut(Q,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Np(""+q,Q.mode,K),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return K=vd(q.type,q.key,q.props,null,Q.mode,K),nu(K,q),K.return=Q,K;case w:return q=Ip(q,Q.mode,K),q.return=Q,q;case C:var ot=q._init;return q=ot(q._payload),ut(Q,q,K)}if(rt(q)||L(q))return q=Ba(q,Q.mode,K,null),q.return=Q,q;if(typeof q.then=="function")return ut(Q,Od(q),K);if(q.$$typeof===F)return ut(Q,wd(Q,q),K);jd(Q,q)}return null}function Z(Q,q,K,ot){var xt=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return xt!==null?null:N(Q,q,""+K,ot);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===xt?z(Q,q,K,ot):null;case w:return K.key===xt?X(Q,q,K,ot):null;case C:return xt=K._init,K=xt(K._payload),Z(Q,q,K,ot)}if(rt(K)||L(K))return xt!==null?null:at(Q,q,K,ot,null);if(typeof K.then=="function")return Z(Q,q,Od(K),ot);if(K.$$typeof===F)return Z(Q,q,wd(Q,K),ot);jd(Q,K)}return null}function tt(Q,q,K,ot,xt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Q=Q.get(K)||null,N(q,Q,""+ot,xt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case b:return Q=Q.get(ot.key===null?K:ot.key)||null,z(q,Q,ot,xt);case w:return Q=Q.get(ot.key===null?K:ot.key)||null,X(q,Q,ot,xt);case C:var Ut=ot._init;return ot=Ut(ot._payload),tt(Q,q,K,ot,xt)}if(rt(ot)||L(ot))return Q=Q.get(K)||null,at(q,Q,ot,xt,null);if(typeof ot.then=="function")return tt(Q,q,K,Od(ot),xt);if(ot.$$typeof===F)return tt(Q,q,K,wd(q,ot),xt);jd(q,ot)}return null}function Nt(Q,q,K,ot){for(var xt=null,Ut=null,wt=q,Et=q=0,sn=null;wt!==null&&Et<K.length;Et++){wt.index>Et?(sn=wt,wt=null):sn=wt.sibling;var Xt=Z(Q,wt,K[Et],ot);if(Xt===null){wt===null&&(wt=sn);break}r&&wt&&Xt.alternate===null&&o(Q,wt),q=x(Xt,q,Et),Ut===null?xt=Xt:Ut.sibling=Xt,Ut=Xt,wt=sn}if(Et===K.length)return c(Q,wt),te&&Ha(Q,Et),xt;if(wt===null){for(;Et<K.length;Et++)wt=ut(Q,K[Et],ot),wt!==null&&(q=x(wt,q,Et),Ut===null?xt=wt:Ut.sibling=wt,Ut=wt);return te&&Ha(Q,Et),xt}for(wt=d(wt);Et<K.length;Et++)sn=tt(wt,Q,Et,K[Et],ot),sn!==null&&(r&&sn.alternate!==null&&wt.delete(sn.key===null?Et:sn.key),q=x(sn,q,Et),Ut===null?xt=sn:Ut.sibling=sn,Ut=sn);return r&&wt.forEach(function(Br){return o(Q,Br)}),te&&Ha(Q,Et),xt}function St(Q,q,K,ot){if(K==null)throw Error(i(151));for(var xt=null,Ut=null,wt=q,Et=q=0,sn=null,Xt=K.next();wt!==null&&!Xt.done;Et++,Xt=K.next()){wt.index>Et?(sn=wt,wt=null):sn=wt.sibling;var Br=Z(Q,wt,Xt.value,ot);if(Br===null){wt===null&&(wt=sn);break}r&&wt&&Br.alternate===null&&o(Q,wt),q=x(Br,q,Et),Ut===null?xt=Br:Ut.sibling=Br,Ut=Br,wt=sn}if(Xt.done)return c(Q,wt),te&&Ha(Q,Et),xt;if(wt===null){for(;!Xt.done;Et++,Xt=K.next())Xt=ut(Q,Xt.value,ot),Xt!==null&&(q=x(Xt,q,Et),Ut===null?xt=Xt:Ut.sibling=Xt,Ut=Xt);return te&&Ha(Q,Et),xt}for(wt=d(wt);!Xt.done;Et++,Xt=K.next())Xt=tt(wt,Q,Et,Xt.value,ot),Xt!==null&&(r&&Xt.alternate!==null&&wt.delete(Xt.key===null?Et:Xt.key),q=x(Xt,q,Et),Ut===null?xt=Xt:Ut.sibling=Xt,Ut=Xt);return r&&wt.forEach(function(wM){return o(Q,wM)}),te&&Ha(Q,Et),xt}function de(Q,q,K,ot){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:t:{for(var xt=K.key;q!==null;){if(q.key===xt){if(xt=K.type,xt===S){if(q.tag===7){c(Q,q.sibling),ot=g(q,K.props.children),ot.return=Q,Q=ot;break t}}else if(q.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===C&&I_(xt)===q.type){c(Q,q.sibling),ot=g(q,K.props),nu(ot,K),ot.return=Q,Q=ot;break t}c(Q,q);break}else o(Q,q);q=q.sibling}K.type===S?(ot=Ba(K.props.children,Q.mode,ot,K.key),ot.return=Q,Q=ot):(ot=vd(K.type,K.key,K.props,null,Q.mode,ot),nu(ot,K),ot.return=Q,Q=ot)}return E(Q);case w:t:{for(xt=K.key;q!==null;){if(q.key===xt)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){c(Q,q.sibling),ot=g(q,K.children||[]),ot.return=Q,Q=ot;break t}else{c(Q,q);break}else o(Q,q);q=q.sibling}ot=Ip(K,Q.mode,ot),ot.return=Q,Q=ot}return E(Q);case C:return xt=K._init,K=xt(K._payload),de(Q,q,K,ot)}if(rt(K))return Nt(Q,q,K,ot);if(L(K)){if(xt=L(K),typeof xt!="function")throw Error(i(150));return K=xt.call(K),St(Q,q,K,ot)}if(typeof K.then=="function")return de(Q,q,Od(K),ot);if(K.$$typeof===F)return de(Q,q,wd(Q,K),ot);jd(Q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(c(Q,q.sibling),ot=g(q,K),ot.return=Q,Q=ot):(c(Q,q),ot=Np(K,Q.mode,ot),ot.return=Q,Q=ot),E(Q)):c(Q,q)}return function(Q,q,K,ot){try{eu=0;var xt=de(Q,q,K,ot);return ul=null,xt}catch(wt){if(wt===Gc||wt===Sd)throw wt;var Ut=Kn(29,wt,null,Q.mode);return Ut.lanes=ot,Ut.return=Q,Ut}finally{}}}var hl=k_(!0),M_=k_(!1),fi=it(null),ts=null;function Ar(r){var o=r.alternate;et(Xe,Xe.current&1),et(fi,r),ts===null&&(o===null||al.current!==null||o.memoizedState!==null)&&(ts=r)}function D_(r){if(r.tag===22){if(et(Xe,Xe.current),et(fi,r),ts===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(ts=r)}}else Cr()}function Cr(){et(Xe,Xe.current),et(fi,fi.current)}function Bs(r){dt(fi),ts===r&&(ts=null),dt(Xe)}var Xe=it(0);function Vd(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Zg(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function cg(r,o,c,d){o=r.memoizedState,c=c(d,o),c=c==null?o:p({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var ug={enqueueSetState:function(r,o,c){r=r._reactInternals;var d=Jn(),g=Tr(d);g.payload=o,c!=null&&(g.callback=c),o=Sr(r,g,d),o!==null&&(ti(o,r,d),Wc(o,r,d))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var d=Jn(),g=Tr(d);g.tag=1,g.payload=o,c!=null&&(g.callback=c),o=Sr(r,g,d),o!==null&&(ti(o,r,d),Wc(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=Jn(),d=Tr(c);d.tag=2,o!=null&&(d.callback=o),o=Sr(r,d,c),o!==null&&(ti(o,r,c),Wc(o,r,c))}};function P_(r,o,c,d,g,x,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,E):o.prototype&&o.prototype.isPureReactComponent?!Lc(c,d)||!Lc(g,x):!0}function O_(r,o,c,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==r&&ug.enqueueReplaceState(o,o.state,null)}function Ya(r,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(r=r.defaultProps){c===o&&(c=p({},c));for(var g in r)c[g]===void 0&&(c[g]=r[g])}return c}var Ld=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function j_(r){Ld(r)}function V_(r){console.error(r)}function L_(r){Ld(r)}function Ud(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function U_(r,o,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function hg(r,o,c){return c=Tr(c),c.tag=3,c.payload={element:null},c.callback=function(){Ud(r,o)},c}function z_(r){return r=Tr(r),r.tag=3,r}function B_(r,o,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var x=d.value;r.payload=function(){return g(x)},r.callback=function(){U_(o,c,d)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){U_(o,c,d),typeof g!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function wk(r,o,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&Hc(o,c,g,!0),c=fi.current,c!==null){switch(c.tag){case 13:return ts===null?Og():c.alternate===null&&Re===0&&(Re=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===zp?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),Vg(r,d,g)),!1;case 22:return c.flags|=65536,d===zp?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),Vg(r,d,g)),!1}throw Error(i(435,c.tag))}return Vg(r,d,g),Og(),!1}if(te)return o=fi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,d!==Dp&&(r=Error(i(422),{cause:d}),Fc(ci(r,c)))):(d!==Dp&&(o=Error(i(423),{cause:d}),Fc(ci(o,c))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=ci(d,c),g=hg(r.stateNode,d,g),Hp(r,g),Re!==4&&(Re=2)),!1;var x=Error(i(520),{cause:d});if(x=ci(x,c),cu===null?cu=[x]:cu.push(x),Re!==4&&(Re=2),o===null)return!0;d=ci(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=g&-g,c.lanes|=r,r=hg(c.stateNode,d,r),Hp(c,r),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Dr===null||!Dr.has(x))))return c.flags|=65536,g&=-g,c.lanes|=g,g=z_(g),B_(g,r,c,d),Hp(c,g),!1}c=c.return}while(c!==null);return!1}var F_=Error(i(461)),en=!1;function hn(r,o,c,d){o.child=r===null?M_(o,null,c,d):hl(o,r.child,c,d)}function H_(r,o,c,d,g){c=c.render;var x=o.ref;if("ref"in d){var E={};for(var N in d)N!=="ref"&&(E[N]=d[N])}else E=d;return Qa(o),d=Wp(r,o,c,E,x,g),N=Kp(),r!==null&&!en?(Yp(r,o,g),Fs(r,o,g)):(te&&N&&kp(o),o.flags|=1,hn(r,o,d,g),o.child)}function q_(r,o,c,d,g){if(r===null){var x=c.type;return typeof x=="function"&&!Rp(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,$_(r,o,x,d,g)):(r=vd(c.type,null,d,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(x=r.child,!xg(r,g)){var E=x.memoizedProps;if(c=c.compare,c=c!==null?c:Lc,c(E,d)&&r.ref===o.ref)return Fs(r,o,g)}return o.flags|=1,r=Os(x,d),r.ref=o.ref,r.return=o,o.child=r}function $_(r,o,c,d,g){if(r!==null){var x=r.memoizedProps;if(Lc(x,d)&&r.ref===o.ref)if(en=!1,o.pendingProps=d=x,xg(r,g))(r.flags&131072)!==0&&(en=!0);else return o.lanes=r.lanes,Fs(r,o,g)}return dg(r,o,c,d,g)}function G_(r,o,c){var d=o.pendingProps,g=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=x!==null?x.baseLanes|c:c,r!==null){for(g=o.child=r.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;o.childLanes=x&~d}else o.childLanes=0,o.child=null;return Q_(r,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Td(o,x!==null?x.cachePool:null),x!==null?$b(o,x):$p(),D_(o);else return o.lanes=o.childLanes=536870912,Q_(r,o,x!==null?x.baseLanes|c:c,c)}else x!==null?(Td(o,x.cachePool),$b(o,x),Cr(),o.memoizedState=null):(r!==null&&Td(o,null),$p(),Cr());return hn(r,o,g,c),o.child}function Q_(r,o,c,d){var g=Up();return g=g===null?null:{parent:Ye._currentValue,pool:g},o.memoizedState={baseLanes:c,cachePool:g},r!==null&&Td(o,null),$p(),D_(o),r!==null&&Hc(r,o,d,!0),null}function zd(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function dg(r,o,c,d,g){return Qa(o),c=Wp(r,o,c,d,void 0,g),d=Kp(),r!==null&&!en?(Yp(r,o,g),Fs(r,o,g)):(te&&d&&kp(o),o.flags|=1,hn(r,o,c,g),o.child)}function W_(r,o,c,d,g,x){return Qa(o),o.updateQueue=null,c=Qb(o,d,c,g),Gb(r),d=Kp(),r!==null&&!en?(Yp(r,o,x),Fs(r,o,x)):(te&&d&&kp(o),o.flags|=1,hn(r,o,c,x),o.child)}function K_(r,o,c,d,g){if(Qa(o),o.stateNode===null){var x=el,E=c.contextType;typeof E=="object"&&E!==null&&(x=xn(E)),x=new c(d,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=ug,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=d,x.state=o.memoizedState,x.refs={},Bp(o),E=c.contextType,x.context=typeof E=="object"&&E!==null?xn(E):el,x.state=o.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(cg(o,c,E,d),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&ug.enqueueReplaceState(x,x.state,null),Yc(o,d,x,g),Kc(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){x=o.stateNode;var N=o.memoizedProps,z=Ya(c,N);x.props=z;var X=x.context,at=c.contextType;E=el,typeof at=="object"&&at!==null&&(E=xn(at));var ut=c.getDerivedStateFromProps;at=typeof ut=="function"||typeof x.getSnapshotBeforeUpdate=="function",N=o.pendingProps!==N,at||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N||X!==E)&&O_(o,x,d,E),wr=!1;var Z=o.memoizedState;x.state=Z,Yc(o,d,x,g),Kc(),X=o.memoizedState,N||Z!==X||wr?(typeof ut=="function"&&(cg(o,c,ut,d),X=o.memoizedState),(z=wr||P_(o,c,z,d,Z,X,E))?(at||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=X),x.props=d,x.state=X,x.context=E,d=z):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,Fp(r,o),E=o.memoizedProps,at=Ya(c,E),x.props=at,ut=o.pendingProps,Z=x.context,X=c.contextType,z=el,typeof X=="object"&&X!==null&&(z=xn(X)),N=c.getDerivedStateFromProps,(X=typeof N=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==ut||Z!==z)&&O_(o,x,d,z),wr=!1,Z=o.memoizedState,x.state=Z,Yc(o,d,x,g),Kc();var tt=o.memoizedState;E!==ut||Z!==tt||wr||r!==null&&r.dependencies!==null&&_d(r.dependencies)?(typeof N=="function"&&(cg(o,c,N,d),tt=o.memoizedState),(at=wr||P_(o,c,at,d,Z,tt,z)||r!==null&&r.dependencies!==null&&_d(r.dependencies))?(X||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,tt,z),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,tt,z)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=tt),x.props=d,x.state=tt,x.context=z,d=at):(typeof x.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(o.flags|=1024),d=!1)}return x=d,zd(r,o),d=(o.flags&128)!==0,x||d?(x=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,r!==null&&d?(o.child=hl(o,r.child,null,g),o.child=hl(o,null,c,g)):hn(r,o,c,g),o.memoizedState=x.state,r=o.child):r=Fs(r,o,g),r}function Y_(r,o,c,d){return Bc(),o.flags|=256,hn(r,o,c,d),o.child}var fg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mg(r){return{baseLanes:r,cachePool:Vb()}}function pg(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=mi),r}function X_(r,o,c){var d=o.pendingProps,g=!1,x=(o.flags&128)!==0,E;if((E=x)||(E=r!==null&&r.memoizedState===null?!1:(Xe.current&2)!==0),E&&(g=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,r===null){if(te){if(g?Ar(o):Cr(),te){var N=Ce,z;if(z=N){t:{for(z=N,N=Ji;z.nodeType!==8;){if(!N){N=null;break t}if(z=Ii(z.nextSibling),z===null){N=null;break t}}N=z}N!==null?(o.memoizedState={dehydrated:N,treeContext:Fa!==null?{id:js,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},z=Kn(18,null,null,0),z.stateNode=N,z.return=o,o.child=z,Dn=o,Ce=null,z=!0):z=!1}z||$a(o)}if(N=o.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Zg(N)?o.lanes=32:o.lanes=536870912,null;Bs(o)}return N=d.children,d=d.fallback,g?(Cr(),g=o.mode,N=Bd({mode:"hidden",children:N},g),d=Ba(d,g,c,null),N.return=o,d.return=o,N.sibling=d,o.child=N,g=o.child,g.memoizedState=mg(c),g.childLanes=pg(r,E,c),o.memoizedState=fg,d):(Ar(o),gg(o,N))}if(z=r.memoizedState,z!==null&&(N=z.dehydrated,N!==null)){if(x)o.flags&256?(Ar(o),o.flags&=-257,o=yg(r,o,c)):o.memoizedState!==null?(Cr(),o.child=r.child,o.flags|=128,o=null):(Cr(),g=d.fallback,N=o.mode,d=Bd({mode:"visible",children:d.children},N),g=Ba(g,N,c,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,hl(o,r.child,null,c),d=o.child,d.memoizedState=mg(c),d.childLanes=pg(r,E,c),o.memoizedState=fg,o=g);else if(Ar(o),Zg(N)){if(E=N.nextSibling&&N.nextSibling.dataset,E)var X=E.dgst;E=X,d=Error(i(419)),d.stack="",d.digest=E,Fc({value:d,source:null,stack:null}),o=yg(r,o,c)}else if(en||Hc(r,o,c,!1),E=(c&r.childLanes)!==0,en||E){if(E=me,E!==null&&(d=c&-c,d=(d&42)!==0?1:mr(d),d=(d&(E.suspendedLanes|c))!==0?0:d,d!==0&&d!==z.retryLane))throw z.retryLane=d,tl(r,d),ti(E,r,d),F_;N.data==="$?"||Og(),o=yg(r,o,c)}else N.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=z.treeContext,Ce=Ii(N.nextSibling),Dn=o,te=!0,qa=null,Ji=!1,r!==null&&(hi[di++]=js,hi[di++]=Vs,hi[di++]=Fa,js=r.id,Vs=r.overflow,Fa=o),o=gg(o,d.children),o.flags|=4096);return o}return g?(Cr(),g=d.fallback,N=o.mode,z=r.child,X=z.sibling,d=Os(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&65011712,X!==null?g=Os(X,g):(g=Ba(g,N,c,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,N=r.child.memoizedState,N===null?N=mg(c):(z=N.cachePool,z!==null?(X=Ye._currentValue,z=z.parent!==X?{parent:X,pool:X}:z):z=Vb(),N={baseLanes:N.baseLanes|c,cachePool:z}),g.memoizedState=N,g.childLanes=pg(r,E,c),o.memoizedState=fg,d):(Ar(o),c=r.child,r=c.sibling,c=Os(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,r!==null&&(E=o.deletions,E===null?(o.deletions=[r],o.flags|=16):E.push(r)),o.child=c,o.memoizedState=null,c)}function gg(r,o){return o=Bd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Bd(r,o){return r=Kn(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function yg(r,o,c){return hl(o,r.child,null,c),r=gg(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Z_(r,o,c){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Op(r.return,o,c)}function vg(r,o,c,d,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=c,x.tailMode=g)}function J_(r,o,c){var d=o.pendingProps,g=d.revealOrder,x=d.tail;if(hn(r,o,d.children,c),d=Xe.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Z_(r,c,o);else if(r.tag===19)Z_(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(et(Xe,d),g){case"forwards":for(c=o.child,g=null;c!==null;)r=c.alternate,r!==null&&Vd(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),vg(o,!1,g,c,x);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&Vd(r)===null){o.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}vg(o,!0,c,null,x);break;case"together":vg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Fs(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Mr|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(Hc(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,c=Os(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Os(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function xg(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&_d(r)))}function Tk(r,o,c){switch(o.tag){case 3:Mt(o,o.stateNode.containerInfo),_r(o,Ye,r.memoizedState.cache),Bc();break;case 27:case 5:Ve(o);break;case 4:Mt(o,o.stateNode.containerInfo);break;case 10:_r(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Ar(o),o.flags|=128,null):(c&o.child.childLanes)!==0?X_(r,o,c):(Ar(o),r=Fs(r,o,c),r!==null?r.sibling:null);Ar(o);break;case 19:var g=(r.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(Hc(r,o,c,!1),d=(c&o.childLanes)!==0),g){if(d)return J_(r,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),et(Xe,Xe.current),d)break;return null;case 22:case 23:return o.lanes=0,G_(r,o,c);case 24:_r(o,Ye,r.memoizedState.cache)}return Fs(r,o,c)}function t1(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)en=!0;else{if(!xg(r,c)&&(o.flags&128)===0)return en=!1,Tk(r,o,c);en=(r.flags&131072)!==0}else en=!1,te&&(o.flags&1048576)!==0&&Ib(o,bd,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,g=d._init;if(d=g(d._payload),o.type=d,typeof d=="function")Rp(d)?(r=Ya(d,r),o.tag=1,o=K_(null,o,d,r,c)):(o.tag=0,o=dg(null,o,d,r,c));else{if(d!=null){if(g=d.$$typeof,g===Y){o.tag=11,o=H_(null,o,d,r,c);break t}else if(g===k){o.tag=14,o=q_(null,o,d,r,c);break t}}throw o=nt(d)||d,Error(i(306,o,""))}}return o;case 0:return dg(r,o,o.type,o.pendingProps,c);case 1:return d=o.type,g=Ya(d,o.pendingProps),K_(r,o,d,g,c);case 3:t:{if(Mt(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var x=o.memoizedState;g=x.element,Fp(r,o),Yc(o,d,null,c);var E=o.memoizedState;if(d=E.cache,_r(o,Ye,d),d!==x.cache&&jp(o,[Ye],c,!0),Kc(),d=E.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=Y_(r,o,d,c);break t}else if(d!==g){g=ci(Error(i(424)),o),Fc(g),o=Y_(r,o,d,c);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ce=Ii(r.firstChild),Dn=o,te=!0,qa=null,Ji=!0,c=M_(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Bc(),d===g){o=Fs(r,o,c);break t}hn(r,o,d,c)}o=o.child}return o;case 26:return zd(r,o),r===null?(c=sw(o.type,null,o.pendingProps,null))?o.memoizedState=c:te||(c=o.type,r=o.pendingProps,d=ef(ft.current).createElement(c),d[Qe]=o,d[Le]=r,fn(d,c,r),Ie(d),o.stateNode=d):o.memoizedState=sw(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Ve(o),r===null&&te&&(d=o.stateNode=ew(o.type,o.pendingProps,ft.current),Dn=o,Ji=!0,g=Ce,jr(o.type)?(Jg=g,Ce=Ii(d.firstChild)):Ce=g),hn(r,o,o.pendingProps.children,c),zd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&te&&((g=d=Ce)&&(d=Xk(d,o.type,o.pendingProps,Ji),d!==null?(o.stateNode=d,Dn=o,Ce=Ii(d.firstChild),Ji=!1,g=!0):g=!1),g||$a(o)),Ve(o),g=o.type,x=o.pendingProps,E=r!==null?r.memoizedProps:null,d=x.children,Kg(g,x)?d=null:E!==null&&Kg(g,E)&&(o.flags|=32),o.memoizedState!==null&&(g=Wp(r,o,pk,null,null,c),vu._currentValue=g),zd(r,o),hn(r,o,d,c),o.child;case 6:return r===null&&te&&((r=c=Ce)&&(c=Zk(c,o.pendingProps,Ji),c!==null?(o.stateNode=c,Dn=o,Ce=null,r=!0):r=!1),r||$a(o)),null;case 13:return X_(r,o,c);case 4:return Mt(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=hl(o,null,d,c):hn(r,o,d,c),o.child;case 11:return H_(r,o,o.type,o.pendingProps,c);case 7:return hn(r,o,o.pendingProps,c),o.child;case 8:return hn(r,o,o.pendingProps.children,c),o.child;case 12:return hn(r,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,_r(o,o.type,d.value),hn(r,o,d.children,c),o.child;case 9:return g=o.type._context,d=o.pendingProps.children,Qa(o),g=xn(g),d=d(g),o.flags|=1,hn(r,o,d,c),o.child;case 14:return q_(r,o,o.type,o.pendingProps,c);case 15:return $_(r,o,o.type,o.pendingProps,c);case 19:return J_(r,o,c);case 31:return d=o.pendingProps,c=o.mode,d={mode:d.mode,children:d.children},r===null?(c=Bd(d,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Os(r.child,d),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return G_(r,o,c);case 24:return Qa(o),d=xn(Ye),r===null?(g=Up(),g===null&&(g=me,x=Vp(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=c),g=x),o.memoizedState={parent:d,cache:g},Bp(o),_r(o,Ye,g)):((r.lanes&c)!==0&&(Fp(r,o),Yc(o,null,null,c),Kc()),g=r.memoizedState,x=o.memoizedState,g.parent!==d?(g={parent:d,cache:d},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),_r(o,Ye,d)):(d=x.cache,_r(o,Ye,d),d!==g.cache&&jp(o,[Ye],c,!0))),hn(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Hs(r){r.flags|=4}function e1(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!cw(o)){if(o=fi.current,o!==null&&((Wt&4194048)===Wt?ts!==null:(Wt&62914560)!==Wt&&(Wt&536870912)===0||o!==ts))throw Qc=zp,Lb;r.flags|=8192}}function Fd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?bc():536870912,r.lanes|=o,pl|=o)}function iu(r,o){if(!te)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function _e(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(o)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=c,o}function Sk(r,o,c){var d=o.pendingProps;switch(Mp(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(o),null;case 1:return _e(o),null;case 3:return c=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Us(Ye),ee(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(zc(o)?Hs(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Db())),_e(o),null;case 26:return c=o.memoizedState,r===null?(Hs(o),c!==null?(_e(o),e1(o,c)):(_e(o),o.flags&=-16777217)):c?c!==r.memoizedState?(Hs(o),_e(o),e1(o,c)):(_e(o),o.flags&=-16777217):(r.memoizedProps!==d&&Hs(o),_e(o),o.flags&=-16777217),null;case 27:_t(o),c=ft.current;var g=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Hs(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return _e(o),null}r=mt.current,zc(o)?kb(o):(r=ew(g,d,c),o.stateNode=r,Hs(o))}return _e(o),null;case 5:if(_t(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Hs(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return _e(o),null}if(r=mt.current,zc(o))kb(o);else{switch(g=ef(ft.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(c,{is:d.is}):g.createElement(c)}}r[Qe]=o,r[Le]=d;t:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break t;for(;g.sibling===null;){if(g.return===null||g.return===o)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=r;t:switch(fn(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Hs(o)}}return _e(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Hs(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=ft.current,zc(o)){if(r=o.stateNode,c=o.memoizedProps,d=null,g=Dn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[Qe]=o,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||W1(r.nodeValue,c)),r||$a(o)}else r=ef(r).createTextNode(d),r[Qe]=o,o.stateNode=r}return _e(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=zc(o),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Qe]=o}else Bc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;_e(o),g=!1}else g=Db(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Bs(o),o):(Bs(o),null)}if(Bs(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=o.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==g&&(d.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),Fd(o,o.updateQueue),_e(o),null;case 4:return ee(),r===null&&qg(o.stateNode.containerInfo),_e(o),null;case 10:return Us(o.type),_e(o),null;case 19:if(dt(Xe),g=o.memoizedState,g===null)return _e(o),null;if(d=(o.flags&128)!==0,x=g.rendering,x===null)if(d)iu(g,!1);else{if(Re!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(x=Vd(r),x!==null){for(o.flags|=128,iu(g,!1),r=x.updateQueue,o.updateQueue=r,Fd(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)Nb(c,r),c=c.sibling;return et(Xe,Xe.current&1|2),o.child}r=r.sibling}g.tail!==null&&Ot()>$d&&(o.flags|=128,d=!0,iu(g,!1),o.lanes=4194304)}else{if(!d)if(r=Vd(x),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,Fd(o,r),iu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!te)return _e(o),null}else 2*Ot()-g.renderingStartTime>$d&&c!==536870912&&(o.flags|=128,d=!0,iu(g,!1),o.lanes=4194304);g.isBackwards?(x.sibling=o.child,o.child=x):(r=g.last,r!==null?r.sibling=x:o.child=x,g.last=x)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Ot(),o.sibling=null,r=Xe.current,et(Xe,d?r&1|2:r&1),o):(_e(o),null);case 22:case 23:return Bs(o),Gp(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(_e(o),o.subtreeFlags&6&&(o.flags|=8192)):_e(o),c=o.updateQueue,c!==null&&Fd(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),r!==null&&dt(Wa),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Us(Ye),_e(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Ek(r,o){switch(Mp(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Us(Ye),ee(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return _t(o),null;case 13:if(Bs(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Bc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return dt(Xe),null;case 4:return ee(),null;case 10:return Us(o.type),null;case 22:case 23:return Bs(o),Gp(),r!==null&&dt(Wa),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Us(Ye),null;case 25:return null;default:return null}}function n1(r,o){switch(Mp(o),o.tag){case 3:Us(Ye),ee();break;case 26:case 27:case 5:_t(o);break;case 4:ee();break;case 13:Bs(o);break;case 19:dt(Xe);break;case 10:Us(o.type);break;case 22:case 23:Bs(o),Gp(),r!==null&&dt(Wa);break;case 24:Us(Ye)}}function su(r,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){d=void 0;var x=c.create,E=c.inst;d=x(),E.destroy=d}c=c.next}while(c!==g)}}catch(N){fe(o,o.return,N)}}function Rr(r,o,c){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&r)===r){var E=d.inst,N=E.destroy;if(N!==void 0){E.destroy=void 0,g=o;var z=c,X=N;try{X()}catch(at){fe(g,z,at)}}}d=d.next}while(d!==x)}}catch(at){fe(o,o.return,at)}}function i1(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{qb(o,c)}catch(d){fe(r,r.return,d)}}}function s1(r,o,c){c.props=Ya(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){fe(r,o,d)}}function ru(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(g){fe(r,o,g)}}function es(r,o){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){fe(r,o,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){fe(r,o,g)}else c.current=null}function r1(r){var o=r.type,c=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){fe(r,r.return,g)}}function bg(r,o,c){try{var d=r.stateNode;Gk(d,r.type,c,o),d[Le]=o}catch(g){fe(r,r.return,g)}}function a1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&jr(r.type)||r.tag===4}function _g(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||a1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&jr(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wg(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=tf));else if(d!==4&&(d===27&&jr(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(wg(r,o,c),r=r.sibling;r!==null;)wg(r,o,c),r=r.sibling}function Hd(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(d!==4&&(d===27&&jr(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Hd(r,o,c),r=r.sibling;r!==null;)Hd(r,o,c),r=r.sibling}function o1(r){var o=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);fn(o,d,c),o[Qe]=r,o[Le]=c}catch(x){fe(r,r.return,x)}}var qs=!1,Me=!1,Tg=!1,l1=typeof WeakSet=="function"?WeakSet:Set,nn=null;function Ak(r,o){if(r=r.containerInfo,Qg=lf,r=xb(r),_p(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break t}var E=0,N=-1,z=-1,X=0,at=0,ut=r,Z=null;e:for(;;){for(var tt;ut!==c||g!==0&&ut.nodeType!==3||(N=E+g),ut!==x||d!==0&&ut.nodeType!==3||(z=E+d),ut.nodeType===3&&(E+=ut.nodeValue.length),(tt=ut.firstChild)!==null;)Z=ut,ut=tt;for(;;){if(ut===r)break e;if(Z===c&&++X===g&&(N=E),Z===x&&++at===d&&(z=E),(tt=ut.nextSibling)!==null)break;ut=Z,Z=ut.parentNode}ut=tt}c=N===-1||z===-1?null:{start:N,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Wg={focusedElem:r,selectionRange:c},lf=!1,nn=o;nn!==null;)if(o=nn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,nn=r;else for(;nn!==null;){switch(o=nn,x=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,c=o,g=x.memoizedProps,x=x.memoizedState,d=c.stateNode;try{var Nt=Ya(c.type,g,c.elementType===c.type);r=d.getSnapshotBeforeUpdate(Nt,x),d.__reactInternalSnapshotBeforeUpdate=r}catch(St){fe(c,c.return,St)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)Xg(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Xg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,nn=r;break}nn=o.return}}function c1(r,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Nr(r,c),d&4&&su(5,c);break;case 1:if(Nr(r,c),d&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(E){fe(c,c.return,E)}else{var g=Ya(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(g,o,r.__reactInternalSnapshotBeforeUpdate)}catch(E){fe(c,c.return,E)}}d&64&&i1(c),d&512&&ru(c,c.return);break;case 3:if(Nr(r,c),d&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{qb(r,o)}catch(E){fe(c,c.return,E)}}break;case 27:o===null&&d&4&&o1(c);case 26:case 5:Nr(r,c),o===null&&d&4&&r1(c),d&512&&ru(c,c.return);break;case 12:Nr(r,c);break;case 13:Nr(r,c),d&4&&d1(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=Ok.bind(null,c),Jk(r,c))));break;case 22:if(d=c.memoizedState!==null||qs,!d){o=o!==null&&o.memoizedState!==null||Me,g=qs;var x=Me;qs=d,(Me=o)&&!x?Ir(r,c,(c.subtreeFlags&8772)!==0):Nr(r,c),qs=g,Me=x}break;case 30:break;default:Nr(r,c)}}function u1(r){var o=r.alternate;o!==null&&(r.alternate=null,u1(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&yr(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xe=null,Ln=!1;function $s(r,o,c){for(c=c.child;c!==null;)h1(r,o,c),c=c.sibling}function h1(r,o,c){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(Ae,c)}catch{}switch(c.tag){case 26:Me||es(c,o),$s(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Me||es(c,o);var d=xe,g=Ln;jr(c.type)&&(xe=c.stateNode,Ln=!1),$s(r,o,c),mu(c.stateNode),xe=d,Ln=g;break;case 5:Me||es(c,o);case 6:if(d=xe,g=Ln,xe=null,$s(r,o,c),xe=d,Ln=g,xe!==null)if(Ln)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(c.stateNode)}catch(x){fe(c,o,x)}else try{xe.removeChild(c.stateNode)}catch(x){fe(c,o,x)}break;case 18:xe!==null&&(Ln?(r=xe,J1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),wu(r)):J1(xe,c.stateNode));break;case 4:d=xe,g=Ln,xe=c.stateNode.containerInfo,Ln=!0,$s(r,o,c),xe=d,Ln=g;break;case 0:case 11:case 14:case 15:Me||Rr(2,c,o),Me||Rr(4,c,o),$s(r,o,c);break;case 1:Me||(es(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&s1(c,o,d)),$s(r,o,c);break;case 21:$s(r,o,c);break;case 22:Me=(d=Me)||c.memoizedState!==null,$s(r,o,c),Me=d;break;default:$s(r,o,c)}}function d1(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wu(r)}catch(c){fe(o,o.return,c)}}function Ck(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new l1),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new l1),o;default:throw Error(i(435,r.tag))}}function Sg(r,o){var c=Ck(r);o.forEach(function(d){var g=jk.bind(null,r,d);c.has(d)||(c.add(d),d.then(g,g))})}function Yn(r,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],x=r,E=o,N=E;t:for(;N!==null;){switch(N.tag){case 27:if(jr(N.type)){xe=N.stateNode,Ln=!1;break t}break;case 5:xe=N.stateNode,Ln=!1;break t;case 3:case 4:xe=N.stateNode.containerInfo,Ln=!0;break t}N=N.return}if(xe===null)throw Error(i(160));h1(x,E,g),xe=null,Ln=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)f1(o,r),o=o.sibling}var Ni=null;function f1(r,o){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yn(o,r),Xn(r),d&4&&(Rr(3,r,r.return),su(3,r),Rr(5,r,r.return));break;case 1:Yn(o,r),Xn(r),d&512&&(Me||c===null||es(c,c.return)),d&64&&qs&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=Ni;if(Yn(o,r),Xn(r),d&512&&(Me||c===null||es(c,c.return)),d&4){var x=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){t:{d=r.type,c=r.memoizedProps,g=g.ownerDocument||g;e:switch(d){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Ea]||x[Qe]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(d),g.head.insertBefore(x,g.querySelector("head > title"))),fn(x,d,c),x[Qe]=r,Ie(x),d=x;break t;case"link":var E=ow("link","href",g).get(d+(c.href||""));if(E){for(var N=0;N<E.length;N++)if(x=E[N],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(N,1);break e}}x=g.createElement(d),fn(x,d,c),g.head.appendChild(x);break;case"meta":if(E=ow("meta","content",g).get(d+(c.content||""))){for(N=0;N<E.length;N++)if(x=E[N],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(N,1);break e}}x=g.createElement(d),fn(x,d,c),g.head.appendChild(x);break;default:throw Error(i(468,d))}x[Qe]=r,Ie(x),d=x}r.stateNode=d}else lw(g,r.type,r.stateNode);else r.stateNode=aw(g,d,r.memoizedProps);else x!==d?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,d===null?lw(g,r.type,r.stateNode):aw(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&bg(r,r.memoizedProps,c.memoizedProps)}break;case 27:Yn(o,r),Xn(r),d&512&&(Me||c===null||es(c,c.return)),c!==null&&d&4&&bg(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Yn(o,r),Xn(r),d&512&&(Me||c===null||es(c,c.return)),r.flags&32){g=r.stateNode;try{ri(g,"")}catch(tt){fe(r,r.return,tt)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,bg(r,g,c!==null?c.memoizedProps:g)),d&1024&&(Tg=!0);break;case 6:if(Yn(o,r),Xn(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(tt){fe(r,r.return,tt)}}break;case 3:if(rf=null,g=Ni,Ni=nf(o.containerInfo),Yn(o,r),Ni=g,Xn(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{wu(o.containerInfo)}catch(tt){fe(r,r.return,tt)}Tg&&(Tg=!1,m1(r));break;case 4:d=Ni,Ni=nf(r.stateNode.containerInfo),Yn(o,r),Xn(r),Ni=d;break;case 12:Yn(o,r),Xn(r);break;case 13:Yn(o,r),Xn(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ig=Ot()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Sg(r,d)));break;case 22:g=r.memoizedState!==null;var z=c!==null&&c.memoizedState!==null,X=qs,at=Me;if(qs=X||g,Me=at||z,Yn(o,r),Me=at,qs=X,Xn(r),d&8192)t:for(o=r.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(c===null||z||qs||Me||Xa(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){z=c=o;try{if(x=z.stateNode,g)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{N=z.stateNode;var ut=z.memoizedProps.style,Z=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;N.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(tt){fe(z,z.return,tt)}}}else if(o.tag===6){if(c===null){z=o;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(tt){fe(z,z.return,tt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Sg(r,c))));break;case 19:Yn(o,r),Xn(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Sg(r,d)));break;case 30:break;case 21:break;default:Yn(o,r),Xn(r)}}function Xn(r){var o=r.flags;if(o&2){try{for(var c,d=r.return;d!==null;){if(a1(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,x=_g(r);Hd(r,x,g);break;case 5:var E=c.stateNode;c.flags&32&&(ri(E,""),c.flags&=-33);var N=_g(r);Hd(r,N,E);break;case 3:case 4:var z=c.stateNode.containerInfo,X=_g(r);wg(r,X,z);break;default:throw Error(i(161))}}catch(at){fe(r,r.return,at)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function m1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;m1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Nr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)c1(r,o.alternate,o),o=o.sibling}function Xa(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Rr(4,o,o.return),Xa(o);break;case 1:es(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&s1(o,o.return,c),Xa(o);break;case 27:mu(o.stateNode);case 26:case 5:es(o,o.return),Xa(o);break;case 22:o.memoizedState===null&&Xa(o);break;case 30:Xa(o);break;default:Xa(o)}r=r.sibling}}function Ir(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,g=r,x=o,E=x.flags;switch(x.tag){case 0:case 11:case 15:Ir(g,x,c),su(4,x);break;case 1:if(Ir(g,x,c),d=x,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(X){fe(d,d.return,X)}if(d=x,g=d.updateQueue,g!==null){var N=d.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)Hb(z[g],N)}catch(X){fe(d,d.return,X)}}c&&E&64&&i1(x),ru(x,x.return);break;case 27:o1(x);case 26:case 5:Ir(g,x,c),c&&d===null&&E&4&&r1(x),ru(x,x.return);break;case 12:Ir(g,x,c);break;case 13:Ir(g,x,c),c&&E&4&&d1(g,x);break;case 22:x.memoizedState===null&&Ir(g,x,c),ru(x,x.return);break;case 30:break;default:Ir(g,x,c)}o=o.sibling}}function Eg(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&qc(c))}function Ag(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&qc(r))}function ns(r,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)p1(r,o,c,d),o=o.sibling}function p1(r,o,c,d){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ns(r,o,c,d),g&2048&&su(9,o);break;case 1:ns(r,o,c,d);break;case 3:ns(r,o,c,d),g&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&qc(r)));break;case 12:if(g&2048){ns(r,o,c,d),r=o.stateNode;try{var x=o.memoizedProps,E=x.id,N=x.onPostCommit;typeof N=="function"&&N(E,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){fe(o,o.return,z)}}else ns(r,o,c,d);break;case 13:ns(r,o,c,d);break;case 23:break;case 22:x=o.stateNode,E=o.alternate,o.memoizedState!==null?x._visibility&2?ns(r,o,c,d):au(r,o):x._visibility&2?ns(r,o,c,d):(x._visibility|=2,dl(r,o,c,d,(o.subtreeFlags&10256)!==0)),g&2048&&Eg(E,o);break;case 24:ns(r,o,c,d),g&2048&&Ag(o.alternate,o);break;default:ns(r,o,c,d)}}function dl(r,o,c,d,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var x=r,E=o,N=c,z=d,X=E.flags;switch(E.tag){case 0:case 11:case 15:dl(x,E,N,z,g),su(8,E);break;case 23:break;case 22:var at=E.stateNode;E.memoizedState!==null?at._visibility&2?dl(x,E,N,z,g):au(x,E):(at._visibility|=2,dl(x,E,N,z,g)),g&&X&2048&&Eg(E.alternate,E);break;case 24:dl(x,E,N,z,g),g&&X&2048&&Ag(E.alternate,E);break;default:dl(x,E,N,z,g)}o=o.sibling}}function au(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,d=o,g=d.flags;switch(d.tag){case 22:au(c,d),g&2048&&Eg(d.alternate,d);break;case 24:au(c,d),g&2048&&Ag(d.alternate,d);break;default:au(c,d)}o=o.sibling}}var ou=8192;function fl(r){if(r.subtreeFlags&ou)for(r=r.child;r!==null;)g1(r),r=r.sibling}function g1(r){switch(r.tag){case 26:fl(r),r.flags&ou&&r.memoizedState!==null&&dM(Ni,r.memoizedState,r.memoizedProps);break;case 5:fl(r);break;case 3:case 4:var o=Ni;Ni=nf(r.stateNode.containerInfo),fl(r),Ni=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=ou,ou=16777216,fl(r),ou=o):fl(r));break;default:fl(r)}}function y1(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function lu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];nn=d,x1(d,r)}y1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)v1(r),r=r.sibling}function v1(r){switch(r.tag){case 0:case 11:case 15:lu(r),r.flags&2048&&Rr(9,r,r.return);break;case 3:lu(r);break;case 12:lu(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,qd(r)):lu(r);break;default:lu(r)}}function qd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];nn=d,x1(d,r)}y1(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Rr(8,o,o.return),qd(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,qd(o));break;default:qd(o)}r=r.sibling}}function x1(r,o){for(;nn!==null;){var c=nn;switch(c.tag){case 0:case 11:case 15:Rr(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:qc(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,nn=d;else t:for(c=r;nn!==null;){d=nn;var g=d.sibling,x=d.return;if(u1(d),d===c){nn=null;break t}if(g!==null){g.return=x,nn=g;break t}nn=x}}}var Rk={getCacheForType:function(r){var o=xn(Ye),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},Nk=typeof WeakMap=="function"?WeakMap:Map,ae=0,me=null,zt=null,Wt=0,oe=0,Zn=null,kr=!1,ml=!1,Cg=!1,Gs=0,Re=0,Mr=0,Za=0,Rg=0,mi=0,pl=0,cu=null,Un=null,Ng=!1,Ig=0,$d=1/0,Gd=null,Dr=null,dn=0,Pr=null,gl=null,yl=0,kg=0,Mg=null,b1=null,uu=0,Dg=null;function Jn(){if((ae&2)!==0&&Wt!==0)return Wt&-Wt;if($.T!==null){var r=sl;return r!==0?r:zg()}return pr()}function _1(){mi===0&&(mi=(Wt&536870912)===0||te?xc():536870912);var r=fi.current;return r!==null&&(r.flags|=32),mi}function ti(r,o,c){(r===me&&(oe===2||oe===9)||r.cancelPendingCommit!==null)&&(vl(r,0),Or(r,Wt,mi,!1)),Ss(r,c),((ae&2)===0||r!==me)&&(r===me&&((ae&2)===0&&(Za|=c),Re===4&&Or(r,Wt,mi,!1)),is(r))}function w1(r,o,c){if((ae&6)!==0)throw Error(i(327));var d=!c&&(o&124)===0&&(o&r.expiredLanes)===0||Sa(r,o),g=d?Mk(r,o):jg(r,o,!0),x=d;do{if(g===0){ml&&!d&&Or(r,o,0,!1);break}else{if(c=r.current.alternate,x&&!Ik(c)){g=jg(r,o,!1),x=!1;continue}if(g===2){if(x=o,r.errorRecoveryDisabledLanes&x)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;t:{var N=r;g=cu;var z=N.current.memoizedState.isDehydrated;if(z&&(vl(N,E).flags|=256),E=jg(N,E,!1),E!==2){if(Cg&&!z){N.errorRecoveryDisabledLanes|=x,Za|=x,g=4;break t}x=Un,Un=g,x!==null&&(Un===null?Un=x:Un.push.apply(Un,x))}g=E}if(x=!1,g!==2)continue}}if(g===1){vl(r,0),Or(r,o,0,!0);break}t:{switch(d=r,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Or(d,o,mi,!kr);break t;case 2:Un=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=Ig+300-Ot(),10<g)){if(Or(d,o,mi,!kr),Oo(d,0,!0)!==0)break t;d.timeoutHandle=X1(T1.bind(null,d,c,Un,Gd,Ng,o,mi,Za,pl,kr,x,2,-0,0),g);break t}T1(d,c,Un,Gd,Ng,o,mi,Za,pl,kr,x,0,-0,0)}}break}while(!0);is(r)}function T1(r,o,c,d,g,x,E,N,z,X,at,ut,Z,tt){if(r.timeoutHandle=-1,ut=o.subtreeFlags,(ut&8192||(ut&16785408)===16785408)&&(yu={stylesheets:null,count:0,unsuspend:hM},g1(o),ut=fM(),ut!==null)){r.cancelPendingCommit=ut(I1.bind(null,r,o,x,c,d,g,E,N,z,at,1,Z,tt)),Or(r,x,E,!X);return}I1(r,o,x,c,d,g,E,N,z)}function Ik(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],x=g.getSnapshot;g=g.value;try{if(!Wn(x(),g))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Or(r,o,c,d){o&=~Rg,o&=~Za,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var g=o;0<g;){var x=31-vn(g),E=1<<x;d[x]=-1,g&=~E}c!==0&&Fi(r,c,o)}function Qd(){return(ae&6)===0?(hu(0),!1):!0}function Pg(){if(zt!==null){if(oe===0)var r=zt.return;else r=zt,Ls=Ga=null,Xp(r),ul=null,eu=0,r=zt;for(;r!==null;)n1(r.alternate,r),r=r.return;zt=null}}function vl(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,Wk(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Pg(),me=r,zt=c=Os(r.current,null),Wt=o,oe=0,Zn=null,kr=!1,ml=Sa(r,o),Cg=!1,pl=mi=Rg=Za=Mr=Re=0,Un=cu=null,Ng=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var g=31-vn(d),x=1<<g;o|=r[g],d&=~x}return Gs=o,pd(),c}function S1(r,o){Lt=null,$.H=Pd,o===Gc||o===Sd?(o=Bb(),oe=3):o===Lb?(o=Bb(),oe=4):oe=o===F_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zn=o,zt===null&&(Re=1,Ud(r,ci(o,r.current)))}function E1(){var r=$.H;return $.H=Pd,r===null?Pd:r}function A1(){var r=$.A;return $.A=Rk,r}function Og(){Re=4,kr||(Wt&4194048)!==Wt&&fi.current!==null||(ml=!0),(Mr&134217727)===0&&(Za&134217727)===0||me===null||Or(me,Wt,mi,!1)}function jg(r,o,c){var d=ae;ae|=2;var g=E1(),x=A1();(me!==r||Wt!==o)&&(Gd=null,vl(r,o)),o=!1;var E=Re;t:do try{if(oe!==0&&zt!==null){var N=zt,z=Zn;switch(oe){case 8:Pg(),E=6;break t;case 3:case 2:case 9:case 6:fi.current===null&&(o=!0);var X=oe;if(oe=0,Zn=null,xl(r,N,z,X),c&&ml){E=0;break t}break;default:X=oe,oe=0,Zn=null,xl(r,N,z,X)}}kk(),E=Re;break}catch(at){S1(r,at)}while(!0);return o&&r.shellSuspendCounter++,Ls=Ga=null,ae=d,$.H=g,$.A=x,zt===null&&(me=null,Wt=0,pd()),E}function kk(){for(;zt!==null;)C1(zt)}function Mk(r,o){var c=ae;ae|=2;var d=E1(),g=A1();me!==r||Wt!==o?(Gd=null,$d=Ot()+500,vl(r,o)):ml=Sa(r,o);t:do try{if(oe!==0&&zt!==null){o=zt;var x=Zn;e:switch(oe){case 1:oe=0,Zn=null,xl(r,o,x,1);break;case 2:case 9:if(Ub(x)){oe=0,Zn=null,R1(o);break}o=function(){oe!==2&&oe!==9||me!==r||(oe=7),is(r)},x.then(o,o);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:Ub(x)?(oe=0,Zn=null,R1(o)):(oe=0,Zn=null,xl(r,o,x,7));break;case 5:var E=null;switch(zt.tag){case 26:E=zt.memoizedState;case 5:case 27:var N=zt;if(!E||cw(E)){oe=0,Zn=null;var z=N.sibling;if(z!==null)zt=z;else{var X=N.return;X!==null?(zt=X,Wd(X)):zt=null}break e}}oe=0,Zn=null,xl(r,o,x,5);break;case 6:oe=0,Zn=null,xl(r,o,x,6);break;case 8:Pg(),Re=6;break t;default:throw Error(i(462))}}Dk();break}catch(at){S1(r,at)}while(!0);return Ls=Ga=null,$.H=d,$.A=g,ae=c,zt!==null?0:(me=null,Wt=0,pd(),Re)}function Dk(){for(;zt!==null&&!Ge();)C1(zt)}function C1(r){var o=t1(r.alternate,r,Gs);r.memoizedProps=r.pendingProps,o===null?Wd(r):zt=o}function R1(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=W_(c,o,o.pendingProps,o.type,void 0,Wt);break;case 11:o=W_(c,o,o.pendingProps,o.type.render,o.ref,Wt);break;case 5:Xp(o);default:n1(c,o),o=zt=Nb(o,Gs),o=t1(c,o,Gs)}r.memoizedProps=r.pendingProps,o===null?Wd(r):zt=o}function xl(r,o,c,d){Ls=Ga=null,Xp(o),ul=null,eu=0;var g=o.return;try{if(wk(r,g,o,c,Wt)){Re=1,Ud(r,ci(c,r.current)),zt=null;return}}catch(x){if(g!==null)throw zt=g,x;Re=1,Ud(r,ci(c,r.current)),zt=null;return}o.flags&32768?(te||d===1?r=!0:ml||(Wt&536870912)!==0?r=!1:(kr=r=!0,(d===2||d===9||d===3||d===6)&&(d=fi.current,d!==null&&d.tag===13&&(d.flags|=16384))),N1(o,r)):Wd(o)}function Wd(r){var o=r;do{if((o.flags&32768)!==0){N1(o,kr);return}r=o.return;var c=Sk(o.alternate,o,Gs);if(c!==null){zt=c;return}if(o=o.sibling,o!==null){zt=o;return}zt=o=r}while(o!==null);Re===0&&(Re=5)}function N1(r,o){do{var c=Ek(r.alternate,r);if(c!==null){c.flags&=32767,zt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){zt=r;return}zt=r=c}while(r!==null);Re=6,zt=null}function I1(r,o,c,d,g,x,E,N,z){r.cancelPendingCommit=null;do Kd();while(dn!==0);if((ae&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=Ap,_c(r,c,x,E,N,z),r===me&&(zt=me=null,Wt=0),gl=o,Pr=r,yl=c,kg=x,Mg=g,b1=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Vk(jn,function(){return O1(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,g=J.p,J.p=2,E=ae,ae|=4;try{Ak(r,o,c)}finally{ae=E,J.p=g,$.T=d}}dn=1,k1(),M1(),D1()}}function k1(){if(dn===1){dn=0;var r=Pr,o=gl,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var d=J.p;J.p=2;var g=ae;ae|=4;try{f1(o,r);var x=Wg,E=xb(r.containerInfo),N=x.focusedElem,z=x.selectionRange;if(E!==N&&N&&N.ownerDocument&&vb(N.ownerDocument.documentElement,N)){if(z!==null&&_p(N)){var X=z.start,at=z.end;if(at===void 0&&(at=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(at,N.value.length);else{var ut=N.ownerDocument||document,Z=ut&&ut.defaultView||window;if(Z.getSelection){var tt=Z.getSelection(),Nt=N.textContent.length,St=Math.min(z.start,Nt),de=z.end===void 0?St:Math.min(z.end,Nt);!tt.extend&&St>de&&(E=de,de=St,St=E);var Q=yb(N,St),q=yb(N,de);if(Q&&q&&(tt.rangeCount!==1||tt.anchorNode!==Q.node||tt.anchorOffset!==Q.offset||tt.focusNode!==q.node||tt.focusOffset!==q.offset)){var K=ut.createRange();K.setStart(Q.node,Q.offset),tt.removeAllRanges(),St>de?(tt.addRange(K),tt.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),tt.addRange(K))}}}}for(ut=[],tt=N;tt=tt.parentNode;)tt.nodeType===1&&ut.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ut.length;N++){var ot=ut[N];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}lf=!!Qg,Wg=Qg=null}finally{ae=g,J.p=d,$.T=c}}r.current=o,dn=2}}function M1(){if(dn===2){dn=0;var r=Pr,o=gl,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var d=J.p;J.p=2;var g=ae;ae|=4;try{c1(r,o.alternate,o)}finally{ae=g,J.p=d,$.T=c}}dn=3}}function D1(){if(dn===4||dn===3){dn=0,$n();var r=Pr,o=gl,c=yl,d=b1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?dn=5:(dn=0,gl=Pr=null,P1(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Dr=null),jo(c),o=o.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(Ae,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=$.T,g=J.p,J.p=2,$.T=null;try{for(var x=r.onRecoverableError,E=0;E<d.length;E++){var N=d[E];x(N.value,{componentStack:N.stack})}}finally{$.T=o,J.p=g}}(yl&3)!==0&&Kd(),is(r),g=r.pendingLanes,(c&4194090)!==0&&(g&42)!==0?r===Dg?uu++:(uu=0,Dg=r):uu=0,hu(0)}}function P1(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,qc(o)))}function Kd(r){return k1(),M1(),D1(),O1()}function O1(){if(dn!==5)return!1;var r=Pr,o=kg;kg=0;var c=jo(yl),d=$.T,g=J.p;try{J.p=32>c?32:c,$.T=null,c=Mg,Mg=null;var x=Pr,E=yl;if(dn=0,gl=Pr=null,yl=0,(ae&6)!==0)throw Error(i(331));var N=ae;if(ae|=4,v1(x.current),p1(x,x.current,E,c),ae=N,hu(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(Ae,x)}catch{}return!0}finally{J.p=g,$.T=d,P1(r,o)}}function j1(r,o,c){o=ci(c,o),o=hg(r.stateNode,o,2),r=Sr(r,o,2),r!==null&&(Ss(r,2),is(r))}function fe(r,o,c){if(r.tag===3)j1(r,r,c);else for(;o!==null;){if(o.tag===3){j1(o,r,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Dr===null||!Dr.has(d))){r=ci(c,r),c=z_(2),d=Sr(o,c,2),d!==null&&(B_(c,d,o,r),Ss(d,2),is(d));break}}o=o.return}}function Vg(r,o,c){var d=r.pingCache;if(d===null){d=r.pingCache=new Nk;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(c)||(Cg=!0,g.add(c),r=Pk.bind(null,r,o,c),o.then(r,r))}function Pk(r,o,c){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,me===r&&(Wt&c)===c&&(Re===4||Re===3&&(Wt&62914560)===Wt&&300>Ot()-Ig?(ae&2)===0&&vl(r,0):Rg|=c,pl===Wt&&(pl=0)),is(r)}function V1(r,o){o===0&&(o=bc()),r=tl(r,o),r!==null&&(Ss(r,o),is(r))}function Ok(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),V1(r,c)}function jk(r,o){var c=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),V1(r,c)}function Vk(r,o){return Dt(r,o)}var Yd=null,bl=null,Lg=!1,Xd=!1,Ug=!1,Ja=0;function is(r){r!==bl&&r.next===null&&(bl===null?Yd=bl=r:bl=bl.next=r),Xd=!0,Lg||(Lg=!0,Uk())}function hu(r,o){if(!Ug&&Xd){Ug=!0;do for(var c=!1,d=Yd;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var x=0;else{var E=d.suspendedLanes,N=d.pingedLanes;x=(1<<31-vn(42|r)+1)-1,x&=g&~(E&~N),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,B1(d,x))}else x=Wt,x=Oo(d,d===me?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Sa(d,x)||(c=!0,B1(d,x));d=d.next}while(c);Ug=!1}}function Lk(){L1()}function L1(){Xd=Lg=!1;var r=0;Ja!==0&&(Qk()&&(r=Ja),Ja=0);for(var o=Ot(),c=null,d=Yd;d!==null;){var g=d.next,x=U1(d,o);x===0?(d.next=null,c===null?Yd=g:c.next=g,g===null&&(bl=c)):(c=d,(r!==0||(x&3)!==0)&&(Xd=!0)),d=g}hu(r)}function U1(r,o){for(var c=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var E=31-vn(x),N=1<<E,z=g[E];z===-1?((N&c)===0||(N&d)!==0)&&(g[E]=vc(N,o)):z<=o&&(r.expiredLanes|=N),x&=~N}if(o=me,c=Wt,c=Oo(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===o&&(oe===2||oe===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Ee(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Sa(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(d!==null&&Ee(d),jo(c)){case 2:case 8:c=fr;break;case 32:c=jn;break;case 268435456:c=Po;break;default:c=jn}return d=z1.bind(null,r),c=Dt(c,d),r.callbackPriority=o,r.callbackNode=c,o}return d!==null&&d!==null&&Ee(d),r.callbackPriority=2,r.callbackNode=null,2}function z1(r,o){if(dn!==0&&dn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Kd()&&r.callbackNode!==c)return null;var d=Wt;return d=Oo(r,r===me?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(w1(r,d,o),U1(r,Ot()),r.callbackNode!=null&&r.callbackNode===c?z1.bind(null,r):null)}function B1(r,o){if(Kd())return null;w1(r,o,!0)}function Uk(){Kk(function(){(ae&6)!==0?Dt(Bi,Lk):L1()})}function zg(){return Ja===0&&(Ja=xc()),Ja}function F1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fo(""+r)}function H1(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function zk(r,o,c,d,g){if(o==="submit"&&c&&c.stateNode===g){var x=F1((g[Le]||null).action),E=d.submitter;E&&(o=(o=E[Le]||null)?F1(o.formAction):E.getAttribute("formAction"),o!==null&&(x=o,E=null));var N=new Ho("action","action",null,d,g);r.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ja!==0){var z=E?H1(g,E):new FormData(g);ag(c,{pending:!0,data:z,method:g.method,action:x},null,z)}}else typeof x=="function"&&(N.preventDefault(),z=E?H1(g,E):new FormData(g),ag(c,{pending:!0,data:z,method:g.method,action:x},x,z))},currentTarget:g}]})}}for(var Bg=0;Bg<Ep.length;Bg++){var Fg=Ep[Bg],Bk=Fg.toLowerCase(),Fk=Fg[0].toUpperCase()+Fg.slice(1);Ri(Bk,"on"+Fk)}Ri(wb,"onAnimationEnd"),Ri(Tb,"onAnimationIteration"),Ri(Sb,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(rk,"onTransitionRun"),Ri(ak,"onTransitionStart"),Ri(ok,"onTransitionCancel"),Ri(Eb,"onTransitionEnd"),As("onMouseEnter",["mouseout","mouseover"]),As("onMouseLeave",["mouseout","mouseover"]),As("onPointerEnter",["pointerout","pointerover"]),As("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function q1(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],g=d.event;d=d.listeners;t:{var x=void 0;if(o)for(var E=d.length-1;0<=E;E--){var N=d[E],z=N.instance,X=N.currentTarget;if(N=N.listener,z!==x&&g.isPropagationStopped())break t;x=N,g.currentTarget=X;try{x(g)}catch(at){Ld(at)}g.currentTarget=null,x=z}else for(E=0;E<d.length;E++){if(N=d[E],z=N.instance,X=N.currentTarget,N=N.listener,z!==x&&g.isPropagationStopped())break t;x=N,g.currentTarget=X;try{x(g)}catch(at){Ld(at)}g.currentTarget=null,x=z}}}}function Bt(r,o){var c=o[Tc];c===void 0&&(c=o[Tc]=new Set);var d=r+"__bubble";c.has(d)||($1(o,r,2,!1),c.add(d))}function Hg(r,o,c){var d=0;o&&(d|=4),$1(c,r,d,o)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function qg(r){if(!r[Zd]){r[Zd]=!0,Sc.forEach(function(c){c!=="selectionchange"&&(Hk.has(c)||Hg(c,!1,r),Hg(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Zd]||(o[Zd]=!0,Hg("selectionchange",!1,o))}}function $1(r,o,c,d){switch(pw(o)){case 2:var g=gM;break;case 8:g=yM;break;default:g=s0}c=g.bind(null,o,c,r),g=void 0,!oi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(o,c,{capture:!0,passive:g}):r.addEventListener(o,c,!0):g!==void 0?r.addEventListener(o,c,{passive:g}):r.addEventListener(o,c,!1)}function $g(r,o,c,d,g){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var N=d.stateNode.containerInfo;if(N===g)break;if(E===4)for(E=d.return;E!==null;){var z=E.tag;if((z===3||z===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;N!==null;){if(E=Es(N),E===null)return;if(z=E.tag,z===5||z===6||z===26||z===27){d=x=E;continue t}N=N.parentNode}}d=d.return}td(function(){var X=x,at=ai(c),ut=[];t:{var Z=Ab.get(r);if(Z!==void 0){var tt=Ho,Nt=r;switch(r){case"keypress":if(Wi(c)===0)break t;case"keydown":case"keyup":tt=Ko;break;case"focusin":Nt="focus",tt=Go;break;case"focusout":Nt="blur",tt=Go;break;case"beforeblur":case"afterblur":tt=Go;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=ld;break;case wb:case Tb:case Sb:tt=Qo;break;case Eb:tt=ud;break;case"scroll":case"scrollend":tt=ed;break;case"wheel":tt=Yo;break;case"copy":case"cut":case"paste":tt=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=jc;break;case"toggle":case"beforetoggle":tt=dd}var St=(o&4)!==0,de=!St&&(r==="scroll"||r==="scrollend"),Q=St?Z!==null?Z+"Capture":null:Z;St=[];for(var q=X,K;q!==null;){var ot=q;if(K=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||K===null||Q===null||(ot=Ma(q,Q),ot!=null&&St.push(fu(q,ot,K))),de)break;q=q.return}0<St.length&&(Z=new tt(Z,Nt,null,c,at),ut.push({event:Z,listeners:St}))}}if((o&7)===0){t:{if(Z=r==="mouseover"||r==="pointerover",tt=r==="mouseout"||r==="pointerout",Z&&c!==Ns&&(Nt=c.relatedTarget||c.fromElement)&&(Es(Nt)||Nt[si]))break t;if((tt||Z)&&(Z=at.window===at?at:(Z=at.ownerDocument)?Z.defaultView||Z.parentWindow:window,tt?(Nt=c.relatedTarget||c.toElement,tt=X,Nt=Nt?Es(Nt):null,Nt!==null&&(de=a(Nt),St=Nt.tag,Nt!==de||St!==5&&St!==27&&St!==6)&&(Nt=null)):(tt=null,Nt=X),tt!==Nt)){if(St=li,ot="onMouseLeave",Q="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(St=jc,ot="onPointerLeave",Q="onPointerEnter",q="pointer"),de=tt==null?Z:qi(tt),K=Nt==null?Z:qi(Nt),Z=new St(ot,q+"leave",tt,c,at),Z.target=de,Z.relatedTarget=K,ot=null,Es(at)===X&&(St=new St(Q,q+"enter",Nt,c,at),St.target=K,St.relatedTarget=de,ot=St),de=ot,tt&&Nt)e:{for(St=tt,Q=Nt,q=0,K=St;K;K=_l(K))q++;for(K=0,ot=Q;ot;ot=_l(ot))K++;for(;0<q-K;)St=_l(St),q--;for(;0<K-q;)Q=_l(Q),K--;for(;q--;){if(St===Q||Q!==null&&St===Q.alternate)break e;St=_l(St),Q=_l(Q)}St=null}else St=null;tt!==null&&G1(ut,Z,tt,St,!1),Nt!==null&&de!==null&&G1(ut,de,Nt,St,!0)}}t:{if(Z=X?qi(X):window,tt=Z.nodeName&&Z.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Z.type==="file")var xt=hb;else if(Ke(Z))if(db)xt=nk;else{xt=tk;var Ut=JI}else tt=Z.nodeName,!tt||tt.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Nc(X.elementType)&&(xt=hb):xt=ek;if(xt&&(xt=xt(r,X))){Ps(ut,xt,c,at);break t}Ut&&Ut(r,Z,X),r==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&xr(Z,"number",Z.value)}switch(Ut=X?qi(X):window,r){case"focusin":(Ke(Ut)||Ut.contentEditable==="true")&&(Xo=Ut,wp=X,Uc=null);break;case"focusout":Uc=wp=Xo=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,bb(ut,c,at);break;case"selectionchange":if(sk)break;case"keydown":case"keyup":bb(ut,c,at)}var wt;if(Xi)t:{switch(r){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Gt?st(r,c)&&(Et="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Et="onCompositionStart");Et&&(T&&c.locale!=="ko"&&(Gt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Gt&&(wt=kc()):(Qi=at,br="value"in Qi?Qi.value:Qi.textContent,Gt=!0)),Ut=Jd(X,Et),0<Ut.length&&(Et=new Pc(Et,r,null,c,at),ut.push({event:Et,listeners:Ut}),wt?Et.data=wt:(wt=pt(c),wt!==null&&(Et.data=wt)))),(wt=_?We(r,c):Qt(r,c))&&(Et=Jd(X,"onBeforeInput"),0<Et.length&&(Ut=new Pc("onBeforeInput","beforeinput",null,c,at),ut.push({event:Ut,listeners:Et}),Ut.data=wt)),zk(ut,r,X,c,at)}q1(ut,o)})}function fu(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Jd(r,o){for(var c=o+"Capture",d=[];r!==null;){var g=r,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Ma(r,c),g!=null&&d.unshift(fu(r,g,x)),g=Ma(r,o),g!=null&&d.push(fu(r,g,x))),r.tag===3)return d;r=r.return}return[]}function _l(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function G1(r,o,c,d,g){for(var x=o._reactName,E=[];c!==null&&c!==d;){var N=c,z=N.alternate,X=N.stateNode;if(N=N.tag,z!==null&&z===d)break;N!==5&&N!==26&&N!==27||X===null||(z=X,g?(X=Ma(c,x),X!=null&&E.unshift(fu(c,X,z))):g||(X=Ma(c,x),X!=null&&E.push(fu(c,X,z)))),c=c.return}E.length!==0&&r.push({event:o,listeners:E})}var qk=/\r\n?/g,$k=/\u0000|\uFFFD/g;function Q1(r){return(typeof r=="string"?r:""+r).replace(qk,`
`).replace($k,"")}function W1(r,o){return o=Q1(o),Q1(r)===o}function tf(){}function he(r,o,c,d,g,x){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ri(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ri(r,""+d);break;case"className":$i(r,"class",d);break;case"tabIndex":$i(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(r,c,d);break;case"style":Rc(r,d,x);break;case"data":if(o!=="object"){$i(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=Fo(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&he(r,o,"name",g.name,g,null),he(r,o,"formEncType",g.formEncType,g,null),he(r,o,"formMethod",g.formMethod,g,null),he(r,o,"formTarget",g.formTarget,g,null)):(he(r,o,"encType",g.encType,g,null),he(r,o,"method",g.method,g,null),he(r,o,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=Fo(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=tf);break;case"onScroll":d!=null&&Bt("scroll",r);break;case"onScrollEnd":d!=null&&Bt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=Fo(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":Bt("beforetoggle",r),Bt("toggle",r),vr(r,"popover",d);break;case"xlinkActuate":cn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":cn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":cn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":cn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":cn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":cn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":cn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":cn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":cn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":vr(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=pp.get(c)||c,vr(r,c,d))}}function Gg(r,o,c,d,g,x){switch(c){case"style":Rc(r,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof d=="string"?ri(r,d):(typeof d=="number"||typeof d=="bigint")&&ri(r,""+d);break;case"onScroll":d!=null&&Bt("scroll",r);break;case"onScrollEnd":d!=null&&Bt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=tf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),o=c.slice(2,g?c.length-7:void 0),x=r[Le]||null,x=x!=null?x[c]:null,typeof x=="function"&&r.removeEventListener(o,x,g),typeof d=="function")){typeof x!="function"&&x!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,d,g);break t}c in r?r[c]=d:d===!0?r.setAttribute(c,""):vr(r,c,d)}}}function fn(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",r),Bt("load",r);var d=!1,g=!1,x;for(x in c)if(c.hasOwnProperty(x)){var E=c[x];if(E!=null)switch(x){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:he(r,o,x,E,c,null)}}g&&he(r,o,"srcSet",c.srcSet,c,null),d&&he(r,o,"src",c.src,c,null);return;case"input":Bt("invalid",r);var N=x=E=g=null,z=null,X=null;for(d in c)if(c.hasOwnProperty(d)){var at=c[d];if(at!=null)switch(d){case"name":g=at;break;case"type":E=at;break;case"checked":z=at;break;case"defaultChecked":X=at;break;case"value":x=at;break;case"defaultValue":N=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,o));break;default:he(r,o,d,at,c,null)}}Na(r,x,N,z,X,E,g,!1),Bo(r);return;case"select":Bt("invalid",r),d=E=x=null;for(g in c)if(c.hasOwnProperty(g)&&(N=c[g],N!=null))switch(g){case"value":x=N;break;case"defaultValue":E=N;break;case"multiple":d=N;default:he(r,o,g,N,c,null)}o=x,c=E,r.multiple=!!d,o!=null?Rs(r,!!d,o,!1):c!=null&&Rs(r,!!d,c,!0);return;case"textarea":Bt("invalid",r),x=g=d=null;for(E in c)if(c.hasOwnProperty(E)&&(N=c[E],N!=null))switch(E){case"value":d=N;break;case"defaultValue":g=N;break;case"children":x=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:he(r,o,E,N,c,null)}Ia(r,d,g,x),Bo(r);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(d=c[z],d!=null))switch(z){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:he(r,o,z,d,c,null)}return;case"dialog":Bt("beforetoggle",r),Bt("toggle",r),Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":Bt("load",r);break;case"video":case"audio":for(d=0;d<du.length;d++)Bt(du[d],r);break;case"image":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"embed":case"source":case"link":Bt("error",r),Bt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in c)if(c.hasOwnProperty(X)&&(d=c[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:he(r,o,X,d,c,null)}return;default:if(Nc(o)){for(at in c)c.hasOwnProperty(at)&&(d=c[at],d!==void 0&&Gg(r,o,at,d,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(d=c[N],d!=null&&he(r,o,N,d,c,null))}function Gk(r,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,E=null,N=null,z=null,X=null,at=null;for(tt in c){var ut=c[tt];if(c.hasOwnProperty(tt)&&ut!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":z=ut;default:d.hasOwnProperty(tt)||he(r,o,tt,null,d,ut)}}for(var Z in d){var tt=d[Z];if(ut=c[Z],d.hasOwnProperty(Z)&&(tt!=null||ut!=null))switch(Z){case"type":x=tt;break;case"name":g=tt;break;case"checked":X=tt;break;case"defaultChecked":at=tt;break;case"value":E=tt;break;case"defaultValue":N=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,o));break;default:tt!==ut&&he(r,o,Z,tt,d,ut)}}Qn(r,E,N,z,X,at,x,g);return;case"select":tt=E=N=Z=null;for(x in c)if(z=c[x],c.hasOwnProperty(x)&&z!=null)switch(x){case"value":break;case"multiple":tt=z;default:d.hasOwnProperty(x)||he(r,o,x,null,d,z)}for(g in d)if(x=d[g],z=c[g],d.hasOwnProperty(g)&&(x!=null||z!=null))switch(g){case"value":Z=x;break;case"defaultValue":N=x;break;case"multiple":E=x;default:x!==z&&he(r,o,g,x,d,z)}o=N,c=E,d=tt,Z!=null?Rs(r,!!c,Z,!1):!!d!=!!c&&(o!=null?Rs(r,!!c,o,!0):Rs(r,!!c,c?[]:"",!1));return;case"textarea":tt=Z=null;for(N in c)if(g=c[N],c.hasOwnProperty(N)&&g!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:he(r,o,N,null,d,g)}for(E in d)if(g=d[E],x=c[E],d.hasOwnProperty(E)&&(g!=null||x!=null))switch(E){case"value":Z=g;break;case"defaultValue":tt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&he(r,o,E,g,d,x)}ce(r,Z,tt);return;case"option":for(var Nt in c)if(Z=c[Nt],c.hasOwnProperty(Nt)&&Z!=null&&!d.hasOwnProperty(Nt))switch(Nt){case"selected":r.selected=!1;break;default:he(r,o,Nt,null,d,Z)}for(z in d)if(Z=d[z],tt=c[z],d.hasOwnProperty(z)&&Z!==tt&&(Z!=null||tt!=null))switch(z){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:he(r,o,z,Z,d,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in c)Z=c[St],c.hasOwnProperty(St)&&Z!=null&&!d.hasOwnProperty(St)&&he(r,o,St,null,d,Z);for(X in d)if(Z=d[X],tt=c[X],d.hasOwnProperty(X)&&Z!==tt&&(Z!=null||tt!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,o));break;default:he(r,o,X,Z,d,tt)}return;default:if(Nc(o)){for(var de in c)Z=c[de],c.hasOwnProperty(de)&&Z!==void 0&&!d.hasOwnProperty(de)&&Gg(r,o,de,void 0,d,Z);for(at in d)Z=d[at],tt=c[at],!d.hasOwnProperty(at)||Z===tt||Z===void 0&&tt===void 0||Gg(r,o,at,Z,d,tt);return}}for(var Q in c)Z=c[Q],c.hasOwnProperty(Q)&&Z!=null&&!d.hasOwnProperty(Q)&&he(r,o,Q,null,d,Z);for(ut in d)Z=d[ut],tt=c[ut],!d.hasOwnProperty(ut)||Z===tt||Z==null&&tt==null||he(r,o,ut,Z,d,tt)}var Qg=null,Wg=null;function ef(r){return r.nodeType===9?r:r.ownerDocument}function K1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y1(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Kg(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Yg=null;function Qk(){var r=window.event;return r&&r.type==="popstate"?r===Yg?!1:(Yg=r,!0):(Yg=null,!1)}var X1=typeof setTimeout=="function"?setTimeout:void 0,Wk=typeof clearTimeout=="function"?clearTimeout:void 0,Z1=typeof Promise=="function"?Promise:void 0,Kk=typeof queueMicrotask=="function"?queueMicrotask:typeof Z1<"u"?function(r){return Z1.resolve(null).then(r).catch(Yk)}:X1;function Yk(r){setTimeout(function(){throw r})}function jr(r){return r==="head"}function J1(r,o){var c=o,d=0,g=0;do{var x=c.nextSibling;if(r.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(0<d&&8>d){c=d;var E=r.ownerDocument;if(c&1&&mu(E.documentElement),c&2&&mu(E.body),c&4)for(c=E.head,mu(c),E=c.firstChild;E;){var N=E.nextSibling,z=E.nodeName;E[Ea]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&E.rel.toLowerCase()==="stylesheet"||c.removeChild(E),E=N}}if(g===0){r.removeChild(x),wu(o);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:d=c.charCodeAt(0)-48;else d=0;c=x}while(c);wu(o)}function Xg(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Xg(c),yr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function Xk(r,o,c,d){for(;r.nodeType===1;){var g=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Ea])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Ii(r.nextSibling),r===null)break}return null}function Zk(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Ii(r.nextSibling),r===null))return null;return r}function Zg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Jk(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Ii(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Jg=null;function tw(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function ew(r,o,c){switch(o=ef(c),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function mu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);yr(r)}var pi=new Map,nw=new Set;function nf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Qs=J.d;J.d={f:tM,r:eM,D:nM,C:iM,L:sM,m:rM,X:oM,S:aM,M:lM};function tM(){var r=Qs.f(),o=Qd();return r||o}function eM(r){var o=Hi(r);o!==null&&o.tag===5&&o.type==="form"?w_(o):Qs.r(r)}var wl=typeof document>"u"?null:document;function iw(r,o,c){var d=wl;if(d&&typeof o=="string"&&o){var g=Ue(o);g='link[rel="'+r+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),nw.has(g)||(nw.add(g),r={rel:r,crossOrigin:c,href:o},d.querySelector(g)===null&&(o=d.createElement("link"),fn(o,"link",r),Ie(o),d.head.appendChild(o)))}}function nM(r){Qs.D(r),iw("dns-prefetch",r,null)}function iM(r,o){Qs.C(r,o),iw("preconnect",r,o)}function sM(r,o,c){Qs.L(r,o,c);var d=wl;if(d&&r&&o){var g='link[rel="preload"][as="'+Ue(o)+'"]';o==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Ue(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Ue(c.imageSizes)+'"]')):g+='[href="'+Ue(r)+'"]';var x=g;switch(o){case"style":x=Tl(r);break;case"script":x=Sl(r)}pi.has(x)||(r=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),pi.set(x,r),d.querySelector(g)!==null||o==="style"&&d.querySelector(pu(x))||o==="script"&&d.querySelector(gu(x))||(o=d.createElement("link"),fn(o,"link",r),Ie(o),d.head.appendChild(o)))}}function rM(r,o){Qs.m(r,o);var c=wl;if(c&&r){var d=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Ue(d)+'"][href="'+Ue(r)+'"]',x=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Sl(r)}if(!pi.has(x)&&(r=p({rel:"modulepreload",href:r},o),pi.set(x,r),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(gu(x)))return}d=c.createElement("link"),fn(d,"link",r),Ie(d),c.head.appendChild(d)}}}function aM(r,o,c){Qs.S(r,o,c);var d=wl;if(d&&r){var g=In(d).hoistableStyles,x=Tl(r);o=o||"default";var E=g.get(x);if(!E){var N={loading:0,preload:null};if(E=d.querySelector(pu(x)))N.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},c),(c=pi.get(x))&&t0(r,c);var z=E=d.createElement("link");Ie(z),fn(z,"link",r),z._p=new Promise(function(X,at){z.onload=X,z.onerror=at}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,sf(E,o,d)}E={type:"stylesheet",instance:E,count:1,state:N},g.set(x,E)}}}function oM(r,o){Qs.X(r,o);var c=wl;if(c&&r){var d=In(c).hoistableScripts,g=Sl(r),x=d.get(g);x||(x=c.querySelector(gu(g)),x||(r=p({src:r,async:!0},o),(o=pi.get(g))&&e0(r,o),x=c.createElement("script"),Ie(x),fn(x,"link",r),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(g,x))}}function lM(r,o){Qs.M(r,o);var c=wl;if(c&&r){var d=In(c).hoistableScripts,g=Sl(r),x=d.get(g);x||(x=c.querySelector(gu(g)),x||(r=p({src:r,async:!0,type:"module"},o),(o=pi.get(g))&&e0(r,o),x=c.createElement("script"),Ie(x),fn(x,"link",r),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(g,x))}}function sw(r,o,c,d){var g=(g=ft.current)?nf(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Tl(c.href),c=In(g).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Tl(c.href);var x=In(g).hoistableStyles,E=x.get(r);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,E),(x=g.querySelector(pu(r)))&&!x._p&&(E.instance=x,E.state.loading=5),pi.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},pi.set(r,c),x||cM(g,r,c,E.state))),o&&d===null)throw Error(i(528,""));return E}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Sl(c),c=In(g).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Tl(r){return'href="'+Ue(r)+'"'}function pu(r){return'link[rel="stylesheet"]['+r+"]"}function rw(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function cM(r,o,c,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),fn(o,"link",c),Ie(o),r.head.appendChild(o))}function Sl(r){return'[src="'+Ue(r)+'"]'}function gu(r){return"script[async]"+r}function aw(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+Ue(c.href)+'"]');if(d)return o.instance=d,Ie(d),d;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Ie(d),fn(d,"style",g),sf(d,c.precedence,r),o.instance=d;case"stylesheet":g=Tl(c.href);var x=r.querySelector(pu(g));if(x)return o.state.loading|=4,o.instance=x,Ie(x),x;d=rw(c),(g=pi.get(g))&&t0(d,g),x=(r.ownerDocument||r).createElement("link"),Ie(x);var E=x;return E._p=new Promise(function(N,z){E.onload=N,E.onerror=z}),fn(x,"link",d),o.state.loading|=4,sf(x,c.precedence,r),o.instance=x;case"script":return x=Sl(c.src),(g=r.querySelector(gu(x)))?(o.instance=g,Ie(g),g):(d=c,(g=pi.get(x))&&(d=p({},c),e0(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),Ie(g),fn(g,"link",d),r.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,sf(d,c.precedence,r));return o.instance}function sf(r,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,x=g,E=0;E<d.length;E++){var N=d[E];if(N.dataset.precedence===o)x=N;else if(x!==g)break}x?x.parentNode.insertBefore(r,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function t0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function e0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var rf=null;function ow(r,o,c){if(rf===null){var d=new Map,g=rf=new Map;g.set(c,d)}else g=rf,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),g=0;g<c.length;g++){var x=c[g];if(!(x[Ea]||x[Qe]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(o)||"";E=r+E;var N=d.get(E);N?N.push(x):d.set(E,[x])}}return d}function lw(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function uM(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function cw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var yu=null;function hM(){}function dM(r,o,c){if(yu===null)throw Error(i(475));var d=yu;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Tl(c.href),x=r.querySelector(pu(g));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=af.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=x,Ie(x);return}x=r.ownerDocument||r,c=rw(c),(g=pi.get(g))&&t0(c,g),x=x.createElement("link"),Ie(x);var E=x;E._p=new Promise(function(N,z){E.onload=N,E.onerror=z}),fn(x,"link",c),o.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=af.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function fM(){if(yu===null)throw Error(i(475));var r=yu;return r.stylesheets&&r.count===0&&n0(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&n0(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function af(){if(this.count--,this.count===0){if(this.stylesheets)n0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var of=null;function n0(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,of=new Map,o.forEach(mM,r),of=null,af.call(r))}function mM(r,o){if(!(o.state.loading&4)){var c=of.get(r);if(c)var d=c.get(null);else{c=new Map,of.set(r,c);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var E=g[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),d=E)}d&&c.set(null,d)}g=o.instance,E=g.getAttribute("data-precedence"),x=c.get(E)||d,x===d&&c.set(null,g),c.set(E,g),this.count++,d=af.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),x?x.parentNode.insertBefore(g,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),o.state.loading|=4}}var vu={$$typeof:F,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function pM(r,o,c,d,g,x,E,N){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function uw(r,o,c,d,g,x,E,N,z,X,at,ut){return r=new pM(r,o,c,E,N,z,X,ut),o=1,x===!0&&(o|=24),x=Kn(3,null,null,o),r.current=x,x.stateNode=r,o=Vp(),o.refCount++,r.pooledCache=o,o.refCount++,x.memoizedState={element:d,isDehydrated:c,cache:o},Bp(x),r}function hw(r){return r?(r=el,r):el}function dw(r,o,c,d,g,x){g=hw(g),d.context===null?d.context=g:d.pendingContext=g,d=Tr(o),d.payload={element:c},x=x===void 0?null:x,x!==null&&(d.callback=x),c=Sr(r,d,o),c!==null&&(ti(c,r,o),Wc(c,r,o))}function fw(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function i0(r,o){fw(r,o),(r=r.alternate)&&fw(r,o)}function mw(r){if(r.tag===13){var o=tl(r,67108864);o!==null&&ti(o,r,67108864),i0(r,67108864)}}var lf=!0;function gM(r,o,c,d){var g=$.T;$.T=null;var x=J.p;try{J.p=2,s0(r,o,c,d)}finally{J.p=x,$.T=g}}function yM(r,o,c,d){var g=$.T;$.T=null;var x=J.p;try{J.p=8,s0(r,o,c,d)}finally{J.p=x,$.T=g}}function s0(r,o,c,d){if(lf){var g=r0(d);if(g===null)$g(r,o,d,cf,c),gw(r,d);else if(xM(g,r,o,c,d))d.stopPropagation();else if(gw(r,d),o&4&&-1<vM.indexOf(r)){for(;g!==null;){var x=Hi(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=Ei(x.pendingLanes);if(E!==0){var N=x;for(N.pendingLanes|=2,N.entangledLanes|=2;E;){var z=1<<31-vn(E);N.entanglements[1]|=z,E&=~z}is(x),(ae&6)===0&&($d=Ot()+500,hu(0))}}break;case 13:N=tl(x,2),N!==null&&ti(N,x,2),Qd(),i0(x,2)}if(x=r0(d),x===null&&$g(r,o,d,cf,c),x===g)break;g=x}g!==null&&d.stopPropagation()}else $g(r,o,d,null,c)}}function r0(r){return r=ai(r),a0(r)}var cf=null;function a0(r){if(cf=null,r=Es(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return cf=r,null}function pw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case Bi:return 2;case fr:return 8;case jn:case gc:return 32;case Po:return 268435456;default:return 32}default:return 32}}var o0=!1,Vr=null,Lr=null,Ur=null,xu=new Map,bu=new Map,zr=[],vM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gw(r,o){switch(r){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":xu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(o.pointerId)}}function _u(r,o,c,d,g,x){return r===null||r.nativeEvent!==x?(r={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:x,targetContainers:[g]},o!==null&&(o=Hi(o),o!==null&&mw(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function xM(r,o,c,d,g){switch(o){case"focusin":return Vr=_u(Vr,r,o,c,d,g),!0;case"dragenter":return Lr=_u(Lr,r,o,c,d,g),!0;case"mouseover":return Ur=_u(Ur,r,o,c,d,g),!0;case"pointerover":var x=g.pointerId;return xu.set(x,_u(xu.get(x)||null,r,o,c,d,g)),!0;case"gotpointercapture":return x=g.pointerId,bu.set(x,_u(bu.get(x)||null,r,o,c,d,g)),!0}return!1}function yw(r){var o=Es(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,Qh(r.priority,function(){if(c.tag===13){var d=Jn();d=mr(d);var g=tl(c,d);g!==null&&ti(g,c,d),i0(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function uf(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=r0(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);Ns=d,c.target.dispatchEvent(d),Ns=null}else return o=Hi(c),o!==null&&mw(o),r.blockedOn=c,!1;o.shift()}return!0}function vw(r,o,c){uf(r)&&c.delete(o)}function bM(){o0=!1,Vr!==null&&uf(Vr)&&(Vr=null),Lr!==null&&uf(Lr)&&(Lr=null),Ur!==null&&uf(Ur)&&(Ur=null),xu.forEach(vw),bu.forEach(vw)}function hf(r,o){r.blockedOn===o&&(r.blockedOn=null,o0||(o0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,bM)))}var df=null;function xw(r){df!==r&&(df=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){df===r&&(df=null);for(var o=0;o<r.length;o+=3){var c=r[o],d=r[o+1],g=r[o+2];if(typeof d!="function"){if(a0(d||c)===null)continue;break}var x=Hi(c);x!==null&&(r.splice(o,3),o-=3,ag(x,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function wu(r){function o(z){return hf(z,r)}Vr!==null&&hf(Vr,r),Lr!==null&&hf(Lr,r),Ur!==null&&hf(Ur,r),xu.forEach(o),bu.forEach(o);for(var c=0;c<zr.length;c++){var d=zr[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<zr.length&&(c=zr[0],c.blockedOn===null);)yw(c),c.blockedOn===null&&zr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],x=c[d+1],E=g[Le]||null;if(typeof x=="function")E||xw(c);else if(E){var N=null;if(x&&x.hasAttribute("formAction")){if(g=x,E=x[Le]||null)N=E.formAction;else if(a0(g)!==null)continue}else N=E.action;typeof N=="function"?c[d+1]=N:(c.splice(d,3),d-=3),xw(c)}}}function l0(r){this._internalRoot=r}ff.prototype.render=l0.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=Jn();dw(c,d,r,o,null,null)},ff.prototype.unmount=l0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;dw(r.current,2,null,r,null,null),Qd(),o[si]=null}};function ff(r){this._internalRoot=r}ff.prototype.unstable_scheduleHydration=function(r){if(r){var o=pr();r={blockedOn:null,target:r,priority:o};for(var c=0;c<zr.length&&o!==0&&o<zr[c].priority;c++);zr.splice(c,0,r),c===0&&yw(r)}};var bw=t.version;if(bw!=="19.1.1")throw Error(i(527,bw,"19.1.1"));J.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var _M={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{Ae=mf.inject(_M),re=mf}catch{}}return Su.createRoot=function(r,o){if(!s(r))throw Error(i(299));var c=!1,d="",g=j_,x=V_,E=L_,N=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks)),o=uw(r,1,!1,null,null,c,d,g,x,E,N,null),r[si]=o.current,qg(r),new l0(o)},Su.hydrateRoot=function(r,o,c){if(!s(r))throw Error(i(299));var d=!1,g="",x=j_,E=V_,N=L_,z=null,X=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks),c.formState!==void 0&&(X=c.formState)),o=uw(r,1,!0,o,c??null,d,g,x,E,N,z,X),o.context=hw(null),c=o.current,d=Jn(),d=mr(d),g=Tr(d),g.callback=null,Sr(c,g,d),c=d,o.current.lanes=c,Ss(o,c),is(o),r[si]=o.current,qg(r),new ff(o)},Su.version="19.1.1",Su}var Iw;function MM(){if(Iw)return h0.exports;Iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),h0.exports=kM(),h0.exports}var DM=MM();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kw="popstate";function PM(n={}){function t(i,s){let{pathname:a,search:l,hash:u}=i.location;return ny("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:sh(s)}return jM(t,e,null,n)}function Te(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function vs(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OM(){return Math.random().toString(36).substring(2,10)}function Mw(n,t){return{usr:n.state,key:n.key,idx:t}}function ny(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ec(t):t,state:e,key:t&&t.key||i||OM()}}function sh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ec(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function jM(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,u="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let R=p(),I=R==null?null:R-f;f=R,h&&h({action:u,location:A.location,delta:I})}function b(R,I){u="PUSH";let B=ny(A.location,R,I);f=p()+1;let F=Mw(B,f),Y=A.createHref(B);try{l.pushState(F,"",Y)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(Y)}a&&h&&h({action:u,location:A.location,delta:1})}function w(R,I){u="REPLACE";let B=ny(A.location,R,I);f=p();let F=Mw(B,f),Y=A.createHref(B);l.replaceState(F,"",Y),a&&h&&h({action:u,location:A.location,delta:0})}function S(R){return VM(R)}let A={get action(){return u},get location(){return n(s,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(kw,v),h=R,()=>{s.removeEventListener(kw,v),h=null}},createHref(R){return t(s,R)},createURL:S,encodeLocation(R){let I=S(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:w,go(R){return l.go(R)}};return A}function VM(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Te(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:sh(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function U2(n,t,e="/"){return LM(n,t,e,!1)}function LM(n,t,e,i){let s=typeof t=="string"?ec(t):t,a=sr(s.pathname||"/",e);if(a==null)return null;let l=z2(n);UM(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=YM(a);u=WM(l[h],f,i)}return u}function z2(n,t=[],e=[],i=""){let s=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Te(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=er([i,h.relativePath]),p=e.concat(h);a.children&&a.children.length>0&&(Te(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),z2(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:GM(f,a.index),routesMeta:p})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of B2(a.path))s(a,l,u)}),t}function B2(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=B2(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function UM(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:QM(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var zM=/^:[\w-]+$/,BM=3,FM=2,HM=1,qM=10,$M=-2,Dw=n=>n==="*";function GM(n,t){let e=n.split("/"),i=e.length;return e.some(Dw)&&(i+=$M),t&&(i+=FM),e.filter(s=>!Dw(s)).reduce((s,a)=>s+(zM.test(a)?BM:a===""?HM:qM),i)}function QM(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function WM(n,t,e=!1){let{routesMeta:i}=n,s={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",v=sm({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),b=h.route;if(!v&&f&&e&&!i[i.length-1].route.index&&(v=sm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:er([a,v.pathname]),pathnameBase:tD(er([a,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(a=er([a,v.pathnameBase]))}return l}function sm(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=KM(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:v},b)=>{if(p==="*"){let S=u[b]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const w=u[b];return v&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function KM(n,t=!1,e=!0){vs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function YM(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function sr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function XM(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?ec(n):n;return{pathname:e?e.startsWith("/")?e:ZM(e,t):t,search:eD(i),hash:nD(s)}}function ZM(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function p0(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JM(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function F2(n){let t=JM(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function H2(n,t,e,i=!1){let s;typeof n=="string"?s=ec(n):(s={...n},Te(!s.pathname||!s.pathname.includes("?"),p0("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),p0("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),p0("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=e;else{let v=t.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}u=v>=0?t[v]:"/"}let h=XM(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var er=n=>n.join("/").replace(/\/\/+/g,"/"),tD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function iD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var q2=["POST","PUT","PATCH","DELETE"];new Set(q2);var sD=["GET",...q2];new Set(sD);var nc=O.createContext(null);nc.displayName="DataRouter";var Vm=O.createContext(null);Vm.displayName="DataRouterState";O.createContext(!1);var $2=O.createContext({isTransitioning:!1});$2.displayName="ViewTransition";var rD=O.createContext(new Map);rD.displayName="Fetchers";var aD=O.createContext(null);aD.displayName="Await";var bs=O.createContext(null);bs.displayName="Navigation";var Ah=O.createContext(null);Ah.displayName="Location";var zi=O.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var av=O.createContext(null);av.displayName="RouteError";function oD(n,{relative:t}={}){Te(Ch(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=O.useContext(bs),{hash:s,pathname:a,search:l}=Rh(n,{relative:t}),u=a;return e!=="/"&&(u=a==="/"?e:er([e,a])),i.createHref({pathname:u,search:l,hash:s})}function Ch(){return O.useContext(Ah)!=null}function _s(){return Te(Ch(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ah).location}var G2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q2(n){O.useContext(bs).static||O.useLayoutEffect(n)}function On(){let{isDataRoute:n}=O.useContext(zi);return n?wD():lD()}function lD(){Te(Ch(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(nc),{basename:t,navigator:e}=O.useContext(bs),{matches:i}=O.useContext(zi),{pathname:s}=_s(),a=JSON.stringify(F2(i)),l=O.useRef(!1);return Q2(()=>{l.current=!0}),O.useCallback((h,f={})=>{if(vs(l.current,G2),!l.current)return;if(typeof h=="number"){e.go(h);return}let p=H2(h,JSON.parse(a),s,f.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:er([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,a,s,n])}var cD=O.createContext(null);function uD(n){let t=O.useContext(zi).outlet;return t&&O.createElement(cD.Provider,{value:n},t)}function ov(){let{matches:n}=O.useContext(zi),t=n[n.length-1];return t?t.params:{}}function Rh(n,{relative:t}={}){let{matches:e}=O.useContext(zi),{pathname:i}=_s(),s=JSON.stringify(F2(e));return O.useMemo(()=>H2(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function hD(n,t){return W2(n,t)}function W2(n,t,e,i){Te(Ch(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(bs),{matches:a}=O.useContext(zi),l=a[a.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let I=p&&p.path||"";K2(h,!p||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let v=_s(),b;if(t){let I=typeof t=="string"?ec(t):t;Te(f==="/"||I.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=v;let w=b.pathname||"/",S=w;if(f!=="/"){let I=f.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=U2(n,{pathname:S});vs(p||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),vs(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=gD(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:er([f,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:er([f,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,e,i);return t&&R?O.createElement(Ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function dD(){let n=_D(),t=iD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),e?O.createElement("pre",{style:s},e):null,l)}var fD=O.createElement(dD,null),mD=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?O.createElement(zi.Provider,{value:this.props.routeContext},O.createElement(av.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pD({routeContext:n,match:t,children:e}){let i=O.useContext(nc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(zi.Provider,{value:n},e)}function gD(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,a=e?.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Te(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(e)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:v}=e,b=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let v,b=!1,w=null,S=null;e&&(v=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||fD,l&&(u<0&&p===0?(K2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):u===p&&(b=!0,S=f.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,p+1)),R=()=>{let I;return v?I=w:b?I=S:f.route.Component?I=O.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=h,O.createElement(pD,{match:f,routeContext:{outlet:h,matches:A,isDataRoute:e!=null},children:I})};return e&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?O.createElement(mD,{location:e.location,revalidation:e.revalidation,component:w,error:v,children:R(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):R()},null)}function lv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yD(n){let t=O.useContext(nc);return Te(t,lv(n)),t}function vD(n){let t=O.useContext(Vm);return Te(t,lv(n)),t}function xD(n){let t=O.useContext(zi);return Te(t,lv(n)),t}function cv(n){let t=xD(n),e=t.matches[t.matches.length-1];return Te(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function bD(){return cv("useRouteId")}function _D(){let n=O.useContext(av),t=vD("useRouteError"),e=cv("useRouteError");return n!==void 0?n:t.errors?.[e]}function wD(){let{router:n}=yD("useNavigate"),t=cv("useNavigate"),e=O.useRef(!1);return Q2(()=>{e.current=!0}),O.useCallback(async(s,a={})=>{vs(e.current,G2),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...a}))},[n,t])}var Pw={};function K2(n,t,e){!t&&!Pw[n]&&(Pw[n]=!0,vs(!1,e))}O.memo(TD);function TD({routes:n,future:t,state:e}){return W2(n,void 0,e,t)}function SD(n){return uD(n.context)}function wn(n){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ED({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:a=!1}){Te(!Ch(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof e=="string"&&(e=ec(e));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:b="default"}=e,w=O.useMemo(()=>{let S=sr(h,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:v,key:b},navigationType:i}},[l,h,f,p,v,b,i]);return vs(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:O.createElement(bs.Provider,{value:u},O.createElement(Ah.Provider,{children:t,value:w}))}function AD({children:n,location:t}){return hD(iy(n),t)}function iy(n,t=[]){let e=[];return O.Children.forEach(n,(i,s)=>{if(!O.isValidElement(i))return;let a=[...t,s];if(i.type===O.Fragment){e.push.apply(e,iy(i.props.children,a));return}Te(i.type===wn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=iy(i.props.children,a)),e.push(l)}),e}var zf="get",Bf="application/x-www-form-urlencoded";function Lm(n){return n!=null&&typeof n.tagName=="string"}function CD(n){return Lm(n)&&n.tagName.toLowerCase()==="button"}function RD(n){return Lm(n)&&n.tagName.toLowerCase()==="form"}function ND(n){return Lm(n)&&n.tagName.toLowerCase()==="input"}function ID(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kD(n,t){return n.button===0&&(!t||t==="_self")&&!ID(n)}var pf=null;function MD(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var DD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function g0(n){return n!=null&&!DD.has(n)?(vs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):n}function PD(n,t){let e,i,s,a,l;if(RD(n)){let u=n.getAttribute("action");i=u?sr(u,t):null,e=n.getAttribute("method")||zf,s=g0(n.getAttribute("enctype"))||Bf,a=new FormData(n)}else if(CD(n)||ND(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?sr(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||zf,s=g0(n.getAttribute("formenctype"))||g0(u.getAttribute("enctype"))||Bf,a=new FormData(u,n),!MD()){let{name:f,type:p,value:v}=n;if(p==="image"){let b=f?`${f}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else f&&a.append(f,v)}}else{if(Lm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=zf,i=null,s=Bf,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uv(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function OD(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&sr(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function jD(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function LD(n,t,e){let i=await Promise.all(n.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await jD(a,e);return l.links?l.links():[]}return[]}));return FD(i.flat(1).filter(VD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ow(n,t,e,i,s,a){let l=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,u=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return a==="assets"?t.filter((h,f)=>l(h,f)||u(h,f)):a==="data"?t.filter((h,f)=>{let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function UD(n,t,{includeHydrateFallback:e}={}){return zD(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function zD(n){return[...new Set(n)]}function BD(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function FD(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let a=JSON.stringify(BD(s));return e.has(a)||(e.add(a),i.push({key:a,link:s})),i},[])}function Y2(){let n=O.useContext(nc);return uv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function HD(){let n=O.useContext(Vm);return uv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hv=O.createContext(void 0);hv.displayName="FrameworkContext";function X2(){let n=O.useContext(hv);return uv(n,"You must render this element inside a <HydratedRouter> element"),n}function qD(n,t){let e=O.useContext(hv),[i,s]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=t,b=O.useRef(null);O.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=I=>{I.forEach(B=>{l(B.isIntersecting)})},R=new IntersectionObserver(A,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[n]),O.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let w=()=>{s(!0)},S=()=>{s(!1),l(!1)};return e?n!=="intent"?[a,b,{}]:[a,b,{onFocus:Eu(u,w),onBlur:Eu(h,S),onMouseEnter:Eu(f,w),onMouseLeave:Eu(p,S),onTouchStart:Eu(v,w)}]:[!1,b,{}]}function Eu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function $D({page:n,...t}){let{router:e}=Y2(),i=O.useMemo(()=>U2(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?O.createElement(QD,{page:n,matches:i,...t}):null}function GD(n){let{manifest:t,routeModules:e}=X2(),[i,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return LD(n,t,e).then(l=>{a||s(l)}),()=>{a=!0}},[n,t,e]),i}function QD({page:n,matches:t,...e}){let i=_s(),{manifest:s,routeModules:a}=X2(),{basename:l}=Y2(),{loaderData:u,matches:h}=HD(),f=O.useMemo(()=>Ow(n,t,h,s,i,"data"),[n,t,h,s,i]),p=O.useMemo(()=>Ow(n,t,h,s,i,"assets"),[n,t,h,s,i]),v=O.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,A=!1;if(t.forEach(I=>{let B=s.routes[I.route.id];!B||!B.hasLoader||(!f.some(F=>F.route.id===I.route.id)&&I.route.id in u&&a[I.route.id]?.shouldRevalidate||B.hasClientLoader?A=!0:S.add(I.route.id))}),S.size===0)return[];let R=OD(n,l,"data");return A&&S.size>0&&R.searchParams.set("_routes",t.filter(I=>S.has(I.route.id)).map(I=>I.route.id).join(",")),[R.pathname+R.search]},[l,u,i,s,f,t,n,a]),b=O.useMemo(()=>UD(p,s),[p,s]),w=GD(p);return O.createElement(O.Fragment,null,v.map(S=>O.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),b.map(S=>O.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),w.map(({key:S,link:A})=>O.createElement("link",{key:S,...A})))}function WD(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Z2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z2&&(window.__reactRouterVersion="7.7.1")}catch{}function KD({basename:n,children:t,window:e}){let i=O.useRef();i.current==null&&(i.current=PM({window:e,v5Compat:!0}));let s=i.current,[a,l]=O.useState({action:s.action,location:s.location}),u=O.useCallback(h=>{O.startTransition(()=>l(h))},[l]);return O.useLayoutEffect(()=>s.listen(u),[s,u]),O.createElement(ED,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:s})}var J2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=O.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:u,target:h,to:f,preventScrollReset:p,viewTransition:v,...b},w){let{basename:S}=O.useContext(bs),A=typeof f=="string"&&J2.test(f),R,I=!1;if(typeof f=="string"&&A&&(R=f,Z2))try{let M=new URL(window.location.href),P=f.startsWith("//")?new URL(M.protocol+f):new URL(f),V=sr(P.pathname,S);P.origin===M.origin&&V!=null?f=V+P.search+P.hash:I=!0}catch{vs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=oD(f,{relative:s}),[F,Y,H]=qD(i,b),G=JD(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:s,viewTransition:v});function k(M){t&&t(M),M.defaultPrevented||G(M)}let C=O.createElement("a",{...b,...H,href:R||B,onClick:I||a?t:k,ref:WD(w,Y),target:h,"data-discover":!A&&e==="render"?"true":void 0});return F&&!A?O.createElement(O.Fragment,null,C,O.createElement($D,{page:B})):C});Wr.displayName="Link";var YD=O.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:u,children:h,...f},p){let v=Rh(l,{relative:f.relative}),b=_s(),w=O.useContext(Vm),{navigator:S,basename:A}=O.useContext(bs),R=w!=null&&sP(v)&&u===!0,I=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,B=b.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(B=B.toLowerCase(),F=F?F.toLowerCase():null,I=I.toLowerCase()),F&&A&&(F=sr(F,A)||F);const Y=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let H=B===I||!s&&B.startsWith(I)&&B.charAt(Y)==="/",G=F!=null&&(F===I||!s&&F.startsWith(I)&&F.charAt(I.length)==="/"),k={isActive:H,isPending:G,isTransitioning:R},C=H?t:void 0,M;typeof i=="function"?M=i(k):M=[i,H?"active":null,G?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(k):a;return O.createElement(Wr,{...f,"aria-current":C,className:M,ref:p,style:P,to:l,viewTransition:u},typeof h=="function"?h(k):h)});YD.displayName="NavLink";var XD=O.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:a,method:l=zf,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:v,...b},w)=>{let S=nP(),A=iP(u,{relative:f}),R=l.toLowerCase()==="get"?"get":"post",I=typeof u=="string"&&J2.test(u),B=F=>{if(h&&h(F),F.defaultPrevented)return;F.preventDefault();let Y=F.nativeEvent.submitter,H=Y?.getAttribute("formmethod")||l;S(Y||F.currentTarget,{fetcherKey:t,method:H,navigate:e,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:v})};return O.createElement("form",{ref:w,method:R,action:A,onSubmit:i?h:B,...b,"data-discover":!I&&n==="render"?"true":void 0})});XD.displayName="Form";function ZD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tA(n){let t=O.useContext(nc);return Te(t,ZD(n)),t}function JD(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=On(),h=_s(),f=Rh(n,{relative:a});return O.useCallback(p=>{if(kD(p,t)){p.preventDefault();let v=e!==void 0?e:sh(h)===sh(f);u(n,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,u,f,e,i,t,n,s,a,l])}var tP=0,eP=()=>`__${String(++tP)}__`;function nP(){let{router:n}=tA("useSubmit"),{basename:t}=O.useContext(bs),e=bD();return O.useCallback(async(i,s={})=>{let{action:a,method:l,encType:u,formData:h,body:f}=PD(i,t);if(s.navigate===!1){let p=s.fetcherKey||eP();await n.fetch(p,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function iP(n,{relative:t}={}){let{basename:e}=O.useContext(bs),i=O.useContext(zi);Te(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Rh(n||".",{relative:t})},l=_s();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:er([e,a.pathname])),sh(a)}function sP(n,{relative:t}={}){let e=O.useContext($2);Te(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tA("useViewTransitionState"),s=Rh(n,{relative:t});if(!e.isTransitioning)return!1;let a=sr(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=sr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return sm(s.pathname,l)!=null||sm(s.pathname,a)!=null}const rP=()=>{};var jw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},aP=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[e++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[e++],l=n[e++],u=n[e++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},nA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,p=a>>2,v=(a&3)<<4|u>>4;let b=(u&15)<<2|f>>6,w=f&63;h||(w=64,l||(b=64)),i.push(e[p],e[v],e[b],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(eA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):aP(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=e[n.charAt(s++)],u=s<n.length?e[n.charAt(s)]:0;++s;const f=s<n.length?e[n.charAt(s)]:64;++s;const v=s<n.length?e[n.charAt(s)]:64;if(++s,a==null||u==null||f==null||v==null)throw new oP;const b=a<<2|u>>4;if(i.push(b),f!==64){const w=u<<4&240|f>>2;if(i.push(w),v!==64){const S=f<<6&192|v;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lP=function(n){const t=eA(n);return nA.encodeByteArray(t,!0)},rm=function(n){return lP(n).replace(/\./g,"")},iA=function(n){try{return nA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=()=>cP().__FIREBASE_DEFAULTS__,hP=()=>{if(typeof process>"u"||typeof jw>"u")return;const n=jw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&iA(n[1]);return t&&JSON.parse(t)},Um=()=>{try{return rP()||uP()||hP()||dP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sA=n=>Um()?.emulatorHosts?.[n],fP=n=>{const t=sA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},rA=()=>Um()?.config,aA=n=>Um()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[rm(JSON.stringify(e)),rm(JSON.stringify(l)),""].join(".")}const Fu={};function gP(){const n={prod:[],emulator:[]};for(const t of Object.keys(Fu))Fu[t]?n.emulator.push(t):n.prod.push(t);return n}function yP(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Vw=!1;function lA(n,t){if(typeof window>"u"||typeof document>"u"||!ic(window.location.host)||Fu[n]===t||Fu[n]||Vw)return;Fu[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",a=gP().prod.length>0;function l(){const b=document.getElementById(i);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Vw=!0,l()},b}function p(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=yP(i),w=e("text"),S=document.getElementById(w)||document.createElement("span"),A=e("learnmore"),R=document.getElementById(A)||document.createElement("a"),I=e("preprendIcon"),B=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;u(F),p(R,A);const Y=f();h(B,I),F.append(B,S,R,Y),document.body.appendChild(F)}a?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function xP(){const n=Um()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _P(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TP(){const n=Rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SP(){return!xP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EP(){try{return typeof indexedDB=="object"}catch{return!1}}function AP(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="FirebaseError";class hr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=CP,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nh.prototype.create)}}class Nh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?RP(a,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new hr(s,u,i)}}function RP(n,t){return n.replace(NP,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const NP=/\{\$([^}]+)}/g;function IP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function _o(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const a=n[s],l=t[s];if(Lw(a)&&Lw(l)){if(!_o(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function Lw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Mu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function Du(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function kP(n,t){const e=new MP(n,t);return e.subscribe.bind(e)}class MP{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");DP(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=y0),s.error===void 0&&(s.error=y0),s.complete===void 0&&(s.complete=y0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DP(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function y0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n){return n&&n._delegate?n._delegate:n}class wo{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new mP;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jP(t))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=so){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=so){return this.instances.has(t)}getOptions(t=so){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(s)}return s}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OP(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=so){return this.component?this.component.multipleInstances?t:so:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OP(n){return n===so?void 0:n}function jP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new PP(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const LP={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},UP=Ht.INFO,zP={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},BP=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=zP[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dv{constructor(t){this.name=t,this._logLevel=UP,this._logHandler=BP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const FP=(n,t)=>t.some(e=>n instanceof e);let Uw,zw;function HP(){return Uw||(Uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qP(){return zw||(zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cA=new WeakMap,sy=new WeakMap,uA=new WeakMap,v0=new WeakMap,fv=new WeakMap;function $P(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(ta(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&cA.set(e,n)}).catch(()=>{}),fv.set(t,n),t}function GP(n){if(sy.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});sy.set(n,t)}let ry={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return sy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||uA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ta(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function QP(n){ry=n(ry)}function WP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(x0(this),t,...e);return uA.set(i,t.sort?t.sort():[t]),ta(i)}:qP().includes(n)?function(...t){return n.apply(x0(this),t),ta(cA.get(this))}:function(...t){return ta(n.apply(x0(this),t))}}function KP(n){return typeof n=="function"?WP(n):(n instanceof IDBTransaction&&GP(n),FP(n,HP())?new Proxy(n,ry):n)}function ta(n){if(n instanceof IDBRequest)return $P(n);if(v0.has(n))return v0.get(n);const t=KP(n);return t!==n&&(v0.set(n,t),fv.set(t,n)),t}const x0=n=>fv.get(n);function YP(n,t,{blocked:e,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(n,t),u=ta(l);return i&&l.addEventListener("upgradeneeded",h=>{i(ta(l.result),h.oldVersion,h.newVersion,ta(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const XP=["get","getKey","getAll","getAllKeys","count"],ZP=["put","add","delete","clear"],b0=new Map;function Bw(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(b0.get(t))return b0.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=ZP.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||XP.includes(e)))return;const a=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),s&&h.done]))[0]};return b0.set(t,a),a}QP(n=>({...n,get:(t,e,i)=>Bw(t,e)||n.get(t,e,i),has:(t,e)=>!!Bw(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(t4(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function t4(n){return n.getComponent()?.type==="VERSION"}const ay="@firebase/app",Fw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new dv("@firebase/app"),e4="@firebase/app-compat",n4="@firebase/analytics-compat",i4="@firebase/analytics",s4="@firebase/app-check-compat",r4="@firebase/app-check",a4="@firebase/auth",o4="@firebase/auth-compat",l4="@firebase/database",c4="@firebase/data-connect",u4="@firebase/database-compat",h4="@firebase/functions",d4="@firebase/functions-compat",f4="@firebase/installations",m4="@firebase/installations-compat",p4="@firebase/messaging",g4="@firebase/messaging-compat",y4="@firebase/performance",v4="@firebase/performance-compat",x4="@firebase/remote-config",b4="@firebase/remote-config-compat",_4="@firebase/storage",w4="@firebase/storage-compat",T4="@firebase/firestore",S4="@firebase/ai",E4="@firebase/firestore-compat",A4="firebase",C4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="[DEFAULT]",R4={[ay]:"fire-core",[e4]:"fire-core-compat",[i4]:"fire-analytics",[n4]:"fire-analytics-compat",[r4]:"fire-app-check",[s4]:"fire-app-check-compat",[a4]:"fire-auth",[o4]:"fire-auth-compat",[l4]:"fire-rtdb",[c4]:"fire-data-connect",[u4]:"fire-rtdb-compat",[h4]:"fire-fn",[d4]:"fire-fn-compat",[f4]:"fire-iid",[m4]:"fire-iid-compat",[p4]:"fire-fcm",[g4]:"fire-fcm-compat",[y4]:"fire-perf",[v4]:"fire-perf-compat",[x4]:"fire-rc",[b4]:"fire-rc-compat",[_4]:"fire-gcs",[w4]:"fire-gcs-compat",[T4]:"fire-fst",[E4]:"fire-fst-compat",[S4]:"fire-vertex","fire-js":"fire-js",[A4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new Map,N4=new Map,ly=new Map;function Hw(n,t){try{n.container.addComponent(t)}catch(e){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Fl(n){const t=n.name;if(ly.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;ly.set(t,n);for(const e of am.values())Hw(e,n);for(const e of N4.values())Hw(e,n);return!0}function mv(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new Nh("app","Firebase",I4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=C4;function hA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:oy,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw ea.create("bad-app-name",{appName:String(s)});if(e||(e=rA()),!e)throw ea.create("no-options");const a=am.get(s);if(a){if(_o(e,a.options)&&_o(i,a.config))return a;throw ea.create("duplicate-app",{appName:s})}const l=new VP(s);for(const h of ly.values())l.addComponent(h);const u=new k4(e,i,l);return am.set(s,u),u}function dA(n=oy){const t=am.get(n);if(!t&&n===oy&&rA())return hA();if(!t)throw ea.create("no-app",{appName:n});return t}function na(n,t,e){let i=R4[n]??n;e&&(i+=`-${e}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(l.join(" "));return}Fl(new wo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firebase-heartbeat-database",D4=1,rh="firebase-heartbeat-store";let _0=null;function fA(){return _0||(_0=YP(M4,D4,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(rh)}catch(e){console.warn(e)}}}}).catch(n=>{throw ea.create("idb-open",{originalErrorMessage:n.message})})),_0}async function P4(n){try{const e=(await fA()).transaction(rh),i=await e.objectStore(rh).get(mA(n));return await e.done,i}catch(t){if(t instanceof hr)rr.warn(t.message);else{const e=ea.create("idb-get",{originalErrorMessage:t?.message});rr.warn(e.message)}}}async function qw(n,t){try{const i=(await fA()).transaction(rh,"readwrite");await i.objectStore(rh).put(t,mA(n)),await i.done}catch(e){if(e instanceof hr)rr.warn(e.message);else{const i=ea.create("idb-set",{originalErrorMessage:e?.message});rr.warn(i.message)}}}function mA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=1024,j4=30;class V4{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new U4(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$w();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>j4){const s=z4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$w(),{heartbeatsToSend:e,unsentEntries:i}=L4(this._heartbeatsCache.heartbeats),s=rm(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return rr.warn(t),""}}}function $w(){return new Date().toISOString().substring(0,10)}function L4(n,t=O4){const e=[];let i=n.slice();for(const s of n){const a=e.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Gw(e)>t){a.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Gw(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class U4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EP()?AP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await P4(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return qw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return qw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Gw(n){return rm(JSON.stringify({version:2,heartbeats:n})).length}function z4(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n){Fl(new wo("platform-logger",t=>new JP(t),"PRIVATE")),Fl(new wo("heartbeat",t=>new V4(t),"PRIVATE")),na(ay,Fw,n),na(ay,Fw,"esm2020"),na("fire-js","")}B4("");function pA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F4=pA,gA=new Nh("auth","Firebase",pA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new dv("@firebase/auth");function H4(n,...t){om.logLevel<=Ht.WARN&&om.warn(`Auth (${sc}): ${n}`,...t)}function Ff(n,...t){om.logLevel<=Ht.ERROR&&om.error(`Auth (${sc}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(n,...t){throw gv(n,...t)}function ji(n,...t){return gv(n,...t)}function pv(n,t,e){const i={...F4(),[t]:e};return new Nh("auth","Firebase",i).create(t,{appName:n.name})}function nr(n){return pv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q4(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Ti(n,"argument-error"),pv(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gv(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return gA.create(n,...t)}function Ct(n,t,...e){if(!n)throw gv(t,...e)}function Js(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Ff(t),new Error(t)}function ar(n,t){n||Js(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(){return typeof self<"u"&&self.location?.href||""}function $4(){return Qw()==="http:"||Qw()==="https:"}function Qw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($4()||_P()||"connection"in navigator)?navigator.onLine:!0}function Q4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,e){this.shortDelay=t,this.longDelay=e,ar(e>t,"Short delay should be less than long delay!"),this.isMobile=vP()||wP()}get(){return G4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(n,t){ar(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y4=new kh(3e4,6e4);function ya(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function dr(n,t,e,i,s={}){return vA(n,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const u=Ih({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:h,...a};return bP()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&ic(n.emulatorConfig.host)&&(f.credentials="include"),yA.fetch()(await xA(n,n.config.apiHost,e,u),f)})}async function vA(n,t,e){n._canInitEmulator=!1;const i={...W4,...t};try{const s=new Z4(n),a=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw gf(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw gf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw gf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw gf(n,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw pv(n,p,f);Ti(n,p)}}catch(s){if(s instanceof hr)throw s;Ti(n,"network-request-failed",{message:String(s)})}}async function Mh(n,t,e,i,s={}){const a=await dr(n,t,e,i,s);return"mfaPendingCredential"in a&&Ti(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function xA(n,t,e,i){const s=`${t}${e}?${i}`,a=n,l=a.config.emulator?yv(n.config,s):`${n.config.apiScheme}://${s}`;return K4.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function X4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ji(this.auth,"network-request-failed")),Y4.get())})}}function gf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=ji(n,t,i);return s.customData._tokenResponse=e,s}function Ww(n){return n!==void 0&&n.enterprise!==void 0}class J4{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return X4(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tO(n,t){return dr(n,"GET","/v2/recaptchaConfig",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(n,t){return dr(n,"POST","/v1/accounts:delete",t)}async function lm(n,t){return dr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nO(n,t=!1){const e=Nn(n),i=await e.getIdToken(t),s=vv(i);Ct(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:i,authTime:Hu(w0(s.auth_time)),issuedAtTime:Hu(w0(s.iat)),expirationTime:Hu(w0(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function w0(n){return Number(n)*1e3}function vv(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const s=iA(e);return s?JSON.parse(s):(Ff("Failed to decode base64 JWT payload"),null)}catch(s){return Ff("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Kw(n){const t=vv(n);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof hr&&iO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function iO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(n){const t=n.auth,e=await n.getIdToken(),i=await Hl(n,lm(t,{idToken:e}));Ct(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?bA(s.providerUserInfo):[],l=aO(n.providerData,a),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,f=u?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new uy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function rO(n){const t=Nn(n);await cm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aO(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function bA(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,t){const e=await vA(n,{},async()=>{const i=Ih({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await xA(n,s,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return n.emulatorConfig&&ic(n.emulatorConfig.host)&&(h.credentials="include"),yA.fetch()(l,h)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function lO(n,t){return dr(n,"POST","/v2/accounts:revokeToken",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Kw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const e=Kw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:a}=await oO(t,e);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:a}=e,l=new Ol;return i&&(Ct(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Ct(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(Ct(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(n,t){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Mi{constructor({uid:t,auth:e,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new sO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Hl(this,this.stsTokenManager.getToken(this.auth,t));return Ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return nO(this,t)}reload(){return rO(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Mi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await cm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(nr(this.auth));const t=await this.getIdToken();return await Hl(this,eO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,s=e.email??void 0,a=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,h=e._redirectEventId??void 0,f=e.createdAt??void 0,p=e.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:A}=e;Ct(v&&A,t,"internal-error");const R=Ol.fromJSON(this.name,A);Ct(typeof v=="string",t,"internal-error"),Fr(i,t.name),Fr(s,t.name),Ct(typeof b=="boolean",t,"internal-error"),Ct(typeof w=="boolean",t,"internal-error"),Fr(a,t.name),Fr(l,t.name),Fr(u,t.name),Fr(h,t.name),Fr(f,t.name),Fr(p,t.name);const I=new Mi({uid:v,auth:t,email:s,emailVerified:b,displayName:i,isAnonymous:w,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:R,createdAt:f,lastLoginAt:p});return S&&Array.isArray(S)&&(I.providerData=S.map(B=>({...B}))),h&&(I._redirectEventId=h),I}static async _fromIdTokenResponse(t,e,i=!1){const s=new Ol;s.updateFromServerResponse(e);const a=new Mi({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await cm(a),a}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];Ct(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?bA(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new Ol;u.updateFromIdToken(i);const h=new Mi({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;function tr(n){ar(n instanceof Function,"Expected a class definition");let t=Yw.get(n);return t?(ar(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Yw.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}_A.type="NONE";const Xw=_A;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n,t,e){return`firebase:${n}:${t}:${e}`}class jl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Hf(this.userKey,s.apiKey,a),this.fullPersistenceKey=Hf("persistence",s.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await lm(this.auth,{idToken:t}).catch(()=>{});return e?Mi._fromGetAccountInfoResponse(this.auth,e,t):null}return Mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new jl(tr(Xw),t,i);const s=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||tr(Xw);const l=Hf(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const p=await f._get(l);if(p){let v;if(typeof p=="string"){const b=await lm(t,{idToken:p}).catch(()=>{});if(!b)break;v=await Mi._fromGetAccountInfoResponse(t,b,p)}else v=Mi._fromJSON(t,p);f!==a&&(u=v),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new jl(a,t,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new jl(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(EA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CA(t))return"Blackberry";if(RA(t))return"Webos";if(TA(t))return"Safari";if((t.includes("chrome/")||SA(t))&&!t.includes("edge/"))return"Chrome";if(AA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function wA(n=Rn()){return/firefox\//i.test(n)}function TA(n=Rn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function SA(n=Rn()){return/crios\//i.test(n)}function EA(n=Rn()){return/iemobile/i.test(n)}function AA(n=Rn()){return/android/i.test(n)}function CA(n=Rn()){return/blackberry/i.test(n)}function RA(n=Rn()){return/webos/i.test(n)}function xv(n=Rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cO(n=Rn()){return xv(n)&&!!window.navigator?.standalone}function uO(){return TP()&&document.documentMode===10}function NA(n=Rn()){return xv(n)||AA(n)||RA(n)||CA(n)||/windows phone/i.test(n)||EA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n,t=[]){let e;switch(n){case"Browser":e=Zw(Rn());break;case"Worker":e=`${Zw(Rn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${sc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=a=>new Promise((l,u)=>{try{const h=t(a);l(h)}catch(h){u(h)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(n,t={}){return dr(n,"GET","/v2/passwordPolicy",ya(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=6;class mO{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??fO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jw(this),this.idTokenSubscription=new Jw(this),this.beforeStateQueue=new hO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=tr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await lm(this,{idToken:t}),i=await Mi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await cm(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Q4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(nr(this));const e=t?Nn(t):null;return e&&Ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dO(this),e=new mO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await lO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&tr(t)||this._popupRedirectResolver;Ct(e,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[tr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=IA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&H4(`Error while retrieving App Check token: ${t.error}`),t?.token}}function va(n){return Nn(n)}class Jw{constructor(t){this.auth=t,this.observer=null,this.addObserver=kP(e=>this.observer=e)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gO(n){zm=n}function kA(n){return zm.loadJS(n)}function yO(){return zm.recaptchaEnterpriseScript}function vO(){return zm.gapiScript}function xO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bO{constructor(){this.enterprise=new _O}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class _O{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const wO="recaptcha-enterprise",MA="NO_RECAPTCHA";class TO{constructor(t){this.type=wO,this.auth=va(t)}async verify(t="verify",e=!1){async function i(a){if(!e){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{tO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new J4(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function s(a,l,u){const h=window.grecaptcha;Ww(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(f=>{l(f)}).catch(()=>{l(MA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bO().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!e&&Ww(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=yO();h.length!==0&&(h+=u),kA(h).then(()=>{s(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function tT(n,t,e,i=!1,s=!1){const a=new TO(n);let l;if(s)l=MA;else try{l=await a.verify(e)}catch{l=await a.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function hy(n,t,e,i,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await tT(n,t,e,e==="getOobCode");return i(n,a)}else return i(n,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await tT(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n,t){const e=mv(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),a=e.getOptions();if(_o(a,t??{}))return s;Ti(s,"already-initialized")}return e.initialize({options:t})}function EO(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(tr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function AO(n,t,e){const i=va(n);Ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=DA(t),{host:l,port:u}=CO(t),h=u===null?"":`:${u}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ct(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ct(_o(f,i.config.emulator)&&_o(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,ic(l)?(oA(`${a}//${l}${h}`),lA("Auth",!0)):RO()}function DA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function CO(n){const t=DA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:eT(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:eT(l)}}}function eT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function RO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Js("not implemented")}_getIdTokenResponse(t){return Js("not implemented")}_linkToIdToken(t,e){return Js("not implemented")}_getReauthenticationResolver(t){return Js("not implemented")}}async function NO(n,t){return dr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(n,t){return Mh(n,"POST","/v1/accounts:signInWithPassword",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(n,t){return Mh(n,"POST","/v1/accounts:signInWithEmailLink",ya(n,t))}async function MO(n,t){return Mh(n,"POST","/v1/accounts:signInWithEmailLink",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends bv{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new ah(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new ah(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hy(t,e,"signInWithPassword",IO);case"emailLink":return kO(t,{email:this._email,oobCode:this._password});default:Ti(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hy(t,i,"signUpPassword",NO);case"emailLink":return MO(t,{idToken:e,email:this._email,oobCode:this._password});default:Ti(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n,t){return Mh(n,"POST","/v1/accounts:signInWithIdp",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="http://localhost";class To extends bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new To(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ti("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...a}=e;if(!i||!s)return null;const l=new To(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Vl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Vl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Vl(t,e)}buildRequest(){const t={requestUri:DO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ih(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OO(n){const t=Mu(Du(n)).link,e=t?Mu(Du(t)).deep_link_id:null,i=Mu(Du(n)).deep_link_id;return(i?Mu(Du(i)).link:null)||i||e||t||n}class _v{constructor(t){const e=Mu(Du(t)),i=e.apiKey??null,s=e.oobCode??null,a=PO(e.mode??null);Ct(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=OO(t);try{return new _v(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.providerId=rc.PROVIDER_ID}static credential(t,e){return ah._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=_v.parseLink(e);return Ct(i,"argument-error"),ah._fromEmailAndCode(t,i.code,i.tenantId)}}rc.PROVIDER_ID="password";rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends wv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Dh{constructor(){super("facebook.com")}static credential(t){return To._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $r.credential(t.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Dh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return To._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Zs.credential(e,i)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Dh{constructor(){super("github.com")}static credential(t){return To._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Dh{constructor(){super("twitter.com")}static credential(t,e){return To._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Qr.credential(e,i)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(n,t){return Mh(n,"POST","/v1/accounts:signUp",ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const a=await Mi._fromIdTokenResponse(t,i,s),l=nT(i);return new So({user:a,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=nT(i);return new So({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function nT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends hr{constructor(t,e,i,s){super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,um.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new um(t,e,i,s)}}function PA(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?um._fromErrorAndOperation(n,a,t,i):a})}async function VO(n,t,e=!1){const i=await Hl(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return So._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(n,t,e=!1){const{auth:i}=n;if(ni(i.app))return Promise.reject(nr(i));const s="reauthenticate";try{const a=await Hl(n,PA(i,s,t,n),e);Ct(a.idToken,i,"internal-error");const l=vv(a.idToken);Ct(l,i,"internal-error");const{sub:u}=l;return Ct(n.uid===u,i,"user-mismatch"),So._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ti(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(n,t,e=!1){if(ni(n.app))return Promise.reject(nr(n));const i="signIn",s=await PA(n,i,t),a=await So._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(a.user),a}async function UO(n,t){return OA(va(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(n){const t=va(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function zO(n,t,e){if(ni(n.app))return Promise.reject(nr(n));const i=va(n),l=await hy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&jA(n),h}),u=await So._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function BO(n,t,e){return ni(n.app)?Promise.reject(nr(n)):UO(Nn(n),rc.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&jA(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(n,t){return dr(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=Nn(n),a={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},l=await Hl(i,FO(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function qO(n,t,e,i){return Nn(n).onIdTokenChanged(t,e,i)}function $O(n,t,e){return Nn(n).beforeAuthStateChanged(t,e)}function GO(n){return Nn(n).signOut()}const hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(hm,"1"),this.storage.removeItem(hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=1e3,WO=10;class LA extends VA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);uO()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,WO):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},QO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}LA.type="LOCAL";const KO=LA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends VA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}UA.type="SESSION";const zA=UA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new Bm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:a}=e.data,l=this.handlersMap[s];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async f=>f(e.origin,a)),h=await YO(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=Tv("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const b=v;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(b.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return window}function ZO(n){ls().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function JO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tj(){return navigator?.serviceWorker?.controller||null}function ej(){return BA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firebaseLocalStorageDb",nj=1,dm="firebaseLocalStorage",HA="fbase_key";class Ph{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Fm(n,t){return n.transaction([dm],t?"readwrite":"readonly").objectStore(dm)}function ij(){const n=indexedDB.deleteDatabase(FA);return new Ph(n).toPromise()}function dy(){const n=indexedDB.open(FA,nj);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(dm,{keyPath:HA})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(dm)?t(i):(i.close(),await ij(),t(await dy()))})})}async function iT(n,t,e){const i=Fm(n,!0).put({[HA]:t,value:e});return new Ph(i).toPromise()}async function sj(n,t){const e=Fm(n,!1).get(t),i=await new Ph(e).toPromise();return i===void 0?null:i.value}function sT(n,t){const e=Fm(n,!0).delete(t);return new Ph(e).toPromise()}const rj=800,aj=3;class qA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>aj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bm._getInstance(ej()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JO(),!this.activeServiceWorker)return;this.sender=new XO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dy();return await iT(t,hm,"1"),await sT(t,hm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>iT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>sj(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>sT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=Fm(s,!1).getAll();return new Ph(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qA.type="LOCAL";const oj=qA;new kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n,t){return t?tr(t):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends bv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Vl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Vl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function lj(n){return OA(n.auth,new Sv(n),n.bypassAuthState)}function cj(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),LO(e,new Sv(n),n.bypassAuthState)}async function uj(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),VO(e,new Sv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,e,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:a,error:l,type:u}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lj;case"linkViaPopup":case"linkViaRedirect":return uj;case"reauthViaPopup":case"reauthViaRedirect":return cj;default:Ti(this.auth,"internal-error")}}resolve(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new kh(2e3,1e4);async function dj(n,t,e){if(ni(n.app))return Promise.reject(ji(n,"operation-not-supported-in-this-environment"));const i=va(n);q4(n,t,wv);const s=$A(i,e);return new lo(i,"signInViaPopup",t,s).executeNotNull()}class lo extends GA{constructor(t,e,i,s,a){super(t,e,s,a),this.provider=i,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const t=Tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hj.get())};t()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="pendingRedirect",qf=new Map;class mj extends GA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=qf.get(this.auth._key());if(!t){try{const i=await pj(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}qf.set(this.auth._key(),t)}return this.bypassAuthState||qf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pj(n,t){const e=vj(t),i=yj(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function gj(n,t){qf.set(n._key(),t)}function yj(n){return tr(n._redirectPersistence)}function vj(n){return Hf(fj,n.config.apiKey,n.name)}async function xj(n,t,e=!1){if(ni(n.app))return Promise.reject(nr(n));const i=va(n),s=$A(i,t),l=await new mj(i,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=600*1e3;class _j{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wj(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!QA(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ji(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bj&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(t))}saveEventToCache(t){this.cachedEventUids.add(rT(t)),this.lastProcessedEventTime=Date.now()}}function rT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function QA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function wj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(n,t={}){return dr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ej=/^https?/;async function Aj(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Tj(n);for(const e of t)try{if(Cj(e))return}catch{}Ti(n,"unauthorized-domain")}function Cj(n){const t=cy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!Ej.test(e))return!1;if(Sj.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=new kh(3e4,6e4);function aT(){const n=ls().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Nj(n){return new Promise((t,e)=>{function i(){aT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aT(),e(ji(n,"network-request-failed"))},timeout:Rj.get()})}if(ls().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ls().gapi?.load)i();else{const s=xO("iframefcb");return ls()[s]=()=>{gapi.load?i():e(ji(n,"network-request-failed"))},kA(`${vO()}?onload=${s}`).catch(a=>e(a))}}).catch(t=>{throw $f=null,t})}let $f=null;function Ij(n){return $f=$f||Nj(n),$f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=new kh(5e3,15e3),Mj="__/auth/iframe",Dj="emulator/auth/iframe",Pj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jj(n){const t=n.config;Ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?yv(t,Dj):`https://${n.config.authDomain}/${Mj}`,i={apiKey:t.apiKey,appName:n.name,v:sc},s=Oj.get(n.config.apiHost);s&&(i.eid=s);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${e}?${Ih(i).slice(1)}`}async function Vj(n){const t=await Ij(n),e=ls().gapi;return Ct(e,n,"internal-error"),t.open({where:document.body,url:jj(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pj,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=ji(n,"network-request-failed"),u=ls().setTimeout(()=>{a(l)},kj.get());function h(){ls().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uj=500,zj=600,Bj="_blank",Fj="http://localhost";class oT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hj(n,t,e,i=Uj,s=zj){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={...Lj,width:i.toString(),height:s.toString(),top:a,left:l},f=Rn().toLowerCase();e&&(u=SA(f)?Bj:e),wA(f)&&(t=t||Fj,h.scrollbars="yes");const p=Object.entries(h).reduce((b,[w,S])=>`${b}${w}=${S},`,"");if(cO(f)&&u!=="_self")return qj(t||"",u),new oT(null);const v=window.open(t||"",u,p);Ct(v,n,"popup-blocked");try{v.focus()}catch{}return new oT(v)}function qj(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j="__/auth/handler",Gj="emulator/auth/handler",Qj=encodeURIComponent("fac");async function lT(n,t,e,i,s,a){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:sc,eventId:s};if(t instanceof wv){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",IP(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(t instanceof Dh){const p=t.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await n._getAppCheckToken(),f=h?`#${Qj}=${encodeURIComponent(h)}`:"";return`${Wj(n)}?${Ih(u).slice(1)}${f}`}function Wj({config:n}){return n.emulator?yv(n,Gj):`https://${n.authDomain}/${$j}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="webStorageSupport";class Kj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zA,this._completeRedirectFn=xj,this._overrideRedirectResult=gj}async _openPopup(t,e,i,s){ar(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const a=await lT(t,e,i,cy(),s);return Hj(t,a,Tv())}async _openRedirect(t,e,i,s){await this._originValidation(t);const a=await lT(t,e,i,cy(),s);return ZO(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:a}=this.eventManagers[e];return s?Promise.resolve(s):(ar(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await Vj(t),i=new _j(t);return e.register("authEvent",s=>(Ct(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(T0,{type:T0},s=>{const a=s?.[0]?.[T0];a!==void 0&&e(!!a),Ti(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Aj(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return NA()||TA()||xv()}}const Yj=Kj;var cT="@firebase/auth",uT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jj(n){Fl(new wo("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ct(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IA(n)},f=new pO(i,s,a,h);return EO(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Fl(new wo("auth-internal",t=>{const e=va(t.getProvider("auth").getImmediate());return(i=>new Xj(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(cT,uT,Zj(n)),na(cT,uT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=300,e5=aA("authIdTokenMaxAge")||t5;let hT=null;const n5=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>e5)return;const s=e?.token;hT!==s&&(hT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function WA(n=dA()){const t=mv(n,"auth");if(t.isInitialized())return t.getImmediate();const e=SO(n,{popupRedirectResolver:Yj,persistence:[oj,KO,zA]}),i=aA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=n5(a.toString());$O(e,l,()=>l(e.currentUser)),qO(e,u=>l(u))}}const s=sA("auth");return s&&AO(e,`http://${s}`),e}function i5(){return document.getElementsByTagName("head")?.[0]??document}gO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const a=ji("internal-error");a.customData=s,e(a)},i.type="text/javascript",i.charset="UTF-8",i5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jj("Browser");var s5="firebase",r5="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(s5,r5,"app");var dT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,KA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,C){function M(){}M.prototype=C.prototype,k.D=C.prototype,k.prototype=new M,k.prototype.constructor=k,k.C=function(P,V,L){for(var j=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)j[nt-2]=arguments[nt];return C.prototype[V].apply(P,j)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,C,M){M||(M=0);var P=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)P[V]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(V=0;16>V;++V)P[V]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=k.g[0],M=k.g[1],V=k.g[2];var L=k.g[3],j=C+(L^M&(V^L))+P[0]+3614090360&4294967295;C=M+(j<<7&4294967295|j>>>25),j=L+(V^C&(M^V))+P[1]+3905402710&4294967295,L=C+(j<<12&4294967295|j>>>20),j=V+(M^L&(C^M))+P[2]+606105819&4294967295,V=L+(j<<17&4294967295|j>>>15),j=M+(C^V&(L^C))+P[3]+3250441966&4294967295,M=V+(j<<22&4294967295|j>>>10),j=C+(L^M&(V^L))+P[4]+4118548399&4294967295,C=M+(j<<7&4294967295|j>>>25),j=L+(V^C&(M^V))+P[5]+1200080426&4294967295,L=C+(j<<12&4294967295|j>>>20),j=V+(M^L&(C^M))+P[6]+2821735955&4294967295,V=L+(j<<17&4294967295|j>>>15),j=M+(C^V&(L^C))+P[7]+4249261313&4294967295,M=V+(j<<22&4294967295|j>>>10),j=C+(L^M&(V^L))+P[8]+1770035416&4294967295,C=M+(j<<7&4294967295|j>>>25),j=L+(V^C&(M^V))+P[9]+2336552879&4294967295,L=C+(j<<12&4294967295|j>>>20),j=V+(M^L&(C^M))+P[10]+4294925233&4294967295,V=L+(j<<17&4294967295|j>>>15),j=M+(C^V&(L^C))+P[11]+2304563134&4294967295,M=V+(j<<22&4294967295|j>>>10),j=C+(L^M&(V^L))+P[12]+1804603682&4294967295,C=M+(j<<7&4294967295|j>>>25),j=L+(V^C&(M^V))+P[13]+4254626195&4294967295,L=C+(j<<12&4294967295|j>>>20),j=V+(M^L&(C^M))+P[14]+2792965006&4294967295,V=L+(j<<17&4294967295|j>>>15),j=M+(C^V&(L^C))+P[15]+1236535329&4294967295,M=V+(j<<22&4294967295|j>>>10),j=C+(V^L&(M^V))+P[1]+4129170786&4294967295,C=M+(j<<5&4294967295|j>>>27),j=L+(M^V&(C^M))+P[6]+3225465664&4294967295,L=C+(j<<9&4294967295|j>>>23),j=V+(C^M&(L^C))+P[11]+643717713&4294967295,V=L+(j<<14&4294967295|j>>>18),j=M+(L^C&(V^L))+P[0]+3921069994&4294967295,M=V+(j<<20&4294967295|j>>>12),j=C+(V^L&(M^V))+P[5]+3593408605&4294967295,C=M+(j<<5&4294967295|j>>>27),j=L+(M^V&(C^M))+P[10]+38016083&4294967295,L=C+(j<<9&4294967295|j>>>23),j=V+(C^M&(L^C))+P[15]+3634488961&4294967295,V=L+(j<<14&4294967295|j>>>18),j=M+(L^C&(V^L))+P[4]+3889429448&4294967295,M=V+(j<<20&4294967295|j>>>12),j=C+(V^L&(M^V))+P[9]+568446438&4294967295,C=M+(j<<5&4294967295|j>>>27),j=L+(M^V&(C^M))+P[14]+3275163606&4294967295,L=C+(j<<9&4294967295|j>>>23),j=V+(C^M&(L^C))+P[3]+4107603335&4294967295,V=L+(j<<14&4294967295|j>>>18),j=M+(L^C&(V^L))+P[8]+1163531501&4294967295,M=V+(j<<20&4294967295|j>>>12),j=C+(V^L&(M^V))+P[13]+2850285829&4294967295,C=M+(j<<5&4294967295|j>>>27),j=L+(M^V&(C^M))+P[2]+4243563512&4294967295,L=C+(j<<9&4294967295|j>>>23),j=V+(C^M&(L^C))+P[7]+1735328473&4294967295,V=L+(j<<14&4294967295|j>>>18),j=M+(L^C&(V^L))+P[12]+2368359562&4294967295,M=V+(j<<20&4294967295|j>>>12),j=C+(M^V^L)+P[5]+4294588738&4294967295,C=M+(j<<4&4294967295|j>>>28),j=L+(C^M^V)+P[8]+2272392833&4294967295,L=C+(j<<11&4294967295|j>>>21),j=V+(L^C^M)+P[11]+1839030562&4294967295,V=L+(j<<16&4294967295|j>>>16),j=M+(V^L^C)+P[14]+4259657740&4294967295,M=V+(j<<23&4294967295|j>>>9),j=C+(M^V^L)+P[1]+2763975236&4294967295,C=M+(j<<4&4294967295|j>>>28),j=L+(C^M^V)+P[4]+1272893353&4294967295,L=C+(j<<11&4294967295|j>>>21),j=V+(L^C^M)+P[7]+4139469664&4294967295,V=L+(j<<16&4294967295|j>>>16),j=M+(V^L^C)+P[10]+3200236656&4294967295,M=V+(j<<23&4294967295|j>>>9),j=C+(M^V^L)+P[13]+681279174&4294967295,C=M+(j<<4&4294967295|j>>>28),j=L+(C^M^V)+P[0]+3936430074&4294967295,L=C+(j<<11&4294967295|j>>>21),j=V+(L^C^M)+P[3]+3572445317&4294967295,V=L+(j<<16&4294967295|j>>>16),j=M+(V^L^C)+P[6]+76029189&4294967295,M=V+(j<<23&4294967295|j>>>9),j=C+(M^V^L)+P[9]+3654602809&4294967295,C=M+(j<<4&4294967295|j>>>28),j=L+(C^M^V)+P[12]+3873151461&4294967295,L=C+(j<<11&4294967295|j>>>21),j=V+(L^C^M)+P[15]+530742520&4294967295,V=L+(j<<16&4294967295|j>>>16),j=M+(V^L^C)+P[2]+3299628645&4294967295,M=V+(j<<23&4294967295|j>>>9),j=C+(V^(M|~L))+P[0]+4096336452&4294967295,C=M+(j<<6&4294967295|j>>>26),j=L+(M^(C|~V))+P[7]+1126891415&4294967295,L=C+(j<<10&4294967295|j>>>22),j=V+(C^(L|~M))+P[14]+2878612391&4294967295,V=L+(j<<15&4294967295|j>>>17),j=M+(L^(V|~C))+P[5]+4237533241&4294967295,M=V+(j<<21&4294967295|j>>>11),j=C+(V^(M|~L))+P[12]+1700485571&4294967295,C=M+(j<<6&4294967295|j>>>26),j=L+(M^(C|~V))+P[3]+2399980690&4294967295,L=C+(j<<10&4294967295|j>>>22),j=V+(C^(L|~M))+P[10]+4293915773&4294967295,V=L+(j<<15&4294967295|j>>>17),j=M+(L^(V|~C))+P[1]+2240044497&4294967295,M=V+(j<<21&4294967295|j>>>11),j=C+(V^(M|~L))+P[8]+1873313359&4294967295,C=M+(j<<6&4294967295|j>>>26),j=L+(M^(C|~V))+P[15]+4264355552&4294967295,L=C+(j<<10&4294967295|j>>>22),j=V+(C^(L|~M))+P[6]+2734768916&4294967295,V=L+(j<<15&4294967295|j>>>17),j=M+(L^(V|~C))+P[13]+1309151649&4294967295,M=V+(j<<21&4294967295|j>>>11),j=C+(V^(M|~L))+P[4]+4149444226&4294967295,C=M+(j<<6&4294967295|j>>>26),j=L+(M^(C|~V))+P[11]+3174756917&4294967295,L=C+(j<<10&4294967295|j>>>22),j=V+(C^(L|~M))+P[2]+718787259&4294967295,V=L+(j<<15&4294967295|j>>>17),j=M+(L^(V|~C))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(V+(j<<21&4294967295|j>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+L&4294967295}i.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var M=C-this.blockSize,P=this.B,V=this.h,L=0;L<C;){if(V==0)for(;L<=M;)s(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<C;)if(P[V++]=k.charCodeAt(L++),V==this.blockSize){s(this,P),V=0;break}}else for(;L<C;)if(P[V++]=k[L++],V==this.blockSize){s(this,P),V=0;break}}this.h=V,this.o+=C},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var M=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=M&255,M/=256;for(this.u(k),k=Array(16),C=M=0;4>C;++C)for(var P=0;32>P;P+=8)k[M++]=this.g[C]>>>P&255;return k};function a(k,C){var M=u;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=C(k)}function l(k,C){this.h=C;for(var M=[],P=!0,V=k.length-1;0<=V;V--){var L=k[V]|0;P&&L==C||(M[V]=L,P=!1)}this.g=M}var u={};function h(k){return-128<=k&&128>k?a(k,function(C){return new l([C|0],0>C?-1:0)}):new l([k|0],0>k?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return R(f(-k));for(var C=[],M=1,P=0;k>=M;P++)C[P]=k/M|0,M*=4294967296;return new l(C,0)}function p(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return R(p(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(C,8)),P=v,V=0;V<k.length;V+=8){var L=Math.min(8,k.length-V),j=parseInt(k.substring(V,V+L),C);8>L?(L=f(Math.pow(C,L)),P=P.j(L).add(f(j))):(P=P.j(M),P=P.add(f(j)))}return P}var v=h(0),b=h(1),w=h(16777216);n=l.prototype,n.m=function(){if(A(this))return-R(this).m();for(var k=0,C=1,M=0;M<this.g.length;M++){var P=this.i(M);k+=(0<=P?P:4294967296+P)*C,C*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(A(this))return"-"+R(this).toString(k);for(var C=f(Math.pow(k,6)),M=this,P="";;){var V=Y(M,C).g;M=I(M,V.j(C));var L=((0<M.g.length?M.g[0]:M.h)>>>0).toString(k);if(M=V,S(M))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function A(k){return k.h==-1}n.l=function(k){return k=I(this,k),A(k)?-1:S(k)?0:1};function R(k){for(var C=k.g.length,M=[],P=0;P<C;P++)M[P]=~k.g[P];return new l(M,~k.h).add(b)}n.abs=function(){return A(this)?R(this):this},n.add=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],P=0,V=0;V<=C;V++){var L=P+(this.i(V)&65535)+(k.i(V)&65535),j=(L>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);P=j>>>16,L&=65535,j&=65535,M[V]=j<<16|L}return new l(M,M[M.length-1]&-2147483648?-1:0)};function I(k,C){return k.add(R(C))}n.j=function(k){if(S(this)||S(k))return v;if(A(this))return A(k)?R(this).j(R(k)):R(R(this).j(k));if(A(k))return R(this.j(R(k)));if(0>this.l(w)&&0>k.l(w))return f(this.m()*k.m());for(var C=this.g.length+k.g.length,M=[],P=0;P<2*C;P++)M[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<k.g.length;V++){var L=this.i(P)>>>16,j=this.i(P)&65535,nt=k.i(V)>>>16,rt=k.i(V)&65535;M[2*P+2*V]+=j*rt,B(M,2*P+2*V),M[2*P+2*V+1]+=L*rt,B(M,2*P+2*V+1),M[2*P+2*V+1]+=j*nt,B(M,2*P+2*V+1),M[2*P+2*V+2]+=L*nt,B(M,2*P+2*V+2)}for(P=0;P<C;P++)M[P]=M[2*P+1]<<16|M[2*P];for(P=C;P<2*C;P++)M[P]=0;return new l(M,0)};function B(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function F(k,C){this.g=k,this.h=C}function Y(k,C){if(S(C))throw Error("division by zero");if(S(k))return new F(v,v);if(A(k))return C=Y(R(k),C),new F(R(C.g),R(C.h));if(A(C))return C=Y(k,R(C)),new F(R(C.g),C.h);if(30<k.g.length){if(A(k)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var M=b,P=C;0>=P.l(k);)M=H(M),P=H(P);var V=G(M,1),L=G(P,1);for(P=G(P,2),M=G(M,2);!S(P);){var j=L.add(P);0>=j.l(k)&&(V=V.add(M),L=j),P=G(P,1),M=G(M,1)}return C=I(k,V.j(C)),new F(V,C)}for(V=v;0<=k.l(C);){for(M=Math.max(1,Math.floor(k.m()/C.m())),P=Math.ceil(Math.log(M)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=f(M),j=L.j(C);A(j)||0<j.l(k);)M-=P,L=f(M),j=L.j(C);S(L)&&(L=b),V=V.add(L),k=I(k,j)}return new F(V,k)}n.A=function(k){return Y(this,k).h},n.and=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],P=0;P<C;P++)M[P]=this.i(P)&k.i(P);return new l(M,this.h&k.h)},n.or=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],P=0;P<C;P++)M[P]=this.i(P)|k.i(P);return new l(M,this.h|k.h)},n.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],P=0;P<C;P++)M[P]=this.i(P)^k.i(P);return new l(M,this.h^k.h)};function H(k){for(var C=k.g.length+1,M=[],P=0;P<C;P++)M[P]=k.i(P)<<1|k.i(P-1)>>>31;return new l(M,k.h)}function G(k,C){var M=C>>5;C%=32;for(var P=k.g.length-M,V=[],L=0;L<P;L++)V[L]=0<C?k.i(L+M)>>>C|k.i(L+M+1)<<32-C:k.i(L+M);return new l(V,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,KA=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,ia=l}).apply(typeof dT<"u"?dT:typeof self<"u"?self:typeof window<"u"?window:{});var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YA,Pu,XA,Gf,fy,ZA,JA,tC;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,T){return m==Array.prototype||m==Object.prototype||(m[_]=T.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof yf=="object"&&yf];for(var _=0;_<m.length;++_){var T=m[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function s(m,_){if(_)t:{var T=i;m=m.split(".");for(var D=0;D<m.length-1;D++){var W=m[D];if(!(W in T))break t;T=T[W]}m=m[m.length-1],D=T[m],_=_(D),_!=D&&_!=null&&t(T,m,{configurable:!0,writable:!0,value:_})}}function a(m,_){m instanceof String&&(m+="");var T=0,D=!1,W={next:function(){if(!D&&T<m.length){var st=T++;return{value:_(st,m[st]),done:!1}}return D=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(m){return m||function(){return a(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function f(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function p(m,_,T){return m.call.apply(m.bind,arguments)}function v(m,_,T){if(!m)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,D),m.apply(_,W)}}return function(){return m.apply(_,arguments)}}function b(m,_,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,b.apply(null,arguments)}function w(m,_){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function S(m,_){function T(){}T.prototype=_.prototype,m.aa=_.prototype,m.prototype=new T,m.prototype.constructor=m,m.Qb=function(D,W,st){for(var pt=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)pt[Gt-2]=arguments[Gt];return _.prototype[W].apply(D,pt)}}function A(m){const _=m.length;if(0<_){const T=Array(_);for(let D=0;D<_;D++)T[D]=m[D];return T}return[]}function R(m,_){for(let T=1;T<arguments.length;T++){const D=arguments[T];if(h(D)){const W=m.length||0,st=D.length||0;m.length=W+st;for(let pt=0;pt<st;pt++)m[W+pt]=D[pt]}else m.push(D)}}class I{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(m){return/^[\s\xa0]*$/.test(m)}function F(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function Y(m){return Y[" "](m),m}Y[" "]=function(){};var H=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function G(m,_,T){for(const D in m)_.call(T,m[D],D,m)}function k(m,_){for(const T in m)_.call(void 0,m[T],T,m)}function C(m){const _={};for(const T in m)_[T]=m[T];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(m,_){let T,D;for(let W=1;W<arguments.length;W++){D=arguments[W];for(T in D)m[T]=D[T];for(let st=0;st<M.length;st++)T=M[st],Object.prototype.hasOwnProperty.call(D,T)&&(m[T]=D[T])}}function V(m){var _=1;m=m.split(":");const T=[];for(;0<_&&m.length;)T.push(m.shift()),_--;return m.length&&T.push(m.join(":")),T}function L(m){u.setTimeout(()=>{throw m},0)}function j(){var m=gt;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class nt{constructor(){this.h=this.g=null}add(_,T){const D=rt.get();D.set(_,T),this.h?this.h.next=D:this.g=D,this.h=D}}var rt=new I(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ct=!1,gt=new nt,U=()=>{const m=u.Promise.resolve(void 0);J=()=>{m.then(it)}};var it=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(T){L(T)}var _=rt;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}ct=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return m}();function bt(m,_){if(et.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var T=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(H){t:{try{Y(_.nodeName);var W=!0;break t}catch{}W=!1}W||(_=null)}}else T=="mouseover"?_=m.fromElement:T=="mouseout"&&(_=m.toElement);this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ft[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&bt.aa.h.call(this)}}S(bt,et);var ft={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function ee(m,_,T,D,W){this.listener=m,this.proxy=null,this.src=_,this.type=T,this.capture=!!D,this.ha=W,this.key=++Mt,this.da=this.fa=!1}function Ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function _t(m){this.src=m,this.g={},this.h=0}_t.prototype.add=function(m,_,T,D,W){var st=m.toString();m=this.g[st],m||(m=this.g[st]=[],this.h++);var pt=Dt(m,_,D,W);return-1<pt?(_=m[pt],T||(_.fa=!1)):(_=new ee(_,this.src,st,!!D,W),_.fa=T,m.push(_)),_};function Jt(m,_){var T=_.type;if(T in m.g){var D=m.g[T],W=Array.prototype.indexOf.call(D,_,void 0),st;(st=0<=W)&&Array.prototype.splice.call(D,W,1),st&&(Ve(_),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Dt(m,_,T,D){for(var W=0;W<m.length;++W){var st=m[W];if(!st.da&&st.listener==_&&st.capture==!!T&&st.ha==D)return W}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Ge={};function $n(m,_,T,D,W){if(Array.isArray(_)){for(var st=0;st<_.length;st++)$n(m,_[st],T,D,W);return null}return T=$h(T),m&&m[At]?m.K(_,T,f(D)?!!D.capture:!1,W):Ot(m,_,T,!1,D,W)}function Ot(m,_,T,D,W,st){if(!_)throw Error("Invalid event type");var pt=f(W)?!!W.capture:!!W,Gt=Po(m);if(Gt||(m[Ee]=Gt=new _t(m)),T=Gt.add(_,T,D,pt,st),T.proxy)return T;if(D=ws(),T.proxy=D,D.src=m,D.listener=T,m.addEventListener)mt||(W=pt),W===void 0&&(W=!1),m.addEventListener(_.toString(),D,W);else if(m.attachEvent)m.attachEvent(jn(_.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ws(){function m(T){return _.call(m.src,m.listener,T)}const _=gc;return m}function Bi(m,_,T,D,W){if(Array.isArray(_))for(var st=0;st<_.length;st++)Bi(m,_[st],T,D,W);else D=f(D)?!!D.capture:!!D,T=$h(T),m&&m[At]?(m=m.i,_=String(_).toString(),_ in m.g&&(st=m.g[_],T=Dt(st,T,D,W),-1<T&&(Ve(st[T]),Array.prototype.splice.call(st,T,1),st.length==0&&(delete m.g[_],m.h--)))):m&&(m=Po(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Dt(_,T,D,W)),(T=-1<m?_[m]:null)&&fr(T))}function fr(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[At])Jt(_.i,m);else{var T=m.type,D=m.proxy;_.removeEventListener?_.removeEventListener(T,D,m.capture):_.detachEvent?_.detachEvent(jn(T),D):_.addListener&&_.removeListener&&_.removeListener(D),(T=Po(_))?(Jt(T,m),T.h==0&&(T.src=null,_[Ee]=null)):Ve(m)}}}function jn(m){return m in Ge?Ge[m]:Ge[m]="on"+m}function gc(m,_){if(m.da)m=!0;else{_=new bt(_,this);var T=m.listener,D=m.ha||m.src;m.fa&&fr(m),m=T.call(D,_)}return m}function Po(m){return m=m[Ee],m instanceof _t?m:null}var yc="__closure_events_fn_"+(1e9*Math.random()>>>0);function $h(m){return typeof m=="function"?m:(m[yc]||(m[yc]=function(_){return m.handleEvent(_)}),m[yc])}function Ae(){dt.call(this),this.i=new _t(this),this.M=this,this.F=null}S(Ae,dt),Ae.prototype[At]=!0,Ae.prototype.removeEventListener=function(m,_,T,D){Bi(this,m,_,T,D)};function re(m,_){var T,D=m.F;if(D)for(T=[];D;D=D.F)T.push(D);if(m=m.M,D=_.type||_,typeof _=="string")_=new et(_,m);else if(_ instanceof et)_.target=_.target||m;else{var W=_;_=new et(D,m),P(_,W)}if(W=!0,T)for(var st=T.length-1;0<=st;st--){var pt=_.g=T[st];W=Gn(pt,D,!0,_)&&W}if(pt=_.g=m,W=Gn(pt,D,!0,_)&&W,W=Gn(pt,D,!1,_)&&W,T)for(st=0;st<T.length;st++)pt=_.g=T[st],W=Gn(pt,D,!1,_)&&W}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var T=m.g[_],D=0;D<T.length;D++)Ve(T[D]);delete m.g[_],m.h--}}this.F=null},Ae.prototype.K=function(m,_,T,D){return this.i.add(String(m),_,!1,T,D)},Ae.prototype.L=function(m,_,T,D){return this.i.add(String(m),_,!0,T,D)};function Gn(m,_,T,D){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var W=!0,st=0;st<_.length;++st){var pt=_[st];if(pt&&!pt.da&&pt.capture==T){var Gt=pt.listener,We=pt.ha||pt.src;pt.fa&&Jt(m.i,pt),W=Gt.call(We,D)!==!1&&W}}return W&&!D.defaultPrevented}function vn(m,_,T){if(typeof m=="function")T&&(m=b(m,T));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(m,_||0)}function Gh(m){m.g=vn(()=>{m.g=null,m.i&&(m.i=!1,Gh(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class hp extends dt{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Gh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(m){dt.call(this),this.h=m,this.g={}}S(_a,dt);var wa=[];function Ta(m){G(m.g,function(_,T){this.g.hasOwnProperty(T)&&fr(_)},m),m.g={}}_a.prototype.N=function(){_a.aa.N.call(this),Ta(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=u.JSON.stringify,Oo=u.JSON.parse,Sa=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function vc(){}vc.prototype.h=null;function xc(m){return m.h||(m.h=m.i())}function bc(){}var Ts={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ss(){et.call(this,"d")}S(Ss,et);function _c(){et.call(this,"c")}S(_c,et);var Fi={},wc=null;function mr(){return wc=wc||new Ae}Fi.La="serverreachability";function jo(m){et.call(this,Fi.La,m)}S(jo,et);function pr(m){const _=mr();re(_,new jo(_))}Fi.STAT_EVENT="statevent";function Qh(m,_){et.call(this,Fi.STAT_EVENT,m),this.stat=_}S(Qh,et);function ve(m){const _=mr();re(_,new Qh(_,m))}Fi.Ma="timingevent";function Qe(m,_){et.call(this,Fi.Ma,m),this.size=_}S(Qe,et);function Le(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function Tc(m,_,T,D,W,st){m.info(function(){if(m.g)if(st)for(var pt="",Gt=st.split("&"),We=0;We<Gt.length;We++){var Qt=Gt[We].split("=");if(1<Qt.length){var tn=Qt[0];Qt=Qt[1];var Ke=tn.split("_");pt=2<=Ke.length&&Ke[1]=="type"?pt+(tn+"="+Qt+"&"):pt+(tn+"=redacted&")}}else pt=null;else pt=st;return"XMLHTTP REQ ("+D+") [attempt "+W+"]: "+_+`
`+T+`
`+pt})}function dp(m,_,T,D,W,st,pt){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+W+"]: "+_+`
`+T+`
`+st+" "+pt})}function gr(m,_,T,D){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ea(m,T)+(D?" "+D:"")})}function Wh(m,_){m.info(function(){return"TIMEOUT: "+_})}si.prototype.info=function(){};function Ea(m,_){if(!m.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(m=0;m<T.length;m++)if(Array.isArray(T[m])){var D=T[m];if(!(2>D.length)){var W=D[1];if(Array.isArray(W)&&!(1>W.length)){var st=W[0];if(st!="noop"&&st!="stop"&&st!="close")for(var pt=1;pt<W.length;pt++)W[pt]=""}}}}return Ei(T)}catch{return _}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hi;function qi(){}S(qi,vc),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},Hi=new qi;function In(m,_,T,D){this.j=m,this.i=_,this.l=T,this.R=D||1,this.U=new _a(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var Sc={},Vo={};function Ai(m,_,T){m.L=1,m.v=Ia(Qn(_)),m.m=T,m.P=!0,As(m,null)}function As(m,_){m.F=Date.now(),Aa(m),m.A=Qn(m.v);var T=m.A,D=m.R;Array.isArray(D)||(D=[String(D)]),Ic(T.i,"t",D),m.C=0,T=m.j.J,m.h=new Ie,m.g=ud(m.j,T?_:null,!m.m),0<m.O&&(m.M=new hp(b(m.Y,m,m.g),m.O)),_=m.U,T=m.g,D=m.ca;var W="readystatechange";Array.isArray(W)||(W&&(wa[0]=W.toString()),W=wa);for(var st=0;st<W.length;st++){var pt=$n(T,W[st],D||_.handleEvent,!1,_.h||_);if(!pt)break;_.g[pt.key]=pt}_=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),pr(),Tc(m.i,m.u,m.A,m.l,m.R,m.m)}In.prototype.ca=function(m){m=m.target;const _=this.M;_&&li(m)==3?_.j():this.Y(m)},In.prototype.Y=function(m){try{if(m==this.g)t:{const Ke=li(this.g);var _=this.g.Ba();const Ps=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||nd(this.g)))){this.J||Ke!=4||_==7||(_==8||0>=Ps?pr(3):pr(2)),vr(this);var T=this.g.Z();this.X=T;e:if(Kh(this)){var D=nd(this.g);m="";var W=D.length,st=li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),$i(this);var pt="";break e}this.h.i=new u.TextDecoder}for(_=0;_<W;_++)this.h.h=!0,m+=this.h.i.decode(D[_],{stream:!(st&&_==W-1)});D.length=0,this.h.g+=m,this.C=0,pt=this.h.g}else pt=this.g.oa();if(this.o=T==200,dp(this.i,this.u,this.A,this.l,this.R,Ke,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,We=this.g;if((Gt=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Gt)){var Qt=Gt;break e}}Qt=null}if(T=Qt)gr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ca(this,T);else{this.o=!1,this.s=3,ve(12),cn(this),$i(this);break t}}if(this.P){T=!0;let un;for(;!this.J&&this.C<pt.length;)if(un=Yh(this,pt),un==Vo){Ke==4&&(this.s=4,ve(14),T=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Sc){this.s=4,ve(15),gr(this.i,this.l,pt,"[Invalid Chunk]"),T=!1;break}else gr(this.i,this.l,un,null),Ca(this,un);if(Kh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||pt.length!=0||this.h.h||(this.s=1,ve(16),T=!1),this.o=this.o&&T,!T)gr(this.i,this.l,pt,"[Invalid Chunked Response]"),cn(this),$i(this);else if(0<pt.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+pt.length),La(tn),tn.M=!0,ve(11))}}else gr(this.i,this.l,pt,null),Ca(this,pt);Ke==4&&cn(this),this.o&&!this.J&&(Ke==4?od(this.j,this):(this.o=!1,Aa(this)))}else yp(this.g),T==400&&0<pt.indexOf("Unknown SID")?(this.s=3,ve(12)):(this.s=0,ve(13)),cn(this),$i(this)}}}catch{}finally{}};function Kh(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Yh(m,_){var T=m.C,D=_.indexOf(`
`,T);return D==-1?Vo:(T=Number(_.substring(T,D)),isNaN(T)?Sc:(D+=1,D+T>_.length?Vo:(_=_.slice(D,D+T),m.C=D+T,_)))}In.prototype.cancel=function(){this.J=!0,cn(this)};function Aa(m){m.S=Date.now()+m.I,Xh(m,m.I)}function Xh(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Le(b(m.ba,m),_)}function vr(m){m.B&&(u.clearTimeout(m.B),m.B=null)}In.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Wh(this.i,this.A),this.L!=2&&(pr(),ve(17)),cn(this),this.s=2,$i(this)):Xh(this,this.S-m)};function $i(m){m.j.G==0||m.J||od(m.j,m)}function cn(m){vr(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Ta(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function Ca(m,_){try{var T=m.j;if(T.G!=0&&(T.g==m||Ec(T.h,m))){if(!m.K&&Ec(T.h,m)&&T.G==3){try{var D=T.Da.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var W=D;if(W[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<m.F)Ko(T),Qo(T);else break t;Oc(T),ve(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=Le(b(T.Za,T),6e3));if(1>=Uo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ds(T,11)}else if((m.K||T.g==m)&&Ko(T),!B(_))for(W=T.Da.g.parse(_),_=0;_<W.length;_++){let Qt=W[_];if(T.T=Qt[0],Qt=Qt[1],T.G==2)if(Qt[0]=="c"){T.K=Qt[1],T.ia=Qt[2];const tn=Qt[3];tn!=null&&(T.la=tn,T.j.info("VER="+T.la));const Ke=Qt[4];Ke!=null&&(T.Aa=Ke,T.j.info("SVER="+T.Aa));const Ps=Qt[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(D=1.5*Ps,T.L=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const un=m.g;if(un){const Zi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var st=D.h;st.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(zo(st,st.h),st.h=null))}if(D.D){const Vc=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Vc&&(D.ya=Vc,ce(D.I,D.D,Vc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-m.F,T.j.info("Handshake RTT: "+T.R+"ms")),D=T;var pt=m;if(D.qa=cd(D,D.J?D.ia:null,D.W),pt.K){kn(D.h,pt);var Gt=pt,We=D.L;We&&(Gt.I=We),Gt.B&&(vr(Gt),Aa(Gt)),D.g=pt}else rd(D);0<T.i.length&&Wo(T)}else Qt[0]!="stop"&&Qt[0]!="close"||Ds(T,7);else T.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ds(T,7):Dc(T):Qt[0]!="noop"&&T.l&&T.l.ta(Qt),T.v=0)}}pr(4)}catch{}}var Zh=class{constructor(m,_){this.g=m,this.map=_}};function Cs(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Uo(m){return m.h?1:m.g?m.g.size:0}function Ec(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function zo(m,_){m.g?m.g.add(_):m.h=_}function kn(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Cs.prototype.cancel=function(){if(this.i=Ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ac(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const T of m.g.values())_=_.concat(T.D);return _}return A(m.i)}function fp(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var _=[],T=m.length,D=0;D<T;D++)_.push(m[D]);return _}_=[],T=0;for(D in m)_[T++]=m[D];return _}function Bo(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var _=[];m=m.length;for(var T=0;T<m;T++)_.push(T);return _}_=[],T=0;for(const D in m)_[T++]=D;return _}}}function Cc(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var T=Bo(m),D=fp(m),W=D.length,st=0;st<W;st++)_.call(void 0,D[st],T&&T[st],m)}var Ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(m,_){if(m){m=m.split("&");for(var T=0;T<m.length;T++){var D=m[T].indexOf("="),W=null;if(0<=D){var st=m[T].substring(0,D);W=m[T].substring(D+1)}else st=m[T];_(st,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ue(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ue){this.h=m.h,Na(this,m.j),this.o=m.o,this.g=m.g,xr(this,m.s),this.l=m.l;var _=m.i,T=new Ns;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Rs(this,T),this.m=m.m}else m&&(_=String(m).match(Ra))?(this.h=!1,Na(this,_[1]||"",!0),this.o=ri(_[2]||""),this.g=ri(_[3]||"",!0),xr(this,_[4]),this.l=ri(_[5]||"",!0),Rs(this,_[6]||"",!0),this.m=ri(_[7]||"")):(this.h=!1,this.i=new Ns(null,this.h))}Ue.prototype.toString=function(){var m=[],_=this.j;_&&m.push(ka(_,Rc,!0),":");var T=this.g;return(T||_=="file")&&(m.push("//"),(_=this.o)&&m.push(ka(_,Rc,!0),"@"),m.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&m.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(ka(T,T.charAt(0)=="/"?pp:Nc,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",ka(T,Fo)),m.join("")};function Qn(m){return new Ue(m)}function Na(m,_,T){m.j=T?ri(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function xr(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function Rs(m,_,T){_ instanceof Ns?(m.i=_,td(m.i,m.h)):(T||(_=ka(_,gp)),m.i=new Ns(_,m.h))}function ce(m,_,T){m.i.set(_,T)}function Ia(m){return ce(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ri(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ka(m,_,T){return typeof m=="string"?(m=encodeURI(m).replace(_,Jh),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Jh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Rc=/[#\/\?@]/g,Nc=/[#\?:]/g,pp=/[#\?]/g,gp=/[#\?@]/g,Fo=/#/g;function Ns(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function ai(m){m.g||(m.g=new Map,m.h=0,m.i&&mp(m.i,function(_,T){m.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Ns.prototype,n.add=function(m,_){ai(this),this.i=null,m=Gi(this,m);var T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(_),this.h+=1,this};function Is(m,_){ai(m),_=Gi(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function ks(m,_){return ai(m),_=Gi(m,_),m.g.has(_)}n.forEach=function(m,_){ai(this),this.g.forEach(function(T,D){T.forEach(function(W){m.call(_,W,D,this)},this)},this)},n.na=function(){ai(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let D=0;D<_.length;D++){const W=m[D];for(let st=0;st<W.length;st++)T.push(_[D])}return T},n.V=function(m){ai(this);let _=[];if(typeof m=="string")ks(this,m)&&(_=_.concat(this.g.get(Gi(this,m))));else{m=Array.from(this.g.values());for(let T=0;T<m.length;T++)_=_.concat(m[T])}return _},n.set=function(m,_){return ai(this),this.i=null,m=Gi(this,m),ks(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function Ic(m,_,T){Is(m,_),0<T.length&&(m.i=null,m.g.set(Gi(m,_),A(T)),m.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var D=_[T];const st=encodeURIComponent(String(D)),pt=this.V(D);for(D=0;D<pt.length;D++){var W=st;pt[D]!==""&&(W+="="+encodeURIComponent(String(pt[D]))),m.push(W)}}return this.i=m.join("&")};function Gi(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function td(m,_){_&&!m.j&&(ai(m),m.i=null,m.g.forEach(function(T,D){var W=D.toLowerCase();D!=W&&(Is(this,D),Ic(this,W,T))},m)),m.j=_}function Ma(m,_){const T=new si;if(u.Image){const D=new Image;D.onload=w(oi,T,"TestLoadImage: loaded",!0,_,D),D.onerror=w(oi,T,"TestLoadImage: error",!1,_,D),D.onabort=w(oi,T,"TestLoadImage: abort",!1,_,D),D.ontimeout=w(oi,T,"TestLoadImage: timeout",!1,_,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else _(!1)}function Ci(m,_){const T=new si,D=new AbortController,W=setTimeout(()=>{D.abort(),oi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:D.signal}).then(st=>{clearTimeout(W),st.ok?oi(T,"TestPingServer: ok",!0,_):oi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),oi(T,"TestPingServer: error",!1,_)})}function oi(m,_,T,D,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),D(T)}catch{}}function Da(){this.g=new Sa}function Qi(m,_,T){const D=T||"";try{Cc(m,function(W,st){let pt=W;f(W)&&(pt=Ei(W)),_.push(D+st+"="+encodeURIComponent(pt))})}catch(W){throw _.push(D+"type="+encodeURIComponent("_badmap")),W}}function br(m){this.l=m.Ub||null,this.j=m.eb||!1}S(br,vc),br.prototype.g=function(){return new Ms(this.l,this.j)},br.prototype.i=function(m){return function(){return m}}({});function Ms(m,_){Ae.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ms,Ae),n=Ms.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Ki(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function kc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Wi(this):Ki(this),this.readyState==3&&kc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Wi(this))},n.Qa=function(m){this.g&&(this.response=m,Wi(this))},n.ga=function(){this.g&&Wi(this)};function Wi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ki(m)}n.setRequestHeader=function(m,_){this.u.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=_.next();return m.join(`\r
`)};function Ki(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Mc(m){let _="";return G(m,function(T,D){_+=D,_+=":",_+=T,_+=`\r
`}),_}function Je(m,_,T){t:{for(D in T){var D=!1;break t}D=!0}D||(T=Mc(T),typeof m=="string"?T!=null&&encodeURIComponent(String(T)):ce(m,_,T))}function ne(m){Ae.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ne,Ae);var Ho=/^https?$/i,Pa=["POST","PUT"];n=ne.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,_,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hi.g(),this.v=this.o?xc(this.o):xc(Hi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(st){ed(this,st);return}if(m=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var W in D)T.set(W,D[W]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const st of D.keys())T.set(st,D.get(st));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(st=>st.toLowerCase()=="content-type"),W=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Pa,_,void 0))||D||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,pt]of T)this.g.setRequestHeader(st,pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(m),this.u=!1}catch(st){ed(this,st)}};function ed(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,qo(m),Yi(m)}function qo(m){m.A||(m.A=!0,re(m,"complete"),re(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,re(this,"complete"),re(this,"abort"),Yi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$o(this):this.bb())},n.bb=function(){$o(this)};function $o(m){if(m.h&&typeof l<"u"&&(!m.v[1]||li(m)!=4||m.Z()!=2)){if(m.u&&li(m)==4)vn(m.Ea,0,m);else if(re(m,"readystatechange"),li(m)==4){m.h=!1;try{const pt=m.Z();t:switch(pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var T;if(!(T=_)){var D;if(D=pt===0){var W=String(m.D).match(Ra)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),D=!Ho.test(W?W.toLowerCase():"")}T=D}if(T)re(m,"complete"),re(m,"success");else{m.m=6;try{var st=2<li(m)?m.g.statusText:""}catch{st=""}m.l=st+" ["+m.Z()+"]",qo(m)}}finally{Yi(m)}}}}function Yi(m,_){if(m.g){Oa(m);const T=m.g,D=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||re(m,"ready");try{T.onreadystatechange=D}catch{}}}function Oa(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function li(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Oo(_)}};function nd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function yp(m){const _={};m=(m.g&&2<=li(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(B(m[D]))continue;var T=V(m[D]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const st=_[W]||[];_[W]=st,st.push(T)}k(_,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(m,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||_}function Go(m){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,m),this.cb=ja("retryDelaySeedMs",1e4,m),this.Wa=ja("forwardChannelMaxRetries",2,m),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Cs(m&&m.concurrentRequestLimit),this.Da=new Da,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Go.prototype,n.la=8,n.G=1,n.connect=function(m,_,T,D){ve(0),this.W=m,this.H=_||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.I=cd(this,null,this.W),Wo(this)};function Dc(m){if(id(m),m.G==3){var _=m.U++,T=Qn(m.I);if(ce(T,"SID",m.K),ce(T,"RID",_),ce(T,"TYPE","terminate"),Va(m,T),_=new In(m,m.j,_),_.L=2,_.v=Ia(Qn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.v,T=!0),T||(_.g=ud(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Aa(_)}ld(m)}function Qo(m){m.g&&(La(m),m.g.cancel(),m.g=null)}function id(m){Qo(m),m.u&&(u.clearTimeout(m.u),m.u=null),Ko(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Wo(m){if(!Lo(m.h)&&!m.s){m.s=!0;var _=m.Ga;J||U(),ct||(J(),ct=!0),gt.add(_,m),m.B=0}}function vp(m,_){return Uo(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Le(b(m.Ga,m,_),jc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const W=new In(this,this.j,m);let st=this.o;if(this.S&&(st?(st=C(st),P(st,this.S)):st=this.S),this.m!==null||this.O||(W.H=st,st=null),this.P)t:{for(var _=0,T=0;T<this.i.length;T++){e:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(_+=D,4096<_){_=T;break t}if(_===4096||T===this.i.length-1){_=T+1;break t}}_=1e3}else _=1e3;_=sd(this,W,_),T=Qn(this.I),ce(T,"RID",m),ce(T,"CVER",22),this.D&&ce(T,"X-HTTP-Session-Id",this.D),Va(this,T),st&&(this.O?_="headers="+encodeURIComponent(String(Mc(st)))+"&"+_:this.m&&Je(T,this.m,st)),zo(this.h,W),this.Ua&&ce(T,"TYPE","init"),this.P?(ce(T,"$req",_),ce(T,"SID","null"),W.T=!0,Ai(W,T,null)):Ai(W,T,_),this.G=2}}else this.G==3&&(m?Pc(this,m):this.i.length==0||Lo(this.h)||Pc(this))};function Pc(m,_){var T;_?T=_.l:T=m.U++;const D=Qn(m.I);ce(D,"SID",m.K),ce(D,"RID",T),ce(D,"AID",m.T),Va(m,D),m.m&&m.o&&Je(D,m.m,m.o),T=new In(m,m.j,T,m.B+1),m.m===null&&(T.H=m.o),_&&(m.i=_.D.concat(m.i)),_=sd(m,T,1e3),T.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),zo(m.h,T),Ai(T,D,_)}function Va(m,_){m.H&&G(m.H,function(T,D){ce(_,D,T)}),m.l&&Cc({},function(T,D){ce(_,D,T)})}function sd(m,_,T){T=Math.min(m.i.length,T);var D=m.l?b(m.l.Na,m.l,m):null;t:{var W=m.i;let st=-1;for(;;){const pt=["count="+T];st==-1?0<T?(st=W[0].g,pt.push("ofs="+st)):st=0:pt.push("ofs="+st);let Gt=!0;for(let We=0;We<T;We++){let Qt=W[We].g;const tn=W[We].map;if(Qt-=st,0>Qt)st=Math.max(0,W[We].g-100),Gt=!1;else try{Qi(tn,pt,"req"+Qt+"_")}catch{D&&D(tn)}}if(Gt){D=pt.join("&");break t}}}return m=m.i.splice(0,T),_.D=m,D}function rd(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;J||U(),ct||(J(),ct=!0),gt.add(_,m),m.v=0}}function Oc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Le(b(m.Fa,m),jc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,ad(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Le(b(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ve(10),Qo(this),ad(this))};function La(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function ad(m){m.g=new In(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=Qn(m.qa);ce(_,"RID","rpc"),ce(_,"SID",m.K),ce(_,"AID",m.T),ce(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&ce(_,"TO",m.ja),ce(_,"TYPE","xmlhttp"),Va(m,_),m.m&&m.o&&Je(_,m.m,m.o),m.L&&(m.g.I=m.L);var T=m.g;m=m.ia,T.L=1,T.v=Ia(Qn(_)),T.m=null,T.P=!0,As(T,m)}n.Za=function(){this.C!=null&&(this.C=null,Qo(this),Oc(this),ve(19))};function Ko(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function od(m,_){var T=null;if(m.g==_){Ko(m),La(m),m.g=null;var D=2}else if(Ec(m.h,_))T=_.D,kn(m.h,_),D=1;else return;if(m.G!=0){if(_.o)if(D==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var W=m.B;D=mr(),re(D,new Qe(D,T)),Wo(m)}else rd(m);else if(W=_.s,W==3||W==0&&0<_.X||!(D==1&&vp(m,_)||D==2&&Oc(m)))switch(T&&0<T.length&&(_=m.h,_.i=_.i.concat(T)),W){case 1:Ds(m,5);break;case 4:Ds(m,10);break;case 3:Ds(m,6);break;default:Ds(m,2)}}}function jc(m,_){let T=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(T*=2),T*_}function Ds(m,_){if(m.j.info("Error code "+_),_==2){var T=b(m.fb,m),D=m.Xa;const W=!D;D=new Ue(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Na(D,"https"),Ia(D),W?Ma(D.toString(),T):Ci(D.toString(),T)}else ve(2);m.G=0,m.l&&m.l.sa(_),ld(m),id(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function ld(m){if(m.G=0,m.ka=[],m.l){const _=Ac(m.h);(_.length!=0||m.i.length!=0)&&(R(m.ka,_),R(m.ka,m.i),m.h.i.length=0,A(m.i),m.i.length=0),m.l.ra()}}function cd(m,_,T){var D=T instanceof Ue?Qn(T):new Ue(T);if(D.g!="")_&&(D.g=_+"."+D.g),xr(D,D.s);else{var W=u.location;D=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;var st=new Ue(null);D&&Na(st,D),_&&(st.g=_),W&&xr(st,W),T&&(st.l=T),D=st}return T=m.D,_=m.ya,T&&_&&ce(D,T,_),ce(D,"VER",m.la),Va(m,D),D}function ud(m,_,T){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new ne(new br({eb:T})):new ne(m.pa),_.Ha(m.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hd(){}n=hd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Yo(){}Yo.prototype.g=function(m,_){return new Mn(m,_)};function Mn(m,_){Ae.call(this),this.g=new Go(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!B(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Xi(this)}S(Mn,Ae),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Dc(this.g)},Mn.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.u&&(T={},T.__data__=Ei(m),m=T);_.i.push(new Zh(_.Ya++,m)),_.G==3&&Wo(_)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Dc(this.g),delete this.g,Mn.aa.N.call(this)};function dd(m){Ss.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){t:{for(const T in _){m=T;break t}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}S(dd,Ss);function fd(){_c.call(this),this.status=1}S(fd,_c);function Xi(m){this.g=m}S(Xi,hd),Xi.prototype.ua=function(){re(this.g,"a")},Xi.prototype.ta=function(m){re(this.g,new dd(m))},Xi.prototype.sa=function(m){re(this.g,new fd)},Xi.prototype.ra=function(){re(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,tC=function(){return new Yo},JA=function(){return mr()},ZA=Fi,fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Gf=yr,Es.COMPLETE="complete",XA=Es,bc.EventType=Ts,Ts.OPEN="a",Ts.CLOSE="b",Ts.ERROR="c",Ts.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,Pu=bc,ne.prototype.listenOnce=ne.prototype.L,ne.prototype.getLastError=ne.prototype.Ka,ne.prototype.getLastErrorCode=ne.prototype.Ba,ne.prototype.getStatus=ne.prototype.Z,ne.prototype.getResponseJson=ne.prototype.Oa,ne.prototype.getResponseText=ne.prototype.oa,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Ha,YA=ne}).apply(typeof yf<"u"?yf:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore",mT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new dv("@firebase/firestore");function Al(){return Eo.logLevel}function vt(n,...t){if(Eo.logLevel<=Ht.DEBUG){const e=t.map(Ev);Eo.debug(`Firestore (${ac}): ${n}`,...e)}}function or(n,...t){if(Eo.logLevel<=Ht.ERROR){const e=t.map(Ev);Eo.error(`Firestore (${ac}): ${n}`,...e)}}function ql(n,...t){if(Eo.logLevel<=Ht.WARN){const e=t.map(Ev);Eo.warn(`Firestore (${ac}): ${n}`,...e)}}function Ev(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,eC(n,i,e)}function eC(n,t,e){let i=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw or(i),new Error(i)}function se(n,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,n||eC(t,s,i)}function jt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends hr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class a5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Tn.UNAUTHENTICATED))}shutdown(){}}class o5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class l5{constructor(t){this.t=t,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){se(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let a=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ir,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ir)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(se(typeof i.accessToken=="string",31837,{l:i}),new nC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string",2055,{h:t}),new Tn(t)}}class c5{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u5{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new c5(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h5{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){se(this.o===void 0,3512);const i=a=>{a.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(se(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new pT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=d5(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<e&&(i+=t.charAt(s[a]%62))}return i}}function qt(n,t){return n<t?-1:n>t?1:0}function my(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const s=n.charAt(i),a=t.charAt(i);if(s!==a)return S0(s)===S0(a)?qt(s,a):S0(s)?1:-1}return qt(n.length,t.length)}const f5=55296,m5=57343;function S0(n){const t=n.charCodeAt(0);return t>=f5&&t<=m5}function $l(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="__name__";class os{constructor(t,e,i){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Rt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return os.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof os?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const a=os.compareSegments(t.get(s),e.get(s));if(a!==0)return a}return qt(t.length,e.length)}static compareSegments(t,e){const i=os.isNumericId(t),s=os.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?os.extractNumericId(t).compare(os.extractNumericId(e)):my(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ia.fromString(t.substring(4,t.length-2))}}class pe extends os{construct(t,e,i){return new pe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new yt(lt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new pe(e)}static emptyPath(){return new pe([])}}const p5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends os{construct(t,e,i){return new gn(t,e,i)}static isValidIdentifier(t){return p5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gT}static keyField(){return new gn([gT])}static fromServerFormat(t){const e=[];let i="",s=0;const a=()=>{if(i.length===0)throw new yt(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new yt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new yt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(a(),s++)}if(a(),l)throw new yt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gn(e)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(pe.fromString(t))}static fromName(t){return new Tt(pe.fromString(t).popFirst(5))}static empty(){return new Tt(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return pe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new pe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(n,t,e){if(!e)throw new yt(lt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function g5(n,t,e,i){if(t===!0&&i===!0)throw new yt(lt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function yT(n){if(!Tt.isDocumentKey(n))throw new yt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vT(n){if(Tt.isDocumentKey(n))throw new yt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Hm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function _i(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Hm(n);throw new yt(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,t){const e={typeString:n};return t&&(e.value=t),e}function Oh(n,t){if(!sC(n))throw new yt(lt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const s=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(s&&typeof l!==s){e=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){e=`Expected '${i}' field to equal '${a.value}'`;break}}if(e)throw new yt(lt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=-62135596800,bT=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(t){return ye.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*bT);return new ye(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<xT)throw new yt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bT}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Oh(t,ye._jsonSchema))return new ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-xT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:$e("string",ye._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new ye(0,0))}static max(){return new Pt(new ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=-1;function y5(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Pt.fromTimestamp(i===1e9?new ye(e+1,0):new ye(e,i));return new oa(s,Tt.empty(),t)}function v5(n){return new oa(n.readTime,n.key,oh)}class oa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new oa(Pt.min(),Tt.empty(),oh)}static max(){return new oa(Pt.max(),Tt.empty(),oh)}}function x5(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Tt.comparator(n.documentKey,t.documentKey),e!==0?e:qt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(n){if(n.code!==lt.FAILED_PRECONDITION||n.message!==b5)throw n;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.reject(e)}static resolve(t){return new ht((e,i)=>{e(t)})}static reject(t){return new ht((e,i)=>{i(t)})}static waitFor(t){return new ht((e,i)=>{let s=0,a=0,l=!1;t.forEach(u=>{++s,u.next(()=>{++a,l&&a===s&&e()},h=>i(h))}),l=!0,a===s&&e()})}static or(t){let e=ht.resolve(!1);for(const i of t)e=e.next(s=>s?ht.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,a)=>{i.push(e.call(this,s,a))}),this.waitFor(i)}static mapArray(t,e){return new ht((i,s)=>{const a=t.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;e(t[f]).next(p=>{l[f]=p,++u,u===a&&i(l)},p=>s(p))}})}static doWhile(t,e){return new ht((i,s)=>{const a=()=>{t()===!0?e().next(()=>{a()},s):i()};a()})}}function w5(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function lc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}qm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-1;function $m(n){return n==null}function fm(n){return n===0&&1/n==-1/0}function T5(n){return typeof n=="number"&&Number.isInteger(n)&&!fm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="";function S5(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=_T(t)),t=E5(n.get(e),t);return _T(t)}function E5(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":e+="";break;case rC:e+="";break;default:e+=a}}return e}function _T(n){return n+rC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ro(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function aC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,e){this.comparator=t,this.root=e||pn.EMPTY}insert(t,e){return new Se(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(t){return new Se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vf(this.root,t,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vf(this.root,t,this.comparator,!0)}}class vf{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pn{constructor(t,e,i,s,a){this.key=t,this.value=e,this.color=i??pn.RED,this.left=s??pn.EMPTY,this.right=a??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,a){return new pn(t??this.key,e??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,e,i),null):a===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return pn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,i,s,a){return this}insert(t,e,i){return new pn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.comparator=t,this.data=new Se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new TT(this.data.getIterator())}getIteratorFrom(t){return new TT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ze(this.comparator);return e.data=t,e}}class TT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.fields=t,t.sort(gn.comparator)}static empty(){return new Di([])}unionWith(t){let e=new Ze(gn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Di(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $l(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oC("Invalid base64 string: "+a):a}}(t);return new yn(e)}static fromUint8Array(t){const e=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new yn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const A5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(n){if(se(!!n,39018),typeof n=="string"){let t=0;const e=A5.exec(n);if(se(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ca(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="server_timestamp",cC="__type__",uC="__previous_value__",hC="__local_write_time__";function Rv(n){return(n?.mapValue?.fields||{})[cC]?.stringValue===lC}function Gm(n){const t=n.mapValue.fields[uC];return Rv(t)?Gm(t):t}function lh(n){const t=la(n.mapValue.fields[hC].timestampValue);return new ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(t,e,i,s,a,l,u,h,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const mm="(default)";class ch{constructor(t,e){this.projectId=t,this.database=e||mm}static empty(){return new ch("","")}get isDefaultDatabase(){return this.database===mm}isEqual(t){return t instanceof ch&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="__type__",R5="__max__",xf={mapValue:{}},fC="__vector__",pm="value";function ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rv(n)?4:I5(n)?9007199254740991:N5(n)?10:11:Rt(28295,{value:n})}function xs(n,t){if(n===t)return!0;const e=ua(n);if(e!==ua(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return lh(n).isEqual(lh(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=la(s.timestampValue),u=la(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,a){return ca(s.bytesValue).isEqual(ca(a.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,a){return Pe(s.geoPointValue.latitude)===Pe(a.geoPointValue.latitude)&&Pe(s.geoPointValue.longitude)===Pe(a.geoPointValue.longitude)}(n,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Pe(s.integerValue)===Pe(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Pe(s.doubleValue),u=Pe(a.doubleValue);return l===u?fm(l)===fm(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return $l(n.arrayValue.values||[],t.arrayValue.values||[],xs);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(wT(l)!==wT(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!xs(l[h],u[h])))return!1;return!0}(n,t);default:return Rt(52216,{left:n})}}function uh(n,t){return(n.values||[]).find(e=>xs(e,t))!==void 0}function Gl(n,t){if(n===t)return 0;const e=ua(n),i=ua(t);if(e!==i)return qt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,t.booleanValue);case 2:return function(a,l){const u=Pe(a.integerValue||a.doubleValue),h=Pe(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return ST(n.timestampValue,t.timestampValue);case 4:return ST(lh(n),lh(t));case 5:return my(n.stringValue,t.stringValue);case 6:return function(a,l){const u=ca(a),h=ca(l);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=qt(u[f],h[f]);if(p!==0)return p}return qt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const u=qt(Pe(a.latitude),Pe(l.latitude));return u!==0?u:qt(Pe(a.longitude),Pe(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return ET(n.arrayValue,t.arrayValue);case 10:return function(a,l){const u=a.fields||{},h=l.fields||{},f=u[pm]?.arrayValue,p=h[pm]?.arrayValue,v=qt(f?.values?.length||0,p?.values?.length||0);return v!==0?v:ET(f,p)}(n.mapValue,t.mapValue);case 11:return function(a,l){if(a===xf.mapValue&&l===xf.mapValue)return 0;if(a===xf.mapValue)return 1;if(l===xf.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const b=my(h[v],p[v]);if(b!==0)return b;const w=Gl(u[h[v]],f[p[v]]);if(w!==0)return w}return qt(h.length,p.length)}(n.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function ST(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return qt(n,t);const e=la(n),i=la(t),s=qt(e.seconds,i.seconds);return s!==0?s:qt(e.nanos,i.nanos)}function ET(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const a=Gl(e[s],i[s]);if(a)return a}return qt(e.length,i.length)}function Ql(n){return py(n)}function py(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=la(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ca(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Tt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const a of e.values||[])s?s=!1:i+=",",i+=py(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${py(e.fields[l])}`;return s+"}"}(n.mapValue):Rt(61005,{value:n})}function Qf(n){switch(ua(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gm(n);return t?16+Qf(t):16;case 5:return 2*n.stringValue.length;case 6:return ca(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+Qf(a),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ro(i.fields,(a,l)=>{s+=a.length+Qf(l)}),s}(n.mapValue);default:throw Rt(13486,{value:n})}}function AT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function gy(n){return!!n&&"integerValue"in n}function Nv(n){return!!n&&"arrayValue"in n}function CT(n){return!!n&&"nullValue"in n}function RT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wf(n){return!!n&&"mapValue"in n}function N5(n){return(n?.mapValue?.fields||{})[dC]?.stringValue===fC}function qu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ro(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=qu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=qu(n.arrayValue.values[e]);return t}return{...n}}function I5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===R5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.value=t}static empty(){return new xi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Wf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=qu(e)}setAll(t){let e=gn.emptyPath(),i={},s=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,s),i={},s=[],e=u.popLast()}l?i[u.lastSegment()]=qu(l):s.push(u.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,s)}delete(t){const e=this.field(t.popLast());Wf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return xs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];Wf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Ro(e,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new xi(qu(this.value))}}function mC(n){const t=[];return Ro(n.fields,(e,i)=>{const s=new gn([e]);if(Wf(i)){const a=mC(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new Di(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t,e,i,s,a,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Sn(t,0,Pt.min(),Pt.min(),Pt.min(),xi.empty(),0)}static newFoundDocument(t,e,i,s){return new Sn(t,1,e,Pt.min(),i,s,0)}static newNoDocument(t,e){return new Sn(t,2,e,Pt.min(),Pt.min(),xi.empty(),0)}static newUnknownDocument(t,e){return new Sn(t,3,e,Pt.min(),Pt.min(),xi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,e){this.position=t,this.inclusive=e}}function NT(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const a=t[s],l=n.position[s];if(a.field.isKeyField()?i=Tt.comparator(Tt.fromName(l.referenceValue),e.key):i=Gl(l,e.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function IT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!xs(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,e="asc"){this.field=t,this.dir=e}}function k5(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{}class qe extends pC{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new D5(t,e,i):e==="array-contains"?new j5(t,i):e==="in"?new V5(t,i):e==="not-in"?new L5(t,i):e==="array-contains-any"?new U5(t,i):new qe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new P5(t,i):new O5(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Gl(e,this.value)):e!==null&&ua(this.value)===ua(e)&&this.matchesComparison(Gl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends pC{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Li(t,e)}matches(t){return gC(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gC(n){return n.op==="and"}function yC(n){return M5(n)&&gC(n)}function M5(n){for(const t of n.filters)if(t instanceof Li)return!1;return!0}function yy(n){if(n instanceof qe)return n.field.canonicalString()+n.op.toString()+Ql(n.value);if(yC(n))return n.filters.map(t=>yy(t)).join(",");{const t=n.filters.map(e=>yy(e)).join(",");return`${n.op}(${t})`}}function vC(n,t){return n instanceof qe?function(i,s){return s instanceof qe&&i.op===s.op&&i.field.isEqual(s.field)&&xs(i.value,s.value)}(n,t):n instanceof Li?function(i,s){return s instanceof Li&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,u)=>a&&vC(l,s.filters[u]),!0):!1}(n,t):void Rt(19439)}function xC(n){return n instanceof qe?function(e){return`${e.field.canonicalString()} ${e.op} ${Ql(e.value)}`}(n):n instanceof Li?function(e){return e.op.toString()+" {"+e.getFilters().map(xC).join(" ,")+"}"}(n):"Filter"}class D5 extends qe{constructor(t,e,i){super(t,e,i),this.key=Tt.fromName(i.referenceValue)}matches(t){const e=Tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class P5 extends qe{constructor(t,e){super(t,"in",e),this.keys=bC("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class O5 extends qe{constructor(t,e){super(t,"not-in",e),this.keys=bC("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function bC(n,t){return(t.arrayValue?.values||[]).map(e=>Tt.fromName(e.referenceValue))}class j5 extends qe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Nv(e)&&uh(e.arrayValue,this.value)}}class V5 extends qe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&uh(this.value.arrayValue,e)}}class L5 extends qe{constructor(t,e){super(t,"not-in",e)}matches(t){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!uh(this.value.arrayValue,e)}}class U5 extends qe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Nv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>uh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(t,e=null,i=[],s=[],a=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function kT(n,t=null,e=[],i=[],s=null,a=null,l=null){return new z5(n,t,e,i,s,a,l)}function Iv(n){const t=jt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>yy(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),$m(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ql(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ql(i)).join(",")),t.Te=e}return t.Te}function kv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!k5(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!vC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!IT(n.startAt,t.startAt)&&IT(n.endAt,t.endAt)}function vy(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t,e=null,i=[],s=[],a=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B5(n,t,e,i,s,a,l,u){return new cc(n,t,e,i,s,a,l,u)}function Qm(n){return new cc(n)}function MT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _C(n){return n.collectionGroup!==null}function $u(n){const t=jt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ze(gn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new hh(a,i))}),e.has(gn.keyField().canonicalString())||t.Ie.push(new hh(gn.keyField(),i))}return t.Ie}function cs(n){const t=jt(n);return t.Ee||(t.Ee=F5(t,$u(n))),t.Ee}function F5(n,t){if(n.limitType==="F")return kT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new hh(s.field,a)});const e=n.endAt?new gm(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new gm(n.startAt.position,n.startAt.inclusive):null;return kT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function xy(n,t){const e=n.filters.concat([t]);return new cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function by(n,t,e){return new cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Wm(n,t){return kv(cs(n),cs(t))&&n.limitType===t.limitType}function wC(n){return`${Iv(cs(n))}|lt:${n.limitType}`}function Cl(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>xC(s)).join(", ")}]`),$m(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ql(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ql(s)).join(",")),`Target(${i})`}(cs(n))}; limitType=${n.limitType})`}function Km(n,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Tt.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,t)&&function(i,s){for(const a of $u(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,u,h){const f=NT(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,$u(i),s)||i.endAt&&!function(l,u,h){const f=NT(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,$u(i),s))}(n,t)}function H5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TC(n){return(t,e)=>{let i=!1;for(const s of $u(n)){const a=q5(s,t,e);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function q5(n,t,e){const i=n.field.isKeyField()?Tt.comparator(t.key,e.key):function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Gl(h,f):Rt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ro(this.inner,(e,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return aC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=new Se(Tt.comparator);function lr(){return $5}const SC=new Se(Tt.comparator);function Ou(...n){let t=SC;for(const e of n)t=t.insert(e.key,e);return t}function EC(n){let t=SC;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function co(){return Gu()}function AC(){return Gu()}function Gu(){return new No(n=>n.toString(),(n,t)=>n.isEqual(t))}const G5=new Se(Tt.comparator),Q5=new Ze(Tt.comparator);function $t(...n){let t=Q5;for(const e of n)t=t.add(e);return t}const W5=new Ze(qt);function K5(){return W5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fm(t)?"-0":t}}function CC(n){return{integerValue:""+n}}function Y5(n,t){return T5(t)?CC(t):Mv(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this._=void 0}}function X5(n,t,e){return n instanceof ym?function(s,a){const l={fields:{[cC]:{stringValue:lC},[hC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Rv(a)&&(a=Gm(a)),a&&(l.fields[uC]=a),{mapValue:l}}(e,t):n instanceof dh?NC(n,t):n instanceof fh?IC(n,t):function(s,a){const l=RC(s,a),u=DT(l)+DT(s.Ae);return gy(l)&&gy(s.Ae)?CC(u):Mv(s.serializer,u)}(n,t)}function Z5(n,t,e){return n instanceof dh?NC(n,t):n instanceof fh?IC(n,t):e}function RC(n,t){return n instanceof vm?function(i){return gy(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class ym extends Ym{}class dh extends Ym{constructor(t){super(),this.elements=t}}function NC(n,t){const e=kC(t);for(const i of n.elements)e.some(s=>xs(s,i))||e.push(i);return{arrayValue:{values:e}}}class fh extends Ym{constructor(t){super(),this.elements=t}}function IC(n,t){let e=kC(t);for(const i of n.elements)e=e.filter(s=>!xs(s,i));return{arrayValue:{values:e}}}class vm extends Ym{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function DT(n){return Pe(n.integerValue||n.doubleValue)}function kC(n){return Nv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function J5(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof dh&&s instanceof dh||i instanceof fh&&s instanceof fh?$l(i.elements,s.elements,xs):i instanceof vm&&s instanceof vm?xs(i.Ae,s.Ae):i instanceof ym&&s instanceof ym}(n.transform,t.transform)}class tV{constructor(t,e){this.version=t,this.transformResults=e}}class Vi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Vi}static exists(t){return new Vi(void 0,t)}static updateTime(t){return new Vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Xm{}function MC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Dv(n.key,Vi.none()):new jh(n.key,n.data,Vi.none());{const e=n.data,i=xi.empty();let s=new Ze(gn.comparator);for(let a of t.fields)if(!s.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new Io(n.key,i,new Di(s.toArray()),Vi.none())}}function eV(n,t,e){n instanceof jh?function(s,a,l){const u=s.value.clone(),h=OT(s.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Io?function(s,a,l){if(!Kf(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=OT(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(DC(s)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function Qu(n,t,e,i){return n instanceof jh?function(a,l,u,h){if(!Kf(a.precondition,l))return u;const f=a.value.clone(),p=jT(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Io?function(a,l,u,h){if(!Kf(a.precondition,l))return u;const f=jT(a.fieldTransforms,h,l),p=l.data;return p.setAll(DC(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(a,l,u){return Kf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function nV(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),a=RC(i.transform,s||null);a!=null&&(e===null&&(e=xi.empty()),e.set(i.field,a))}return e||null}function PT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&$l(i,s,(a,l)=>J5(a,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class jh extends Xm{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Io extends Xm{constructor(t,e,i,s,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function DC(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function OT(n,t,e){const i=new Map;se(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let s=0;s<e.length;s++){const a=n[s],l=a.transform,u=t.data.field(a.field);i.set(a.field,Z5(l,u,e[s]))}return i}function jT(n,t,e){const i=new Map;for(const s of n){const a=s.transform,l=e.data.field(s.field);i.set(s.field,X5(a,l,t))}return i}class Dv extends Xm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iV extends Xm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&eV(a,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Qu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Qu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=AC();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=e.has(s.key)?null:u;const h=MC(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Pt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),$t())}isEqual(t){return this.batchId===t.batchId&&$l(this.mutations,t.mutations,(e,i)=>PT(e,i))&&$l(this.baseMutations,t.baseMutations,(e,i)=>PT(e,i))}}class Pv{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){se(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return G5}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new Pv(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,Kt;function oV(n){switch(n){case lt.OK:return Rt(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return Rt(15467,{code:n})}}function PC(n){if(n===void 0)return or("GRPC error has no .code"),lt.UNKNOWN;switch(n){case Fe.OK:return lt.OK;case Fe.CANCELLED:return lt.CANCELLED;case Fe.UNKNOWN:return lt.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return lt.INTERNAL;case Fe.UNAVAILABLE:return lt.UNAVAILABLE;case Fe.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Fe.NOT_FOUND:return lt.NOT_FOUND;case Fe.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Fe.ABORTED:return lt.ABORTED;case Fe.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Fe.DATA_LOSS:return lt.DATA_LOSS;default:return Rt(39323,{code:n})}}(Kt=Fe||(Fe={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=new ia([4294967295,4294967295],0);function VT(n){const t=lV().encode(n),e=new KA;return e.update(t),new Uint8Array(e.digest())}function LT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ia([e,i],0),new ia([s,a],0)]}class Ov{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new ju(`Invalid padding: ${e}`);if(i<0)throw new ju(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ju(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new ju(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ia.fromNumber(this.ge)}ye(t,e,i){let s=t.add(e.multiply(ia.fromNumber(i)));return s.compare(cV)===1&&(s=new ia([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=VT(t),[i,s]=LT(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);if(!this.we(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new Ov(a,s,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.ge===0)return;const e=VT(t),[i,s]=LT(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,e,i,s,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Vh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Zm(Pt.min(),s,new Se(qt),lr(),$t())}}class Vh{constructor(t,e,i,s,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Vh(i,e,$t(),$t(),$t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,e,i,s){this.be=t,this.removedTargetIds=e,this.key=i,this.De=s}}class OC{constructor(t,e){this.targetId=t,this.Ce=e}}class jC{constructor(t,e,i=yn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class UT{constructor(){this.ve=0,this.Fe=zT(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=$t(),e=$t(),i=$t();return this.Fe.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:Rt(38017,{changeType:a})}}),new Vh(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=zT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uV{constructor(t){this.Ge=t,this.ze=new Map,this.je=lr(),this.Je=bf(),this.He=bf(),this.Ye=new Se(qt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((i,s)=>{this.rt(s)&&e(s)})}st(t){const e=t.targetId,i=t.Ce.count,s=this.ot(e);if(s){const a=s.target;if(vy(a))if(i===0){const l=new Tt(a.path);this.et(e,l,Sn.newNoDocument(l,Pt.min()))}else se(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),h=u?this.ct(u,t,l):1;if(h!==0){this.it(e);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=e;let l,u;try{l=ca(i).toUint8Array()}catch(h){if(h instanceof oC)return ql("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Ov(l,s,a)}catch(h){return ql(h instanceof ju?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let s=0;return i.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(u)||(this.et(e,a,null),s++)}),s}Tt(t){const e=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&vy(u.target)){const h=new Tt(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Sn.newNoDocument(h,t))}a.Be&&(e.set(l,a.ke()),a.qe())}});let i=$t();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.je.forEach((a,l)=>l.setReadTime(t));const s=new Zm(t,e,this.Ye,this.je,i);return this.je=lr(),this.Je=bf(),this.He=bf(),this.Ye=new Se(qt),s}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new UT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ze(qt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ze(qt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||vt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new UT),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function bf(){return new Se(Tt.comparator)}function zT(){return new Se(Tt.comparator)}const hV={asc:"ASCENDING",desc:"DESCENDING"},dV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fV={and:"AND",or:"OR"};class mV{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function _y(n,t){return n.useProto3Json||$m(t)?t:{value:t}}function xm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function pV(n,t){return xm(n,t.toTimestamp())}function us(n){return se(!!n,49232),Pt.fromTimestamp(function(e){const i=la(e);return new ye(i.seconds,i.nanos)}(n))}function jv(n,t){return wy(n,t).canonicalString()}function wy(n,t){const e=function(s){return new pe(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function LC(n){const t=pe.fromString(n);return se(HC(t),10190,{key:t.toString()}),t}function Ty(n,t){return jv(n.databaseId,t.path)}function E0(n,t){const e=LC(t);if(e.get(1)!==n.databaseId.projectId)throw new yt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new yt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Tt(zC(e))}function UC(n,t){return jv(n.databaseId,t)}function gV(n){const t=LC(n);return t.length===4?pe.emptyPath():zC(t)}function Sy(n){return new pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zC(n){return se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function BT(n,t,e){return{name:Ty(n,t),fields:e.value.mapValue.fields}}function yV(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Rt(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(se(p===void 0||typeof p=="string",58123),yn.fromBase64String(p||"")):(se(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),yn.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(f){const p=f.code===void 0?lt.UNKNOWN:PC(f.code);return new yt(p,f.message||"")}(l);e=new jC(i,s,a,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=E0(n,i.document.name),a=us(i.document.updateTime),l=i.document.createTime?us(i.document.createTime):Pt.min(),u=new xi({mapValue:{fields:i.document.fields}}),h=Sn.newFoundDocument(s,a,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];e=new Yf(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=E0(n,i.document),a=i.readTime?us(i.readTime):Pt.min(),l=Sn.newNoDocument(s,a),u=i.removedTargetIds||[];e=new Yf([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=E0(n,i.document),a=i.removedTargetIds||[];e=new Yf([],a,s,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new aV(s,a),u=i.targetId;e=new OC(u,l)}}return e}function vV(n,t){let e;if(t instanceof jh)e={update:BT(n,t.key,t.value)};else if(t instanceof Dv)e={delete:Ty(n,t.key)};else if(t instanceof Io)e={update:BT(n,t.key,t.data),updateMask:CV(t.fieldMask)};else{if(!(t instanceof iV))return Rt(16599,{Vt:t.type});e={verify:Ty(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof ym)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof dh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof fh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof vm)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Rt(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:pV(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Rt(27497)}(n,t.precondition)),e}function xV(n,t){return n&&n.length>0?(se(t!==void 0,14353),n.map(e=>function(s,a){let l=s.updateTime?us(s.updateTime):us(a);return l.isEqual(Pt.min())&&(l=us(a)),new tV(l,s.transformResults||[])}(e,t))):[]}function bV(n,t){return{documents:[UC(n,t.path)]}}function _V(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=UC(n,s);const a=function(f){if(f.length!==0)return FC(Li.create(f,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(b){return{field:Rl(b.field),direction:SV(b.dir)}}(p))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=_y(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:e,parent:s}}function wV(n){let t=gV(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){se(i===1,65062);const p=e.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];e.where&&(a=function(v){const b=BC(v);return b instanceof Li&&yC(b)?b.getFilters():[b]}(e.where));let l=[];e.orderBy&&(l=function(v){return v.map(b=>function(S){return new hh(Nl(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(b))}(e.orderBy));let u=null;e.limit&&(u=function(v){let b;return b=typeof v=="object"?v.value:v,$m(b)?null:b}(e.limit));let h=null;e.startAt&&(h=function(v){const b=!!v.before,w=v.values||[];return new gm(w,b)}(e.startAt));let f=null;return e.endAt&&(f=function(v){const b=!v.before,w=v.values||[];return new gm(w,b)}(e.endAt)),B5(t,s,l,a,u,"F",h,f)}function TV(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function BC(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Nl(e.unaryFilter.field);return qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Nl(e.unaryFilter.field);return qe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Nl(e.unaryFilter.field);return qe.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Nl(e.unaryFilter.field);return qe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}}(n):n.fieldFilter!==void 0?function(e){return qe.create(Nl(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Li.create(e.compositeFilter.filters.map(i=>BC(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}}(e.compositeFilter.op))}(n):Rt(30097,{filter:n})}function SV(n){return hV[n]}function EV(n){return dV[n]}function AV(n){return fV[n]}function Rl(n){return{fieldPath:n.canonicalString()}}function Nl(n){return gn.fromServerFormat(n.fieldPath)}function FC(n){return n instanceof qe?function(e){if(e.op==="=="){if(RT(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NAN"}};if(CT(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(RT(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NOT_NAN"}};if(CT(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(e.field),op:EV(e.op),value:e.value}}}(n):n instanceof Li?function(e){const i=e.getFilters().map(s=>FC(s));return i.length===1?i[0]:{compositeFilter:{op:AV(e.op),filters:i}}}(n):Rt(54877,{filter:n})}function CV(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function HC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,e,i,s,a=Pt.min(),l=Pt.min(),u=yn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(t){this.yt=t}}function NV(n){const t=wV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?by(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.Cn=new kV}addToCollectionParentIndex(t,e){return this.Cn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(oa.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(oa.min())}updateCollectionGroup(t,e,i){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class kV{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new Ze(pe.comparator),a=!s.has(i);return this.index[e]=s.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Ze(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qC=41943040;class Bn{static withCacheSize(t){return new Bn(t,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(qC,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wl(0)}static cr(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LruGarbageCollector",MV=1048576;function qT([n,t],[e,i]){const s=qt(n,e);return s===0?qt(t,i):s}class DV{constructor(t){this.Ir=t,this.buffer=new Ze(qT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();qT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class PV{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){vt(HT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){lc(e)?vt(HT,"Ignoring IndexedDB error during garbage collection: ",e):await oc(e)}await this.Vr(3e5)})}}class OV{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return ht.resolve(qm.ce);const i=new DV(e);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(FT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FT):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,s,a,l,u,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(t,s))).next(v=>(i=v,u=Date.now(),this.removeTargets(t,i,e))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(f=Date.now(),Al()<=Ht.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function jV(n,t){return new OV(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.changes=new No(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ht.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&Qu(i.mutation,s,Di.empty(),ye.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,$t()).next(()=>i))}getLocalViewOfDocuments(t,e,i=$t()){const s=co();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(a=>{let l=Ou();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=co();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,$t()))}populateOverlays(t,e,i){const s=[];return i.forEach(a=>{e.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,s){let a=lr();const l=Gu(),u=function(){return Gu()}();return e.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Io)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Qu(p.mutation,f,p.mutation.getFieldMask(),ye.now())):l.set(f.key,Di.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),e.forEach((f,p)=>u.set(f,new LV(p,l.get(f)??null))),u))}recalculateAndSaveOverlays(t,e){const i=Gu();let s=new Se((l,u)=>l-u),a=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=e.get(h);if(f===null)return;let p=i.get(h)||Di.empty();p=u.applyToLocalView(f,p),i.set(h,p);const v=(s.get(u.batchId)||$t()).add(h);s=s.insert(u.batchId,v)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,v=AC();p.forEach(b=>{if(!a.has(b)){const w=MC(e.get(b),i.get(b));w!==null&&v.set(b,w),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,v))}return ht.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return Tt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):_C(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-a.size):ht.resolve(co());let u=oh,h=a;return l.next(f=>ht.forEach(f,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(p)?ht.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{h=h.insert(p,b)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,$t())).next(p=>({batchId:u,changes:EC(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tt(e)).next(i=>{let s=Ou();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const a=e.collectionGroup;let l=Ou();return this.indexManager.getCollectionParents(t,a).next(u=>ht.forEach(u,h=>{const f=function(v,b){return new cc(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((v,b)=>{l=l.insert(v,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,a,s))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Sn.newInvalidDocument(p)))});let u=Ou();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&Qu(p.mutation,f,Di.empty(),ye.now()),Km(e,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ht.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:us(s.createTime)}}(e)),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(s){return{name:s.name,query:NV(s.bundledQuery),readTime:us(s.readTime)}}(e)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.overlays=new Se(Tt.comparator),this.qr=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const i=co();return ht.forEach(e,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,a)=>{this.St(t,e,a)}),ht.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),ht.resolve()}getOverlaysForCollection(t,e,i){const s=co(),a=e.length+1,l=new Tt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ht.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let a=new Se((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=co(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=co(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=s)););return ht.resolve(u)}St(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new rV(e,i));let a=this.qr.get(e);a===void 0&&(a=$t(),this.qr.set(e,a)),this.qr.set(e,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.Qr=new Ze(rn.$r),this.Ur=new Ze(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new rn(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Gr(new rn(t,e))}zr(t,e){t.forEach(i=>this.removeReference(i,e))}jr(t){const e=new Tt(new pe([])),i=new rn(e,t),s=new rn(e,t+1),a=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Tt(new pe([])),i=new rn(e,t),s=new rn(e,t+1);let a=$t();return this.Ur.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new rn(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class rn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Tt.comparator(t.key,e.key)||qt(t.Yr,e.Yr)}static Kr(t,e){return qt(t.Yr,e.Yr)||Tt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(rn.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new sV(a,e,i,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new rn(u.key,a)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ht.resolve(l)}lookupMutationBatch(t,e){return ht.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.ei(i),a=s<0?0:s;return ht.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Cv:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new rn(e,0),s=new rn(e,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,s],l=>{const u=this.Xr(l.Yr);a.push(u)}),ht.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ze(qt);return e.forEach(s=>{const a=new rn(s,0),l=new rn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{i=i.add(u.Yr)})}),ht.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let a=i;Tt.isDocumentKey(a)||(a=a.child(""));const l=new rn(new Tt(a),0);let u=new Ze(qt);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(u=u.add(h.Yr)),!0)},l),ht.resolve(this.ti(u))}ti(t){const e=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){se(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ht.forEach(e.mutations,s=>{const a=new rn(s.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new rn(e,0),s=this.Zr.firstAfterOrEqual(i);return ht.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(t){this.ri=t,this.docs=function(){return new Se(Tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),a=s?s.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ht.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(e))}getEntries(t,e){let i=lr();return e.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Sn.newInvalidDocument(s))}),ht.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let a=lr();const l=e.path,u=new Tt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||x5(v5(p),i)<=0||(s.has(p.key)||Km(e,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ht.resolve(a)}getAllFromCollectionGroup(t,e,i,s){Rt(9500)}ii(t,e){return ht.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new $V(this)}getSize(t){return ht.resolve(this.size)}}class $V extends VV{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),ht.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(t){this.persistence=t,this.si=new No(e=>Iv(e),kv),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Vv,this.targetCount=0,this.ai=Wl.ur()}forEachTarget(t,e){return this.si.forEach((i,s)=>e(s)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),ht.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Wl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.Pr(e),ht.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,i){let s=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),ht.waitFor(a).next(()=>s)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return ht.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),ht.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const s=this.persistence.referenceDelegate,a=[];return s&&e.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),ht.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return ht.resolve(i)}containsKey(t,e){return ht.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t,e){this.ui={},this.overlays={},this.ci=new qm(0),this.li=!1,this.li=!0,this.hi=new FV,this.referenceDelegate=t(this),this.Pi=new GV(this),this.indexManager=new IV,this.remoteDocumentCache=function(s){return new qV(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new RV(e),this.Ii=new zV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new BV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new HV(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){vt("MemoryPersistence","Starting transaction:",t);const s=new QV(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(t,e){return ht.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class QV extends _5{constructor(t){super(),this.currentSequenceNumber=t}}class Lv{constructor(t){this.persistence=t,this.Ri=new Vv,this.Vi=null}static mi(t){return new Lv(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),ht.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,i=>{const s=Tt.fromPath(i);return this.gi(t,s).next(a=>{a||e.removeEntry(s,Pt.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return ht.or([()=>ht.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class bm{constructor(t,e){this.persistence=t,this.pi=new No(i=>S5(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=jV(this,e)}static mi(t,e){return new bm(t,e)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}wr(t){let e=0;return this.pr(t,i=>{e++}).next(()=>e)}pr(t,e){return ht.forEach(this.pi,(i,s)=>this.br(t,i,s).next(a=>a?ht.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,e).next(u=>{u||(i++,a.removeEntry(l,Pt.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ht.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Qf(t.data.value)),e}br(t,e,i){return ht.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return ht.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=s}static As(t,e){let i=$t(),s=$t();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Uv(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return SP()?8:w5(Rn())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,s){const a={result:null};return this.ys(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(t,e,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new WV;return this.Ss(t,e,l).next(u=>{if(a.result=u,this.Vs)return this.bs(t,e,l,u.size)})}).next(()=>a.result)}bs(t,e,i,s){return i.documentReadCount<this.fs?(Al()<=Ht.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",Cl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(Al()<=Ht.DEBUG&&vt("QueryEngine","Query:",Cl(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Al()<=Ht.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",Cl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cs(e))):ht.resolve())}ys(t,e){if(MT(e))return ht.resolve(null);let i=cs(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=by(e,null,"F"),i=cs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=$t(...a);return this.ps.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Ds(e,u);return this.Cs(e,f,l,h.readTime)?this.ys(t,by(e,null,"F")):this.vs(t,f,e,h)}))})))}ws(t,e,i,s){return MT(e)||s.isEqual(Pt.min())?ht.resolve(null):this.ps.getDocuments(t,i).next(a=>{const l=this.Ds(e,a);return this.Cs(e,l,i,s)?ht.resolve(null):(Al()<=Ht.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cl(e)),this.vs(t,l,e,y5(s,oh)).next(u=>u))})}Ds(t,e){let i=new Ze(TC(t));return e.forEach((s,a)=>{Km(t,a)&&(i=i.add(a))}),i}Cs(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(t,e,i){return Al()<=Ht.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",Cl(e)),this.ps.getDocumentsMatchingQuery(t,e,oa.min(),i)}vs(t,e,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="LocalStore",YV=3e8;class XV{constructor(t,e,i,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new Se(qt),this.xs=new No(a=>Iv(a),kv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function ZV(n,t,e,i){return new XV(n,t,e,i)}async function GC(n,t){const e=jt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,e.Bs(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=$t();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return e.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function JV(n,t){const e=jt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=e.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,f,p){const v=f.batch,b=v.keys();let w=ht.resolve();return b.forEach(S=>{w=w.next(()=>p.getEntry(h,S)).next(A=>{const R=f.docVersions.get(S);se(R!==null,48541),A.version.compareTo(R)<0&&(v.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=$t();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function QC(n){const t=jt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function t3(n,t){const e=jt(n),i=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const u=[];t.targetChanges.forEach((p,v)=>{const b=s.get(v);if(!b)return;u.push(e.Pi.removeMatchingKeys(a,p.removedDocuments,v).next(()=>e.Pi.addMatchingKeys(a,p.addedDocuments,v)));let w=b.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(v)!==null?w=w.withResumeToken(yn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),s=s.insert(v,w),function(A,R,I){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=YV?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(b,w,p)&&u.push(e.Pi.updateTargetData(a,w))});let h=lr(),f=$t();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(e3(a,l,t.documentUpdates).next(p=>{h=p.ks,f=p.qs})),!i.isEqual(Pt.min())){const p=e.Pi.getLastRemoteSnapshotVersion(a).next(v=>e.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(p)}return ht.waitFor(u).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(e.Ms=s,a))}function e3(n,t,e){let i=$t(),s=$t();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let l=lr();return e.forEach((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Pt.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):vt(zv,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:s}})}function n3(n,t){const e=jt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Cv),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function i3(n,t){const e=jt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Pi.getTargetData(i,t).next(a=>a?(s=a,ht.resolve(s)):e.Pi.allocateTargetId(i).next(l=>(s=new Kr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i})}async function Ey(n,t,e){const i=jt(n),s=i.Ms.get(t),a=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!lc(l))throw l;vt(zv,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function $T(n,t,e){const i=jt(n);let s=Pt.min(),a=$t();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const v=jt(h),b=v.xs.get(p);return b!==void 0?ht.resolve(v.Ms.get(b)):v.Pi.getTargetData(f,p)}(i,l,cs(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,e?s:Pt.min(),e?a:$t())).next(u=>(s3(i,H5(t),u),{documents:u,Qs:a})))}function s3(n,t,e){let i=n.Os.get(t)||Pt.min();e.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Os.set(t,i)}class GT{constructor(){this.activeTargetIds=K5()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class r3{constructor(){this.Mo=new GT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new GT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="ConnectivityMonitor";class WT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){vt(QT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){vt(QT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f=null;function Ay(){return _f===null?_f=function(){return 268435456+Math.round(2147483648*Math.random())}():_f++,"0x"+_f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="RestConnection",o3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l3{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===mm?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,e,i,s,a){const l=Ay(),u=this.zo(t,e.toUriEncodedString());vt(A0,`Sending RPC '${t}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:f}=new URL(u),p=ic(f);return this.Jo(t,u,h,i,p).then(v=>(vt(A0,`Received RPC '${t}' ${l}: `,v),v),v=>{throw ql(A0,`RPC '${t}' ${l} failed with error: `,v,"url: ",u,"request:",i),v})}Ho(t,e,i,s,a,l){return this.Go(t,e,i,s,a)}jo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}zo(t,e){const i=o3[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class u3 extends l3{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,s,a){const l=Ay();return new Promise((u,h)=>{const f=new YA;f.setWithCredentials(!0),f.listenOnce(XA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Gf.NO_ERROR:const v=f.getResponseJson();vt(_n,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(v)),u(v);break;case Gf.TIMEOUT:vt(_n,`RPC '${t}' ${l} timed out`),h(new yt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Gf.HTTP_ERROR:const b=f.getStatus();if(vt(_n,`RPC '${t}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w?.error;if(S&&S.status&&S.message){const A=function(I){const B=I.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(B)>=0?B:lt.UNKNOWN}(S.status);h(new yt(A,S.message))}else h(new yt(lt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new yt(lt.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{vt(_n,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);vt(_n,`RPC '${t}' ${l} sending request:`,s),f.send(e,"POST",p,i,15)})}T_(t,e,i){const s=Ay(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=tC(),u=JA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const p=a.join("");vt(_n,`Creating RPC '${t}' stream ${s}: ${p}`,h);const v=l.createWebChannel(p,h);this.I_(v);let b=!1,w=!1;const S=new c3({Yo:R=>{w?vt(_n,`Not sending because RPC '${t}' stream ${s} is closed:`,R):(b||(vt(_n,`Opening RPC '${t}' stream ${s} transport.`),v.open(),b=!0),vt(_n,`RPC '${t}' stream ${s} sending:`,R),v.send(R))},Zo:()=>v.close()}),A=(R,I,B)=>{R.listen(I,F=>{try{B(F)}catch(Y){setTimeout(()=>{throw Y},0)}})};return A(v,Pu.EventType.OPEN,()=>{w||(vt(_n,`RPC '${t}' stream ${s} transport opened.`),S.o_())}),A(v,Pu.EventType.CLOSE,()=>{w||(w=!0,vt(_n,`RPC '${t}' stream ${s} transport closed`),S.a_(),this.E_(v))}),A(v,Pu.EventType.ERROR,R=>{w||(w=!0,ql(_n,`RPC '${t}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new yt(lt.UNAVAILABLE,"The operation could not be completed")))}),A(v,Pu.EventType.MESSAGE,R=>{if(!w){const I=R.data[0];se(!!I,16349);const B=I,F=B?.error||B[0]?.error;if(F){vt(_n,`RPC '${t}' stream ${s} received error:`,F);const Y=F.status;let H=function(C){const M=Fe[C];if(M!==void 0)return PC(M)}(Y),G=F.message;H===void 0&&(H=lt.INTERNAL,G="Unknown error status: "+Y+" with message "+F.message),w=!0,S.a_(new yt(H,G)),v.close()}else vt(_n,`RPC '${t}' stream ${s} received:`,I),S.u_(I)}}),A(u,ZA.STAT_EVENT,R=>{R.stat===fy.PROXY?vt(_n,`RPC '${t}' stream ${s} detected buffering proxy`):R.stat===fy.NOPROXY&&vt(_n,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function C0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n){return new mV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,e,i=1e3,s=1.5,a=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-i);s>0&&vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="PersistentStream";class KC{constructor(t,e,i,s,a,l,u,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WC(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===lt.RESOURCE_EXHAUSTED?(or(e.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===e&&this.G_(i,s)},i=>{t(()=>{const s=new yt(lt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return vt(KT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(vt(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h3 extends KC{constructor(t,e,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=yV(this.serializer,t),i=function(a){if(!("targetChange"in a))return Pt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Pt.min():l.readTime?us(l.readTime):Pt.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Sy(this.serializer),e.addTarget=function(a,l){let u;const h=l.target;if(u=vy(h)?{documents:bV(a,h)}:{query:_V(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=VC(a,l.resumeToken);const f=_y(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Pt.min())>0){u.readTime=xm(a,l.snapshotVersion.toTimestamp());const f=_y(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,t);const i=TV(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Sy(this.serializer),e.removeTarget=t,this.q_(e)}}class d3 extends KC{constructor(t,e,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return se(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,se(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){se(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=xV(t.writeResults,t.commitTime),i=us(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Sy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>vV(this.serializer,i))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{}class m3 extends f3{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new yt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(t,wy(e,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new yt(lt.UNKNOWN,a.toString())})}Ho(t,e,i,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(t,wy(e,i),s,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(lt.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class p3{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(e),this.aa=!1):vt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class g3{constructor(t,e,i,s,a){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{ko(this)&&(vt(Ao,"Restarting streams for network reachability change."),await async function(h){const f=jt(h);f.Ea.add(4),await Lh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await tp(f)}(this))})}),this.Ra=new p3(i,s)}}async function tp(n){if(ko(n))for(const t of n.da)await t(!0)}async function Lh(n){for(const t of n.da)await t(!1)}function YC(n,t){const e=jt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),qv(e)?Hv(e):uc(e).O_()&&Fv(e,t))}function Bv(n,t){const e=jt(n),i=uc(e);e.Ia.delete(t),i.O_()&&XC(e,t),e.Ia.size===0&&(i.O_()?i.L_():ko(e)&&e.Ra.set("Unknown"))}function Fv(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}uc(n).Y_(t)}function XC(n,t){n.Va.Ue(t),uc(n).Z_(t)}function Hv(n){n.Va=new uV({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),uc(n).start(),n.Ra.ua()}function qv(n){return ko(n)&&!uc(n).x_()&&n.Ia.size>0}function ko(n){return jt(n).Ea.size===0}function ZC(n){n.Va=void 0}async function y3(n){n.Ra.set("Online")}async function v3(n){n.Ia.forEach((t,e)=>{Fv(n,t)})}async function x3(n,t){ZC(n),qv(n)?(n.Ra.ha(t),Hv(n)):n.Ra.set("Unknown")}async function b3(n,t,e){if(n.Ra.set("Online"),t instanceof jC&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))}(n,t)}catch(i){vt(Ao,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await _m(n,i)}else if(t instanceof Yf?n.Va.Ze(t):t instanceof OC?n.Va.st(t):n.Va.tt(t),!e.isEqual(Pt.min()))try{const i=await QC(n.localStore);e.compareTo(i)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ia.get(f);p&&a.Ia.set(f,p.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const p=a.Ia.get(h);if(!p)return;a.Ia.set(h,p.withResumeToken(yn.EMPTY_BYTE_STRING,p.snapshotVersion)),XC(a,h);const v=new Kr(p.target,h,f,p.sequenceNumber);Fv(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){vt(Ao,"Failed to raise snapshot:",i),await _m(n,i)}}async function _m(n,t,e){if(!lc(t))throw t;n.Ea.add(1),await Lh(n),n.Ra.set("Offline"),e||(e=()=>QC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{vt(Ao,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await tp(n)})}function JC(n,t){return t().catch(e=>_m(n,e,t))}async function ep(n){const t=jt(n),e=ha(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cv;for(;_3(t);)try{const s=await n3(t.localStore,i);if(s===null){t.Ta.length===0&&e.L_();break}i=s.batchId,w3(t,s)}catch(s){await _m(t,s)}tR(t)&&eR(t)}function _3(n){return ko(n)&&n.Ta.length<10}function w3(n,t){n.Ta.push(t);const e=ha(n);e.O_()&&e.X_&&e.ea(t.mutations)}function tR(n){return ko(n)&&!ha(n).x_()&&n.Ta.length>0}function eR(n){ha(n).start()}async function T3(n){ha(n).ra()}async function S3(n){const t=ha(n);for(const e of n.Ta)t.ea(e.mutations)}async function E3(n,t,e){const i=n.Ta.shift(),s=Pv.from(i,t,e);await JC(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ep(n)}async function A3(n,t){t&&ha(n).X_&&await async function(i,s){if(function(l){return oV(l)&&l!==lt.ABORTED}(s.code)){const a=i.Ta.shift();ha(i).B_(),await JC(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await ep(i)}}(n,t),tR(n)&&eR(n)}async function YT(n,t){const e=jt(n);e.asyncQueue.verifyOperationInProgress(),vt(Ao,"RemoteStore received new credentials");const i=ko(e);e.Ea.add(3),await Lh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await tp(e)}async function C3(n,t){const e=jt(n);t?(e.Ea.delete(2),await tp(e)):t||(e.Ea.add(2),await Lh(e),e.Ra.set("Unknown"))}function uc(n){return n.ma||(n.ma=function(e,i,s){const a=jt(e);return a.sa(),new h3(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:y3.bind(null,n),t_:v3.bind(null,n),r_:x3.bind(null,n),H_:b3.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),qv(n)?Hv(n):n.Ra.set("Unknown")):(await n.ma.stop(),ZC(n))})),n.ma}function ha(n){return n.fa||(n.fa=function(e,i,s){const a=jt(e);return a.sa(),new d3(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:T3.bind(null,n),r_:A3.bind(null,n),ta:S3.bind(null,n),na:E3.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await ep(n)):(await n.fa.stop(),n.Ta.length>0&&(vt(Ao,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,e,i,s,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,a){const l=Date.now()+i,u=new $v(t,e,l,s,a);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(n,t){if(or("AsyncQueue",`${t}: ${n}`),lc(n))return new yt(lt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static emptySet(t){return new Ll(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Tt.comparator(e.key,i.key):(e,i)=>Tt.comparator(e.key,i.key),this.keyedMap=Ou(),this.sortedSet=new Se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ll)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Ll;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.ga=new Se(Tt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class Kl{constructor(t,e,i,s,a,l,u,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,s,a){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Kl(t,e,Ll.emptySet(e),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class N3{constructor(){this.queries=ZT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const s=jt(e),a=s.queries;s.queries=ZT(),a.forEach((l,u)=>{for(const h of u.Sa)h.onError(i)})})(this,new yt(lt.ABORTED,"Firestore shutting down"))}}function ZT(){return new No(n=>wC(n),Wm)}async function Qv(n,t){const e=jt(n);let i=3;const s=t.query;let a=e.queries.get(s);a?!a.ba()&&t.Da()&&(i=2):(a=new R3,i=t.Da()?0:1);try{switch(i){case 0:a.wa=await e.onListen(s,!0);break;case 1:a.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const u=Gv(l,`Initialization of query '${Cl(t.query)}' failed`);return void t.onError(u)}e.queries.set(s,a),a.Sa.push(t),t.va(e.onlineState),a.wa&&t.Fa(a.wa)&&Kv(e)}async function Wv(n,t){const e=jt(n),i=t.query;let s=3;const a=e.queries.get(i);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=t.Da()?0:1:!a.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function I3(n,t){const e=jt(n);let i=!1;for(const s of t){const a=s.query,l=e.queries.get(a);if(l){for(const u of l.Sa)u.Fa(s)&&(i=!0);l.wa=s}}i&&Kv(e)}function k3(n,t,e){const i=jt(n),s=i.queries.get(t);if(s)for(const a of s.Sa)a.onError(e);i.queries.delete(t)}function Kv(n){n.Ca.forEach(t=>{t.next()})}var Cy,JT;(JT=Cy||(Cy={})).Ma="default",JT.Cache="cache";class Yv{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Kl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Kl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.key=t}}class iR{constructor(t){this.key=t}}class M3{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=TC(t),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new XT,s=e?e.tu:this.tu;let a=e?e.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,v)=>{const b=s.get(p),w=Km(this.query,v)?v:null,S=!!b&&this.mutatedKeys.has(b.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;b&&w?b.data.isEqual(w.data)?S!==A&&(i.track({type:3,doc:w}),R=!0):this.su(b,w)||(i.track({type:2,doc:w}),R=!0,(h&&this.eu(w,h)>0||f&&this.eu(w,f)<0)&&(u=!0)):!b&&w?(i.track({type:0,doc:w}),R=!0):b&&!w&&(i.track({type:1,doc:b}),R=!0,(h||f)&&(u=!0)),R&&(w?(l=l.add(w),a=A?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:u,mutatedKeys:a}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((p,v)=>function(w,S){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:R})}};return A(w)-A(S)}(p.type,v.type)||this.eu(p.doc,v.doc)),this.ou(i),s=s??!1;const u=e&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Kl(this.query,t.tu,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=$t(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const e=[];return t.forEach(i=>{this.Xa.has(i)||e.push(new iR(i))}),this.Xa.forEach(i=>{t.has(i)||e.push(new nR(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=$t();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xv="SyncEngine";class D3{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class P3{constructor(t){this.key=t,this.hu=!1}}class O3{constructor(t,e,i,s,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new No(u=>wC(u),Wm),this.Iu=new Map,this.Eu=new Set,this.du=new Se(Tt.comparator),this.Au=new Map,this.Ru=new Vv,this.Vu={},this.mu=new Map,this.fu=Wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j3(n,t,e=!0){const i=cR(n);let s;const a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await sR(i,t,e,!0),s}async function V3(n,t){const e=cR(n);await sR(e,t,!0,!1)}async function sR(n,t,e,i){const s=await i3(n.localStore,cs(t)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let u;return i&&(u=await L3(n,t,a,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&YC(n.remoteStore,s),u}async function L3(n,t,e,i,s){n.pu=(v,b,w)=>async function(A,R,I,B){let F=R.view.ru(I);F.Cs&&(F=await $T(A.localStore,R.query,!1).then(({documents:k})=>R.view.ru(k,F)));const Y=B&&B.targetChanges.get(R.targetId),H=B&&B.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(F,A.isPrimaryClient,Y,H);return eS(A,R.targetId,G.au),G.snapshot}(n,v,b,w);const a=await $T(n.localStore,t,!0),l=new M3(t,a.Qs),u=l.ru(a.documents),h=Vh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),f=l.applyChanges(u,n.isPrimaryClient,h);eS(n,e,f.au);const p=new D3(t,e,l);return n.Tu.set(t,p),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function U3(n,t,e){const i=jt(n),s=i.Tu.get(t),a=i.Iu.get(s.targetId);if(a.length>1)return i.Iu.set(s.targetId,a.filter(l=>!Wm(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Ey(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&Bv(i.remoteStore,s.targetId),Ry(i,s.targetId)}).catch(oc)):(Ry(i,s.targetId),await Ey(i.localStore,s.targetId,!0))}async function z3(n,t){const e=jt(n),i=e.Tu.get(t),s=e.Iu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Bv(e.remoteStore,i.targetId))}async function B3(n,t,e){const i=W3(n);try{const s=await function(l,u){const h=jt(l),f=ye.now(),p=u.reduce((w,S)=>w.add(S.key),$t());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=lr(),A=$t();return h.Ns.getEntries(w,p).next(R=>{S=R,S.forEach((I,B)=>{B.isValidDocument()||(A=A.add(I))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,S)).next(R=>{v=R;const I=[];for(const B of u){const F=nV(B,v.get(B.key).overlayedDocument);F!=null&&I.push(new Io(B.key,F,mC(F.value.mapValue),Vi.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,I,u)}).next(R=>{b=R;const I=R.applyToLocalDocumentSet(v,A);return h.documentOverlayCache.saveOverlays(w,R.batchId,I)})}).then(()=>({batchId:b.batchId,changes:EC(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new Se(qt)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f}(i,s.batchId,e),await Uh(i,s.changes),await ep(i.remoteStore)}catch(s){const a=Gv(s,"Failed to persist write");e.reject(a)}}async function rR(n,t){const e=jt(n);try{const i=await t3(e.localStore,t);t.targetChanges.forEach((s,a)=>{const l=e.Au.get(a);l&&(se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?se(l.hu,14607):s.removedDocuments.size>0&&(se(l.hu,42227),l.hu=!1))}),await Uh(e,i,t)}catch(i){await oc(i)}}function tS(n,t,e){const i=jt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.Tu.forEach((a,l)=>{const u=l.view.va(t);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=jt(l);h.onlineState=u;let f=!1;h.queries.forEach((p,v)=>{for(const b of v.Sa)b.va(u)&&(f=!0)}),f&&Kv(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function F3(n,t,e){const i=jt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Au.get(t),a=s&&s.key;if(a){let l=new Se(Tt.comparator);l=l.insert(a,Sn.newNoDocument(a,Pt.min()));const u=$t().add(a),h=new Zm(Pt.min(),new Map,new Se(qt),l,u);await rR(i,h),i.du=i.du.remove(a),i.Au.delete(t),Zv(i)}else await Ey(i.localStore,t,!1).then(()=>Ry(i,t,e)).catch(oc)}async function H3(n,t){const e=jt(n),i=t.batch.batchId;try{const s=await JV(e.localStore,t);oR(e,i,null),aR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Uh(e,s)}catch(s){await oc(s)}}async function q3(n,t,e){const i=jt(n);try{const s=await function(l,u){const h=jt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next(v=>(se(v!==null,37113),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,t);oR(i,t,e),aR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Uh(i,s)}catch(s){await oc(s)}}function aR(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function oR(n,t,e){const i=jt(n);let s=i.Vu[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(e?a.reject(e):a.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function Ry(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(i=>{n.Ru.containsKey(i)||lR(n,i)})}function lR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Bv(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Zv(n))}function eS(n,t,e){for(const i of e)i instanceof nR?(n.Ru.addReference(i.key,t),$3(n,i)):i instanceof iR?(vt(Xv,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||lR(n,i.key)):Rt(19791,{wu:i})}function $3(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(vt(Xv,"New document in limbo: "+e),n.Eu.add(i),Zv(n))}function Zv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Tt(pe.fromString(t)),i=n.fu.next();n.Au.set(i,new P3(e)),n.du=n.du.insert(e,i),YC(n.remoteStore,new Kr(cs(Qm(e.path)),i,"TargetPurposeLimboResolution",qm.ce))}}async function Uh(n,t,e){const i=jt(n),s=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((u,h)=>{l.push(i.pu(h,t,e).then(f=>{if((f||e)&&i.isPrimaryClient){const p=f?!f.fromCache:e?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,p?"current":"not-current")}if(f){s.push(f);const p=Uv.As(h.targetId,f);a.push(p)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,f){const p=jt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ht.forEach(f,b=>ht.forEach(b.Es,w=>p.persistence.referenceDelegate.addReference(v,b.targetId,w)).next(()=>ht.forEach(b.ds,w=>p.persistence.referenceDelegate.removeReference(v,b.targetId,w)))))}catch(v){if(!lc(v))throw v;vt(zv,"Failed to update sequence numbers: "+v)}for(const v of f){const b=v.targetId;if(!v.fromCache){const w=p.Ms.get(b),S=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(b,A)}}}(i.localStore,a))}async function G3(n,t){const e=jt(n);if(!e.currentUser.isEqual(t)){vt(Xv,"User change. New user:",t.toKey());const i=await GC(e.localStore,t);e.currentUser=t,function(a,l){a.mu.forEach(u=>{u.forEach(h=>{h.reject(new yt(lt.CANCELLED,l))})}),a.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Uh(e,i.Ls)}}function Q3(n,t){const e=jt(n),i=e.Au.get(t);if(i&&i.hu)return $t().add(i.key);{let s=$t();const a=e.Iu.get(t);if(!a)return s;for(const l of a){const u=e.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function cR(n){const t=jt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=rR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=F3.bind(null,t),t.Pu.H_=I3.bind(null,t.eventManager),t.Pu.yu=k3.bind(null,t.eventManager),t}function W3(n){const t=jt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=H3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=q3.bind(null,t),t}class wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return ZV(this.persistence,new KV,t.initialUser,this.serializer)}Cu(t){return new $C(Lv.mi,this.serializer)}Du(t){return new r3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wm.provider={build:()=>new wm};class K3 extends wm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){se(this.persistence.referenceDelegate instanceof bm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new PV(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new $C(i=>bm.mi(i,e),this.serializer)}}class Ny{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=G3.bind(null,this.syncEngine),await C3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new N3}()}createDatastore(t){const e=Jm(t.databaseInfo.databaseId),i=function(a){return new u3(a)}(t.databaseInfo);return function(a,l,u,h){return new m3(a,l,u,h)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,a,l,u){return new g3(i,s,a,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>tS(this.syncEngine,e,0),function(){return WT.v()?new WT:new a3}())}createSyncEngine(t,e){return function(s,a,l,u,h,f,p){const v=new O3(s,a,l,u,h,f);return p&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const i=jt(e);vt(Ao,"RemoteStore shutting down."),i.Ea.add(5),await Lh(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ny.provider={build:()=>new Ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):or("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class Y3{constructor(t,e,i,s,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=Av.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{vt(da,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(vt(da,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Gv(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function R0(n,t){n.asyncQueue.verifyOperationInProgress(),vt(da,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await GC(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function nS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await X3(n);vt(da,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>YT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>YT(t.remoteStore,s)),n._onlineComponents=t}async function X3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){vt(da,"Using user provided OfflineComponentProvider");try{await R0(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===lt.FAILED_PRECONDITION||s.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;ql("Error using user provided cache. Falling back to memory cache: "+e),await R0(n,new wm)}}else vt(da,"Using default OfflineComponentProvider"),await R0(n,new K3(void 0));return n._offlineComponents}async function uR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(vt(da,"Using user provided OnlineComponentProvider"),await nS(n,n._uninitializedComponentsProvider._online)):(vt(da,"Using default OnlineComponentProvider"),await nS(n,new Ny))),n._onlineComponents}function Z3(n){return uR(n).then(t=>t.syncEngine)}async function Tm(n){const t=await uR(n),e=t.eventManager;return e.onListen=j3.bind(null,t.syncEngine),e.onUnlisten=U3.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=V3.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=z3.bind(null,t.syncEngine),e}function J3(n,t,e={}){const i=new ir;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const p=new Jv({next:b=>{p.Nu(),l.enqueueAndForget(()=>Wv(a,v));const w=b.docs.has(u);!w&&b.fromCache?f.reject(new yt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&h&&h.source==="server"?f.reject(new yt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new Yv(Qm(u.path),p,{includeMetadataChanges:!0,qa:!0});return Qv(a,v)}(await Tm(n),n.asyncQueue,t,e,i)),i.promise}function t6(n,t,e={}){const i=new ir;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const p=new Jv({next:b=>{p.Nu(),l.enqueueAndForget(()=>Wv(a,v)),b.fromCache&&h.source==="server"?f.reject(new yt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new Yv(u,p,{includeMetadataChanges:!0,qa:!0});return Qv(a,v)}(await Tm(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firestore.googleapis.com",sS=!0;class rS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dR,this.ssl=sS}else this.host=t.host,this.ssl=t.ssl??sS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MV)throw new yt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}g5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hR(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class np{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new a5;switch(i.type){case"firstParty":return new u5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new yt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=iS.get(e);i&&(vt("ComponentProvider","Removing Datastore"),iS.delete(e),i.terminate())}(this),Promise.resolve()}}function e6(n,t,e,i={}){n=_i(n,np);const s=ic(t),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;s&&(oA(`https://${u}`),lA("Firestore",!0)),a.host!==dR&&a.host!==u&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:s,emulatorOptions:i};if(!_o(h,l)&&(n._setSettings(h),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Tn.MOCK_USER;else{f=pP(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new yt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Tn(v)}n._authCredentials=new o5(new nC(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new xa(this.firestore,t,this._query)}}class Oe{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Oh(e,Oe._jsonSchema))return new Oe(t,i||null,new Tt(pe.fromString(e.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:$e("string",Oe._jsonSchemaVersion),referencePath:$e("string")};class sa extends xa{constructor(t,e,i){super(t,e,Qm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new Tt(t))}withConverter(t){return new sa(this.firestore,t,this._path)}}function ln(n,t,...e){if(n=Nn(n),iC("collection","path",t),n instanceof np){const i=pe.fromString(t,...e);return vT(i),new sa(n,null,i)}{if(!(n instanceof Oe||n instanceof sa))throw new yt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pe.fromString(t,...e));return vT(i),new sa(n.firestore,null,i)}}function an(n,t,...e){if(n=Nn(n),arguments.length===1&&(t=Av.newId()),iC("doc","path",t),n instanceof np){const i=pe.fromString(t,...e);return yT(i),new Oe(n,null,new Tt(i))}{if(!(n instanceof Oe||n instanceof sa))throw new yt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pe.fromString(t,...e));return yT(i),new Oe(n.firestore,n instanceof sa?n.converter:null,new Tt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="AsyncQueue";class oS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WC(this,"async_queue_retry"),this._c=()=>{const i=C0();i&&vt(aS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=C0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=C0();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new ir;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!lc(t))throw t;vt(aS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",lS(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=$v.createAndSchedule(this,t,e,i,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Rt(47125,{Pc:lS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function lS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const s=e;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class fa extends np{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new oS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new oS(t),this._firestoreClient=void 0,await t}}}function n6(n,t){const e=dA(),i=mm,s=mv(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=fP("firestore");a&&e6(s,...a)}return s}function ip(n){if(n._terminated)throw new yt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||i6(n),n._firestoreClient}function i6(n){const t=n._freezeSettings(),e=function(s,a,l,u){return new C5(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,hR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Y3(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bi(yn.fromBase64String(t))}catch(e){throw new yt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new bi(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Oh(t,bi._jsonSchema))return bi.fromBase64String(t.bytes)}}bi._jsonSchemaVersion="firestore/bytes/1.0",bi._jsonSchema={type:$e("string",bi._jsonSchemaVersion),bytes:$e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(t){if(Oh(t,hs._jsonSchema))return new hs(t.latitude,t.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:$e("string",hs._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Oh(t,ds._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new ds(t.vectorValues);throw new yt(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:$e("string",ds._jsonSchemaVersion),vectorValues:$e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=/^__.*__$/;class r6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Io(t,this.data,this.fieldMask,e,this.fieldTransforms):new jh(t,this.data,e,this.fieldTransforms)}}function mR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:n})}}class ex{constructor(t,e,i,s,a,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ex({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Sm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(mR(this.Ac)&&s6.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class a6{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Jm(t)}Cc(t,e,i,s=!1){return new ex({Ac:t,methodName:e,Dc:i,path:gn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nx(n){const t=n._freezeSettings(),e=Jm(n._databaseId);return new a6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function pR(n,t,e,i,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,t,e,s);vR("Data must be an object, but it was:",l,i);const u=gR(i,l);let h,f;if(a.merge)h=new Di(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const v of a.mergeFields){const b=l6(t,v,e);if(!l.contains(b))throw new yt(lt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);u6(p,b)||p.push(b)}h=new Di(p),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new r6(new xi(u),h,f)}function o6(n,t,e,i=!1){return ix(e,n.Cc(i?4:3,t))}function ix(n,t){if(yR(n=Nn(n)))return vR("Unsupported field value:",t,n),gR(n,t);if(n instanceof fR)return function(i,s){if(!mR(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const u of i){let h=ix(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,t)}return function(i,s){if((i=Nn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Y5(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=ye.fromDate(i);return{timestampValue:xm(s.serializer,a)}}if(i instanceof ye){const a=new ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xm(s.serializer,a)}}if(i instanceof hs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof bi)return{bytesValue:VC(s.serializer,i._byteString)};if(i instanceof Oe){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:jv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ds)return function(l,u){return{mapValue:{fields:{[dC]:{stringValue:fC},[pm]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return Mv(u.serializer,f)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${Hm(i)}`)}(n,t)}function gR(n,t){const e={};return aC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ro(n,(i,s)=>{const a=ix(s,t.mc(i));a!=null&&(e[i]=a)}),{mapValue:{fields:e}}}function yR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ye||n instanceof hs||n instanceof bi||n instanceof Oe||n instanceof fR||n instanceof ds)}function vR(n,t,e){if(!yR(e)||!sC(e)){const i=Hm(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function l6(n,t,e){if((t=Nn(t))instanceof tx)return t._internalPath;if(typeof t=="string")return xR(n,t);throw Sm("Field path arguments must be of type string or ",n,!1,void 0,e)}const c6=new RegExp("[~\\*/\\[\\]]");function xR(n,t,e){if(t.search(c6)>=0)throw Sm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new tx(...t.split("."))._internalPath}catch{throw Sm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Sm(n,t,e,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new yt(lt.INVALID_ARGUMENT,u+n+h)}function u6(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,e,i,s,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new h6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(sx("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class h6 extends bR{data(){return super.data()}}function sx(n,t){return typeof t=="string"?xR(n,t):t instanceof tx?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rx{}class wR extends rx{}function Yr(n,t,...e){let i=[];t instanceof rx&&i.push(t),i=i.concat(e),function(a){const l=a.filter(h=>h instanceof ox).length,u=a.filter(h=>h instanceof ax).length;if(l>1||l>0&&u>0)throw new yt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class ax extends wR{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new ax(t,e,i)}_apply(t){const e=this._parse(t);return TR(t._query,e),new xa(t.firestore,t.converter,xy(t._query,e))}_parse(t){const e=nx(t.firestore);return function(a,l,u,h,f,p,v){let b;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new yt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){hS(v,p);const S=[];for(const A of v)S.push(uS(h,a,A));b={arrayValue:{values:S}}}else b=uS(h,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||hS(v,p),b=o6(u,l,v,p==="in"||p==="not-in");return qe.create(f,p,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class ox extends rx{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ox(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Li.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,a){let l=s;const u=a.getFlattenedFilters();for(const h of u)TR(l,h),l=xy(l,h)}(t._query,e),new xa(t.firestore,t.converter,xy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lx extends wR{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new lx(t,e)}_apply(t){const e=function(s,a,l){if(s.startAt!==null)throw new yt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new yt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hh(a,l)}(t._query,this._field,this._direction);return new xa(t.firestore,t.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new cc(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,e))}}function d6(n,t="asc"){const e=t,i=sx("orderBy",n);return lx._create(i,e)}function uS(n,t,e){if(typeof(e=Nn(e))=="string"){if(e==="")throw new yt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_C(t)&&e.indexOf("/")!==-1)throw new yt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(pe.fromString(e));if(!Tt.isDocumentKey(i))throw new yt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return AT(n,new Tt(i))}if(e instanceof Oe)return AT(n,e._key);throw new yt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(e)}.`)}function hS(n,t){if(!Array.isArray(n)||n.length===0)throw new yt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function TR(n,t){const e=function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new yt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class f6{convertValue(t,e="none"){switch(ua(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ro(t,(s,a)=>{i[s]=this.convertValue(a,e)}),i}convertVectorValue(t){const e=t.fields?.[pm].arrayValue?.values?.map(i=>Pe(i.doubleValue));return new ds(e)}convertGeoPoint(t){return new hs(Pe(t.latitude),Pe(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Gm(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(lh(t));default:return null}}convertTimestamp(t){const e=la(t);return new ye(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=pe.fromString(t);se(HC(i),9688,{name:t});const s=new ch(i.get(1),i.get(3)),a=new Tt(i.popFirst(5));return s.isEqual(e)||or(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Vu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class go extends bR{constructor(t,e,i,s,a,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(sx("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=go._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}go._jsonSchemaVersion="firestore/documentSnapshot/1.0",go._jsonSchema={type:$e("string",go._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class Xf extends go{data(t={}){return super.data(t)}}class yo{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Vu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Xf(this._firestore,this._userDataWriter,i.key,i,new Vu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const h=new Xf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Vu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new Xf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Vu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:m6(u.type),doc:h,oldIndex:f,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=yo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Av.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(e.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function m6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(n){n=_i(n,Oe);const t=_i(n.firestore,fa);return J3(ip(t),n._key).then(e=>CR(t,n,e))}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:$e("string",yo._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class cx extends f6{constructor(t){super(),this.firestore=t}convertBytes(t){return new bi(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,e)}}function Pi(n){n=_i(n,xa);const t=_i(n.firestore,fa),e=ip(t),i=new cx(t);return _R(n._query),t6(e,n._query).then(s=>new yo(t,i,n,s))}function Wu(n,t,e){n=_i(n,Oe);const i=_i(n.firestore,fa),s=SR(n.converter,t,e);return ux(i,[pR(nx(i),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,Vi.none())])}function ER(n){return ux(_i(n.firestore,fa),[new Dv(n._key,Vi.none())])}function AR(n,t){const e=_i(n.firestore,fa),i=an(n),s=SR(n.converter,t);return ux(e,[pR(nx(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Vi.exists(!1))]).then(()=>i)}function En(n,...t){n=Nn(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||cS(t[i])||(e=t[i++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(cS(t[i])){const h=t[i];t[i]=h.next?.bind(h),t[i+1]=h.error?.bind(h),t[i+2]=h.complete?.bind(h)}let a,l,u;if(n instanceof Oe)l=_i(n.firestore,fa),u=Qm(n._key.path),a={next:h=>{t[i]&&t[i](CR(l,n,h))},error:t[i+1],complete:t[i+2]};else{const h=_i(n,xa);l=_i(h.firestore,fa),u=h._query;const f=new cx(l);a={next:p=>{t[i]&&t[i](new yo(l,f,h,p))},error:t[i+1],complete:t[i+2]},_R(n._query)}return function(f,p,v,b){const w=new Jv(b),S=new Yv(p,w,v);return f.asyncQueue.enqueueAndForget(async()=>Qv(await Tm(f),S)),()=>{w.Nu(),f.asyncQueue.enqueueAndForget(async()=>Wv(await Tm(f),S))}}(ip(l),u,s,a)}function ux(n,t){return function(i,s){const a=new ir;return i.asyncQueue.enqueueAndForget(async()=>B3(await Z3(i),s,a)),a.promise}(ip(n),t)}function CR(n,t,e){const i=e.docs.get(t._key),s=new cx(n);return new go(n,s,t._key,i,new Vu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(s){ac=s})(sc),Fl(new wo("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new fa(new l5(i.getProvider("auth-internal")),new h5(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new yt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ch(f.options.projectId,p)}(l,s),l);return a={useFetchStreams:e,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),na(fT,mT,t),na(fT,mT,"esm2020")})();const g6={apiKey:"AIzaSyBP_0D3EoXJwo2z8BPovx1CKRta3R88Zns",authDomain:"myquiz-23c65.firebaseapp.com",databaseURL:"https://myquiz-23c65-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"myquiz-23c65",storageBucket:"myquiz-23c65.firebasestorage.app",messagingSenderId:"256387568233",appId:"1:256387568233:web:a6fe4234585981ea2908f8",measurementId:"G-NW3ENQJDDJ"},RR=hA(g6),Yt=n6(),hc=WA(RR),NR="/quiz/assets/LogoImage-DW971Bk1.jpg",y6=()=>{const n=On(),[t,e]=O.useState(""),[i,s]=O.useState(""),[a,l]=O.useState(""),[u,h]=O.useState(""),[f,p]=O.useState(""),[v,b]=O.useState(!1),[w,S]=O.useState(!1),[A,R]=O.useState(!1),I=WA(RR),B=new Zs,F=()=>{S(!0),setTimeout(()=>{b(!v),p(""),S(!1)},300)},Y=async G=>{if(G.preventDefault(),R(!0),p(""),v){if(i!==a){p("Passwords don't match"),R(!1);return}if(i.length<6){p("Password should be at least 6 characters"),R(!1);return}try{const C=(await zO(I,t,i)).user;await HO(C,{nickname:u}),await Wu(an(Yt,"users",C.uid),{uid:C.uid,nickname:u,email:C.email,createdAt:new Date,lastLogin:new Date}),console.log("Sign up successful"),n("/Home")}catch(k){console.error("Sign up error:",k),p(k.message)}}else try{const C=(await BO(I,t,i)).user;await Wu(an(Yt,"users",C.uid),{lastLogin:new Date},{merge:!0}),console.log("Login successful"),n("/Home")}catch(k){console.error("Login error:",k),p(k.message)}R(!1)},H=async()=>{R(!0),p("");try{const k=(await dj(I,B)).user;await Wu(an(Yt,"users",k.uid),{uid:k.uid,nickname:k.nickname,email:k.email,photoURL:k.photoURL,createdAt:new Date,lastLogin:new Date,provider:"google"},{merge:!0}),console.log("Google authentication successful"),n("/Home")}catch(G){console.error("Google auth error:",G),p(G.message)}R(!1)};return y.jsxs("div",{className:"min-h-screen flex",children:[y.jsx("div",{className:"hidden md:block md:w-3/5 lg:w-3/5 bg-gradient-to-br from-blue-600 to-indigo-900 relative",children:y.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:y.jsxs("div",{className:"text-white text-center max-w-md",children:[y.jsx("h1",{className:"text-4xl font-bold mb-6",children:v?"Join Our Community":"Welcome Back"}),y.jsx("p",{className:"text-xl mb-8",children:v?"Access premium content, connect with other professionals, and grow your career.":"Continue your journey with us and access your personalized dashboard."}),y.jsx("div",{className:"flex justify-center",children:y.jsxs("div",{className:"bg-white/20 p-4 rounded-lg backdrop-blur-sm",children:[y.jsx("div",{className:"text-6xl mb-4",children:v?"":""}),y.jsx("p",{className:"text-sm",children:v?'"This platform transformed my career path in just 3 months!"':`"I've never experienced such a seamless learning platform!"`}),y.jsx("p",{className:"text-xs mt-2",children:"- Sarah Johnson, Senior Developer"})]})})]})})}),y.jsx("div",{className:"w-full md:w-2/5 lg:w-2/5 bg-white dark:bg-gray-900 flex items-center justify-center py-12 px-6 lg:px-8",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"text-center md:hidden mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:v?"Create Account":"Welcome Back"}),y.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:v?"Join thousands of users today":"Sign in to continue your journey"})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r "}),y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[y.jsx("img",{src:NR,alt:"Your Company",className:"mx-auto h-10 w-auto"}),y.jsx("h2",{className:"mt-6 text-center text-2xl/9 font-bold tracking-tight text-gray-900 dark:text-white",children:v?"Create your account":"Sign in to your account"})]}),y.jsxs("div",{className:`mt-10 transition-opacity duration-300 ${w?"opacity-0":"opacity-100"}`,children:[y.jsxs("form",{className:"space-y-6",onSubmit:Y,children:[v&&y.jsxs("div",{className:"animate-fadeIn",children:[y.jsx("label",{htmlFor:"name",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Nickname"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"name",type:"text",name:"name",required:v,autoComplete:"name",value:u,onChange:G=>h(G.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:"CoolStudent123"})})]}),y.jsxs("div",{className:v?"animate-fadeIn":"",children:[y.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Email address"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"email",type:"email",name:"email",required:!0,autoComplete:"email",value:t,onChange:G=>e(G.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:"Enter your email"})})]}),y.jsxs("div",{className:v?"animate-fadeIn":"",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Password"}),!v&&y.jsx("div",{className:"text-sm",children:y.jsx("a",{href:"#",className:"font-semibold text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Forgot password?"})})]}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"password",type:"password",name:"password",required:!0,autoComplete:v?"new-password":"current-password",value:i,onChange:G=>s(G.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:v?"Create a password":"Enter your password"})})]}),v&&y.jsxs("div",{className:"animate-fadeIn",children:[y.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Confirm Password"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"confirmPassword",type:"password",name:"confirmPassword",required:v,autoComplete:"new-password",value:a,onChange:G=>l(G.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:"Confirm your password"})})]}),v&&y.jsxs("div",{className:"flex items-center animate-fadeIn",children:[y.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"}),y.jsxs("label",{htmlFor:"terms",className:"ml-3 block text-sm text-gray-700 dark:text-gray-300",children:["I agree to the"," ",y.jsx("a",{href:"#",className:"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Terms and Conditions"})]})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-colors",children:v?"Create Account":"Sign in"})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6",children:y.jsxs("button",{type:"button",onClick:H,className:"flex w-full justify-center items-center gap-3 rounded-md bg-white px-3 py-2.5 text-sm/6 font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-colors",children:[y.jsxs("svg",{className:"h-5 w-5","aria-hidden":"true",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0303 3.125C17.9502 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21525 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),y.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),y.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),y.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.9351 19.9454 21.0951L16.0804 18.0951C15.0054 18.8201 13.6204 19.2451 12.0004 19.2451C8.8704 19.2451 6.21537 17.1351 5.2654 14.2901L1.2804 17.3901C3.2554 21.3101 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),v?"Sign up with Google":"Sign in with Google"]})})]}),f&&y.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-md animate-fadeIn",children:y.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:f})}),y.jsxs("p",{className:"mt-8 text-center text-sm/6 text-gray-500 dark:text-gray-400",children:[v?"Already have an account?":"Don't have an account?"," ",y.jsx("button",{onClick:F,className:"font-semibold text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 focus:outline-none focus:underline transition-colors",children:v?"Sign in":"Sign up"})]})]})]})]})}),y.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},v6=()=>{const n=On();return y.jsx("div",{class:"fixed bottom-0 left-0 z-50 w-full h-16 bg-white border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600 block sm:hidden",children:y.jsxs("div",{class:"grid h-full max-w-lg grid-cols-4 mx-auto font-medium",children:[y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home"),children:[y.jsx("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Home"})]}),y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home/quizMenu"),children:[y.jsxs("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"}),y.jsx("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"})]}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Quiz"})]}),y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home/Practice"),children:[y.jsxs("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.96 2.96 0 0 0 .13 5H5Z"}),y.jsx("path",{d:"M6.737 11.061a2.961 2.961 0 0 1 .81-1.515l6.117-6.116A4.839 4.839 0 0 1 16 2.141V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H0v11a1.969 1.969 0 0 0 1.933 2h12.134A1.97 1.97 0 0 0 16 18v-3.093l-1.546 1.546c-.413.413-.94.695-1.513.81l-3.4.679a2.947 2.947 0 0 1-1.85-.227 2.96 2.96 0 0 1-1.635-3.257l.681-3.397Z"}),y.jsx("path",{d:"M8.961 16a.93.93 0 0 0 .189-.019l3.4-.679a.961.961 0 0 0 .49-.263l6.118-6.117a2.884 2.884 0 0 0-4.079-4.078l-6.117 6.117a.96.96 0 0 0-.263.491l-.679 3.4A.961.961 0 0 0 8.961 16Zm7.477-9.8a.958.958 0 0 1 .68-.281.961.961 0 0 1 .682 1.644l-.315.315-1.36-1.36.313-.318Zm-5.911 5.911 4.236-4.236 1.359 1.359-4.236 4.237-1.7.339.341-1.699Z"})]}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Practice"})]}),y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home/Score"),children:[y.jsx("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"})}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Score"})]})]})})},x6=()=>{const n=On(),t=async()=>{try{await GO(hc),n("/quiz")}catch(e){console.error("Logout error:",e)}};return y.jsxs("div",{className:"relative",children:[y.jsx("aside",{id:"separator-sidebar",className:"fixed left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0 bg-gray-50 dark:bg-gray-800","aria-label":"Sidebar",children:y.jsxs("div",{className:"h-full px-3 py-4 overflow-y-auto",children:[y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(Wr,{to:"/home",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsx("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Home"})]})}),y.jsx("li",{children:y.jsxs(Wr,{to:"/home/quizMenu",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsxs("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"}),y.jsx("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"})]}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Quiz"})]})}),y.jsx("li",{children:y.jsxs(Wr,{to:"/home/practice",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsxs("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.96 2.96 0 0 0 .13 5H5Z"}),y.jsx("path",{d:"M6.737 11.061a2.961 2.961 0 0 1 .81-1.515l6.117-6.116A4.839 4.839 0 0 1 16 2.141V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H0v11a1.969 1.969 0 0 0 1.933 2h12.134A1.97 1.97 0 0 0 16 18v-3.093l-1.546 1.546c-.413.413-.94.695-1.513.81l-3.4.679a2.947 2.947 0 0 1-1.85-.227 2.96 2.96 0 0 1-1.635-3.257l.681-3.397Z"}),y.jsx("path",{d:"M8.961 16a.93.93 0 0 0 .189-.019l3.4-.679a.961.961 0 0 0 .49-.263l6.118-6.117a2.884 2.884 0 0 0-4.079-4.078l-6.117 6.117a.96.96 0 0 0-.263.491l-.679 3.4A.961.961 0 0 0 8.961 16Zm7.477-9.8a.958.958 0 0 1 .68-.281.961.961 0 0 1 .682 1.644l-.315.315-1.36-1.36.313-.318Zm-5.911 5.911 4.236-4.236 1.359 1.359-4.236 4.237-1.7.339.341-1.699Z"})]}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Practice"}),y.jsx("span",{class:"inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300",children:"3"})]})}),y.jsx("li",{children:y.jsxs(Wr,{to:"/home/score",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsx("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z"})}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Score"})]})})]}),y.jsxs("ul",{class:"pt-4 mt-4 space-y-2 font-medium border-t border-gray-200 dark:border-gray-700",children:[y.jsx("li",{children:y.jsxs("button",{onClick:t,className:"flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white group",children:[y.jsx("svg",{className:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 17 20",children:y.jsx("path",{d:"M7.958 19.393a7.7 7.7 0 0 1-6.715-3.439c-2.868-4.832 0-9.376.944-10.654l.091-.122a3.286 3.286 0 0 0 .765-3.288A1 1 0 0 1 4.6.8c.133.1.313.212.525.347A10.451 10.451 0 0 1 10.6 9.3c.5-1.06.772-2.213.8-3.385a1 1 0 0 1 1.592-.758c1.636 1.205 4.638 6.081 2.019 10.441a8.177 8.177 0 0 1-7.053 3.795Z"})}),y.jsx("span",{className:"ms-3",children:"Log Out"})]})}),y.jsx("li",{children:y.jsxs("a",{href:"#",class:"flex items-center p-2 text-gray-900 transition duration-75 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white group",children:[y.jsx("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 21 21",children:y.jsx("path",{d:"m5.4 2.736 3.429 3.429A5.046 5.046 0 0 1 10.134 6c.356.01.71.06 1.056.147l3.41-3.412c.136-.133.287-.248.45-.344A9.889 9.889 0 0 0 10.269 1c-1.87-.041-3.713.44-5.322 1.392a2.3 2.3 0 0 1 .454.344Zm11.45 1.54-.126-.127a.5.5 0 0 0-.706 0l-2.932 2.932c.029.023.049.054.078.077.236.194.454.41.65.645.034.038.078.067.11.107l2.927-2.927a.5.5 0 0 0 0-.707Zm-2.931 9.81c-.024.03-.057.052-.081.082a4.963 4.963 0 0 1-.633.639c-.041.036-.072.083-.115.117l2.927 2.927a.5.5 0 0 0 .707 0l.127-.127a.5.5 0 0 0 0-.707l-2.932-2.931Zm-1.442-4.763a3.036 3.036 0 0 0-1.383-1.1l-.012-.007a2.955 2.955 0 0 0-1-.213H10a2.964 2.964 0 0 0-2.122.893c-.285.29-.509.634-.657 1.013l-.01.016a2.96 2.96 0 0 0-.21 1 2.99 2.99 0 0 0 .489 1.716c.009.014.022.026.032.04a3.04 3.04 0 0 0 1.384 1.1l.012.007c.318.129.657.2 1 .213.392.015.784-.05 1.15-.192.012-.005.02-.013.033-.018a3.011 3.011 0 0 0 1.676-1.7v-.007a2.89 2.89 0 0 0 0-2.207 2.868 2.868 0 0 0-.27-.515c-.007-.012-.02-.025-.03-.039Zm6.137-3.373a2.53 2.53 0 0 1-.35.447L14.84 9.823c.112.428.166.869.16 1.311-.01.356-.06.709-.147 1.054l3.413 3.412c.132.134.249.283.347.444A9.88 9.88 0 0 0 20 11.269a9.912 9.912 0 0 0-1.386-5.319ZM14.6 19.264l-3.421-3.421c-.385.1-.781.152-1.18.157h-.134c-.356-.01-.71-.06-1.056-.147l-3.41 3.412a2.503 2.503 0 0 1-.443.347A9.884 9.884 0 0 0 9.732 21H10a9.9 9.9 0 0 0 5.044-1.388 2.519 2.519 0 0 1-.444-.348ZM1.735 15.6l3.426-3.426a4.608 4.608 0 0 1-.013-2.367L1.735 6.4a2.507 2.507 0 0 1-.35-.447 9.889 9.889 0 0 0 0 10.1c.1-.164.217-.316.35-.453Zm5.101-.758a4.957 4.957 0 0 1-.651-.645c-.033-.038-.077-.067-.11-.107L3.15 17.017a.5.5 0 0 0 0 .707l.127.127a.5.5 0 0 0 .706 0l2.932-2.933c-.03-.018-.05-.053-.078-.076ZM6.08 7.914c.03-.037.07-.063.1-.1.183-.22.384-.423.6-.609.047-.04.082-.092.129-.13L3.983 4.149a.5.5 0 0 0-.707 0l-.127.127a.5.5 0 0 0 0 .707L6.08 7.914Z"})}),y.jsx("span",{class:"ms-3",children:"Help"})]})})]})]})}),y.jsxs("div",{class:"p-4 sm:ml-64 dark:bg-gray-900 pb-16",children:["  ",y.jsx(SD,{})]})]})},b6=()=>{const[n,t]=O.useState(()=>localStorage.getItem("theme")==="dark");return O.useEffect(()=>{const e=window.document.documentElement;n?(e.classList.add("dark"),localStorage.setItem("theme","dark")):(e.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),y.jsx("div",{class:"sticky top-0 z-50",children:y.jsx("nav",{class:"bg-white border-b border-gray-200 dark:bg-gray-900 dark:border-gray-700",children:y.jsxs("div",{class:"flex flex-wrap items-center justify-between mx-auto p-4",children:[y.jsxs(Wr,{to:"/home",class:"flex items-center space-x-3 rtl:space-x-reverse",children:[y.jsx("img",{src:NR,class:"h-8",alt:"Flowbite Logo"}),y.jsx("span",{class:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:"FivetoTen"})]}),y.jsx("div",{class:"hidden w-full md:block md:w-auto",id:"navbar-default",children:y.jsxs("ul",{class:"font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[y.jsx("li",{children:y.jsx(Wr,{to:"/home",class:"block py-2 px-3 text-white bg-blue-700 rounded-sm md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500","aria-current":"page",children:"Home"})}),y.jsx("li",{children:y.jsx("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",children:"Services"})}),y.jsx("li",{children:y.jsx("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",children:"Pricing"})}),y.jsx("li",{children:y.jsx("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",children:"Contact"})})]})})]})})})},_6=()=>y.jsxs("div",{children:[y.jsx(b6,{}),y.jsx(x6,{}),"   ",y.jsx(v6,{})]}),IR=O.createContext();function hx(){return O.useContext(IR)}function w6({children:n}){const[t,e]=O.useState(null),[i,s]=O.useState(!0);O.useEffect(()=>hc.onAuthStateChanged(u=>{e(u),s(!1)}),[]);const a={currentUser:t};return y.jsx(IR.Provider,{value:a,children:!i&&n})}const T6=()=>{const n=On(),{currentUser:t}=hx(),[e,i]=O.useState(!1),[s,a]=O.useState(!0);O.useEffect(()=>{(async()=>{if(t){const f=an(Yt,"users",t.uid),p=await p6(f);(!p.exists()||!p.data().nickname)&&i(!0),a(!1)}})()},[t]);const l={completedCourses:3,totalPoints:1240,currentStreak:7,rank:"Novice Explorer"},u=[{title:"Let's Play Quiz",description:"Test your knowledge with interactive quizzes",path:"/home/quizMenu",icon:"",color:"from-blue-500 to-blue-600",textColor:"text-blue-100"},{title:"Practice Questions",description:"Sharpen your skills with practice problems",path:"/home/practice",icon:"",color:"from-green-500 to-green-600",textColor:"text-green-100"},{title:"View Scores",description:"Track your progress and achievements",path:"/home/score",icon:"",color:"from-amber-500 to-amber-600",textColor:"text-amber-100"},{title:"Learning Paths",description:"Explore structured learning journeys",path:"/home/learning-paths",icon:"",color:"from-purple-500 to-purple-600",textColor:"text-purple-100"}];return s?y.jsx("div",{children:"Loading..."}):y.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome back, Learner!"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Continue your learning journey and track your progress"})]}),y.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Courses Completed"}),y.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.completedCourses})]})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Points"}),y.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalPoints})]})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Streak"}),y.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[l.currentStreak," days"]})]})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-purple-100 dark:bg-purple-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Your Rank"}),y.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:l.rank})]})]})})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((h,f)=>y.jsx("div",{onClick:()=>n(h.path),className:`bg-gradient-to-br ${h.color} rounded-xl p-6 shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl cursor-pointer group`,children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-4xl mb-3 transform group-hover:scale-110 transition-transform",children:h.icon}),y.jsx("h3",{className:`font-bold text-lg mb-2 ${h.textColor}`,children:h.title}),y.jsx("p",{className:`text-sm ${h.textColor} opacity-90`,children:h.description}),y.jsx("div",{className:`mt-4 ${h.textColor} opacity-0 group-hover:opacity-100 transition-opacity`,children:y.jsx("span",{className:"text-sm",children:"Click to explore "})})]})},f))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[y.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg mr-3",children:y.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Completed Algebra Basics quiz"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Scored 85%  2 hours ago"})]})]}),y.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[y.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg mr-3",children:y.jsx("span",{className:"text-green-600 dark:text-green-400",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Earned 50 points in Geometry practice"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Yesterday at 3:45 PM"})]})]}),y.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[y.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg mr-3",children:y.jsx("span",{className:"text-amber-600 dark:text-amber-400",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"7-day streak achieved!"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Keep up the good work"})]})]})]})]})]})},S6=()=>y.jsx("div",{children:"WElcome back to react, Kuan!"}),E6=()=>{const[n,t]=O.useState([{name:"Loading...",id:"intializing..."}]);return O.useEffect(()=>{En(ln(Yt,"courses"),e=>{t(e.docs.map(i=>({...i.data(),id:i.id})))})}),y.jsxs("div",{children:[y.jsx("button",{className:"px-3 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-500 dark:bg-yellow-400 dark:text-black dark:hover:bg-yellow-300 transition-colors duration-300",children:"New"}),y.jsx("ul",{children:n.map(e=>y.jsxs("li",{children:[y.jsx("a",{href:"",children:"edit"}),e.Subject,e.Tutor]},e.id))})]})},A6="/quiz/assets/math-book-CkyzCvEj.png",C6=()=>{const[n,t]=O.useState([{name:"Loading...",id:"intializing..."}]),e=On();return console.log(n),O.useEffect(()=>{En(ln(Yt,"courses"),i=>{t(i.docs.map(s=>({...s.data(),id:s.id})))})}),y.jsx("div",{children:y.jsxs("div",{class:"min-h-screen p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:["Let's Play! Select Your Courses",y.jsx("button",{onClick:()=>e("/home"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"}),n.map(i=>y.jsxs("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",onClick:()=>e(`/home/courses/${i.id}/chapters`),children:[y.jsx("img",{src:A6,alt:"Math-Class",className:"max-h-[40%] max-w-[40%] object-contain"}),y.jsx("br",{}),"Tutor: ",i.Tutor,y.jsx("br",{}),"Subject: ",i.Subject]},i.id)),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})}),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})})]})})},R6=()=>{const{courseId:n,chapterId:t,sectionId:e}=ov(),i=On(),{currentUser:s}=hx(),[a,l]=O.useState([]),[u,h]=O.useState(null),[f,p]=O.useState(!0),[v,b]=O.useState(null),[w,S]=O.useState(0),[A,R]=O.useState(0),[I,B]=O.useState(null),[F,Y]=O.useState(null),[H,G]=O.useState(!1),[k,C]=O.useState(!1),[M,P]=O.useState(0),[V,L]=O.useState([{name:"Loading...",id:"intializing..."}]),[j,nt]=O.useState([{name:"Loading...",id:"intializing..."}]),[rt,$]=O.useState(!1),J=At=>{if(!At)return null;if(At.includes("youtube.com/embed"))return At;const Mt=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ee=At.match(Mt),Ve=ee&&ee[2].length===11?ee[2]:null;return Ve?`https://www.youtube.com/embed/${Ve}?rel=0`:null};O.useEffect(()=>{const At=an(Yt,"courses",n),Mt=En(At,Dt=>{Dt.exists()&&b(Dt.data())}),ee=an(Yt,"courses",n,"Chapters",t);En(ee,Dt=>{Dt.exists()?L({...Dt.data(),id:Dt.id}):console.log("No such chapter document!")},Dt=>{console.error("Firestore error:",Dt),h(Dt.message)},[n,t]);const Ve=an(Yt,"courses",n,"Chapters",t,"Section",e);En(Ve,Dt=>{Dt.exists()?nt({...Dt.data(),id:Dt.id}):console.log("No such section document!")},Dt=>{console.error("Firestore error:",Dt),h(Dt.message)},[n,t,e]);const _t=ln(Yt,"courses",n,"Chapters",t,"Section",e,"Quiz");console.log(_t);const Jt=En(_t,Dt=>{const Ee=Dt.docs.map(Ge=>({id:Ge.id,...Ge.data()}));l(Ee),p(!1)},Dt=>{console.error("Firestore error:",Dt),h(Dt.message)});return()=>{Mt(),Jt()}},[n]);const ct=()=>{P(3);const At=setInterval(()=>{P(Mt=>Mt<=1?(clearInterval(At),C(!0),0):Mt-1)},1e3)},[gt,U]=O.useState(0),it=At=>{B(At),Y(a[w].Options[At]);const Mt=a[w];a[w].Options[At].toString()===Mt.CorrectAnswer&&R(Ve=>Ve+1),G(!0),U(1),setTimeout(()=>{U(2)},1e3)},dt=(At,Mt)=>{if(!H)return"";const ee=a[w].Options[At],Ve=I===At,_t=ee.toString()===Mt.CorrectAnswer;return gt===1?Ve?"":"opacity-50":gt===2?_t?"!bg-green-500 !text-white":_t?"opacity-70":"!bg-red-500/75 !text-white":""},et=async()=>{w<a.length-1?(S(At=>At+1),Y(null),G(!1)):(G("completed"),await mt())},mt=async()=>{try{const At=hc.currentUser;if(!At)return;const Mt={score:A,totalQuestions:a.length,percentage:Math.round(A/a.length*100),timestamp:new Date,courseId:n,chapterId:t,sectionId:e},ee=ln(Yt,"users",At.uid,"quizResults",n,"chapters",t,"sections",e,"attempts"),_t=(await Pi(ee)).docs.map(Ot=>({id:Ot.id,...Ot.data()})),Jt=_t.sort((Ot,ws)=>Ot.timestamp.toMillis()-ws.timestamp.toMillis()).slice(0,9),Dt=[];if(_t.length>=10){const Ot=Jt[0];Dt.push(ER(an(ee,Ot.id)))}const Ee=AR(ee,Mt),Ge=an(Yt,"users",At.uid,"allQuizAttempts",`${n}_${t}_${e}`),$n=Wu(Ge,Mt);await Promise.all([...Dt,Ee,$n]),console.log("Quiz results saved successfully!")}catch(At){console.error("Error saving quiz results:",At)}},bt=()=>{window.location.reload()};if(f)return y.jsx("div",{className:"text-center py-8",children:"Loading quiz..."});if(u)return y.jsxs("div",{children:["Error: ",u]});if(!a||a.length===0)return y.jsx("p",{className:"text-center py-8",children:"No quiz questions found."});if(!k)return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto text-center",children:[v&&y.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[y.jsx("h2",{className:"text-xl font-bold",children:v.Subject}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Tutor: ",v.Tutor]}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[a.length," questions ready"]})]}),M>0?y.jsx("div",{className:"text-6xl font-bold my-16 animate-bounce",children:M}):y.jsx(y.Fragment,{children:rt?y.jsxs(y.Fragment,{children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Are you ready?"}),y.jsx("button",{onClick:ct,className:"px-8 py-4 bg-green-600 text-white text-xl rounded-lg hover:bg-green-700",children:"START QUIZ"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:()=>$(!1),className:"px-8 py-4 bg-red-600 text-white text-xl rounded-lg hover:bg-red-700",children:"Back"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Watch This First"}),y.jsx("div",{className:"aspect-w-16 aspect-h-9",children:j.QuizVideoLink?y.jsx("iframe",{className:"w-full h-96 rounded-lg",src:J(j.QuizVideoLink),title:"Quiz Preparation Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):y.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 h-96 flex items-center justify-center rounded-lg",children:y.jsx("p",{children:"Video URL not available"})})})]}),y.jsx("button",{onClick:()=>$(!0),className:"px-8 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700",children:"Next"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:()=>i(`/home/courses/${n}/chapters/${t}/section`),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Exit quiz"})]})})]});if(H==="completed")return y.jsxs("div",{className:"text-center py-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Quiz Completed!"}),y.jsxs("p",{className:"text-xl",children:["Your final score: ",A,"/",a.length]}),y.jsx("br",{}),y.jsx("button",{onClick:bt,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reload Quiz"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:()=>i(`/home/courses/${n}/chapters/${t}/section`),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"})]});const ft=a[w];return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[y.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[y.jsx("h2",{className:"text-xl font-bold",children:v.Subject}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Question ",w+1," of ",a.length]}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Score: ",A,"/",a.length]})]}),y.jsxs("div",{className:"p-4 border rounded-lg dark:border-gray-600",children:[y.jsx("h3",{className:"font-semibold text-lg mb-3",children:ft.Question||"No question text available"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(0,ft)} text-white bg-red-400 dark:bg-red-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-0`,name:`q-${ft.id}`,checked:F===0,onChange:()=>it(0),disabled:H,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-0`,className:"ml-3 cursor-pointer",children:ft.Options[0]||"Option 1"})]}),y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(1,ft)} text-white bg-blue-400 dark:bg-blue-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-1`,name:`q-${ft.id}`,checked:F===1,onChange:()=>it(1),disabled:H,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-1`,className:"ml-3 cursor-pointer",children:ft.Options[1]||"Option 2"})]}),y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(2,ft)} text-white bg-yellow-400 dark:bg-yellow-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-2`,name:`q-${ft.id}`,checked:F===2,onChange:()=>it(2),disabled:H,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-2`,className:"ml-3 cursor-pointer",children:ft.Options[2]||"Option 3"})]}),y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(3,ft)} text-white bg-green-400 dark:bg-green-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-3`,name:`q-${ft.id}`,checked:F===3,onChange:()=>it(3),disabled:H,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-3`,className:"ml-3 cursor-pointer",children:ft.Options[3]||"Option 4"})]})]}),H&&y.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[y.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded",children:F.toString()===ft.CorrectAnswer?"Correct!":"Incorrect!"}),y.jsx("button",{onClick:et,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:!F,children:w<a.length-1?"Next Question":"Finish Quiz"})]})]})]})},N6="/quiz/assets/chapter-f_ihL1Yx.png",I6=()=>{const{courseId:n}=ov(),[t,e]=O.useState([{name:"Loading...",id:"intializing..."}]),i=On();return O.useEffect(()=>{En(ln(Yt,"courses",n,"Chapters"),s=>{e(s.docs.map(a=>({...a.data(),id:a.id})))})}),y.jsx("div",{children:y.jsxs("div",{class:"min-h-screen p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:["Let's Play! Select Your Chapters",y.jsx("button",{onClick:()=>i("/home"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"}),t.map(s=>y.jsxs("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",onClick:()=>i(`/home/courses/${n}/chapters/${s.id}/section`),children:[y.jsx("img",{src:N6,alt:"Math-Class",className:"max-h-[40%] max-w-[40%] object-contain"}),y.jsx("br",{}),"Chapter ",s.Number,y.jsx("br",{}),s.Title]},s.id)),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})}),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})})]})})},k6="/quiz/assets/section-DKe1TQ-N.png",M6=()=>{const{courseId:n,chapterId:t}=ov(),[e,i]=O.useState([{name:"Loading...",id:"intializing..."}]),s=On();return O.useEffect(()=>{En(ln(Yt,"courses",n,"Chapters",t,"Section"),a=>{i(a.docs.map(l=>({...l.data(),id:l.id})))})}),y.jsx("div",{children:y.jsxs("div",{class:"min-h-screen p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:["Let's Play! Select Your Sections",y.jsx("button",{onClick:()=>s(`/home/courses/${n}/chapters`),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"}),e.map(a=>y.jsxs("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",onClick:()=>s(`/home/courses/${n}/chapters/${t}/section/${a.id}/quiz`),children:[y.jsx("img",{src:k6,alt:"Math-Class",className:"max-h-[40%] max-w-[40%] object-contain"}),y.jsx("br",{}),"Section ",a.SectionNumber,y.jsx("br",{}),a.SectionName]},a.id)),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})}),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})})]})})},D6=()=>{const[n,t]=O.useState(!0),[e,i]=O.useState(null),[s,a]=O.useState({});return O.useEffect(()=>{(async()=>{try{t(!0);const u=hc.currentUser;if(!u)throw new Error("User not authenticated");const h=ln(Yt,"users",u.uid,"allQuizAttempts"),f=await Pi(h);if(f.empty){a({});return}const p=f.docs.reduce((v,b)=>{const w=b.data(),{courseId:S,chapterId:A}=w;v[S]||(v[S]={chapters:{},stats:{totalAttempts:0,highestScore:0,chaptersCount:0,latestAttempt:null}}),v[S].chapters[A]||(v[S].chapters[A]={attempts:[],stats:{totalAttempts:0,highestScore:0,sectionsCount:new Set,latestAttempt:null}},v[S].stats.chaptersCount++),v[S].chapters[A].attempts.push(w),v[S].chapters[A].stats.totalAttempts++,v[S].chapters[A].stats.sectionsCount.add(w.sectionId),v[S].chapters[A].stats.highestScore=Math.max(v[S].chapters[A].stats.highestScore,w.percentage);const R=w.timestamp.toMillis();return(!v[S].chapters[A].stats.latestAttempt||R>v[S].chapters[A].stats.latestAttempt.timestamp.toMillis())&&(v[S].chapters[A].stats.latestAttempt=w),v[S].stats.totalAttempts++,v[S].stats.highestScore=Math.max(v[S].stats.highestScore,w.percentage),(!v[S].stats.latestAttempt||R>v[S].stats.latestAttempt.timestamp.toMillis())&&(v[S].stats.latestAttempt=w),v},{});a(p)}catch(u){console.error("Error fetching quiz attempts:",u),i(u.message)}finally{t(!1)}})()},[]),{organizedAttempts:s,loading:n,error:e}},dx=n=>{const[t,e]=O.useState({}),[i,s]=O.useState(!0),[a,l]=O.useState(null);return O.useEffect(()=>{if(!n.length){s(!1);return}const u=n.map(h=>En(an(Yt,"courses",h),f=>{e(p=>({...p,[h]:f.exists()?{id:f.id,...f.data()}:null}))}));return()=>u.forEach(h=>h())},[n]),{courses:t,loading:i,error:a}},fx=n=>{const[t,e]=O.useState({}),[i,s]=O.useState(!0),[a,l]=O.useState(null);return O.useEffect(()=>{if(!n.length){s(!1);return}let u=!0;const h=[],f=n.length;let p=0;return n.forEach(({courseId:v,chapterId:b})=>{const w=En(an(Yt,"courses",v,"Chapters",b),S=>{u&&(e(A=>({...A,[b]:S.exists()?{...S.data(),id:S.id}:null})),p++,p===f&&s(!1))},S=>{u&&(l(S.message),s(!1))});h.push(w)}),()=>{u=!1,h.forEach(v=>v())}},[n]),{chapters:t,loading:i,error:a}},mx=n=>{const[t,e]=O.useState({}),[i,s]=O.useState(!0),[a,l]=O.useState(null);return O.useEffect(()=>{if(!n.length){s(!1);return}let u=!0;const h=[],f=n.length;let p=0;return n.forEach(({courseId:v,chapterId:b,sectionId:w})=>{const S=En(an(Yt,"courses",v,"Chapters",b,"Section",w),A=>{u&&(e(R=>({...R,[w]:A.exists()?{...A.data(),id:A.id}:null})),p++,p===f&&s(!1))},A=>{u&&(l(A.message),s(!1))});h.push(S)}),()=>{u=!1,h.forEach(v=>v())}},[n]),{sections:t,loading:i,error:a}},px=O.createContext({});function gx(n){const t=O.useRef(null);return t.current===null&&(t.current=n()),t.current}const yx=typeof window<"u",kR=yx?O.useLayoutEffect:O.useEffect,sp=O.createContext(null);function vx(n,t){n.indexOf(t)===-1&&n.push(t)}function xx(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const cr=(n,t,e)=>e>t?t:e<n?n:e;let bx=()=>{};const ur={},MR=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function DR(n){return typeof n=="object"&&n!==null}const PR=n=>/^0[^.\s]+$/u.test(n);function _x(n){let t;return()=>(t===void 0&&(t=n()),t)}const wi=n=>n,P6=(n,t)=>e=>t(n(e)),zh=(...n)=>n.reduce(P6),mh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class wx{constructor(){this.subscriptions=[]}add(t){return vx(this.subscriptions,t),()=>xx(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fs=n=>n*1e3,ms=n=>n/1e3;function OR(n,t){return t?n*(1e3/t):0}const jR=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,O6=1e-7,j6=12;function V6(n,t,e,i,s){let a,l,u=0;do l=t+(e-t)/2,a=jR(l,i,s)-n,a>0?e=l:t=l;while(Math.abs(a)>O6&&++u<j6);return l}function Bh(n,t,e,i){if(n===t&&e===i)return wi;const s=a=>V6(a,0,1,n,e);return a=>a===0||a===1?a:jR(s(a),t,i)}const VR=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,LR=n=>t=>1-n(1-t),UR=Bh(.33,1.53,.69,.99),Tx=LR(UR),zR=VR(Tx),BR=n=>(n*=2)<1?.5*Tx(n):.5*(2-Math.pow(2,-10*(n-1))),Sx=n=>1-Math.sin(Math.acos(n)),FR=LR(Sx),HR=VR(Sx),L6=Bh(.42,0,1,1),U6=Bh(0,0,.58,1),qR=Bh(.42,0,.58,1),z6=n=>Array.isArray(n)&&typeof n[0]!="number",$R=n=>Array.isArray(n)&&typeof n[0]=="number",B6={linear:wi,easeIn:L6,easeInOut:qR,easeOut:U6,circIn:Sx,circInOut:HR,circOut:FR,backIn:Tx,backInOut:zR,backOut:UR,anticipate:BR},F6=n=>typeof n=="string",dS=n=>{if($R(n)){bx(n.length===4);const[t,e,i,s]=n;return Bh(t,e,i,s)}else if(F6(n))return B6[n];return n},wf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function H6(n,t){let e=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(f.schedule(p),n()),p(u)}const f={schedule:(p,v=!1,b=!1)=>{const S=b&&s?e:i;return v&&l.add(p),S.has(p)||S.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(u=p,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(h),e.clear(),s=!1,a&&(a=!1,f.process(p))}};return f}const q6=40;function GR(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,l=wf.reduce((F,Y)=>(F[Y]=H6(a),F),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:p,update:v,preRender:b,render:w,postRender:S}=l,A=()=>{const F=ur.useManualTiming?s.timestamp:performance.now();e=!1,ur.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(F-s.timestamp,q6),1)),s.timestamp=F,s.isProcessing=!0,u.process(s),h.process(s),f.process(s),p.process(s),v.process(s),b.process(s),w.process(s),S.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(A))},R=()=>{e=!0,i=!0,s.isProcessing||n(A)};return{schedule:wf.reduce((F,Y)=>{const H=l[Y];return F[Y]=(G,k=!1,C=!1)=>(e||R(),H.schedule(G,k,C)),F},{}),cancel:F=>{for(let Y=0;Y<wf.length;Y++)l[wf[Y]].cancel(F)},state:s,steps:l}}const{schedule:be,cancel:ma,state:mn,steps:N0}=GR(typeof requestAnimationFrame<"u"?requestAnimationFrame:wi,!0);let Zf;function $6(){Zf=void 0}const Hn={now:()=>(Zf===void 0&&Hn.set(mn.isProcessing||ur.useManualTiming?mn.timestamp:performance.now()),Zf),set:n=>{Zf=n,queueMicrotask($6)}},QR=n=>t=>typeof t=="string"&&t.startsWith(n),Ex=QR("--"),G6=QR("var(--"),Ax=n=>G6(n)?Q6.test(n.split("/*")[0].trim()):!1,Q6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ph={...dc,transform:n=>cr(0,1,n)},Tf={...dc,default:1},Ku=n=>Math.round(n*1e5)/1e5,Cx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function W6(n){return n==null}const K6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rx=(n,t)=>e=>!!(typeof e=="string"&&K6.test(e)&&e.startsWith(n)||t&&!W6(e)&&Object.prototype.hasOwnProperty.call(e,t)),WR=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,a,l,u]=i.match(Cx);return{[n]:parseFloat(s),[t]:parseFloat(a),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Y6=n=>cr(0,255,n),I0={...dc,transform:n=>Math.round(Y6(n))},uo={test:Rx("rgb","red"),parse:WR("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+I0.transform(n)+", "+I0.transform(t)+", "+I0.transform(e)+", "+Ku(ph.transform(i))+")"};function X6(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Iy={test:Rx("#"),parse:X6,transform:uo.transform},Fh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Hr=Fh("deg"),ps=Fh("%"),It=Fh("px"),Z6=Fh("vh"),J6=Fh("vw"),fS={...ps,parse:n=>ps.parse(n)/100,transform:n=>ps.transform(n*100)},Il={test:Rx("hsl","hue"),parse:WR("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+ps.transform(Ku(t))+", "+ps.transform(Ku(e))+", "+Ku(ph.transform(i))+")"},He={test:n=>uo.test(n)||Iy.test(n)||Il.test(n),parse:n=>uo.test(n)?uo.parse(n):Il.test(n)?Il.parse(n):Iy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?uo.transform(n):Il.transform(n),getAnimatableNone:n=>{const t=He.parse(n);return t.alpha=0,He.transform(t)}},tL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eL(n){return isNaN(n)&&typeof n=="string"&&(n.match(Cx)?.length||0)+(n.match(tL)?.length||0)>0}const KR="number",YR="color",nL="var",iL="var(",mS="${}",sL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gh(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let a=0;const u=t.replace(sL,h=>(He.test(h)?(i.color.push(a),s.push(YR),e.push(He.parse(h))):h.startsWith(iL)?(i.var.push(a),s.push(nL),e.push(h)):(i.number.push(a),s.push(KR),e.push(parseFloat(h))),++a,mS)).split(mS);return{values:e,split:u,indexes:i,types:s}}function XR(n){return gh(n).values}function ZR(n){const{split:t,types:e}=gh(n),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const u=e[l];u===KR?a+=Ku(s[l]):u===YR?a+=He.transform(s[l]):a+=s[l]}return a}}const rL=n=>typeof n=="number"?0:He.test(n)?He.getAnimatableNone(n):n;function aL(n){const t=XR(n);return ZR(n)(t.map(rL))}const pa={test:eL,parse:XR,createTransformer:ZR,getAnimatableNone:aL};function k0(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function oL({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,a=0,l=0;if(!t)s=a=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,h=2*e-u;s=k0(h,u,n+1/3),a=k0(h,u,n),l=k0(h,u,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function Em(n,t){return e=>e>0?t:n}const we=(n,t,e)=>n+(t-n)*e,M0=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},lL=[Iy,uo,Il],cL=n=>lL.find(t=>t.test(n));function pS(n){const t=cL(n);if(!t)return!1;let e=t.parse(n);return t===Il&&(e=oL(e)),e}const gS=(n,t)=>{const e=pS(n),i=pS(t);if(!e||!i)return Em(n,t);const s={...e};return a=>(s.red=M0(e.red,i.red,a),s.green=M0(e.green,i.green,a),s.blue=M0(e.blue,i.blue,a),s.alpha=we(e.alpha,i.alpha,a),uo.transform(s))},ky=new Set(["none","hidden"]);function uL(n,t){return ky.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function hL(n,t){return e=>we(n,t,e)}function Nx(n){return typeof n=="number"?hL:typeof n=="string"?Ax(n)?Em:He.test(n)?gS:mL:Array.isArray(n)?JR:typeof n=="object"?He.test(n)?gS:dL:Em}function JR(n,t){const e=[...n],i=e.length,s=n.map((a,l)=>Nx(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)e[l]=s[l](a);return e}}function dL(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=Nx(n[s])(n[s],t[s]));return s=>{for(const a in i)e[a]=i[a](s);return e}}function fL(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=n.indexes[a][i[a]],u=n.values[l]??0;e[s]=u,i[a]++}return e}const mL=(n,t)=>{const e=pa.createTransformer(t),i=gh(n),s=gh(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?ky.has(n)&&!s.values.length||ky.has(t)&&!i.values.length?uL(n,t):zh(JR(fL(i,s),s.values),e):Em(n,t)};function tN(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?we(n,t,e):Nx(n)(n,t)}const pL=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>be.update(t,e),stop:()=>ma(t),now:()=>mn.isProcessing?mn.timestamp:Hn.now()}},eN=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let a=0;a<s;a++)i+=Math.round(n(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Am=2e4;function Ix(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<Am;)t+=e,i=n.next(t);return t>=Am?1/0:t}function gL(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(Ix(i),Am);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:ms(s)}}const yL=5;function nN(n,t,e){const i=Math.max(t-yL,0);return OR(e-n(i),t-i)}const Ne={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},D0=.001;function vL({duration:n=Ne.duration,bounce:t=Ne.bounce,velocity:e=Ne.velocity,mass:i=Ne.mass}){let s,a,l=1-t;l=cr(Ne.minDamping,Ne.maxDamping,l),n=cr(Ne.minDuration,Ne.maxDuration,ms(n)),l<1?(s=f=>{const p=f*l,v=p*n,b=p-e,w=My(f,l),S=Math.exp(-v);return D0-b/w*S},a=f=>{const v=f*l*n,b=v*e+e,w=Math.pow(l,2)*Math.pow(f,2)*n,S=Math.exp(-v),A=My(Math.pow(f,2),l);return(-s(f)+D0>0?-1:1)*((b-w)*S)/A}):(s=f=>{const p=Math.exp(-f*n),v=(f-e)*n+1;return-D0+p*v},a=f=>{const p=Math.exp(-f*n),v=(e-f)*(n*n);return p*v});const u=5/n,h=bL(s,a,u);if(n=fs(n),isNaN(h))return{stiffness:Ne.stiffness,damping:Ne.damping,duration:n};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:n}}}const xL=12;function bL(n,t,e){let i=e;for(let s=1;s<xL;s++)i=i-n(i)/t(i);return i}function My(n,t){return n*Math.sqrt(1-t*t)}const _L=["duration","bounce"],wL=["stiffness","damping","mass"];function yS(n,t){return t.some(e=>n[e]!==void 0)}function TL(n){let t={velocity:Ne.velocity,stiffness:Ne.stiffness,damping:Ne.damping,mass:Ne.mass,isResolvedFromDuration:!1,...n};if(!yS(n,wL)&&yS(n,_L))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,a=2*cr(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Ne.mass,stiffness:s,damping:a}}else{const e=vL(n);t={...t,...e,mass:Ne.mass},t.isResolvedFromDuration=!0}return t}function Cm(n=Ne.visualDuration,t=Ne.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const a=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:f,mass:p,duration:v,velocity:b,isResolvedFromDuration:w}=TL({...e,velocity:-ms(e.velocity||0)}),S=b||0,A=f/(2*Math.sqrt(h*p)),R=l-a,I=ms(Math.sqrt(h/p)),B=Math.abs(R)<5;i||(i=B?Ne.restSpeed.granular:Ne.restSpeed.default),s||(s=B?Ne.restDelta.granular:Ne.restDelta.default);let F;if(A<1){const H=My(I,A);F=G=>{const k=Math.exp(-A*I*G);return l-k*((S+A*I*R)/H*Math.sin(H*G)+R*Math.cos(H*G))}}else if(A===1)F=H=>l-Math.exp(-I*H)*(R+(S+I*R)*H);else{const H=I*Math.sqrt(A*A-1);F=G=>{const k=Math.exp(-A*I*G),C=Math.min(H*G,300);return l-k*((S+A*I*R)*Math.sinh(C)+H*R*Math.cosh(C))/H}}const Y={calculatedDuration:w&&v||null,next:H=>{const G=F(H);if(w)u.done=H>=v;else{let k=H===0?S:0;A<1&&(k=H===0?fs(S):nN(F,H,G));const C=Math.abs(k)<=i,M=Math.abs(l-G)<=s;u.done=C&&M}return u.value=u.done?l:G,u},toString:()=>{const H=Math.min(Ix(Y),Am),G=eN(k=>Y.next(H*k).value,H,30);return H+"ms "+G},toTransition:()=>{}};return Y}Cm.applyToOptions=n=>{const t=gL(n,100,Cm);return n.ease=t.ease,n.duration=fs(t.duration),n.type="keyframes",n};function Dy({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:p}){const v=n[0],b={done:!1,value:v},w=C=>u!==void 0&&C<u||h!==void 0&&C>h,S=C=>u===void 0?h:h===void 0||Math.abs(u-C)<Math.abs(h-C)?u:h;let A=e*t;const R=v+A,I=l===void 0?R:l(R);I!==R&&(A=I-v);const B=C=>-A*Math.exp(-C/i),F=C=>I+B(C),Y=C=>{const M=B(C),P=F(C);b.done=Math.abs(M)<=f,b.value=b.done?I:P};let H,G;const k=C=>{w(b.value)&&(H=C,G=Cm({keyframes:[b.value,S(b.value)],velocity:nN(F,C,b.value),damping:s,stiffness:a,restDelta:f,restSpeed:p}))};return k(0),{calculatedDuration:null,next:C=>{let M=!1;return!G&&H===void 0&&(M=!0,Y(C),k(C)),H!==void 0&&C>=H?G.next(C-H):(!M&&Y(C),b)}}}function SL(n,t,e){const i=[],s=e||ur.mix||tN,a=n.length-1;for(let l=0;l<a;l++){let u=s(n[l],n[l+1]);if(t){const h=Array.isArray(t)?t[l]||wi:t;u=zh(h,u)}i.push(u)}return i}function EL(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const a=n.length;if(bx(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),t=[...t].reverse());const u=SL(t,i,s),h=u.length,f=p=>{if(l&&p<n[0])return t[0];let v=0;if(h>1)for(;v<n.length-2&&!(p<n[v+1]);v++);const b=mh(n[v],n[v+1],p);return u[v](b)};return e?p=>f(cr(n[0],n[a-1],p)):f}function AL(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=mh(0,t,i);n.push(we(e,1,s))}}function CL(n){const t=[0];return AL(t,n.length-1),t}function RL(n,t){return n.map(e=>e*t)}function NL(n,t){return n.map(()=>t||qR).splice(0,n.length-1)}function Yu({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=z6(i)?i.map(dS):dS(i),a={done:!1,value:t[0]},l=RL(e&&e.length===t.length?e:CL(t),n),u=EL(l,t,{ease:Array.isArray(s)?s:NL(t,s)});return{calculatedDuration:n,next:h=>(a.value=u(h),a.done=h>=n,a)}}const IL=n=>n!==null;function kx(n,{repeat:t,repeatType:e="loop"},i,s=1){const a=n.filter(IL),u=s<0||t&&e!=="loop"&&t%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const kL={decay:Dy,inertia:Dy,tween:Yu,keyframes:Yu,spring:Cm};function iN(n){typeof n.type=="string"&&(n.type=kL[n.type])}class Mx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const ML=n=>n/100;class Dx extends Mx{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;iN(t);const{type:e=Yu,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=t;let{keyframes:u}=t;const h=e||Yu;h!==Yu&&typeof u[0]!="number"&&(this.mixKeyframes=zh(ML,tN(u[0],u[1])),u=[0,100]);const f=h({...t,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Ix(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:v,repeatType:b,repeatDelay:w,type:S,onUpdate:A,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const I=this.currentTime-f*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?I<0:I>s;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,Y=i;if(v){const C=Math.min(this.currentTime,s)/u;let M=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&M--,M=Math.min(M,v+1),!!(M%2)&&(b==="reverse"?(P=1-P,w&&(P-=w/u)):b==="mirror"&&(Y=l)),F=cr(0,1,P)*u}const H=B?{done:!1,value:p[0]}:Y.next(F);a&&(H.value=a(H.value));let{done:G}=H;!B&&h!==null&&(G=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return k&&S!==Dy&&(H.value=kx(p,this.options,R,this.speed)),A&&A(H.value),k&&this.finish(),H}then(t,e){return this.finished.then(t,e)}get duration(){return ms(this.calculatedDuration)}get time(){return ms(this.currentTime)}set time(t){t=fs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Hn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ms(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=pL,startTime:e}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function DL(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ho=n=>n*180/Math.PI,Py=n=>{const t=ho(Math.atan2(n[1],n[0]));return Oy(t)},PL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Py,rotateZ:Py,skewX:n=>ho(Math.atan(n[1])),skewY:n=>ho(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Oy=n=>(n=n%360,n<0&&(n+=360),n),vS=Py,xS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),bS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),OL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xS,scaleY:bS,scale:n=>(xS(n)+bS(n))/2,rotateX:n=>Oy(ho(Math.atan2(n[6],n[5]))),rotateY:n=>Oy(ho(Math.atan2(-n[2],n[0]))),rotateZ:vS,rotate:vS,skewX:n=>ho(Math.atan(n[4])),skewY:n=>ho(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function jy(n){return n.includes("scale")?1:0}function Vy(n,t){if(!n||n==="none")return jy(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=OL,s=e;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=PL,s=u}if(!s)return jy(t);const a=i[t],l=s[1].split(",").map(VL);return typeof a=="function"?a(l):l[a]}const jL=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Vy(e,t)};function VL(n){return parseFloat(n.trim())}const fc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mc=new Set(fc),_S=n=>n===dc||n===It,LL=new Set(["x","y","z"]),UL=fc.filter(n=>!LL.has(n));function zL(n){const t=[];return UL.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const vo={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Vy(t,"x"),y:(n,{transform:t})=>Vy(t,"y")};vo.translateX=vo.x;vo.translateY=vo.y;const xo=new Set;let Ly=!1,Uy=!1,zy=!1;function sN(){if(Uy){const n=Array.from(xo).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=zL(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([a,l])=>{i.getValue(a)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Uy=!1,Ly=!1,xo.forEach(n=>n.complete(zy)),xo.clear()}function rN(){xo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Uy=!0)})}function BL(){zy=!0,rN(),sN(),zy=!1}class Px{constructor(t,e,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(xo.add(this),Ly||(Ly=!0,be.read(rN),be.resolveKeyframes(sN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const a=s?.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&e){const u=i.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}DL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),xo.delete(this)}cancel(){this.state==="scheduled"&&(xo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const FL=n=>n.startsWith("--");function HL(n,t,e){FL(t)?n.style.setProperty(t,e):n.style[t]=e}const qL=_x(()=>window.ScrollTimeline!==void 0),$L={};function GL(n,t){const e=_x(n);return()=>$L[t]??e()}const aN=GL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lu=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,wS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lu([0,.65,.55,1]),circOut:Lu([.55,0,1,.45]),backIn:Lu([.31,.01,.66,-.59]),backOut:Lu([.33,1.53,.69,.99])};function oN(n,t){if(n)return typeof n=="function"?aN()?eN(n,t):"ease-out":$R(n)?Lu(n):Array.isArray(n)?n.map(e=>oN(e,t)||wS.easeOut):wS[n]}function QL(n,t,e,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},f=void 0){const p={[t]:e};h&&(p.offset=h);const v=oN(u,s);Array.isArray(v)&&(p.easing=v);const b={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),n.animate(p,b)}function lN(n){return typeof n=="function"&&"applyToOptions"in n}function WL({type:n,...t}){return lN(n)&&aN()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class KL extends Mx{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,bx(typeof t.type!="string");const f=WL(t);this.animation=QL(e,i,s,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=kx(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):HL(e,i,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ms(Number(t))}get time(){return ms(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&qL()?(this.animation.timeline=t,wi):e(this)}}const cN={anticipate:BR,backInOut:zR,circInOut:HR};function YL(n){return n in cN}function XL(n){typeof n.ease=="string"&&YL(n.ease)&&(n.ease=cN[n.ease])}const TS=10;class ZL extends KL{constructor(t){XL(t),iN(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new Dx({...l,autoplay:!1}),h=fs(this.finishedTime??this.time);e.setWithVelocity(u.sample(h-TS).value,u.sample(h).value,TS),u.stop()}}const SS=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(pa.test(n)||n==="0")&&!n.startsWith("url("));function JL(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function t9(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=n[n.length-1],l=SS(s,t),u=SS(a,t);return!l||!u?!1:JL(n)||(e==="spring"||lN(e))&&i}function By(n){n.duration=0,n.type}const e9=new Set(["opacity","clipPath","filter","transform"]),n9=_x(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function i9(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:a,type:l}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return n9()&&e&&e9.has(e)&&(e!=="transform"||!f)&&!h&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const s9=40;class r9 extends Mx{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:f,element:p,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Hn.now();const b={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:f,element:p,...v},w=p?.KeyframeResolver||Px;this.keyframeResolver=new w(u,(S,A,R)=>this.onKeyframesResolved(S,A,b,!R),h,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:f,onUpdate:p}=i;this.resolvedAt=Hn.now(),t9(t,a,l,u)||((ur.instantAnimations||!h)&&p?.(kx(t,i,e)),t[0]=t[t.length-1],By(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>s9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},w=!f&&i9(b)?new ZL({...b,element:b.motionValue.owner.current}):new Dx(b);w.finished.then(()=>this.notifyFinished()).catch(wi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),BL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const a9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function o9(n){const t=a9.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function uN(n,t,e=1){const[i,s]=o9(n);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return MR(l)?parseFloat(l):l}return Ax(s)?uN(s,t,e+1):s}function Ox(n,t){return n?.[t]??n?.default??n}const hN=new Set(["width","height","top","left","right","bottom",...fc]),l9={test:n=>n==="auto",parse:n=>n},dN=n=>t=>t.test(n),fN=[dc,It,ps,Hr,J6,Z6,l9],ES=n=>fN.find(dN(n));function c9(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||PR(n):!0}const u9=new Set(["brightness","contrast","saturate","opacity"]);function h9(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(Cx)||[];if(!i)return n;const s=e.replace(i,"");let a=u9.has(t)?1:0;return i!==e&&(a*=100),t+"("+a+s+")"}const d9=/\b([a-z-]*)\(.*?\)/gu,Fy={...pa,getAnimatableNone:n=>{const t=n.match(d9);return t?t.map(h9).join(" "):n}},AS={...dc,transform:Math.round},f9={rotate:Hr,rotateX:Hr,rotateY:Hr,rotateZ:Hr,scale:Tf,scaleX:Tf,scaleY:Tf,scaleZ:Tf,skew:Hr,skewX:Hr,skewY:Hr,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:ph,originX:fS,originY:fS,originZ:It},jx={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,backgroundPositionX:It,backgroundPositionY:It,...f9,zIndex:AS,fillOpacity:ph,strokeOpacity:ph,numOctaves:AS},m9={...jx,color:He,backgroundColor:He,outlineColor:He,fill:He,stroke:He,borderColor:He,borderTopColor:He,borderRightColor:He,borderBottomColor:He,borderLeftColor:He,filter:Fy,WebkitFilter:Fy},mN=n=>m9[n];function pN(n,t){let e=mN(n);return e!==Fy&&(e=pa),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const p9=new Set(["auto","none","0"]);function g9(n,t,e){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!p9.has(a)&&gh(a).values.length&&(s=n[i]),i++}if(s&&e)for(const a of t)n[a]=pN(e,s)}class y9 extends Px{constructor(t,e,i,s,a){super(t,e,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),Ax(f))){const p=uN(f,e.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!hN.has(i)||t.length!==2)return;const[s,a]=t,l=ES(s),u=ES(a);if(l!==u)if(_S(l)&&_S(u))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else vo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||c9(t[s]))&&i.push(s);i.length&&g9(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vo[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=vo[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{t.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function v9(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=e?.[n]??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const gN=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function yN(n){return DR(n)&&"offsetHeight"in n}const CS=30,x9=n=>!isNaN(parseFloat(n));class b9{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Hn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=x9(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new wx);const i=this.events[t].add(e);return t==="change"?()=>{i(),be.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>CS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,CS);return OR(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yl(n,t){return new b9(n,t)}const{schedule:Vx}=GR(queueMicrotask,!1),ki={x:!1,y:!1};function vN(){return ki.x||ki.y}function _9(n){return n==="x"||n==="y"?ki[n]?null:(ki[n]=!0,()=>{ki[n]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}function xN(n,t){const e=v9(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function RS(n){return!(n.pointerType==="touch"||vN())}function w9(n,t,e={}){const[i,s,a]=xN(n,e),l=u=>{if(!RS(u))return;const{target:h}=u,f=t(h,u);if(typeof f!="function"||!h)return;const p=v=>{RS(v)&&(f(v),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const bN=(n,t)=>t?n===t?!0:bN(n,t.parentElement):!1,Lx=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,T9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S9(n){return T9.has(n.tagName)||n.tabIndex!==-1}const Jf=new WeakSet;function NS(n){return t=>{t.key==="Enter"&&n(t)}}function P0(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const E9=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=NS(()=>{if(Jf.has(e))return;P0(e,"down");const s=NS(()=>{P0(e,"up")}),a=()=>P0(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function IS(n){return Lx(n)&&!vN()}function A9(n,t,e={}){const[i,s,a]=xN(n,e),l=u=>{const h=u.currentTarget;if(!IS(u))return;Jf.add(h);const f=t(h,u),p=(w,S)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Jf.has(h)&&Jf.delete(h),IS(w)&&typeof f=="function"&&f(w,{success:S})},v=w=>{p(w,h===window||h===document||e.useGlobalTarget||bN(h,w.target))},b=w=>{p(w,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",b,s)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),yN(u)&&(u.addEventListener("focus",f=>E9(f,s)),!S9(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function _N(n){return DR(n)&&"ownerSVGElement"in n}function C9(n){return _N(n)&&n.tagName==="svg"}const An=n=>!!(n&&n.getVelocity),R9=[...fN,He,pa],N9=n=>R9.find(dN(n)),Ux=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class I9 extends O.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=yN(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=e.offsetHeight||0,a.width=e.offsetWidth||0,a.top=e.offsetTop,a.left=e.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function k9({children:n,isPresent:t,anchorX:e,root:i}){const s=O.useId(),a=O.useRef(null),l=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=O.useContext(Ux);return O.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:v,right:b}=l.current;if(t||!a.current||!h||!f)return;const w=e==="left"?`left: ${v}`:`right: ${b}`;a.current.dataset.motionPopId=s;const S=document.createElement("style");u&&(S.nonce=u);const A=i??document.head;return A.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{A.contains(S)&&A.removeChild(S)}},[t]),y.jsx(I9,{isPresent:t,childRef:a,sizeRef:l,children:O.cloneElement(n,{ref:a})})}const M9=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,root:h})=>{const f=gx(D9),p=O.useId();let v=!0,b=O.useMemo(()=>(v=!1,{id:p,initial:t,isPresent:e,custom:s,onExitComplete:w=>{f.set(w,!0);for(const S of f.values())if(!S)return;i&&i()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[e,f,i]);return a&&v&&(b={...b}),O.useMemo(()=>{f.forEach((w,S)=>f.set(S,!1))},[e]),O.useEffect(()=>{!e&&!f.size&&i&&i()},[e]),l==="popLayout"&&(n=y.jsx(k9,{isPresent:e,anchorX:u,root:h,children:n})),y.jsx(sp.Provider,{value:b,children:n})};function D9(){return new Map}function wN(n=!0){const t=O.useContext(sp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,a=O.useId();O.useEffect(()=>{if(n)return s(a)},[n]);const l=O.useCallback(()=>n&&i&&i(a),[a,i,n]);return!e&&i?[!1,l]:[!0]}const Sf=n=>n.key||"";function kS(n){const t=[];return O.Children.forEach(n,e=>{O.isValidElement(e)&&t.push(e)}),t}const ra=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:h})=>{const[f,p]=wN(l),v=O.useMemo(()=>kS(n),[n]),b=l&&!f?[]:v.map(Sf),w=O.useRef(!0),S=O.useRef(v),A=gx(()=>new Map),[R,I]=O.useState(v),[B,F]=O.useState(v);kR(()=>{w.current=!1,S.current=v;for(let G=0;G<B.length;G++){const k=Sf(B[G]);b.includes(k)?A.delete(k):A.get(k)!==!0&&A.set(k,!1)}},[B,b.length,b.join("-")]);const Y=[];if(v!==R){let G=[...v];for(let k=0;k<B.length;k++){const C=B[k],M=Sf(C);b.includes(M)||(G.splice(k,0,C),Y.push(C))}return a==="wait"&&Y.length&&(G=Y),F(kS(G)),I(v),null}const{forceRender:H}=O.useContext(px);return y.jsx(y.Fragment,{children:B.map(G=>{const k=Sf(G),C=l&&!f?!1:v===B||b.includes(k),M=()=>{if(A.has(k))A.set(k,!0);else return;let P=!0;A.forEach(V=>{V||(P=!1)}),P&&(H?.(),F(S.current),l&&p?.(),i&&i())};return y.jsx(M9,{isPresent:C,initial:!w.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:h,onExitComplete:C?void 0:M,anchorX:u,children:G},k)})})},TN=O.createContext({strict:!1}),MS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xl={};for(const n in MS)Xl[n]={isEnabled:t=>MS[n].some(e=>!!t[e])};function P9(n){for(const t in n)Xl[t]={...Xl[t],...n[t]}}const O9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||O9.has(n)}let SN=n=>!Rm(n);function j9(n){typeof n=="function"&&(SN=t=>t.startsWith("on")?!Rm(t):n(t))}try{j9(require("@emotion/is-prop-valid").default)}catch{}function V9(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(SN(s)||e===!0&&Rm(s)||!t&&!Rm(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const rp=O.createContext({});function ap(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function yh(n){return typeof n=="string"||Array.isArray(n)}const zx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bx=["initial",...zx];function op(n){return ap(n.animate)||Bx.some(t=>yh(n[t]))}function EN(n){return!!(op(n)||n.variants)}function L9(n,t){if(op(n)){const{initial:e,animate:i}=n;return{initial:e===!1||yh(e)?e:void 0,animate:yh(i)?i:void 0}}return n.inherit!==!1?t:{}}function U9(n){const{initial:t,animate:e}=L9(n,O.useContext(rp));return O.useMemo(()=>({initial:t,animate:e}),[DS(t),DS(e)])}function DS(n){return Array.isArray(n)?n.join(" "):n}const vh={};function z9(n){for(const t in n)vh[t]=n[t],Ex(t)&&(vh[t].isCSSVariable=!0)}function AN(n,{layout:t,layoutId:e}){return mc.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!vh[n]||n==="opacity")}const B9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F9=fc.length;function H9(n,t,e){let i="",s=!0;for(let a=0;a<F9;a++){const l=fc[a],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||e){const f=gN(u,jx[l]);if(!h){s=!1;const p=B9[l]||l;i+=`${p}(${f}) `}e&&(t[l]=f)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function Fx(n,t,e){const{style:i,vars:s,transformOrigin:a}=n;let l=!1,u=!1;for(const h in t){const f=t[h];if(mc.has(h)){l=!0;continue}else if(Ex(h)){s[h]=f;continue}else{const p=gN(f,jx[h]);h.startsWith("origin")?(u=!0,a[h]=p):i[h]=p}}if(t.transform||(l||e?i.transform=H9(t,n.transform,e):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const Hx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CN(n,t,e){for(const i in t)!An(t[i])&&!AN(i,e)&&(n[i]=t[i])}function q9({transformTemplate:n},t){return O.useMemo(()=>{const e=Hx();return Fx(e,t,n),Object.assign({},e.vars,e.style)},[t])}function $9(n,t){const e=n.style||{},i={};return CN(i,e,n),Object.assign(i,q9(n,t)),i}function G9(n,t){const e={},i=$9(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const Q9={offset:"stroke-dashoffset",array:"stroke-dasharray"},W9={offset:"strokeDashoffset",array:"strokeDasharray"};function K9(n,t,e=1,i=0,s=!0){n.pathLength=1;const a=s?Q9:W9;n[a.offset]=It.transform(-i);const l=It.transform(t),u=It.transform(e);n[a.array]=`${l} ${u}`}function RN(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},h,f,p){if(Fx(n,u,f),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),s!==void 0&&K9(v,s,a,l,!1)}const NN=()=>({...Hx(),attrs:{}}),IN=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Y9(n,t,e,i){const s=O.useMemo(()=>{const a=NN();return RN(a,t,IN(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[t]);if(n.style){const a={};CN(a,n.style,n),s.style={...a,...s.style}}return s}const X9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qx(n){return typeof n!="string"||n.includes("-")?!1:!!(X9.indexOf(n)>-1||/[A-Z]/u.test(n))}function Z9(n,t,e,{latestValues:i},s,a=!1){const u=(qx(n)?Y9:G9)(t,i,s,n),h=V9(t,typeof n=="string",a),f=n!==O.Fragment?{...h,...u,ref:e}:{},{children:p}=t,v=O.useMemo(()=>An(p)?p.get():p,[p]);return O.createElement(n,{...f,children:v})}function PS(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function $x(n,t,e,i){if(typeof t=="function"){const[s,a]=PS(i);t=t(e!==void 0?e:n.custom,s,a)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,a]=PS(i);t=t(e!==void 0?e:n.custom,s,a)}return t}function tm(n){return An(n)?n.get():n}function J9({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:t7(e,i,s,n),renderState:t()}}function t7(n,t,e,i){const s={},a=i(n,{});for(const b in a)s[b]=tm(a[b]);let{initial:l,animate:u}=n;const h=op(n),f=EN(n);t&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||l===!1;const v=p?u:l;if(v&&typeof v!="boolean"&&!ap(v)){const b=Array.isArray(v)?v:[v];for(let w=0;w<b.length;w++){const S=$x(n,b[w]);if(S){const{transitionEnd:A,transition:R,...I}=S;for(const B in I){let F=I[B];if(Array.isArray(F)){const Y=p?F.length-1:0;F=F[Y]}F!==null&&(s[B]=F)}for(const B in A)s[B]=A[B]}}}return s}const kN=n=>(t,e)=>{const i=O.useContext(rp),s=O.useContext(sp),a=()=>J9(n,t,i,s);return e?a():gx(a)};function Gx(n,t,e){const{style:i}=n,s={};for(const a in i)(An(i[a])||t.style&&An(t.style[a])||AN(a,n)||e?.getValue(a)?.liveStyle!==void 0)&&(s[a]=i[a]);return s}const e7=kN({scrapeMotionValuesFromProps:Gx,createRenderState:Hx});function MN(n,t,e){const i=Gx(n,t,e);for(const s in n)if(An(n[s])||An(t[s])){const a=fc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const n7=kN({scrapeMotionValuesFromProps:MN,createRenderState:NN}),i7=Symbol.for("motionComponentSymbol");function kl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function s7(n,t,e){return O.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):kl(e)&&(e.current=i))},[t])}const Qx=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),r7="framerAppearId",DN="data-"+Qx(r7),PN=O.createContext({});function a7(n,t,e,i,s){const{visualElement:a}=O.useContext(rp),l=O.useContext(TN),u=O.useContext(sp),h=O.useContext(Ux).reducedMotion,f=O.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(n,{visualState:t,parent:a,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,v=O.useContext(PN);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&o7(f.current,e,s,v);const b=O.useRef(!1);O.useInsertionEffect(()=>{p&&b.current&&p.update(e,u)});const w=e[DN],S=O.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return kR(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),O.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),S.current=!1),p.enteringChildren=void 0)}),p}function o7(n,t,e,i){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:ON(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&kl(u),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:f})}function ON(n){if(n)return n.options.allowProjection!==!1?n.projection:ON(n.parent)}function O0(n,{forwardMotionProps:t=!1}={},e,i){e&&P9(e);const s=qx(n)?n7:e7;function a(u,h){let f;const p={...O.useContext(Ux),...u,layoutId:l7(u)},{isStatic:v}=p,b=U9(u),w=s(u,v);if(!v&&yx){c7();const S=u7(p);f=S.MeasureLayout,b.visualElement=a7(n,w,p,i,S.ProjectionNode)}return y.jsxs(rp.Provider,{value:b,children:[f&&b.visualElement?y.jsx(f,{visualElement:b.visualElement,...p}):null,Z9(n,u,s7(w,b.visualElement,h),w,v,t)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=O.forwardRef(a);return l[i7]=n,l}function l7({layoutId:n}){const t=O.useContext(px).id;return t&&n!==void 0?t+"-"+n:n}function c7(n,t){O.useContext(TN).strict}function u7(n){const{drag:t,layout:e}=Xl;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function h7(n,t){if(typeof Proxy>"u")return O0;const e=new Map,i=(a,l)=>O0(a,l,n,t),s=(a,l)=>i(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?i:(e.has(l)||e.set(l,O0(l,void 0,n,t)),e.get(l))})}function jN({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function d7({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function f7(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function j0(n){return n===void 0||n===1}function Hy({scale:n,scaleX:t,scaleY:e}){return!j0(n)||!j0(t)||!j0(e)}function ro(n){return Hy(n)||VN(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function VN(n){return OS(n.x)||OS(n.y)}function OS(n){return n&&n!=="0%"}function Nm(n,t,e){const i=n-e,s=t*i;return e+s}function jS(n,t,e,i,s){return s!==void 0&&(n=Nm(n,s,i)),Nm(n,e,i)+t}function qy(n,t=0,e=1,i,s){n.min=jS(n.min,t,e,i,s),n.max=jS(n.max,t,e,i,s)}function LN(n,{x:t,y:e}){qy(n.x,t.translate,t.scale,t.originPoint),qy(n.y,e.translate,e.scale,e.originPoint)}const VS=.999999999999,LS=1.0000000000001;function m7(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let a,l;for(let u=0;u<s;u++){a=e[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Dl(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,LN(n,l)),i&&ro(a.latestValues)&&Dl(n,a.latestValues))}t.x<LS&&t.x>VS&&(t.x=1),t.y<LS&&t.y>VS&&(t.y=1)}function Ml(n,t){n.min=n.min+t,n.max=n.max+t}function US(n,t,e,i,s=.5){const a=we(n.min,n.max,s);qy(n,t,e,a,i)}function Dl(n,t){US(n.x,t.x,t.scaleX,t.scale,t.originX),US(n.y,t.y,t.scaleY,t.scale,t.originY)}function UN(n,t){return jN(f7(n.getBoundingClientRect(),t))}function p7(n,t,e){const i=UN(n,e),{scroll:s}=t;return s&&(Ml(i.x,s.offset.x),Ml(i.y,s.offset.y)),i}const zS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pl=()=>({x:zS(),y:zS()}),BS=()=>({min:0,max:0}),De=()=>({x:BS(),y:BS()}),$y={current:null},zN={current:!1};function g7(){if(zN.current=!0,!!yx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>$y.current=n.matches;n.addEventListener("change",t),t()}else $y.current=!1}const y7=new WeakMap;function v7(n,t,e){for(const i in t){const s=t[i],a=e[i];if(An(s))n.addValue(i,s);else if(An(a))n.addValue(i,Yl(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,Yl(l!==void 0?l:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const FS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class x7{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Px,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Hn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,be.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=op(e),this.isVariantNode=EN(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in v){const w=v[b];h[b]!==void 0&&An(w)&&w.set(h[b])}}mount(t){this.current=t,y7.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),zN.current||g7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$y.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ma(this.notifyUpdate),ma(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=mc.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&be.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xl){const e=Xl[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<FS.length;i++){const s=FS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=v7(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Yl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(MR(i)||PR(i))?i=parseFloat(i):!N9(i)&&pa.test(e)&&(i=pN(t,e)),this.setBaseTarget(t,An(i)?i.get():i)),An(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const a=$x(this.props,e,this.presenceContext?.custom);a&&(i=a[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!An(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new wx),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Vx.render(this.render)}}class BN extends x7{constructor(){super(...arguments),this.KeyframeResolver=y9}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function FN(n,{style:t,vars:e},i,s){const a=n.style;let l;for(l in t)a[l]=t[l];s?.applyProjectionStyles(a,i);for(l in e)a.setProperty(l,e[l])}function b7(n){return window.getComputedStyle(n)}class _7 extends BN{constructor(){super(...arguments),this.type="html",this.renderInstance=FN}readValueFromInstance(t,e){if(mc.has(e))return this.projection?.isProjecting?jy(e):jL(t,e);{const i=b7(t),s=(Ex(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return UN(t,e)}build(t,e,i){Fx(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return Gx(t,e,i)}}const HN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function w7(n,t,e,i){FN(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(HN.has(s)?s:Qx(s),t.attrs[s])}class T7 extends BN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=De}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(mc.has(e)){const i=mN(e);return i&&i.default||0}return e=HN.has(e)?e:Qx(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return MN(t,e,i)}build(t,e,i){RN(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){w7(t,e,i,s)}mount(t){this.isSVGTag=IN(t.tagName),super.mount(t)}}const S7=(n,t)=>qx(n)?new T7(t):new _7(t,{allowProjection:n!==O.Fragment});function Ul(n,t,e){const i=n.getProps();return $x(i,t,e!==void 0?e:i.custom,n)}const Gy=n=>Array.isArray(n);function E7(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Yl(e))}function A7(n){return Gy(n)?n[n.length-1]||0:n}function C7(n,t){const e=Ul(n,t);let{transitionEnd:i={},transition:s={},...a}=e||{};a={...a,...i};for(const l in a){const u=A7(a[l]);E7(n,l,u)}}function R7(n){return!!(An(n)&&n.add)}function Qy(n,t){const e=n.getValue("willChange");if(R7(e))return e.add(t);if(!e&&ur.WillChange){const i=new ur.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function qN(n){return n.props[DN]}const N7=n=>n!==null;function I7(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(N7),a=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[a]}const k7={type:"spring",stiffness:500,damping:25,restSpeed:10},M7=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),D7={type:"keyframes",duration:.8},P7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O7=(n,{keyframes:t})=>t.length>2?D7:mc.has(n)?n.startsWith("scale")?M7(t[1]):k7:P7;function j7({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const Wx=(n,t,e,i={},s,a)=>l=>{const u=Ox(i,n)||{},h=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-fs(h);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:t,element:a?void 0:s};j7(u)||Object.assign(p,O7(n,p)),p.duration&&(p.duration=fs(p.duration)),p.repeatDelay&&(p.repeatDelay=fs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(By(p),p.delay===0&&(v=!0)),(ur.instantAnimations||ur.skipAnimations)&&(v=!0,By(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,v&&!a&&t.get()!==void 0){const b=I7(p.keyframes,u);if(b!==void 0){be.update(()=>{p.onUpdate(b),p.onComplete()});return}}return u.isSync?new Dx(p):new r9(p)};function V7({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function $N(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...u}=t;i&&(a=i);const h=[],f=s&&n.animationState&&n.animationState.getState()[s];for(const p in u){const v=n.getValue(p,n.latestValues[p]??null),b=u[p];if(b===void 0||f&&V7(f,p))continue;const w={delay:e,...Ox(a||{},p)},S=v.get();if(S!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===S&&!w.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const I=qN(n);if(I){const B=window.MotionHandoffAnimation(I,p,be);B!==null&&(w.startTime=B,A=!0)}}Qy(n,p),v.start(Wx(p,v,b,n.shouldReduceMotion&&hN.has(p)?{type:!1}:w,n,A));const R=v.animation;R&&h.push(R)}return l&&Promise.all(h).then(()=>{be.update(()=>{l&&C7(n,l)})}),h}function GN(n,t,e,i=0,s=1){const a=Array.from(n).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),l=n.size,u=(l-1)*i;return typeof e=="function"?e(a,l):s===1?a*i:u-a*i}function Wy(n,t,e={}){const i=Ul(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const a=i?()=>Promise.all($N(n,i,e)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:v}=s;return L7(n,t,h,f,p,v,e)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,f]=u==="beforeChildren"?[a,l]:[l,a];return h().then(()=>f())}else return Promise.all([a(),l(e.delay)])}function L7(n,t,e=0,i=0,s=0,a=1,l){const u=[];for(const h of n.variantChildren)h.notify("AnimationStart",t),u.push(Wy(h,t,{...l,delay:e+(typeof i=="function"?0:i)+GN(n.variantChildren,h,i,s,a)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(u)}function U7(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>Wy(n,a,e));i=Promise.all(s)}else if(typeof t=="string")i=Wy(n,t,e);else{const s=typeof t=="function"?Ul(n,t,e.custom):t;i=Promise.all($N(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function QN(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const z7=Bx.length;function WN(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?WN(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<z7;e++){const i=Bx[e],s=n.props[i];(yh(s)||s===!1)&&(t[i]=s)}return t}const B7=[...zx].reverse(),F7=zx.length;function H7(n){return t=>Promise.all(t.map(({animation:e,options:i})=>U7(n,e,i)))}function q7(n){let t=H7(n),e=HS(),i=!0;const s=h=>(f,p)=>{const v=Ul(n,p,h==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:w,...S}=v;f={...f,...S,...w}}return f};function a(h){t=h(n)}function l(h){const{props:f}=n,p=WN(n.parent)||{},v=[],b=new Set;let w={},S=1/0;for(let R=0;R<F7;R++){const I=B7[R],B=e[I],F=f[I]!==void 0?f[I]:p[I],Y=yh(F),H=I===h?B.isActive:null;H===!1&&(S=R);let G=F===p[I]&&F!==f[I]&&Y;if(G&&i&&n.manuallyAnimateOnMount&&(G=!1),B.protectedKeys={...w},!B.isActive&&H===null||!F&&!B.prevProp||ap(F)||typeof F=="boolean")continue;const k=$7(B.prevProp,F);let C=k||I===h&&B.isActive&&!G&&Y||R>S&&Y,M=!1;const P=Array.isArray(F)?F:[F];let V=P.reduce(s(I),{});H===!1&&(V={});const{prevResolvedValues:L={}}=B,j={...L,...V},nt=J=>{C=!0,b.has(J)&&(M=!0,b.delete(J)),B.needsAnimating[J]=!0;const ct=n.getValue(J);ct&&(ct.liveStyle=!1)};for(const J in j){const ct=V[J],gt=L[J];if(w.hasOwnProperty(J))continue;let U=!1;Gy(ct)&&Gy(gt)?U=!QN(ct,gt):U=ct!==gt,U?ct!=null?nt(J):b.add(J):ct!==void 0&&b.has(J)?nt(J):B.protectedKeys[J]=!0}B.prevProp=F,B.prevResolvedValues=V,B.isActive&&(w={...w,...V}),i&&n.blockInitialAnimation&&(C=!1);const rt=G&&k;C&&(!rt||M)&&v.push(...P.map(J=>{const ct={type:I};if(typeof J=="string"&&i&&!rt&&n.manuallyAnimateOnMount&&n.parent){const{parent:gt}=n,U=Ul(gt,J);if(gt.enteringChildren&&U){const{delayChildren:it}=U.transition||{};ct.delay=GN(gt.enteringChildren,n,it)}}return{animation:J,options:ct}}))}if(b.size){const R={};if(typeof f.initial!="boolean"){const I=Ul(n,Array.isArray(f.initial)?f.initial[0]:f.initial);I&&I.transition&&(R.transition=I.transition)}b.forEach(I=>{const B=n.getBaseTarget(I),F=n.getValue(I);F&&(F.liveStyle=!0),R[I]=B??null}),v.push({animation:R})}let A=!!v.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?t(v):Promise.resolve()}function u(h,f){if(e[h].isActive===f)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(h,f)),e[h].isActive=f;const p=l(h);for(const v in e)e[v].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>e,reset:()=>{e=HS(),i=!0}}}function $7(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!QN(t,n):!1}function to(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HS(){return{animate:to(!0),whileInView:to(),whileHover:to(),whileTap:to(),whileDrag:to(),whileFocus:to(),exit:to()}}class ba{constructor(t){this.isMounted=!1,this.node=t}update(){}}class G7 extends ba{constructor(t){super(t),t.animationState||(t.animationState=q7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ap(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Q7=0;class W7 extends ba{constructor(){super(...arguments),this.id=Q7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const K7={animation:{Feature:G7},exit:{Feature:W7}};function xh(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function Hh(n){return{point:{x:n.pageX,y:n.pageY}}}const Y7=n=>t=>Lx(t)&&n(t,Hh(t));function Xu(n,t,e,i){return xh(n,t,Y7(e),i)}const KN=1e-4,X7=1-KN,Z7=1+KN,YN=.01,J7=0-YN,t8=0+YN;function Pn(n){return n.max-n.min}function e8(n,t,e){return Math.abs(n-t)<=e}function qS(n,t,e,i=.5){n.origin=i,n.originPoint=we(t.min,t.max,n.origin),n.scale=Pn(e)/Pn(t),n.translate=we(e.min,e.max,n.origin)-n.originPoint,(n.scale>=X7&&n.scale<=Z7||isNaN(n.scale))&&(n.scale=1),(n.translate>=J7&&n.translate<=t8||isNaN(n.translate))&&(n.translate=0)}function Zu(n,t,e,i){qS(n.x,t.x,e.x,i?i.originX:void 0),qS(n.y,t.y,e.y,i?i.originY:void 0)}function $S(n,t,e){n.min=e.min+t.min,n.max=n.min+Pn(t)}function n8(n,t,e){$S(n.x,t.x,e.x),$S(n.y,t.y,e.y)}function GS(n,t,e){n.min=t.min-e.min,n.max=n.min+Pn(t)}function Ju(n,t,e){GS(n.x,t.x,e.x),GS(n.y,t.y,e.y)}function vi(n){return[n("x"),n("y")]}const XN=({current:n})=>n?n.ownerDocument.defaultView:null,QS=(n,t)=>Math.abs(n-t);function i8(n,t){const e=QS(n.x,t.x),i=QS(n.y,t.y);return Math.sqrt(e**2+i**2)}class ZN{constructor(t,e,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=L0(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=i8(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!S)return;const{point:A}=b,{timestamp:R}=mn;this.history.push({...A,timestamp:R});const{onStart:I,onMove:B}=this.handlers;w||(I&&I(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=V0(w,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:S,onSessionEnd:A,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=L0(b.type==="pointercancel"?this.lastMoveEventInfo:V0(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(b,I),A&&A(b,I)},!Lx(t))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const u=Hh(t),h=V0(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=mn;this.history=[{...f,timestamp:p}];const{onSessionStart:v}=e;v&&v(t,L0(h,this.history)),this.removeListeners=zh(Xu(this.contextWindow,"pointermove",this.handlePointerMove),Xu(this.contextWindow,"pointerup",this.handlePointerUp),Xu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ma(this.updatePoint)}}function V0(n,t){return t?{point:t(n.point)}:n}function WS(n,t){return{x:n.x-t.x,y:n.y-t.y}}function L0({point:n},t){return{point:n,delta:WS(n,JN(t)),offset:WS(n,s8(t)),velocity:r8(t,.1)}}function s8(n){return n[0]}function JN(n){return n[n.length-1]}function r8(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=JN(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>fs(t)));)e--;if(!i)return{x:0,y:0};const a=ms(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function a8(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?we(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?we(e,n,i.max):Math.min(n,e)),n}function KS(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function o8(n,{top:t,left:e,bottom:i,right:s}){return{x:KS(n.x,e,s),y:KS(n.y,t,i)}}function YS(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function l8(n,t){return{x:YS(n.x,t.x),y:YS(n.y,t.y)}}function c8(n,t){let e=.5;const i=Pn(n),s=Pn(t);return s>i?e=mh(t.min,t.max-i,n.min):i>s&&(e=mh(n.min,n.max-s,t.min)),cr(0,1,e)}function u8(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Ky=.35;function h8(n=Ky){return n===!1?n=0:n===!0&&(n=Ky),{x:XS(n,"left","right"),y:XS(n,"top","bottom")}}function XS(n,t,e){return{min:ZS(n,t),max:ZS(n,e)}}function ZS(n,t){return typeof n=="number"?n:n[t]||0}const d8=new WeakMap;class f8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Hh(v).point)},l=(v,b)=>{const{drag:w,dragPropagation:S,onDragStart:A}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_9(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vi(I=>{let B=this.getAxisMotionValue(I).get()||0;if(ps.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const Y=F.layout.layoutBox[I];Y&&(B=Pn(Y)*(parseFloat(B)/100))}}this.originPoint[I]=B}),A&&be.postRender(()=>A(v,b)),Qy(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:A,onDrag:R}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:I}=b;if(S&&this.currentDirection===null){this.currentDirection=m8(I),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,I),this.updateAxis("y",b.point,I),this.visualElement.render(),R&&R(v,b)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>vi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ZN(t,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:XN(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,s=e||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&be.postRender(()=>u(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!Ef(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=a8(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&kl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=o8(i.layoutBox,t):this.constraints=!1,this.elastic=h8(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=u8(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!kl(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=p7(i,s.root,this.visualElement.getTransformPagePoint());let l=l8(s.layout.layoutBox,a);if(e){const u=e(d7(l));this.hasMutatedConstraints=!!u,u&&(l=jN(u))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=vi(p=>{if(!Ef(p,e,this.currentDirection))return;let v=h&&h[p]||{};l&&(v={min:0,max:0});const b=s?200:1e6,w=s?40:1e7,S={type:"inertia",velocity:i?t[p]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(p,S)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Qy(this.visualElement,t),i.start(Wx(t,i,0,e,this.visualElement,!1))}stopAnimation(){vi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){vi(e=>{const{drag:i}=this.getProps();if(!Ef(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[e];a.set(t[e]-we(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!kl(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vi(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=c8({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),vi(l=>{if(!Ef(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(we(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;d8.set(this.visualElement,this);const t=this.visualElement.current,e=Xu(t,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();kl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),be.read(i);const l=xh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(vi(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=h[p].translate,v.set(v.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),e(),a(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Ky,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Ef(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function m8(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class p8 extends ba{constructor(t){super(t),this.removeGroupControls=wi,this.removeListeners=wi,this.controls=new f8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wi}unmount(){this.removeGroupControls(),this.removeListeners()}}const JS=n=>(t,e)=>{n&&be.postRender(()=>n(t,e))};class g8 extends ba{constructor(){super(...arguments),this.removePointerDownListener=wi}onPointerDown(t){this.session=new ZN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:JS(t),onStart:JS(e),onMove:i,onEnd:(a,l)=>{delete this.session,s&&be.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Xu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const em={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tE(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Au={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(It.test(n))n=parseFloat(n);else return n;const e=tE(n,t.target.x),i=tE(n,t.target.y);return`${e}% ${i}%`}},y8={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=pa.parse(n);if(s.length>5)return i;const a=pa.createTransformer(n),l=typeof s[0]!="number"?1:0,u=e.x.scale*t.x,h=e.y.scale*t.y;s[0+l]/=u,s[1+l]/=h;const f=we(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),a(s)}};let U0=!1;class v8 extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;z9(x8),a&&(e.group&&e.group.add(a),i&&i.register&&s&&i.register(a),U0&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),em.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,U0=!0,s||t.layoutDependency!==e||e===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||be.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vx.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;U0=!0,s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tI(n){const[t,e]=wN(),i=O.useContext(px);return y.jsx(v8,{...n,layoutGroup:i,switchLayoutGroup:O.useContext(PN),isPresent:t,safeToRemove:e})}const x8={borderRadius:{...Au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Au,borderTopRightRadius:Au,borderBottomLeftRadius:Au,borderBottomRightRadius:Au,boxShadow:y8};function b8(n,t,e){const i=An(n)?n:Yl(n);return i.start(Wx("",i,t,e)),i.animation}const _8=(n,t)=>n.depth-t.depth;class w8{constructor(){this.children=[],this.isDirty=!1}add(t){vx(this.children,t),this.isDirty=!0}remove(t){xx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_8),this.isDirty=!1,this.children.forEach(t)}}function T8(n,t){const e=Hn.now(),i=({timestamp:s})=>{const a=s-e;a>=t&&(ma(i),n(a-t))};return be.setup(i,!0),()=>ma(i)}const eI=["TopLeft","TopRight","BottomLeft","BottomRight"],S8=eI.length,eE=n=>typeof n=="string"?parseFloat(n):n,nE=n=>typeof n=="number"||It.test(n);function E8(n,t,e,i,s,a){s?(n.opacity=we(0,e.opacity??1,A8(i)),n.opacityExit=we(t.opacity??1,0,C8(i))):a&&(n.opacity=we(t.opacity??1,e.opacity??1,i));for(let l=0;l<S8;l++){const u=`border${eI[l]}Radius`;let h=iE(t,u),f=iE(e,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||nE(h)===nE(f)?(n[u]=Math.max(we(eE(h),eE(f),i),0),(ps.test(f)||ps.test(h))&&(n[u]+="%")):n[u]=f}(t.rotate||e.rotate)&&(n.rotate=we(t.rotate||0,e.rotate||0,i))}function iE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const A8=nI(0,.5,FR),C8=nI(.5,.95,wi);function nI(n,t,e){return i=>i<n?0:i>t?1:e(mh(n,t,i))}function sE(n,t){n.min=t.min,n.max=t.max}function gi(n,t){sE(n.x,t.x),sE(n.y,t.y)}function rE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function aE(n,t,e,i,s){return n-=t,n=Nm(n,1/e,i),s!==void 0&&(n=Nm(n,1/s,i)),n}function R8(n,t=0,e=1,i=.5,s,a=n,l=n){if(ps.test(t)&&(t=parseFloat(t),t=we(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=we(a.min,a.max,i);n===a&&(u-=t),n.min=aE(n.min,t,e,u,s),n.max=aE(n.max,t,e,u,s)}function oE(n,t,[e,i,s],a,l){R8(n,t[e],t[i],t[s],t.scale,a,l)}const N8=["x","scaleX","originX"],I8=["y","scaleY","originY"];function lE(n,t,e,i){oE(n.x,t,N8,e?e.x:void 0,i?i.x:void 0),oE(n.y,t,I8,e?e.y:void 0,i?i.y:void 0)}function cE(n){return n.translate===0&&n.scale===1}function iI(n){return cE(n.x)&&cE(n.y)}function uE(n,t){return n.min===t.min&&n.max===t.max}function k8(n,t){return uE(n.x,t.x)&&uE(n.y,t.y)}function hE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function sI(n,t){return hE(n.x,t.x)&&hE(n.y,t.y)}function dE(n){return Pn(n.x)/Pn(n.y)}function fE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class M8{constructor(){this.members=[]}add(t){vx(this.members,t),t.scheduleRender()}remove(t){if(xx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D8(n,t,e){let i="";const s=n.x.translate/t.x,a=n.y.translate/t.y,l=e?.z||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:v,rotateY:b,skewX:w,skewY:S}=e;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),w&&(i+=`skewX(${w}deg) `),S&&(i+=`skewY(${S}deg) `)}const u=n.x.scale*t.x,h=n.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const z0=["","X","Y","Z"],P8=1e3;let O8=0;function B0(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function rI(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=qN(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",be,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&rI(i)}function aI({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=t?.()){this.id=O8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(L8),this.nodes.forEach(F8),this.nodes.forEach(H8),this.nodes.forEach(U8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new w8)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new wx),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=_N(l)&&!C9(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let p,v=0;const b=()=>this.root.updateBlockedByResize=!1;be.read(()=>{v=window.innerWidth}),n(l,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,p&&p(),p=T8(b,250),em.hasAnimatedSinceResize&&(em.hasAnimatedSinceResize=!1,this.nodes.forEach(gE)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||W8,{onLayoutAnimationStart:A,onLayoutAnimationComplete:R}=f.getProps(),I=!this.targetLayout||!sI(this.targetLayout,w),B=!v&&b;if(this.options.layoutRoot||this.resumeFrom||B||v&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Ox(S,"layout"),onPlay:A,onComplete:R};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(p,B)}else v||gE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q8),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(B8),this.nodes.forEach(j8),this.nodes.forEach(V8)):this.nodes.forEach(pE),this.clearAllSnapshots();const u=Hn.now();mn.delta=cr(0,1e3/60,u-mn.timestamp),mn.timestamp=u,mn.isProcessing=!0,N0.update.process(mn),N0.preRender.process(mn),N0.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z8),this.sharedNodes.forEach($8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pn(this.snapshot.measuredBox.x)&&!Pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!iI(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||ro(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),K8(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return De();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Y8))){const{scroll:f}=this.root;f&&(Ml(u.x,f.offset.x),Ml(u.y,f.offset.y))}return u}removeElementScroll(l){const u=De();if(gi(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:v}=f;f!==this.root&&p&&v.layoutScroll&&(p.wasRoot&&gi(u,l),Ml(u.x,p.offset.x),Ml(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const h=De();gi(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Dl(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ro(p.latestValues)&&Dl(h,p.latestValues)}return ro(this.latestValues)&&Dl(h,this.latestValues),h}removeTransform(l){const u=De();gi(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!ro(f.latestValues))continue;Hy(f.latestValues)&&f.updateSnapshot();const p=De(),v=f.measurePageBox();gi(p,v),lE(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return ro(this.latestValues)&&lE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Ju(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gi(this.target,this.layout.layoutBox),LN(this.target,this.targetDelta)):gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Ju(this.relativeTargetOrigin,this.target,b.target),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Hy(this.parent.latestValues)||VN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;gi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;m7(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=De());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rE(this.prevProjectionDelta.x,this.projectionDelta.x),rE(this.prevProjectionDelta.y,this.projectionDelta.y)),Zu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!fE(this.projectionDelta.x,this.prevProjectionDelta.x)||!fE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pl(),this.projectionDelta=Pl(),this.projectionDeltaWithTransform=Pl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},v=Pl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=De(),w=h?h.source:void 0,S=this.layout?this.layout.source:void 0,A=w!==S,R=this.getStack(),I=!R||R.members.length<=1,B=!!(A&&!I&&this.options.crossfade===!0&&!this.path.some(Q8));this.animationProgress=0;let F;this.mixTargetDelta=Y=>{const H=Y/1e3;yE(v.x,l.x,H),yE(v.y,l.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ju(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G8(this.relativeTarget,this.relativeTargetOrigin,b,H),F&&k8(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=De()),gi(F,this.relativeTarget)),A&&(this.animationValues=p,E8(p,f,this.latestValues,H,B,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{em.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yl(0)),this.currentAnimation=b8(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:p}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&oI(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||De();const v=Pn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const b=Pn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+b}gi(u,h),Dl(u,p),Zu(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new M8),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&B0("z",l,f,this.animationValues);for(let p=0;p<z0.length;p++)B0(`rotate${z0[p]}`,l,f,this.animationValues),B0(`skew${z0[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=tm(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=tm(u?.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let v=D8(this.projectionDeltaWithTransform,this.treeScale,p);h&&(v=h(p,v)),l.transform=v;const{x:b,y:w}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in vh){if(p[S]===void 0)continue;const{correct:A,applyTo:R,isCSSVariable:I}=vh[S],B=v==="none"?p[S]:A(p[S],f);if(R){const F=R.length;for(let Y=0;Y<F;Y++)l[R[Y]]=B}else I?this.options.visualElement.renderState.vars[S]=B:l[S]=B}this.options.layoutId&&(l.pointerEvents=f===this?tm(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(mE),this.root.sharedNodes.clear()}}}function j8(n){n.updateLayout()}function V8(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?vi(p=>{const v=a?t.measuredBox[p]:t.layoutBox[p],b=Pn(v);v.min=e[p].min,v.max=v.min+b}):oI(s,t.layoutBox,e)&&vi(p=>{const v=a?t.measuredBox[p]:t.layoutBox[p],b=Pn(e[p]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+b)});const l=Pl();Zu(l,e,t.layoutBox);const u=Pl();a?Zu(u,n.applyTransform(i,!0),t.measuredBox):Zu(u,e,t.layoutBox);const h=!iI(l);let f=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:b}=p;if(v&&b){const w=De();Ju(w,t.layoutBox,v.layoutBox);const S=De();Ju(S,e,b.layoutBox),sI(w,S)||(f=!0),p.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=w,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function L8(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function U8(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function z8(n){n.clearSnapshot()}function mE(n){n.clearMeasurements()}function pE(n){n.isLayoutDirty=!1}function B8(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function gE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function F8(n){n.resolveTargetDelta()}function H8(n){n.calcProjection()}function q8(n){n.resetSkewAndRotation()}function $8(n){n.removeLeadSnapshot()}function yE(n,t,e){n.translate=we(t.translate,0,e),n.scale=we(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function vE(n,t,e,i){n.min=we(t.min,e.min,i),n.max=we(t.max,e.max,i)}function G8(n,t,e,i){vE(n.x,t.x,e.x,i),vE(n.y,t.y,e.y,i)}function Q8(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const W8={duration:.45,ease:[.4,0,.1,1]},xE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),bE=xE("applewebkit/")&&!xE("chrome/")?Math.round:wi;function _E(n){n.min=bE(n.min),n.max=bE(n.max)}function K8(n){_E(n.x),_E(n.y)}function oI(n,t,e){return n==="position"||n==="preserve-aspect"&&!e8(dE(t),dE(e),.2)}function Y8(n){return n!==n.root&&n.scroll?.wasRoot}const X8=aI({attachResizeListener:(n,t)=>xh(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),F0={current:void 0},lI=aI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!F0.current){const n=new X8({});n.mount(window),n.setOptions({layoutScroll:!0}),F0.current=n}return F0.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Z8={pan:{Feature:g8},drag:{Feature:p8,ProjectionNode:lI,MeasureLayout:tI}};function wE(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=i[s];a&&be.postRender(()=>a(t,Hh(t)))}class J8 extends ba{mount(){const{current:t}=this.node;t&&(this.unmount=w9(t,(e,i)=>(wE(this.node,i,"Start"),s=>wE(this.node,s,"End"))))}unmount(){}}class tU extends ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zh(xh(this.node.current,"focus",()=>this.onFocus()),xh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TE(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=i[s];a&&be.postRender(()=>a(t,Hh(t)))}class eU extends ba{mount(){const{current:t}=this.node;t&&(this.unmount=A9(t,(e,i)=>(TE(this.node,i,"Start"),(s,{success:a})=>TE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yy=new WeakMap,H0=new WeakMap,nU=n=>{const t=Yy.get(n.target);t&&t(n)},iU=n=>{n.forEach(nU)};function sU({root:n,...t}){const e=n||document;H0.has(e)||H0.set(e,{});const i=H0.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(iU,{root:n,...t})),i[s]}function rU(n,t,e){const i=sU(t);return Yy.set(n,e),i.observe(n),()=>{Yy.delete(n),i.unobserve(n)}}const aU={some:0,all:1};class oU extends ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:a}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:aU[s]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),b=f?p:v;b&&b(h)};return rU(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(lU(t,e))&&this.startObserver()}unmount(){}}function lU({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const cU={inView:{Feature:oU},tap:{Feature:eU},focus:{Feature:tU},hover:{Feature:J8}},uU={layout:{ProjectionNode:lI,MeasureLayout:tI}},hU={...K7,...cU,...Z8,...uU},kt=h7(hU,S7),dU=()=>{const n=On(),{organizedAttempts:t,loading:e,error:i}=D6(),s=O.useMemo(()=>Object.keys(t),[t]),{courses:a,loading:l}=dx(s),u=O.useMemo(()=>Object.entries(t).flatMap(([rt,$])=>Object.keys($.chapters).map(J=>({courseId:rt,chapterId:J}))),[t]),{chapters:h,loading:f}=fx(u),p=O.useMemo(()=>Object.entries(t).flatMap(([rt,$])=>Object.entries($.chapters).flatMap(([J,ct])=>ct.attempts.map(gt=>({courseId:rt,chapterId:J,sectionId:gt.sectionId})))),[t]),{sections:v,loading:b}=mx(p),[w,S]=O.useState({}),[A,R]=O.useState({}),I=O.useMemo(()=>{let rt=0,$=0,J=0,ct=0;Object.values(t).forEach(U=>{rt+=U.stats.totalAttempts,ct=Math.max(ct,U.stats.highestScore),Object.values(U.chapters).forEach(it=>{it.attempts.forEach(dt=>{$+=dt.score,J+=dt.totalQuestions})})});const gt=rt>0?Math.round($/J*100):0;return{totalAttempts:rt,averageScore:gt,highestScore:ct}},[t]),B=rt=>a[rt]?.Subject||rt,F=rt=>h[rt]?.Title||rt,Y=rt=>v[rt]?.SectionName||rt,H=rt=>{S($=>({...$,[rt]:!$[rt]}))},G=(rt,$)=>{R(J=>({...J,[`${rt}-${$}`]:!J[`${rt}-${$}`]}))},k=rt=>{if(!rt)return"N/A";try{return rt=rt.toDate?rt.toDate():rt,rt.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return"N/A"}},C=(rt,$)=>Math.round(rt/$*100),M=rt=>rt>=80?"text-green-600":rt>=60?"text-yellow-600":"text-red-600",P=rt=>rt>=80?"":rt>=60?"":"",V=rt=>{const $=hc.currentUser;n("/home/score/sectionScore",{state:{courseId:rt.courseId,chapterId:rt.chapterId,sectionId:rt.sectionId,userId:$.uid}})},L={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},j={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.4}}},nt={hidden:{opacity:0,height:0,transition:{duration:.3}},visible:{opacity:1,height:"auto",transition:{duration:.4}}};return e||l||f||b?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Loading Results"}),y.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your quiz data..."})]})}):i?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:y.jsxs(kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-lg p-8 max-w-md text-center",children:[y.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Results"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your quiz attempts. Please try again later."}),y.jsx("button",{onClick:()=>n("/home"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Return Home"})]})}):Object.keys(t).length===0?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-8 max-w-md text-center",children:[y.jsx("div",{className:"text-gray-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Quiz Results Yet"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't completed any quizzes yet. Start practicing to see your results here!"}),y.jsx("button",{onClick:()=>n("/home/practice"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium mr-3",children:"Start Practicing"}),y.jsx("button",{onClick:()=>n("/home"),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"Return Home"})]})}):y.jsx("div",{className:"min-h-screen bg-gradient-to-br p-4 md:p-6",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs(kt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quiz Results"}),y.jsx("p",{className:"text-gray-600",children:"Review your performance across all courses"})]}),y.jsx("button",{onClick:()=>n("/home"),className:"hidden md:block mt-4 md:mt-0 px-5 py-2.5 bg-white text-blue-600 rounded-lg border border-blue-200 hover:bg-blue-50 font-medium shadow-sm",children:" Back to Home"})]}),y.jsxs(kt.div,{variants:L,initial:"hidden",animate:"visible",className:"hidden md:block bg-white rounded-2xl shadow-lg p-6 mb-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Overall Performance"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs(kt.div,{variants:j,className:"bg-blue-50 rounded-xl p-5 text-center",children:[y.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:I.totalAttempts}),y.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Total Attempts"})]}),y.jsxs(kt.div,{variants:j,className:"bg-green-50 rounded-xl p-5 text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[I.averageScore,"%"]}),y.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Average Score"})]}),y.jsxs(kt.div,{variants:j,className:"bg-purple-50 rounded-xl p-5 text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[I.highestScore,"%"]}),y.jsx("p",{className:"text-sm text-purple-800 font-medium",children:"Highest Score"})]})]})]}),y.jsx(kt.div,{variants:L,initial:"hidden",animate:"visible",className:"space-y-6",children:Object.entries(t).map(([rt,$])=>y.jsxs(kt.div,{variants:j,className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors border-b border-gray-200",onClick:()=>H(rt),children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"bg-blue-100 p-3 rounded-xl mr-4",children:y.jsx("span",{className:"text-blue-600 text-xl",children:""})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:B(rt)}),y.jsxs("p",{className:"text-gray-600",children:[$.stats.chaptersCount," chapters"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsxs("div",{className:"mr-4 text-right",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Best Score"}),y.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[$.stats.highestScore,"%"]})]}),y.jsx("span",{className:"text-gray-500 text-xl",children:w[rt]?"":""})]})]})}),y.jsx(ra,{children:w[rt]&&y.jsx(kt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:nt,className:"p-6 bg-gray-50",children:Object.entries($.chapters).map(([J,ct])=>y.jsxs(kt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 last:mb-0 bg-white rounded-xl shadow-sm overflow-hidden",children:[y.jsx("div",{className:"p-5 cursor-pointer hover:bg-gray-50 transition-colors border-b border-gray-200",onClick:()=>G(rt,J),children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"bg-green-100 p-2.5 rounded-lg mr-4",children:y.jsx("span",{className:"text-green-600",children:""})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:F(J)}),y.jsxs("p",{className:"text-sm text-gray-600",children:[ct.stats.totalAttempts," attempts"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsxs("div",{className:"mr-4 text-right",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Best Score"}),y.jsxs("p",{className:"font-bold text-green-600",children:[ct.stats.highestScore,"%"]})]}),y.jsx("span",{className:"text-gray-500",children:A[`${rt}-${J}`]?"":""})]})]})}),y.jsx(ra,{children:A[`${rt}-${J}`]&&y.jsxs(kt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:nt,className:"p-5 bg-gray-50",children:[y.jsxs("h4",{className:"font-medium text-gray-700 mb-4 flex items-center",children:[y.jsx("span",{className:"mr-2",children:""})," Recent Attempts"]}),y.jsx("div",{className:"space-y-4",children:ct.attempts.sort((gt,U)=>U.timestamp?.toMillis()-gt.timestamp?.toMillis()).slice(0,5).map((gt,U)=>{const it=C(gt.score,gt.totalQuestions);return y.jsx(kt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:U*.1},className:"bg-white rounded-lg p-4 shadow border border-gray-200 hover:shadow-md transition-shadow",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[y.jsxs("div",{className:"mb-3 md:mb-0 md:flex-1",children:[y.jsxs("div",{className:"flex items-center mb-2",children:[y.jsx("span",{className:"text-xl mr-3",children:P(it)}),y.jsx("h5",{className:"font-medium text-gray-800",children:Y(gt.sectionId)})]}),y.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[y.jsxs("span",{children:[y.jsx("span",{className:"font-medium",children:"Score:"})," ",gt.score,"/",gt.totalQuestions]}),y.jsxs("span",{className:M(it),children:[y.jsx("span",{className:"font-medium",children:"Percentage:"})," ",it,"%"]}),y.jsxs("span",{children:[y.jsx("span",{className:"font-medium",children:"Date:"})," ",k(gt.timestamp)]})]})]}),y.jsx("button",{className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium whitespace-nowrap",onClick:()=>V(gt),children:"View Details"})]})},U)})})]})})]},J))})})]},rt))})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qh(n){return n+.5|0}const Xr=(n,t,e)=>Math.max(Math.min(n,e),t);function Uu(n){return Xr(qh(n*2.55),0,255)}function aa(n){return Xr(qh(n*255),0,255)}function Xs(n){return Xr(qh(n/2.55)/100,0,1)}function SE(n){return Xr(qh(n*100),0,100)}const yi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Xy=[..."0123456789ABCDEF"],fU=n=>Xy[n&15],mU=n=>Xy[(n&240)>>4]+Xy[n&15],Af=n=>(n&240)>>4===(n&15),pU=n=>Af(n.r)&&Af(n.g)&&Af(n.b)&&Af(n.a);function gU(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&yi[n[1]]*17,g:255&yi[n[2]]*17,b:255&yi[n[3]]*17,a:t===5?yi[n[4]]*17:255}:(t===7||t===9)&&(e={r:yi[n[1]]<<4|yi[n[2]],g:yi[n[3]]<<4|yi[n[4]],b:yi[n[5]]<<4|yi[n[6]],a:t===9?yi[n[7]]<<4|yi[n[8]]:255})),e}const yU=(n,t)=>n<255?t(n):"";function vU(n){var t=pU(n)?fU:mU;return n?"#"+t(n.r)+t(n.g)+t(n.b)+yU(n.a,t):void 0}const xU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cI(n,t,e){const i=t*Math.min(e,1-e),s=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function bU(n,t,e){const i=(s,a=(s+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function _U(n,t,e){const i=cI(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function wU(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function Kx(n){const e=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(e,i,s),l=Math.min(e,i,s),u=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=u>.5?p/(2-a-l):p/(a+l),h=wU(e,i,s,p,a),h=h*60+.5),[h|0,f||0,u]}function Yx(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(aa)}function Xx(n,t,e){return Yx(cI,n,t,e)}function TU(n,t,e){return Yx(_U,n,t,e)}function SU(n,t,e){return Yx(bU,n,t,e)}function uI(n){return(n%360+360)%360}function EU(n){const t=xU.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Uu(+t[5]):aa(+t[5]));const s=uI(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=TU(s,a,l):t[1]==="hsv"?i=SU(s,a,l):i=Xx(s,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function AU(n,t){var e=Kx(n);e[0]=uI(e[0]+t),e=Xx(e),n.r=e[0],n.g=e[1],n.b=e[2]}function CU(n){if(!n)return;const t=Kx(n),e=t[0],i=SE(t[1]),s=SE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${Xs(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const EE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function RU(){const n={},t=Object.keys(AE),e=Object.keys(EE);let i,s,a,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)a=e[s],u=u.replace(a,EE[a]);a=parseInt(AE[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Cf;function NU(n){Cf||(Cf=RU(),Cf.transparent=[0,0,0,0]);const t=Cf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const IU=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kU(n){const t=IU.exec(n);let e=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Uu(l):Xr(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?Uu(i):Xr(i,0,255)),s=255&(t[4]?Uu(s):Xr(s,0,255)),a=255&(t[6]?Uu(a):Xr(a,0,255)),{r:i,g:s,b:a,a:e}}}function MU(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Xs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const q0=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,El=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function DU(n,t,e){const i=El(Xs(n.r)),s=El(Xs(n.g)),a=El(Xs(n.b));return{r:aa(q0(i+e*(El(Xs(t.r))-i))),g:aa(q0(s+e*(El(Xs(t.g))-s))),b:aa(q0(a+e*(El(Xs(t.b))-a))),a:n.a+e*(t.a-n.a)}}function Rf(n,t,e){if(n){let i=Kx(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Xx(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function hI(n,t){return n&&Object.assign(t||{},n)}function CE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=aa(n[3]))):(t=hI(n,{r:0,g:0,b:0,a:1}),t.a=aa(t.a)),t}function PU(n){return n.charAt(0)==="r"?kU(n):EU(n)}class bh{constructor(t){if(t instanceof bh)return t;const e=typeof t;let i;e==="object"?i=CE(t):e==="string"&&(i=gU(t)||NU(t)||PU(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=hI(this._rgb);return t&&(t.a=Xs(t.a)),t}set rgb(t){this._rgb=CE(t)}rgbString(){return this._valid?MU(this._rgb):void 0}hexString(){return this._valid?vU(this._rgb):void 0}hslString(){return this._valid?CU(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let a;const l=e===a?.5:e,u=2*l-1,h=i.a-s.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,i.r=255&f*i.r+a*s.r+.5,i.g=255&f*i.g+a*s.g+.5,i.b=255&f*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=DU(this._rgb,t._rgb,e)),this}clone(){return new bh(this.rgb)}alpha(t){return this._rgb.a=aa(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=qh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Rf(this._rgb,2,t),this}darken(t){return Rf(this._rgb,2,-t),this}saturate(t){return Rf(this._rgb,1,t),this}desaturate(t){return Rf(this._rgb,1,-t),this}rotate(t){return AU(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ws(){}const OU=(()=>{let n=0;return()=>n++})();function ie(n){return n==null}function on(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Zt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Si(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ss(n,t){return Si(n)?n:t}function Ft(n,t){return typeof n>"u"?t:n}const jU=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ge(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function le(n,t,e,i){let s,a,l;if(on(n))for(a=n.length,s=0;s<a;s++)t.call(e,n[s],s);else if(Zt(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)t.call(e,n[l[s]],l[s])}function Im(n,t){let e,i,s,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function km(n){if(on(n))return n.map(km);if(Zt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=km(n[e[s]]);return t}return n}function dI(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function VU(n,t,e,i){if(!dI(n))return;const s=t[n],a=e[n];Zt(s)&&Zt(a)?_h(s,a,i):t[n]=km(a)}function _h(n,t,e){const i=on(t)?t:[t],s=i.length;if(!Zt(n))return n;e=e||{};const a=e.merger||VU;let l;for(let u=0;u<s;++u){if(l=i[u],!Zt(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],n,l,e)}return n}function th(n,t){return _h(n,t,{merger:LU})}function LU(n,t,e){if(!dI(n))return;const i=t[n],s=e[n];Zt(i)&&Zt(s)?th(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=km(s))}const RE={"":n=>n,x:n=>n.x,y:n=>n.y};function UU(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function zU(n){const t=UU(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Zl(n,t){return(RE[t]||(RE[t]=zU(t)))(n)}function Zx(n){return n.charAt(0).toUpperCase()+n.slice(1)}const wh=n=>typeof n<"u",ga=n=>typeof n=="function",NE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function BU(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Cn=Math.PI,gs=2*Cn,FU=gs+Cn,Mm=Number.POSITIVE_INFINITY,HU=Cn/180,Oi=Cn/2,eo=Cn/4,IE=Cn*2/3,fI=Math.log10,ys=Math.sign;function eh(n,t,e){return Math.abs(n-t)<e}function kE(n){const t=Math.round(n);n=eh(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(fI(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function qU(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function $U(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Th(n){return!$U(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function GU(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function QU(n,t,e){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function fo(n){return n*(Cn/180)}function WU(n){return n*(180/Cn)}function ME(n){if(!Si(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function KU(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*Cn&&(a+=gs),{angle:a,distance:s}}function Zy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function YU(n,t){return(n-t+FU)%gs-Cn}function qr(n){return(n%gs+gs)%gs}function mI(n,t,e,i){const s=qr(n),a=qr(t),l=qr(e),u=qr(a-s),h=qr(l-s),f=qr(s-a),p=qr(s-l);return s===a||s===l||i&&a===l||u>h&&f<p}function ii(n,t,e){return Math.max(t,Math.min(e,n))}function XU(n){return ii(n,-32768,32767)}function mo(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Jx(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,e(a)?s=a:i=a;return{lo:s,hi:i}}const po=(n,t,e,i)=>Jx(n,e,i?s=>{const a=n[s][t];return a<e||a===e&&n[s+1][t]===e}:s=>n[s][t]<e),ZU=(n,t,e)=>Jx(n,e,i=>n[i][t]>=e);function JU(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const pI=["push","pop","shift","splice","unshift"];function tz(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),pI.forEach(e=>{const i="_onData"+Zx(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function DE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(pI.forEach(a=>{delete n[a]}),delete n._chartjs)}function gI(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const yI=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function vI(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,yI.call(window,()=>{i=!1,n.apply(t,e)}))}}function ez(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const xI=n=>n==="start"?"left":n==="end"?"right":"center",ei=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,nz=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function iz(n,t,e){const i=t.length;let s=0,a=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:h}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:v,max:b,minDefined:w,maxDefined:S}=l.getUserBounds();if(w){if(s=Math.min(po(h,p,v).lo,e?i:po(t,p,l.getPixelForValue(v)).lo),f){const A=h.slice(0,s+1).reverse().findIndex(R=>!ie(R[u.axis]));s-=Math.max(0,A)}s=ii(s,0,i-1)}if(S){let A=Math.max(po(h,l.axis,b,!0).hi+1,e?0:po(t,p,l.getPixelForValue(b),!0).hi+1);if(f){const R=h.slice(A-1).findIndex(I=>!ie(I[u.axis]));A+=Math.max(0,R)}a=ii(A,s,i)-s}else a=i-s}return{start:s,count:a}}function sz(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),a}const Nf=n=>n===0||n===1,PE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*gs/e)),OE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*gs/e)+1,nh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Oi)+1,easeOutSine:n=>Math.sin(n*Oi),easeInOutSine:n=>-.5*(Math.cos(Cn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Nf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Nf(n)?n:PE(n,.075,.3),easeOutElastic:n=>Nf(n)?n:OE(n,.075,.3),easeInOutElastic(n){return Nf(n)?n:n<.5?.5*PE(n*2,.1125,.45):.5+.5*OE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-nh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?nh.easeInBounce(n*2)*.5:nh.easeOutBounce(n*2-1)*.5+.5};function tb(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function jE(n){return tb(n)?n:new bh(n)}function $0(n){return tb(n)?n:new bh(n).saturate(.5).darken(.1).hexString()}const rz=["x","y","borderWidth","radius","tension"],az=["color","borderColor","backgroundColor"];function oz(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:az},numbers:{type:"number",properties:rz}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function lz(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const VE=new Map;function cz(n,t){t=t||{};const e=n+JSON.stringify(t);let i=VE.get(e);return i||(i=new Intl.NumberFormat(n,t),VE.set(e,i)),i}function bI(n,t,e){return cz(t,e).format(n)}const uz={values(n){return on(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=hz(n,e)}const l=fI(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),bI(n,i,h)}};function hz(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var _I={formatters:uz};function dz(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_I.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Co=Object.create(null),Jy=Object.create(null);function ih(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function G0(n,t,e){return typeof t=="string"?_h(ih(n,t),e):_h(ih(n,""),t)}class fz{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>$0(s.backgroundColor),this.hoverBorderColor=(i,s)=>$0(s.borderColor),this.hoverColor=(i,s)=>$0(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return G0(this,t,e)}get(t){return ih(this,t)}describe(t,e){return G0(Jy,t,e)}override(t,e){return G0(Co,t,e)}route(t,e,i,s){const a=ih(this,t),l=ih(this,i),u="_"+e;Object.defineProperties(a,{[u]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],f=l[s];return Zt(h)?Object.assign({},f,h):Ft(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var je=new fz({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oz,lz,dz]);function mz(n){return!n||ie(n.size)||ie(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function LE(n,t,e,i,s){let a=t[s];return a||(a=t[s]=n.measureText(s).width,e.push(s)),a>i&&(i=a),i}function no(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function UE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function tv(n,t,e,i){wI(n,t,e,i,null)}function wI(n,t,e,i,s){let a,l,u,h,f,p,v,b;const w=t.pointStyle,S=t.rotation,A=t.radius;let R=(S||0)*HU;if(w&&typeof w=="object"&&(a=w.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),w){default:s?n.ellipse(e,i,s/2,A,0,0,gs):n.arc(e,i,A,0,gs),n.closePath();break;case"triangle":p=s?s/2:A,n.moveTo(e+Math.sin(R)*p,i-Math.cos(R)*A),R+=IE,n.lineTo(e+Math.sin(R)*p,i-Math.cos(R)*A),R+=IE,n.lineTo(e+Math.sin(R)*p,i-Math.cos(R)*A),n.closePath();break;case"rectRounded":f=A*.516,h=A-f,l=Math.cos(R+eo)*h,v=Math.cos(R+eo)*(s?s/2-f:h),u=Math.sin(R+eo)*h,b=Math.sin(R+eo)*(s?s/2-f:h),n.arc(e-v,i-u,f,R-Cn,R-Oi),n.arc(e+b,i-l,f,R-Oi,R),n.arc(e+v,i+u,f,R,R+Oi),n.arc(e-b,i+l,f,R+Oi,R+Cn),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*A,p=s?s/2:h,n.rect(e-p,i-h,2*p,2*h);break}R+=eo;case"rectRot":v=Math.cos(R)*(s?s/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,b=Math.sin(R)*(s?s/2:A),n.moveTo(e-v,i-u),n.lineTo(e+b,i-l),n.lineTo(e+v,i+u),n.lineTo(e-b,i+l),n.closePath();break;case"crossRot":R+=eo;case"cross":v=Math.cos(R)*(s?s/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,b=Math.sin(R)*(s?s/2:A),n.moveTo(e-v,i-u),n.lineTo(e+v,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l);break;case"star":v=Math.cos(R)*(s?s/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,b=Math.sin(R)*(s?s/2:A),n.moveTo(e-v,i-u),n.lineTo(e+v,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l),R+=eo,v=Math.cos(R)*(s?s/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,b=Math.sin(R)*(s?s/2:A),n.moveTo(e-v,i-u),n.lineTo(e+v,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l);break;case"line":l=s?s/2:Math.cos(R)*A,u=Math.sin(R)*A,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(s?s/2:A),i+Math.sin(R)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Sh(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function eb(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function nb(n){n.restore()}function pz(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function gz(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function yz(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ie(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function vz(n,t,e,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,f=e+a.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function xz(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Dm(n,t,e,i,s,a={}){const l=on(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=s.string,yz(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&xz(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),ie(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,e,i,a.maxWidth)),n.fillText(f,e,i,a.maxWidth),vz(n,e,i,f,a),i+=Number(s.lineHeight);n.restore()}function Pm(n,t){const{x:e,y:i,w:s,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Cn,Cn,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Cn,Oi,!0),n.lineTo(e+s-l.bottomRight,i+a),n.arc(e+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Oi,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-Oi,!0),n.lineTo(e+l.topLeft,i)}const bz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_z=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wz(n,t){const e=(""+n).match(bz);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const Tz=n=>+n||0;function TI(n,t){const e={},i=Zt(t),s=i?Object.keys(t):t,a=Zt(n)?i?l=>Ft(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=Tz(a(l));return e}function SI(n){return TI(n,{top:"y",right:"x",bottom:"y",left:"x"})}function zl(n){return TI(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ui(n){const t=SI(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qn(n,t){n=n||{},t=t||je.font;let e=Ft(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ft(n.style,t.style);i&&!(""+i).match(_z)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Ft(n.family,t.family),lineHeight:wz(Ft(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ft(n.weight,t.weight),string:""};return s.string=mz(s),s}function If(n,t,e,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function Sz(n,t,e){const{min:i,max:s}=n,a=jU(t,(s-i)/2),l=(u,h)=>e&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function Mo(n,t){return Object.assign(Object.create(n),t)}function ib(n,t=[""],e,i,s=()=>n[0]){const a=e||n;typeof i>"u"&&(i=RI("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:u=>ib([u,...n],t,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return AI(u,h,()=>Mz(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return BE(u).includes(h)},ownKeys(u){return BE(u)},set(u,h,f){const p=u._storage||(u._storage=s());return u[h]=p[h]=f,delete u._keys,!0}})}function Jl(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:EI(n,i),setContext:a=>Jl(n,a,e,i),override:a=>Jl(n.override(a),t,e,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return AI(a,l,()=>Az(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function EI(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:ga(e)?e:()=>e,isIndexable:ga(i)?i:()=>i}}const Ez=(n,t)=>n?n+Zx(t):t,sb=(n,t)=>Zt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function AI(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function Az(n,t,e){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let u=i[t];return ga(u)&&l.isScriptable(t)&&(u=Cz(t,u,n,e)),on(u)&&u.length&&(u=Rz(t,u,n,l.isIndexable)),sb(t,u)&&(u=Jl(u,s,a&&a[t],l)),u}function Cz(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(a,l||i);return u.delete(n),sb(n,h)&&(h=rb(s._scopes,s,n,h)),h}function Rz(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(Zt(t[0])){const h=t,f=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const v=rb(f,s,n,p);t.push(Jl(v,a,l&&l[n],u))}}return t}function CI(n,t,e){return ga(n)?n(t,e):n}const Nz=(n,t)=>n===!0?t:typeof n=="string"?Zl(t,n):void 0;function Iz(n,t,e,i,s){for(const a of t){const l=Nz(e,a);if(l){n.add(l);const u=CI(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function rb(n,t,e,i){const s=t._rootScopes,a=CI(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let h=zE(u,l,e,a||e,i);return h===null||typeof a<"u"&&a!==e&&(h=zE(u,l,a,h,i),h===null)?!1:ib(Array.from(u),[""],s,a,()=>kz(t,e,i))}function zE(n,t,e,i,s){for(;e;)e=Iz(n,t,e,i,s);return e}function kz(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return on(s)&&Zt(e)?e:s||{}}function Mz(n,t,e,i){let s;for(const a of t)if(s=RI(Ez(a,n),e),typeof s<"u")return sb(n,s)?rb(e,i,n,s):s}function RI(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function BE(n){let t=n._keys;return t||(t=n._keys=Dz(n._scopes)),t}function Dz(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const Pz=Number.EPSILON||1e-14,tc=(n,t)=>t<n.length&&!n[t].skip&&n[t],NI=n=>n==="x"?"y":"x";function Oz(n,t,e,i){const s=n.skip?t:n,a=t,l=e.skip?t:e,u=Zy(a,s),h=Zy(l,a);let f=u/(u+h),p=h/(u+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const v=i*f,b=i*p;return{previous:{x:a.x-v*(l.x-s.x),y:a.y-v*(l.y-s.y)},next:{x:a.x+b*(l.x-s.x),y:a.y+b*(l.y-s.y)}}}function jz(n,t,e){const i=n.length;let s,a,l,u,h,f=tc(n,0);for(let p=0;p<i-1;++p)if(h=f,f=tc(n,p+1),!(!h||!f)){if(eh(t[p],0,Pz)){e[p]=e[p+1]=0;continue}s=e[p]/t[p],a=e[p+1]/t[p],u=Math.pow(s,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),e[p]=s*l*t[p],e[p+1]=a*l*t[p])}}function Vz(n,t,e="x"){const i=NI(e),s=n.length;let a,l,u,h=tc(n,0);for(let f=0;f<s;++f){if(l=u,u=h,h=tc(n,f+1),!u)continue;const p=u[e],v=u[i];l&&(a=(p-l[e])/3,u[`cp1${e}`]=p-a,u[`cp1${i}`]=v-a*t[f]),h&&(a=(h[e]-p)/3,u[`cp2${e}`]=p+a,u[`cp2${i}`]=v+a*t[f])}}function Lz(n,t="x"){const e=NI(t),i=n.length,s=Array(i).fill(0),a=Array(i);let l,u,h,f=tc(n,0);for(l=0;l<i;++l)if(u=h,h=f,f=tc(n,l+1),!!h){if(f){const p=f[t]-h[t];s[l]=p!==0?(f[e]-h[e])/p:0}a[l]=u?f?ys(s[l-1])!==ys(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}jz(n,s,a),Vz(n,a,t)}function kf(n,t,e){return Math.max(Math.min(n,e),t)}function Uz(n,t){let e,i,s,a,l,u=Sh(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=u,u=e<i-1&&Sh(n[e+1],t),a&&(s=n[e],l&&(s.cp1x=kf(s.cp1x,t.left,t.right),s.cp1y=kf(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=kf(s.cp2x,t.left,t.right),s.cp2y=kf(s.cp2y,t.top,t.bottom)))}function zz(n,t,e,i,s){let a,l,u,h;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")Lz(n,s);else{let f=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],h=Oz(f,u,n[Math.min(a+1,l-(i?0:1))%l],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}t.capBezierPoints&&Uz(n,e)}function ab(){return typeof window<"u"&&typeof document<"u"}function ob(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Om(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const lp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Bz(n,t){return lp(n).getPropertyValue(t)}const Fz=["top","right","bottom","left"];function bo(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=Fz[s];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Hz=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function qz(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,u,h;if(Hz(s,a,n.target))u=s,h=a;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function ao(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=lp(e),a=s.boxSizing==="border-box",l=bo(s,"padding"),u=bo(s,"border","width"),{x:h,y:f,box:p}=qz(n,e),v=l.left+(p&&u.left),b=l.top+(p&&u.top);let{width:w,height:S}=t;return a&&(w-=l.width+u.width,S-=l.height+u.height),{x:Math.round((h-v)/w*e.width/i),y:Math.round((f-b)/S*e.height/i)}}function $z(n,t,e){let i,s;if(t===void 0||e===void 0){const a=n&&ob(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),u=lp(a),h=bo(u,"border","width"),f=bo(u,"padding");t=l.width-f.width-h.width,e=l.height-f.height-h.height,i=Om(u.maxWidth,a,"clientWidth"),s=Om(u.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||Mm,maxHeight:s||Mm}}const Mf=n=>Math.round(n*10)/10;function Gz(n,t,e,i){const s=lp(n),a=bo(s,"margin"),l=Om(s.maxWidth,n,"clientWidth")||Mm,u=Om(s.maxHeight,n,"clientHeight")||Mm,h=$z(n,t,e);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const b=bo(s,"border","width"),w=bo(s,"padding");f-=w.width+b.width,p-=w.height+b.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=Mf(Math.min(f,l,h.maxWidth)),p=Mf(Math.min(p,u,h.maxHeight)),f&&!p&&(p=Mf(f/2)),(t!==void 0||e!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=Mf(Math.floor(p*i))),{width:f,height:p}}function FE(n,t,e){const i=t||1,s=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Qz=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};ab()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function HE(n,t){const e=Bz(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function oo(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Wz(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Kz(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=oo(n,s,e),u=oo(s,a,e),h=oo(a,t,e),f=oo(l,u,e),p=oo(u,h,e);return oo(f,p,e)}const Yz=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Xz=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Bl(n,t,e){return n?Yz(t,e):Xz()}function II(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function kI(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function MI(n){return n==="angle"?{between:mI,compare:YU,normalize:qr}:{between:mo,compare:(t,e)=>t-e,normalize:t=>t}}function qE({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function Zz(n,t,e){const{property:i,start:s,end:a}=e,{between:l,normalize:u}=MI(i),h=t.length;let{start:f,end:p,loop:v}=n,b,w;if(v){for(f+=h,p+=h,b=0,w=h;b<w&&l(u(t[f%h][i]),s,a);++b)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:v,style:n.style}}function Jz(n,t,e){if(!e)return[n];const{property:i,start:s,end:a}=e,l=t.length,{compare:u,between:h,normalize:f}=MI(i),{start:p,end:v,loop:b,style:w}=Zz(n,t,e),S=[];let A=!1,R=null,I,B,F;const Y=()=>h(s,F,I)&&u(s,F)!==0,H=()=>u(a,I)===0||h(a,F,I),G=()=>A||Y(),k=()=>!A||H();for(let C=p,M=p;C<=v;++C)B=t[C%l],!B.skip&&(I=f(B[i]),I!==F&&(A=h(I,s,a),R===null&&G()&&(R=u(I,s)===0?C:M),R!==null&&k()&&(S.push(qE({start:R,end:C,loop:b,count:l,style:w})),R=null),M=C,F=I));return R!==null&&S.push(qE({start:R,end:v,loop:b,count:l,style:w})),S}function tB(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const a=Jz(i[s],n.points,t);a.length&&e.push(...a)}return e}function eB(n,t,e,i){let s=0,a=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(a+=s);a>s&&n[a%t].skip;)a--;return a%=t,{start:s,end:a}}function nB(n,t,e,i){const s=n.length,a=[];let l=t,u=n[t],h;for(h=t+1;h<=e;++h){const f=n[h%s];f.skip||f.stop?u.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,u.skip&&(t=h)),u=f}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function iB(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const a=!!n._loop,{start:l,end:u}=eB(e,s,a,i);if(i===!0)return $E(n,[{start:l,end:u,loop:a}],e,t);const h=u<l?u+s:u,f=!!n._fullLoop&&l===0&&u===s-1;return $E(n,nB(e,l,h,f),e,t)}function $E(n,t,e,i){return!i||!i.setContext||!e?t:sB(n,t,e,i)}function sB(n,t,e,i){const s=n._chart.getContext(),a=GE(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=e.length,f=[];let p=a,v=t[0].start,b=v;function w(S,A,R,I){const B=u?-1:1;if(S!==A){for(S+=h;e[S%h].skip;)S-=B;for(;e[A%h].skip;)A+=B;S%h!==A%h&&(f.push({start:S%h,end:A%h,loop:R,style:I}),p=I,v=A%h)}}for(const S of t){v=u?v:S.start;let A=e[v%h],R;for(b=v+1;b<=S.end;b++){const I=e[b%h];R=GE(i.setContext(Mo(s,{type:"segment",p0:A,p1:I,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:l}))),rB(R,p)&&w(v,b-1,S.loop,p),A=I,p=R}v<b-1&&w(v,b-1,S.loop,p)}return f}function GE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function rB(n,t){if(!t)return!1;const e=[],i=function(s,a){return tb(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Df(n,t,e){return n.options.clip?n[e]:t[e]}function aB(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Df(e,t,"left"),right:Df(e,t,"right"),top:Df(i,t,"top"),bottom:Df(i,t,"bottom")}:t}function oB(n,t){const e=t._clip;if(e.disabled)return!1;const i=aB(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class lB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s],l=e.duration;a.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=yI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ks=new lB;const QE="transparent",cB={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=jE(n||QE),s=i.valid&&jE(t||QE);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class uB{constructor(t,e,i,s){const a=e[i];s=If([t.to,s,a,t.from]);const l=If([t.from,a,s]);this._active=!0,this._fn=t.fn||cB[t.type||typeof l],this._easing=nh[t.easing]||nh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=If([t.to,e,s,t.from]),this._from=If([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=a;return}h=e/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class DI{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Zt(t))return;const e=Object.keys(je.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Zt(a))return;const l={};for(const u of e)l[u]=a[u];(on(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=dB(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&hB(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,e));continue}const p=e[f];let v=a[f];const b=i.get(f);if(v)if(b&&v.active()){v.update(b,p,u);continue}else v.cancel();if(!b||!b.duration){t[f]=p;continue}a[f]=v=new uB(b,t,f,p),s.push(v)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ks.add(this._chart,i),!0}}function hB(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function dB(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function WE(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function fB(n,t,e){if(e===!1)return!1;const i=WE(n,e),s=WE(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function mB(n){let t,e,i,s;return Zt(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function PI(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)e.push(i[s].index);return e}function KE(n,t,e,i={}){const s=n.keys,a=i.mode==="single";let l,u,h,f;if(t===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===e){if(p=!0,i.all)continue;break}f=n.values[h],Si(f)&&(a||t===0||ys(t)===ys(f))&&(t+=f)}return!p&&!i.all?0:t}function pB(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],u[h]={[s]:p,[a]:n[p]};return u}function Q0(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function gB(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function yB(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function vB(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function YE(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function XE(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,f=l.axis,p=gB(a,l,i),v=t.length;let b;for(let w=0;w<v;++w){const S=t[w],{[h]:A,[f]:R}=S,I=S._stacks||(S._stacks={});b=I[f]=vB(s,p,A),b[u]=R,b._top=YE(b,l,!0,i.type),b._bottom=YE(b,l,!1,i.type);const B=b._visualValues||(b._visualValues={});B[u]=R}}function W0(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function xB(n,t){return Mo(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function bB(n,t,e){return Mo(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Cu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const K0=n=>n==="reset"||n==="none",ZE=(n,t)=>t?n:Object.assign({},n),_B=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:PI(e,!0),values:null};class lb{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Q0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Cu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(v,b,w,S)=>v==="x"?b:v==="r"?S:w,a=e.xAxisID=Ft(i.xAxisID,W0(t,"x")),l=e.yAxisID=Ft(i.yAxisID,W0(t,"y")),u=e.rAxisID=Ft(i.rAxisID,W0(t,"r")),h=e.indexAxis,f=e.iAxisID=s(h,a,l,u),p=e.vAxisID=s(h,l,a,u);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&DE(this._data,this),t._stacked&&Cu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Zt(e)){const s=this._cachedMeta;this._data=pB(e,s)}else if(i!==e){if(i){DE(i,this);const s=this._cachedMeta;Cu(s),s._parsed=[]}e&&Object.isExtensible(e)&&tz(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=Q0(e.vScale,e),e.stack!==i.stack&&(s=!0,Cu(e),e.stack=i.stack),this._resyncElements(t),(s||a!==e._stacked)&&(XE(this,e._parsed),e._stacked=Q0(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=t===0&&e===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,v,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{on(s[t])?b=this.parseArrayData(i,s,t,e):Zt(s[t])?b=this.parseObjectData(i,s,t,e):b=this.parsePrimitiveData(i,s,t,e);const w=()=>v[u]===null||f&&v[u]<f[u];for(p=0;p<e;++p)i._parsed[p+t]=v=b[p],h&&(w()&&(h=!1),f=v);i._sorted=h}l&&XE(this,b)}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:l}=t,u=a.axis,h=l.axis,f=a.getLabels(),p=a===l,v=new Array(s);let b,w,S;for(b=0,w=s;b<w;++b)S=b+i,v[b]={[u]:p||a.parse(f[S],S),[h]:l.parse(e[S],S)};return v}parseArrayData(t,e,i,s){const{xScale:a,yScale:l}=t,u=new Array(s);let h,f,p,v;for(h=0,f=s;h<f;++h)p=h+i,v=e[p],u[h]={x:a.parse(v[0],p),y:l.parse(v[1],p)};return u}parseObjectData(t,e,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,v,b,w;for(p=0,v=s;p<v;++p)b=p+i,w=e[b],f[p]={x:a.parse(Zl(w,u),b),y:l.parse(Zl(w,h),b)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,a=this._cachedMeta,l=e[t.axis],u={keys:PI(s,!0),values:e._stacks[t.axis]._visualValues};return KE(u,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const a=i[e.axis];let l=a===null?NaN:a;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=KE(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),h=_B(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=yB(u);let b,w;function S(){w=s[b];const A=w[u.axis];return!Si(w[t.axis])||p>A||v<A}for(b=0;b<l&&!(!S()&&(this.updateRangeFromParsed(f,t,w,h),a));++b);if(a){for(b=l-1;b>=0;--b)if(!S()){this.updateRangeFromParsed(f,t,w,h);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s][t.axis],Si(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=mB(Ft(this.options.clip,fB(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],a=e.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,a,u,h),p=u;p<u+h;++p){const v=s[p];v.hidden||(v.active&&f?l.push(v):v.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=bB(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=xB(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",a=this._cachedDataOpts,l=t+"-"+e,u=a[l],h=this.enableOptionSharing&&wh(i);if(u)return ZE(u,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),v=s?[`${t}Hover`,"hover",t,""]:[t,""],b=f.getOptionScopes(this.getDataset(),p),w=Object.keys(je.elements[t]),S=()=>this.getContext(i,s,e),A=f.resolveNamedOptions(b,w,S,v);return A.$shared&&(A.$shared=h,a[l]=Object.freeze(ZE(A,h))),A}_resolveAnimations(t,e,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,u=a[l];if(u)return u;let h;if(s.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,e),b=p.getOptionScopes(this.getDataset(),v);h=p.createResolver(b,this.getContext(t,i,e))}const f=new DI(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||K0(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,s){K0(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!K0(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const s=i.length,a=e.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,i=!0){const s=this._cachedMeta,a=s.data,l=t+e;let u;const h=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(h(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Cu(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function wB(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=e.length;s<a;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=gI(i.sort((s,a)=>s-a))}return n._cache.$bar}function TB(n){const t=n.iScale,e=wB(t,n.type);let i=t._length,s,a,l,u;const h=()=>{l===32767||l===-32768||(wh(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,a=e.length;s<a;++s)l=t.getPixelForValue(e[s]),h();for(u=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function SB(n,t,e,i){const s=e.barThickness;let a,l;return ie(s)?(a=t.min*e.categoryPercentage,l=e.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[n]-a/2}}function EB(n,t,e,i){const s=t.pixels,a=s[n];let l=n>0?s[n-1]:null,u=n<s.length-1?s[n+1]:null;const h=e.categoryPercentage;l===null&&(l=a-(u===null?t.end-t.start:u-a)),u===null&&(u=a+a-l);const f=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:e.barPercentage,start:f}}function AB(n,t,e,i){const s=e.parse(n[0],i),a=e.parse(n[1],i),l=Math.min(s,a),u=Math.max(s,a);let h=l,f=u;Math.abs(l)>Math.abs(u)&&(h=u,f=l),t[e.axis]=f,t._custom={barStart:h,barEnd:f,start:s,end:a,min:l,max:u}}function OI(n,t,e,i){return on(n)?AB(n,t,e,i):t[e.axis]=e.parse(n,i),t}function JE(n,t,e,i){const s=n.iScale,a=n.vScale,l=s.getLabels(),u=s===a,h=[];let f,p,v,b;for(f=e,p=e+i;f<p;++f)b=t[f],v={},v[s.axis]=u||s.parse(l[f],f),h.push(OI(b,v,a,f));return h}function Y0(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function CB(n,t,e){return n!==0?ys(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function RB(n){let t,e,i,s,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:e,end:i,reverse:t,top:s,bottom:a}}function NB(n,t,e,i){let s=t.borderSkipped;const a={};if(!s){n.borderSkipped=a;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:f,bottom:p}=RB(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=f:(e._bottom||0)===i?s=p:(a[t2(p,l,u,h)]=!0,s=f)),a[t2(s,l,u,h)]=!0,n.borderSkipped=a}function t2(n,t,e,i){return i?(n=IB(n,t,e),n=e2(n,e,t)):n=e2(n,t,e),n}function IB(n,t,e){return n===t?e:n===e?t:n}function e2(n,t,e){return n==="start"?t:n==="end"?e:n}function kB(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class MB extends lb{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,s){return JE(t,e,i,s)}parseArrayData(t,e,i,s){return JE(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?u:h,p=l.axis==="x"?u:h,v=[];let b,w,S,A;for(b=i,w=i+s;b<w;++b)A=e[b],S={},S[a.axis]=a.parse(Zl(A,f),b),v.push(OI(Zl(A,p),S,l,b));return v}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,a=this.getParsed(t),l=a._custom,u=Y0(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),f=u.isHorizontal(),p=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(e,s);for(let w=e;w<e+i;w++){const S=this.getParsed(w),A=a||ie(S[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(w),R=this._calculateBarIndexPixels(w,p),I=(S._stacks||{})[u.axis],B={horizontal:f,base:A.base,enableBorderRadius:!I||Y0(S._custom)||l===I._top||l===I._bottom,x:f?A.head:R.center,y:f?R.center:A.head,height:f?R.size:Math.abs(A.size),width:f?Math.abs(A.size):R.size};b&&(B.options=v||this.resolveDataElementOptions(w,t[w].active?"active":s));const F=B.options||t[w].options;NB(B,F,I,l),kB(B,F,p.ratio),this.updateElement(t[w],w,B,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),h=u&&u[i.axis],f=p=>{const v=p._parsed.find(w=>w[i.axis]===h),b=v&&v[p.vScale.axis];if(ie(b)||isNaN(b))return!0};for(const p of s)if(!(e!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ft(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const s=this._getStacks(t,i),a=e!==void 0?s.indexOf(e):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let a,l;for(a=0,l=e.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const u=t.barThickness;return{min:u||TB(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(t),f=h._custom,p=Y0(f);let v=h[e.axis],b=0,w=i?this.applyStack(e,h,i):v,S,A;w!==v&&(b=w-v,w=v),p&&(v=f.barStart,w=f.barEnd-f.barStart,v!==0&&ys(v)!==ys(f.barEnd)&&(b=0),b+=v);const R=!ie(a)&&!p?a:b;let I=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?S=e.getPixelForValue(b+w):S=I,A=S-I,Math.abs(A)<l){A=CB(A,e,u)*l,v===u&&(I-=A/2);const B=e.getPixelForDecimal(0),F=e.getPixelForDecimal(1),Y=Math.min(B,F),H=Math.max(B,F);I=Math.max(Math.min(I,H),Y),S=I+A,i&&!p&&(h._stacks[e.axis]._visualValues[s]=e.getValueForPixel(S)-e.getValueForPixel(I))}if(I===e.getPixelForValue(u)){const B=ys(A)*e.getLineWidthForValue(u)/2;I+=B,A-=B}return{size:A,base:I,head:S,center:S+A/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,a=s.skipNull,l=Ft(s.maxBarThickness,1/0);let u,h;const f=this._getAxisCount();if(e.grouped){const p=a?this._getStackCount(t):e.stackCount,v=s.barThickness==="flex"?EB(t,e,s,p*f):SB(t,e,s,p*f),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(Ft(b,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+w;u=v.start+v.chunk*S+v.chunk/2,h=Math.min(l,v.chunk*v.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,e.min*e.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}class DB extends lb{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:u,count:h}=iz(e,s,l);this._drawStart=u,this._drawCount=h,sz(e)&&(u=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,u,h,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(e,s),b=l.axis,w=u.axis,{spanGaps:S,segment:A}=this.options,R=Th(S)?S:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||a||s==="none",B=e+i,F=t.length;let Y=e>0&&this.getParsed(e-1);for(let H=0;H<F;++H){const G=t[H],k=I?G:{};if(H<e||H>=B){k.skip=!0;continue}const C=this.getParsed(H),M=ie(C[w]),P=k[b]=l.getPixelForValue(C[b],H),V=k[w]=a||M?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,C,h):C[w],H);k.skip=isNaN(P)||isNaN(V)||M,k.stop=H>0&&Math.abs(C[b]-Y[b])>R,A&&(k.parsed=C,k.raw=f.data[H]),v&&(k.options=p||this.resolveDataElementOptions(H,G.active?"active":s)),I||this.updateElement(G,H,k,s),Y=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function io(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cb{static override(t){Object.assign(cb.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return io()}parse(){return io()}format(){return io()}add(){return io()}diff(){return io()}startOf(){return io()}endOf(){return io()}}var PB={_date:cb};function OB(n,t,e,i){const{controller:s,data:a,_sorted:l}=n,u=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&a.length){const f=u._reversePixels?ZU:po;if(i){if(s._sharedOptions){const p=a[0],v=typeof p.getRange=="function"&&p.getRange(t);if(v){const b=f(a,t,e-v),w=f(a,t,e+v);return{lo:b.lo,hi:w.hi}}}}else{const p=f(a,t,e);if(h){const{vScale:v}=s._cachedMeta,{_parsed:b}=n,w=b.slice(0,p.lo+1).reverse().findIndex(A=>!ie(A[v.axis]));p.lo-=Math.max(0,w);const S=b.slice(p.hi).findIndex(A=>!ie(A[v.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:a.length-1}}function cp(n,t,e,i,s){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,h=a.length;u<h;++u){const{index:f,data:p}=a[u],{lo:v,hi:b}=OB(a[u],t,l,s);for(let w=v;w<=b;++w){const S=p[w];S.skip||i(S,f,w)}}}function jB(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function X0(n,t,e,i,s){const a=[];return!s&&!n.isPointInArea(t)||cp(n,e,t,function(u,h,f){!s&&!Sh(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function VB(n,t,e,i){let s=[];function a(l,u,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:v}=KU(l,{x:t.x,y:t.y});mI(v,f,p)&&s.push({element:l,datasetIndex:u,index:h})}return cp(n,e,t,a),s}function LB(n,t,e,i,s,a){let l=[];const u=jB(e);let h=Number.POSITIVE_INFINITY;function f(p,v,b){const w=p.inRange(t.x,t.y,s);if(i&&!w)return;const S=p.getCenterPoint(s);if(!(!!a||n.isPointInArea(S))&&!w)return;const R=u(t,S);R<h?(l=[{element:p,datasetIndex:v,index:b}],h=R):R===h&&l.push({element:p,datasetIndex:v,index:b})}return cp(n,e,t,f),l}function Z0(n,t,e,i,s,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?VB(n,t,e,s):LB(n,t,e,i,s,a)}function n2(n,t,e,i,s){const a=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return cp(n,e,t,(h,f,p)=>{h[l]&&h[l](t[e],s)&&(a.push({element:h,datasetIndex:f,index:p}),u=u||h.inRange(t.x,t.y,s))}),i&&!u?[]:a}var UB={modes:{index(n,t,e,i){const s=ao(t,n),a=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?X0(n,s,a,i,l):Z0(n,s,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,v=f.data[p];v&&!v.skip&&h.push({element:v,datasetIndex:f.index,index:p})}),h):[]},dataset(n,t,e,i){const s=ao(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?X0(n,s,a,i,l):Z0(n,s,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:h,index:p})}return u},point(n,t,e,i){const s=ao(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return X0(n,s,a,i,l)},nearest(n,t,e,i){const s=ao(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Z0(n,s,a,e.intersect,i,l)},x(n,t,e,i){const s=ao(t,n);return n2(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=ao(t,n);return n2(n,s,"y",e.intersect,i)}}};const jI=["left","top","right","bottom"];function Ru(n,t){return n.filter(e=>e.pos===t)}function i2(n,t){return n.filter(e=>jI.indexOf(e.pos)===-1&&e.box.axis===t)}function Nu(n,t){return n.sort((e,i)=>{const s=t?i:e,a=t?e:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function zB(n){const t=[];let e,i,s,a,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:a,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return t}function BB(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:a}=e;if(!i||!jI.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function FB(n,t){const e=BB(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=e[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:h&&t.availableWidth,u.height=s):(u.width=i,u.height=p?p*s:h&&t.availableHeight)}return e}function HB(n){const t=zB(n),e=Nu(t.filter(f=>f.box.fullSize),!0),i=Nu(Ru(t,"left"),!0),s=Nu(Ru(t,"right")),a=Nu(Ru(t,"top"),!0),l=Nu(Ru(t,"bottom")),u=i2(t,"x"),h=i2(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:Ru(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(u)}}function s2(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function VI(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function qB(n,t,e,i){const{pos:s,box:a}=e,l=n.maxPadding;if(!Zt(s)){e.size&&(n[s]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?a.height:a.width),e.size=v.size/v.count,n[s]+=e.size}a.getPadding&&VI(l,a.getPadding());const u=Math.max(0,t.outerWidth-s2(l,n,"left","right")),h=Math.max(0,t.outerHeight-s2(l,n,"top","bottom")),f=u!==n.w,p=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:f,other:p}:{same:p,other:f}}function $B(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function GB(n,t){const e=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function zu(n,t,e,i){const s=[];let a,l,u,h,f,p;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||t.w,u.height||t.h,GB(u.horizontal,t));const{same:v,other:b}=qB(t,e,u,i);f|=v&&s.length,p=p||b,h.fullSize||s.push(u)}return f&&zu(s,t,e,i)||p}function Pf(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function r2(n,t,e,i){const s=e.padding;let{x:a,y:l}=t;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const v=t.w*p,b=f.size||h.height;wh(f.start)&&(l=f.start),h.fullSize?Pf(h,s.left,l,e.outerWidth-s.right-s.left,b):Pf(h,t.left+f.placed,l,v,b),f.start=l,f.placed+=v,l=h.bottom}else{const v=t.h*p,b=f.size||h.width;wh(f.start)&&(a=f.start),h.fullSize?Pf(h,a,s.top,b,e.outerHeight-s.bottom-s.top):Pf(h,a,t.top+f.placed,b,v),f.start=a,f.placed+=v,a=h.right}}t.x=a,t.y=l}var Zr={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=Ui(n.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=HB(n.boxes),h=u.vertical,f=u.horizontal;le(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const p=h.reduce((A,R)=>R.box.options&&R.box.options.display===!1?A:A+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},s);VI(b,Ui(i));const w=Object.assign({maxPadding:b,w:a,h:l,x:s.left,y:s.top},s),S=FB(h.concat(f),v);zu(u.fullSize,w,v,S),zu(h,w,v,S),zu(f,w,v,S)&&zu(h,w,v,S),$B(w),r2(u.leftAndTop,w,v,S),w.x+=w.w,w.y+=w.h,r2(u.rightAndBottom,w,v,S),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},le(u.chartArea,A=>{const R=A.box;Object.assign(R,n.chartArea),R.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class LI{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class QB extends LI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nm="$chartjs",WB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},a2=n=>n===null||n==="";function KB(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[nm]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",a2(s)){const a=HE(n,"width");a!==void 0&&(n.width=a)}if(a2(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=HE(n,"height");a!==void 0&&(n.height=a)}return n}const UI=Qz?{passive:!0}:!1;function YB(n,t,e){n&&n.addEventListener(t,e,UI)}function XB(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,UI)}function ZB(n,t){const e=WB[n.type]||n.type,{x:i,y:s}=ao(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function jm(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function JB(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||jm(u.addedNodes,i),l=l&&!jm(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function tF(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||jm(u.removedNodes,i),l=l&&!jm(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Eh=new Map;let o2=0;function zI(){const n=window.devicePixelRatio;n!==o2&&(o2=n,Eh.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function eF(n,t){Eh.size||window.addEventListener("resize",zI),Eh.set(n,t)}function nF(n){Eh.delete(n),Eh.size||window.removeEventListener("resize",zI)}function iF(n,t,e){const i=n.canvas,s=i&&ob(i);if(!s)return;const a=vI((u,h)=>{const f=s.clientWidth;e(u,h),f<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),eF(n,a),l}function J0(n,t,e){e&&e.disconnect(),t==="resize"&&nF(n)}function sF(n,t,e){const i=n.canvas,s=vI(a=>{n.ctx!==null&&e(ZB(a,n))},n);return YB(i,t,s),s}class rF extends LI{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(KB(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[nm])return!1;const i=e[nm].initial;["height","width"].forEach(a=>{const l=i[a];ie(l)?e.removeAttribute(a):e.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[nm],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:JB,detach:tF,resize:iF}[e]||sF;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:J0,detach:J0,resize:J0}[e]||XB)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return Gz(t,e,i,s)}isAttached(t){const e=t&&ob(t);return!!(e&&e.isConnected)}}function aF(n){return!ab()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?QB:rF}let Do=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Th(this.x)&&Th(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}};function oF(n,t){const e=n.options.ticks,i=lF(n),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?uF(t):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>s)return hF(t,f,a,l/s),f;const p=cF(a,t,s);if(l>0){let v,b;const w=l>1?Math.round((h-u)/(l-1)):null;for(Of(t,f,p,ie(w)?0:u-w,u),v=0,b=l-1;v<b;v++)Of(t,f,p,a[v],a[v+1]);return Of(t,f,p,h,ie(w)?t.length:h+w),f}return Of(t,f,p),f}function lF(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function cF(n,t,e){const i=dF(n),s=t.length/e;if(!i)return Math.max(s,1);const a=qU(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function uF(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function hF(n,t,e,i){let s=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),s++,a=e[s*i])}function Of(n,t,e,i,s){const a=Ft(i,0),l=Math.min(Ft(s,n.length),n.length);let u=0,h,f,p;for(e=Math.ceil(e),s&&(h=s-i,e=h/Math.floor(h/e)),p=a;p<0;)u++,p=Math.round(a+u*e);for(f=Math.max(a,0);f<l;f++)f===p&&(t.push(n[f]),u++,p=Math.round(a+u*e))}function dF(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const fF=n=>n==="left"?"right":n==="right"?"left":n,l2=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,c2=(n,t)=>Math.min(t||n,n);function u2(n,t){const e=[],i=n.length/t,s=n.length;let a=0;for(;a<s;a+=i)e.push(n[Math.floor(a)]);return e}function mF(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(s),f;if(!(e&&(i===1?f=Math.max(h-a,l-h):t===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<a-u||h>l+u)))return h}function pF(n,t){le(n,e=>{const i=e.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[i[a]];i.splice(0,s)}})}function Iu(n){return n.drawTicks?n.tickLength:0}function h2(n,t){if(!n.display)return 0;const e=qn(n.font,t),i=Ui(n.padding);return(on(n.text)?n.text.length:1)*e.lineHeight+i.height}function gF(n,t){return Mo(n,{scale:t,type:"scale"})}function yF(n,t,e){return Mo(n,{tick:e,index:t,type:"tick"})}function vF(n,t,e){let i=xI(n);return(e&&t!=="right"||!e&&t==="right")&&(i=fF(i)),i}function xF(n,t,e,i){const{top:s,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:p}=h;let v=0,b,w,S;const A=l-s,R=u-a;if(n.isHorizontal()){if(w=ei(i,a,u),Zt(e)){const I=Object.keys(e)[0],B=e[I];S=p[I].getPixelForValue(B)+A-t}else e==="center"?S=(f.bottom+f.top)/2+A-t:S=l2(n,e,t);b=u-a}else{if(Zt(e)){const I=Object.keys(e)[0],B=e[I];w=p[I].getPixelForValue(B)-R+t}else e==="center"?w=(f.left+f.right)/2-R+t:w=l2(n,e,t);S=ei(i,l,s),v=e==="left"?-Oi:Oi}return{titleX:w,titleY:S,maxWidth:b,rotation:v}}class pc extends Do{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=ss(t,Number.POSITIVE_INFINITY),e=ss(e,Number.NEGATIVE_INFINITY),i=ss(i,Number.POSITIVE_INFINITY),s=ss(s,Number.NEGATIVE_INFINITY),{min:ss(t,i),max:ss(e,s),minDefined:Si(t),maxDefined:Si(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=s&&e>i?e:i,{min:ss(e,ss(i,e)),max:ss(i,ss(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Sz(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?u2(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=oF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ge(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=ge(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=c2(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let l=s,u,h,f;if(!this._isVisible()||!e.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),v=p.widest.width,b=p.highest.height,w=ii(this.chart.width-v,0,this.maxWidth);u=t.offset?this.maxWidth/i:w/(i-1),v+6>u&&(u=w/(i-(t.offset?.5:1)),h=this.maxHeight-Iu(t.grid)-e.padding-h2(t.title,this.chart.options.font),f=Math.sqrt(v*v+b*b),l=WU(Math.min(Math.asin(ii((p.highest.height+6)/u,-1,1)),Math.asin(ii(h/f,-1,1))-Math.asin(ii(b/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=h2(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=Iu(a)+h):(t.height=this.maxHeight,t.width=Iu(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:v,highest:b}=this._getLabelSizes(),w=i.padding*2,S=fo(this.labelRotation),A=Math.cos(S),R=Math.sin(S);if(u){const I=i.mirror?0:R*v.width+A*b.height;t.height=Math.min(this.maxHeight,t.height+I+w)}else{const I=i.mirror?0:A*v.width+R*b.height;t.width=Math.min(this.maxWidth,t.width+I+w)}this._calculatePadding(f,p,R,A)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;h?f?(b=s*t.width,w=i*e.height):(b=i*t.height,w=s*e.width):a==="start"?w=e.width:a==="end"?b=t.width:a!=="inner"&&(b=t.width/2,w=e.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((w-v+l)*this.width/(this.width-v),0)}else{let p=e.height/2,v=t.height/2;a==="start"?(p=0,v=t.height):a==="end"&&(p=e.height,v=0),this.paddingTop=p+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ie(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=u2(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(e/c2(e,i));let f=0,p=0,v,b,w,S,A,R,I,B,F,Y,H;for(v=0;v<e;v+=h){if(S=t[v].label,A=this._resolveTickFontOptions(v),s.font=R=A.string,I=a[R]=a[R]||{data:{},gc:[]},B=A.lineHeight,F=Y=0,!ie(S)&&!on(S))F=LE(s,I.data,I.gc,F,S),Y=B;else if(on(S))for(b=0,w=S.length;b<w;++b)H=S[b],!ie(H)&&!on(H)&&(F=LE(s,I.data,I.gc,F,H),Y+=B);l.push(F),u.push(Y),f=Math.max(F,f),p=Math.max(Y,p)}pF(a,e);const G=l.indexOf(f),k=u.indexOf(p),C=M=>({width:l[M]||0,height:u[M]||0});return{first:C(0),last:C(e-1),widest:C(G),highest:C(k),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return XU(this._alignToPixels?no(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=yF(this.getContext(),t,i))}return this.$context||(this.$context=gF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=fo(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:u}=s,h=a.offset,f=this.isHorizontal(),v=this.ticks.length+(h?1:0),b=Iu(a),w=[],S=u.setContext(this.getContext()),A=S.display?S.width:0,R=A/2,I=function($){return no(i,$,A)};let B,F,Y,H,G,k,C,M,P,V,L,j;if(l==="top")B=I(this.bottom),k=this.bottom-b,M=B-R,V=I(t.top)+R,j=t.bottom;else if(l==="bottom")B=I(this.top),V=t.top,j=I(t.bottom)-R,k=B+R,M=this.top+b;else if(l==="left")B=I(this.right),G=this.right-b,C=B-R,P=I(t.left)+R,L=t.right;else if(l==="right")B=I(this.left),P=t.left,L=I(t.right)-R,G=B+R,C=this.left+b;else if(e==="x"){if(l==="center")B=I((t.top+t.bottom)/2+.5);else if(Zt(l)){const $=Object.keys(l)[0],J=l[$];B=I(this.chart.scales[$].getPixelForValue(J))}V=t.top,j=t.bottom,k=B+R,M=k+b}else if(e==="y"){if(l==="center")B=I((t.left+t.right)/2);else if(Zt(l)){const $=Object.keys(l)[0],J=l[$];B=I(this.chart.scales[$].getPixelForValue(J))}G=B-R,C=G-b,P=t.left,L=t.right}const nt=Ft(s.ticks.maxTicksLimit,v),rt=Math.max(1,Math.ceil(v/nt));for(F=0;F<v;F+=rt){const $=this.getContext(F),J=a.setContext($),ct=u.setContext($),gt=J.lineWidth,U=J.color,it=ct.dash||[],dt=ct.dashOffset,et=J.tickWidth,mt=J.tickColor,bt=J.tickBorderDash||[],ft=J.tickBorderDashOffset;Y=mF(this,F,h),Y!==void 0&&(H=no(i,Y,gt),f?G=C=P=L=H:k=M=V=j=H,w.push({tx1:G,ty1:k,tx2:C,ty2:M,x1:P,y1:V,x2:L,y2:j,width:gt,color:U,borderDash:it,borderDashOffset:dt,tickWidth:et,tickColor:mt,tickBorderDash:bt,tickBorderDashOffset:ft}))}return this._ticksLength=v,this._borderValue=B,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:p,mirror:v}=a,b=Iu(i.grid),w=b+p,S=v?-p:w,A=-fo(this.labelRotation),R=[];let I,B,F,Y,H,G,k,C,M,P,V,L,j="middle";if(s==="top")G=this.bottom-S,k=this._getXAxisLabelAlignment();else if(s==="bottom")G=this.top+S,k=this._getXAxisLabelAlignment();else if(s==="left"){const rt=this._getYAxisLabelAlignment(b);k=rt.textAlign,H=rt.x}else if(s==="right"){const rt=this._getYAxisLabelAlignment(b);k=rt.textAlign,H=rt.x}else if(e==="x"){if(s==="center")G=(t.top+t.bottom)/2+w;else if(Zt(s)){const rt=Object.keys(s)[0],$=s[rt];G=this.chart.scales[rt].getPixelForValue($)+w}k=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")H=(t.left+t.right)/2-w;else if(Zt(s)){const rt=Object.keys(s)[0],$=s[rt];H=this.chart.scales[rt].getPixelForValue($)}k=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(h==="start"?j="top":h==="end"&&(j="bottom"));const nt=this._getLabelSizes();for(I=0,B=u.length;I<B;++I){F=u[I],Y=F.label;const rt=a.setContext(this.getContext(I));C=this.getPixelForTick(I)+a.labelOffset,M=this._resolveTickFontOptions(I),P=M.lineHeight,V=on(Y)?Y.length:1;const $=V/2,J=rt.color,ct=rt.textStrokeColor,gt=rt.textStrokeWidth;let U=k;l?(H=C,k==="inner"&&(I===B-1?U=this.options.reverse?"left":"right":I===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?f==="near"||A!==0?L=-V*P+P/2:f==="center"?L=-nt.highest.height/2-$*P+P:L=-nt.highest.height+P/2:f==="near"||A!==0?L=P/2:f==="center"?L=nt.highest.height/2-$*P:L=nt.highest.height-V*P,v&&(L*=-1),A!==0&&!rt.showLabelBackdrop&&(H+=P/2*Math.sin(A))):(G=C,L=(1-V)*P/2);let it;if(rt.showLabelBackdrop){const dt=Ui(rt.backdropPadding),et=nt.heights[I],mt=nt.widths[I];let bt=L-dt.top,ft=0-dt.left;switch(j){case"middle":bt-=et/2;break;case"bottom":bt-=et;break}switch(k){case"center":ft-=mt/2;break;case"right":ft-=mt;break;case"inner":I===B-1?ft-=mt:I>0&&(ft-=mt/2);break}it={left:ft,top:bt,width:mt+dt.width,height:et+dt.height,color:rt.backdropColor}}R.push({label:Y,font:M,textOffset:L,options:{rotation:A,color:J,strokeColor:ct,strokeWidth:gt,textAlign:U,textBaseline:j,translation:[H,G],backdrop:it}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-fo(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=t+a,h=l.widest.width;let f,p;return e==="left"?s?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):e==="right"?s?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const u=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=s.length;a<l;++a){const h=s[a];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,v,b;this.isHorizontal()?(f=no(t,this.left,l)-l/2,p=no(t,this.right,u)+u/2,v=b=h):(v=no(t,this.top,l)-l/2,b=no(t,this.bottom,u)+u/2,f=p=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(f,v),e.lineTo(p,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&eb(i,s);const a=this.getLabelItems(t);for(const l of a){const u=l.options,h=l.font,f=l.label,p=l.textOffset;Dm(i,f,0,p,h,u)}s&&nb(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=qn(i.font),l=Ui(i.padding),u=i.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||Zt(e)?(h+=l.bottom,on(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:v,rotation:b}=xF(this,h,e,u);Dm(t,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:b,textAlign:vF(u,e,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ft(t.grid&&t.grid.z,-1),s=Ft(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==pc.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=e.length;a<l;++a){const u=e[a];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return qn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class jf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;wF(e)&&(i=this.register(e));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,bF(t,l,i),this.override&&je.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in je[s]&&(delete je[s][i],this.override&&delete Co[i])}}function bF(n,t,e){const i=_h(Object.create(null),[e?je.get(e):{},je.get(t),n.defaults]);je.set(t,i),n.defaultRoutes&&_F(t,n.defaultRoutes),n.descriptors&&je.describe(t,n.descriptors)}function _F(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),h=l.join(".");je.route(a,s,h,u)})}function wF(n){return"id"in n&&"defaults"in n}class TF{constructor(){this.controllers=new jf(lb,"datasets",!0),this.elements=new jf(Do,"elements"),this.plugins=new jf(Object,"plugins"),this.scales=new jf(pc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):le(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=Zx(t);ge(i["before"+s],[],i),e[t](i),ge(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var as=new TF;class SF{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const a of t){const l=a.plugin,u=l[i],h=[e,s,a.options];if(ge(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){ie(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=Ft(i.options&&i.options.plugins,{}),a=EF(i);return s===!1&&!e?[]:CF(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function EF(n){const t={},e=[],i=Object.keys(as.plugins.items);for(let a=0;a<i.length;a++)e.push(as.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function AF(n,t){return!t&&n===!1?null:n===!0?{}:n}function CF(n,{plugins:t,localIds:e},i,s){const a=[],l=n.getContext();for(const u of t){const h=u.id,f=AF(i[h],s);f!==null&&a.push({plugin:u,options:RF(n.config,{plugin:u,local:e[h]},f,l)})}return a}function RF(n,{plugin:t,local:e},i,s){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ev(n,t){const e=je.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function NF(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function IF(n,t){return n===t?"_index_":"_value_"}function d2(n){if(n==="x"||n==="y"||n==="r")return n}function kF(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function nv(n,...t){if(d2(n))return n;for(const e of t){const i=e.axis||kF(e.position)||n.length>1&&d2(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function f2(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function MF(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return f2(n,"x",e[0])||f2(n,"y",e[0])}return{}}function DF(n,t){const e=Co[n.type]||{scales:{}},i=t.scales||{},s=ev(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Zt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=nv(l,u,MF(l,n),je.scales[u.type]),f=IF(h,s),p=e.scales||{};a[l]=th(Object.create(null),[{axis:h},u,p[h],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||ev(u,t),p=(Co[u]||{}).scales||{};Object.keys(p).forEach(v=>{const b=NF(v,h),w=l[b+"AxisID"]||b;a[w]=a[w]||Object.create(null),th(a[w],[{axis:b},i[w],p[v]])})}),Object.keys(a).forEach(l=>{const u=a[l];th(u,[je.scales[u.type],je.scale])}),a}function BI(n){const t=n.options||(n.options={});t.plugins=Ft(t.plugins,{}),t.scales=DF(n,t)}function FI(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function PF(n){return n=n||{},n.data=FI(n.data),BI(n),n}const m2=new Map,HI=new Set;function Vf(n,t){let e=m2.get(n);return e||(e=t(),m2.set(n,e),HI.add(e)),e}const ku=(n,t,e)=>{const i=Zl(t,e);i!==void 0&&n.add(i)};class OF{constructor(t){this._config=PF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=FI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),BI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Vf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Vf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Vf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Vf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const h=new Set;e.forEach(p=>{t&&(h.add(t),p.forEach(v=>ku(h,t,v))),p.forEach(v=>ku(h,s,v)),p.forEach(v=>ku(h,Co[a]||{},v)),p.forEach(v=>ku(h,je,v)),p.forEach(v=>ku(h,Jy,v))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),HI.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Co[e]||{},je.datasets[e]||{},{type:e},je,Jy]}resolveNamedOptions(t,e,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=p2(this._resolverCache,t,s);let h=l;if(VF(l,e)){a.$shared=!1,i=ga(i)?i():i;const f=this.createResolver(t,i,u);h=Jl(l,i,f)}for(const f of e)a[f]=h[f];return a}createResolver(t,e,i=[""],s){const{resolver:a}=p2(this._resolverCache,t,i);return Zt(e)?Jl(a,e,void 0,s):a}}function p2(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let a=i.get(s);return a||(a={resolver:ib(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,a)),a}const jF=n=>Zt(n)&&Object.getOwnPropertyNames(n).some(t=>ga(n[t]));function VF(n,t){const{isScriptable:e,isIndexable:i}=EI(n);for(const s of t){const a=e(s),l=i(s),u=(l||a)&&n[s];if(a&&(ga(u)||jF(u))||l&&on(u))return!0}return!1}var LF="4.5.0";const UF=["top","bottom","left","right","chartArea"];function g2(n,t){return n==="top"||n==="bottom"||UF.indexOf(n)===-1&&t==="x"}function y2(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function v2(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ge(e&&e.onComplete,[n],t)}function zF(n){const t=n.chart,e=t.options.animation;ge(e&&e.onProgress,[n],t)}function qI(n){return ab()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const im={},x2=n=>{const t=qI(n);return Object.values(im).filter(e=>e.canvas===t).pop()};function BF(n,t,e){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=t){const l=n[s];delete n[s],(e>0||a>t)&&(n[a+e]=l)}}}function FF(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let ub=class{static defaults=je;static instances=im;static overrides=Co;static registry=as;static version=LF;static getChart=x2;static register(...t){as.add(...t),b2()}static unregister(...t){as.remove(...t),b2()}constructor(t,e){const i=this.config=new OF(e),s=qI(t),a=x2(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||aF(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,p=h&&h.width;if(this.id=OU(),this.ctx=u,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new SF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ez(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],im[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ks.listen(this,"complete",v2),Ks.listen(this,"progress",zF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:a}=this;return ie(t)?e&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return as}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():FE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return UE(this.canvas,this.ctx),this}stop(){return Ks.stop(this),this}resize(t,e){Ks.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,FE(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ge(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};le(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const u=e[l],h=nv(l,u),f=h==="r",p=h==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),le(a,l=>{const u=l.options,h=u.id,f=nv(h,u),p=Ft(u.type,l.dtype);(u.position===void 0||g2(u.position,f)!==g2(l.dposition))&&(u.position=l.dposition),s[h]=!0;let v=null;if(h in i&&i[h].type===p)v=i[h];else{const b=as.getScale(p);v=new b({id:h,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,t)}),le(s,(l,u)=>{l||delete i[u]}),le(i,l=>{Zr.configure(this,l,l.options),Zr.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(y2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const a=e[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||ev(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=as.getController(u),{datasetElementType:f,dataElementType:p}=je.datasets[u];Object.assign(h,{dataElementType:as.getElement(p),datasetElementType:f&&as.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){le(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:v}=this.getDatasetMeta(f),b=!s&&a.indexOf(v)===-1;v.buildOrUpdateElements(b),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||le(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(y2("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){le(this.scales,t=>{Zr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!NE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of e){const l=i==="_removeElements"?-a:a;BF(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<e;a++)if(!NE(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zr.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],le(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ga(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ks.has(this)?this.attached&&!Ks.running(this)&&Ks.start(this):(this.draw(),v2({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=oB(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&eb(e,s),t.controller.draw(),s&&nb(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Sh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const a=UB.modes[e];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Mo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);wh(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ks.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),UE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete im[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};le(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,f)=>{e.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(e.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){le(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},le(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,l,u,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Im(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),l=a(e,t),u=i?t:a(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:a}=this,l=e,u=this._getActiveElements(t,s,i,l),h=BU(t),f=FF(t,this._lastEvent,i,h);i&&(this._lastEvent=null,ge(a.onHover,[t,u,this],this),h&&ge(a.onClick,[t,u,this],this));const p=!Im(u,s);return(p||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function b2(){return le(ub.instances,n=>n._plugins.invalidate())}function $I(n,t,e=t){n.lineCap=Ft(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ft(e.borderDash,t.borderDash)),n.lineDashOffset=Ft(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ft(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ft(e.borderWidth,t.borderWidth),n.strokeStyle=Ft(e.borderColor,t.borderColor)}function HF(n,t,e){n.lineTo(e.x,e.y)}function qF(n){return n.stepped?pz:n.tension||n.cubicInterpolationMode==="monotone"?gz:HF}function GI(n,t,e={}){const i=n.length,{start:s=0,end:a=i-1}=e,{start:l,end:u}=t,h=Math.max(s,l),f=Math.min(a,u),p=s<l&&a<l||s>u&&a>u;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function $F(n,t,e,i){const{points:s,options:a}=t,{count:l,start:u,loop:h,ilen:f}=GI(s,e,i),p=qF(a);let{move:v=!0,reverse:b}=i||{},w,S,A;for(w=0;w<=f;++w)S=s[(u+(b?f-w:w))%l],!S.skip&&(v?(n.moveTo(S.x,S.y),v=!1):p(n,A,S,b,a.stepped),A=S);return h&&(S=s[(u+(b?f:0))%l],p(n,A,S,b,a.stepped)),!!h}function GF(n,t,e,i){const s=t.points,{count:a,start:l,ilen:u}=GI(s,e,i),{move:h=!0,reverse:f}=i||{};let p=0,v=0,b,w,S,A,R,I;const B=Y=>(l+(f?u-Y:Y))%a,F=()=>{A!==R&&(n.lineTo(p,R),n.lineTo(p,A),n.lineTo(p,I))};for(h&&(w=s[B(0)],n.moveTo(w.x,w.y)),b=0;b<=u;++b){if(w=s[B(b)],w.skip)continue;const Y=w.x,H=w.y,G=Y|0;G===S?(H<A?A=H:H>R&&(R=H),p=(v*p+Y)/++v):(F(),n.lineTo(Y,H),S=G,v=0,A=R=H),I=H}F()}function iv(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?GF:$F}function QF(n){return n.stepped?Wz:n.tension||n.cubicInterpolationMode==="monotone"?Kz:oo}function WF(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),$I(n,t.options),n.stroke(s)}function KF(n,t,e,i){const{segments:s,options:a}=t,l=iv(t);for(const u of s)$I(n,a,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const YF=typeof Path2D=="function";function XF(n,t,e,i){YF&&!t.options.segment?WF(n,t,e,i):KF(n,t,e,i)}class ZF extends Do{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;zz(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=iB(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],a=this.points,l=tB(this,{property:e,start:s,end:s});if(!l.length)return;const u=[],h=QF(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:v,end:b}=l[f],w=a[v],S=a[b];if(w===S){u.push(w);continue}const A=Math.abs((s-w[e])/(S[e]-w[e])),R=h(w,S,A,i.stepped);R[e]=t[e],u.push(R)}return u.length===1?u[0]:u}pathSegment(t,e,i){return iv(this)(t,this,e,i)}path(t,e,i){const s=this.segments,a=iv(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of s)l&=a(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),XF(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function _2(n,t,e,i){const s=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<s.radius+s.hitRadius}class JF extends Do{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return _2(this,t,"x",e)}inYRange(t,e){return _2(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Sh(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,tv(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function QI(n,t){const{x:e,y:i,base:s,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let u,h,f,p,v;return n.horizontal?(v=l/2,u=Math.min(e,s),h=Math.max(e,s),f=i-v,p=i+v):(v=a/2,u=e-v,h=e+v,f=Math.min(i,s),p=Math.max(i,s)),{left:u,top:f,right:h,bottom:p}}function Jr(n,t,e,i){return n?0:ii(t,e,i)}function tH(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,a=SI(i);return{t:Jr(s.top,a.top,0,e),r:Jr(s.right,a.right,0,t),b:Jr(s.bottom,a.bottom,0,e),l:Jr(s.left,a.left,0,t)}}function eH(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=zl(s),l=Math.min(t,e),u=n.borderSkipped,h=i||Zt(s);return{topLeft:Jr(!h||u.top||u.left,a.topLeft,0,l),topRight:Jr(!h||u.top||u.right,a.topRight,0,l),bottomLeft:Jr(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:Jr(!h||u.bottom||u.right,a.bottomRight,0,l)}}function nH(n){const t=QI(n),e=t.right-t.left,i=t.bottom-t.top,s=tH(n,e/2,i/2),a=eH(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function ty(n,t,e,i){const s=t===null,a=e===null,u=n&&!(s&&a)&&QI(n,i);return u&&(s||mo(t,u.left,u.right))&&(a||mo(e,u.top,u.bottom))}function iH(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function sH(n,t){n.rect(t.x,t.y,t.w,t.h)}function ey(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,a=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+a,h:n.h+l,radius:n.radius}}class rH extends Do{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=nH(this),u=iH(l.radius)?Pm:sH;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),u(t,ey(l,e,a)),t.clip(),u(t,ey(a,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,ey(a,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return ty(this,t,e,i)}inXRange(t,e){return ty(this,t,null,e)}inYRange(t,e){return ty(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+s)/2:e,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const w2=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},aH=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class T2 extends Do{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ge(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=qn(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=w2(i,a);let f,p;e.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,u,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+u;let v=t;a.textAlign="left",a.textBaseline="middle";let b=-1,w=-p;return this.legendItems.forEach((S,A)=>{const R=i+e/2+a.measureText(S.text).width;(A===0||f[f.length-1]+R+2*u>l)&&(v+=p,f[f.length-(A>0?0:1)]=0,w+=p,b++),h[A]={left:0,top:w,row:b,width:R,height:s},f[f.length-1]+=R+u}),v}_fitCols(t,e,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let v=u,b=0,w=0,S=0,A=0;return this.legendItems.forEach((R,I)=>{const{itemWidth:B,itemHeight:F}=oH(i,e,a,R,s);I>0&&w+F+2*u>p&&(v+=b+u,f.push({width:b,height:w}),S+=b+u,A++,b=w=0),h[I]={left:S,top:w,col:A,width:B,height:F},b=Math.max(b,B),w+=F+u}),v+=b,f.push({width:b,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:a}}=this,l=Bl(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=ei(i,this.left+s,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,h=ei(i,this.left+s,this.right-this.lineWidths[u])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let u=0,h=ei(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,h=ei(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;eb(t,this),this._draw(),nb(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,u=je.color,h=Bl(t.rtl,this.left,this.width),f=qn(l.font),{padding:p}=l,v=f.size,b=v/2;let w;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:S,boxHeight:A,itemHeight:R}=w2(l,v),I=function(G,k,C){if(isNaN(S)||S<=0||isNaN(A)||A<0)return;s.save();const M=Ft(C.lineWidth,1);if(s.fillStyle=Ft(C.fillStyle,u),s.lineCap=Ft(C.lineCap,"butt"),s.lineDashOffset=Ft(C.lineDashOffset,0),s.lineJoin=Ft(C.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=Ft(C.strokeStyle,u),s.setLineDash(Ft(C.lineDash,[])),l.usePointStyle){const P={radius:A*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:M},V=h.xPlus(G,S/2),L=k+b;wI(s,P,V,L,l.pointStyleWidth&&S)}else{const P=k+Math.max((v-A)/2,0),V=h.leftForLtr(G,S),L=zl(C.borderRadius);s.beginPath(),Object.values(L).some(j=>j!==0)?Pm(s,{x:V,y:P,w:S,h:A,radius:L}):s.rect(V,P,S,A),s.fill(),M!==0&&s.stroke()}s.restore()},B=function(G,k,C){Dm(s,C.text,G,k+R/2,f,{strikethrough:C.hidden,textAlign:h.textAlign(C.textAlign)})},F=this.isHorizontal(),Y=this._computeTitleHeight();F?w={x:ei(a,this.left+p,this.right-i[0]),y:this.top+p+Y,line:0}:w={x:this.left+p,y:ei(a,this.top+Y+p,this.bottom-e[0].height),line:0},II(this.ctx,t.textDirection);const H=R+p;this.legendItems.forEach((G,k)=>{s.strokeStyle=G.fontColor,s.fillStyle=G.fontColor;const C=s.measureText(G.text).width,M=h.textAlign(G.textAlign||(G.textAlign=l.textAlign)),P=S+b+C;let V=w.x,L=w.y;h.setWidth(this.width),F?k>0&&V+P+p>this.right&&(L=w.y+=H,w.line++,V=w.x=ei(a,this.left+p,this.right-i[w.line])):k>0&&L+H>this.bottom&&(V=w.x=V+e[w.line].width+p,w.line++,L=w.y=ei(a,this.top+Y+p,this.bottom-e[w.line].height));const j=h.x(V);if(I(j,L,G),V=nz(M,V+S+b,F?V+P:this.right,t.rtl),B(h.x(V),L,G),F)w.x+=P+p;else if(typeof G.text!="string"){const nt=f.lineHeight;w.y+=WI(G,nt)+p}else w.y+=H}),kI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=qn(e.font),s=Ui(e.padding);if(!e.display)return;const a=Bl(t.rtl,this.left,this.width),l=this.ctx,u=e.position,h=i.size/2,f=s.top+h;let p,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+f,v=ei(t.align,v,this.right-b);else{const S=this.columnSizes.reduce((A,R)=>Math.max(A,R.height),0);p=f+ei(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const w=ei(u,v,v+b);l.textAlign=a.textAlign(xI(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Dm(l,e.text,w,p,i)}_computeTitleHeight(){const t=this.options.title,e=qn(t.font),i=Ui(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,a;if(mo(t,this.left,this.right)&&mo(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],mo(t,s.left,s.left+s.width)&&mo(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!uH(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=aH(s,i);s&&!a&&ge(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&ge(e.onHover,[t,i,this],this)}else i&&ge(e.onClick,[t,i,this],this)}}function oH(n,t,e,i,s){const a=lH(i,n,t,e),l=cH(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function lH(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(s).width}function cH(n,t,e){let i=n;return typeof t.text!="string"&&(i=WI(t,e)),i}function WI(n,t){const e=n.text?n.text.length:0;return t*e}function uH(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var hH={id:"legend",_element:T2,start(n,t,e){const i=n.legend=new T2({ctx:n.ctx,options:e,chart:n});Zr.configure(n,i,e),Zr.addBox(n,i)},stop(n){Zr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Zr.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(e?0:void 0),p=Ui(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Bu={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,a=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=Zy(t,f);p<s&&(s=p,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function rs(n,t){return t&&(on(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ys(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function dH(n,t){const{element:e,datasetIndex:i,index:s}=t,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function S2(n,t){const e=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:u}=t,h=qn(t.bodyFont),f=qn(t.titleFont),p=qn(t.footerFont),v=a.length,b=s.length,w=i.length,S=Ui(t.padding);let A=S.height,R=0,I=i.reduce((Y,H)=>Y+H.before.length+H.lines.length+H.after.length,0);if(I+=n.beforeBody.length+n.afterBody.length,v&&(A+=v*f.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),I){const Y=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;A+=w*Y+(I-w)*h.lineHeight+(I-1)*t.bodySpacing}b&&(A+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let B=0;const F=function(Y){R=Math.max(R,e.measureText(Y).width+B)};return e.save(),e.font=f.string,le(n.title,F),e.font=h.string,le(n.beforeBody.concat(n.afterBody),F),B=t.displayColors?l+2+t.boxPadding:0,le(i,Y=>{le(Y.before,F),le(Y.lines,F),le(Y.after,F)}),B=0,e.font=p.string,le(n.footer,F),e.restore(),R+=S.width,{width:R,height:A}}function fH(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function mH(n,t,e,i){const{x:s,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+a+l>t.width||n==="right"&&s-a-l<0)return!0}function pH(n,t,e,i){const{x:s,width:a}=e,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=s<=(u+h)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),mH(f,n,t,e)&&(f="center"),f}function E2(n,t,e){const i=e.yAlign||t.yAlign||fH(n,e);return{xAlign:e.xAlign||t.xAlign||pH(n,t,e,i),yAlign:i}}function gH(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function yH(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function A2(n,t,e,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=e,f=s+a,{topLeft:p,topRight:v,bottomLeft:b,bottomRight:w}=zl(l);let S=gH(t,u);const A=yH(t,h,f);return h==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,b)+s:u==="right"&&(S+=Math.max(v,w)+s),{x:ii(S,0,i.width-t.width),y:ii(A,0,i.height-t.height)}}function Lf(n,t,e){const i=Ui(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function C2(n){return rs([],Ys(n))}function vH(n,t,e){return Mo(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function R2(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const KI={beforeTitle:Ws,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ws,beforeBody:Ws,beforeLabel:Ws,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ie(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ws,afterBody:Ws,beforeFooter:Ws,footer:Ws,afterFooter:Ws};function zn(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?KI[t].call(e,i):s}class N2 extends Do{static positioners=Bu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,a=new DI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=vH(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=zn(i,"beforeTitle",this,t),a=zn(i,"title",this,t),l=zn(i,"afterTitle",this,t);let u=[];return u=rs(u,Ys(s)),u=rs(u,Ys(a)),u=rs(u,Ys(l)),u}getBeforeBody(t,e){return C2(zn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return le(t,a=>{const l={before:[],lines:[],after:[]},u=R2(i,a);rs(l.before,Ys(zn(u,"beforeLabel",this,a))),rs(l.lines,zn(u,"label",this,a)),rs(l.after,Ys(zn(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,e){return C2(zn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=zn(i,"beforeFooter",this,t),a=zn(i,"footer",this,t),l=zn(i,"afterFooter",this,t);let u=[];return u=rs(u,Ys(s)),u=rs(u,Ys(a)),u=rs(u,Ys(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],a=[],l=[];let u=[],h,f;for(h=0,f=e.length;h<f;++h)u.push(dH(this.chart,e[h]));return t.filter&&(u=u.filter((p,v,b)=>t.filter(p,v,b,i))),t.itemSort&&(u=u.sort((p,v)=>t.itemSort(p,v,i))),le(u,p=>{const v=R2(t.callbacks,p);s.push(zn(v,"labelColor",this,p)),a.push(zn(v,"labelPointStyle",this,p)),l.push(zn(v,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=Bu[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=S2(this,i),f=Object.assign({},u,h),p=E2(this.chart,i,f),v=A2(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const a=this.getCaretPosition(t,i,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:v}=zl(u),{x:b,y:w}=t,{width:S,height:A}=e;let R,I,B,F,Y,H;return a==="center"?(Y=w+A/2,s==="left"?(R=b,I=R-l,F=Y+l,H=Y-l):(R=b+S,I=R+l,F=Y-l,H=Y+l),B=R):(s==="left"?I=b+Math.max(h,p)+l:s==="right"?I=b+S-Math.max(f,v)-l:I=this.caretX,a==="top"?(F=w,Y=F-l,R=I-l,B=I+l):(F=w+A,Y=F+l,R=I+l,B=I-l),H=F),{x1:R,x2:I,x3:B,y1:F,y2:Y,y3:H}}drawTitle(t,e,i){const s=this.title,a=s.length;let l,u,h;if(a){const f=Bl(i.rtl,this.x,this.width);for(t.x=Lf(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=qn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,h=0;h<a;++h)e.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,h+1===a&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=qn(a.bodyFont),v=Lf(this,"left",a),b=s.x(v),w=h<p.lineHeight?(p.lineHeight-h)/2:0,S=e.y+w;if(a.usePointStyle){const A={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},R=s.leftForLtr(b,f)+f/2,I=S+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,tv(t,A,R,I),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,tv(t,A,R,I)}else{t.lineWidth=Zt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=s.leftForLtr(b,f),R=s.leftForLtr(s.xPlus(b,1),f-2),I=zl(l.borderRadius);Object.values(I).some(B=>B!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Pm(t,{x:A,y:S,w:f,h,radius:I}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Pm(t,{x:R,y:S+1,w:f-2,h:h-2,radius:I}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(A,S,f,h),t.strokeRect(A,S,f,h),t.fillStyle=l.backgroundColor,t.fillRect(R,S+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:p}=i,v=qn(i.bodyFont);let b=v.lineHeight,w=0;const S=Bl(i.rtl,this.x,this.width),A=function(C){e.fillText(C,S.x(t.x+w),t.y+b/2),t.y+=b+a},R=S.textAlign(l);let I,B,F,Y,H,G,k;for(e.textAlign=l,e.textBaseline="middle",e.font=v.string,t.x=Lf(this,R,i),e.fillStyle=i.bodyColor,le(this.beforeBody,A),w=u&&R!=="right"?l==="center"?f/2+p:f+2+p:0,Y=0,G=s.length;Y<G;++Y){for(I=s[Y],B=this.labelTextColors[Y],e.fillStyle=B,le(I.before,A),F=I.lines,u&&F.length&&(this._drawColorBox(e,t,Y,S,i),b=Math.max(v.lineHeight,h)),H=0,k=F.length;H<k;++H)A(F[H]),b=v.lineHeight;le(I.after,A)}w=0,b=v.lineHeight,le(this.afterBody,A),t.y-=a}drawFooter(t,e,i){const s=this.footer,a=s.length;let l,u;if(a){const h=Bl(i.rtl,this.x,this.width);for(t.x=Lf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",l=qn(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<a;++u)e.fillText(s[u],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=t,{width:f,height:p}=i,{topLeft:v,topRight:b,bottomLeft:w,bottomRight:S}=zl(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+v,h),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+f-b,h),e.quadraticCurveTo(u+f,h,u+f,h+b),l==="center"&&a==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+f,h+p-S),e.quadraticCurveTo(u+f,h+p,u+f-S,h+p),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+w,h+p),e.quadraticCurveTo(u,h+p,u,h+p-w),l==="center"&&a==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,h+v),e.quadraticCurveTo(u,h,u+v,h),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Bu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=S2(this,t),h=Object.assign({},l,this._size),f=E2(e,t,h),p=A2(t,h,f,e);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ui(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,e),II(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),kI(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!Im(i,s),l=this._positionChanged(s,e);(a||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),u=this._positionChanged(l,t),h=e||!Im(l,a)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:a}=this,l=Bu[a.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}var xH={id:"tooltip",_element:N2,positioners:Bu,afterInit(n,t,e){e&&(n.tooltip=new N2({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:KI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const bH=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function _H(n,t,e,i){const s=n.indexOf(t);if(s===-1)return bH(n,t,e,i);const a=n.lastIndexOf(t);return s!==a?e:s}const wH=(n,t)=>n===null?null:ii(Math.round(n),0,t);function I2(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class TH extends pc{static id="category";static defaults={ticks:{callback:I2}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:a}of e)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ie(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:_H(i,t,Ft(e,t),this._addedLabels),wH(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return I2.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function SH(n,t){const e=[],{bounds:s,step:a,min:l,max:u,precision:h,count:f,maxTicks:p,maxDigits:v,includeBounds:b}=n,w=a||1,S=p-1,{min:A,max:R}=t,I=!ie(l),B=!ie(u),F=!ie(f),Y=(R-A)/(v+1);let H=kE((R-A)/S/w)*w,G,k,C,M;if(H<1e-14&&!I&&!B)return[{value:A},{value:R}];M=Math.ceil(R/H)-Math.floor(A/H),M>S&&(H=kE(M*H/S/w)*w),ie(h)||(G=Math.pow(10,h),H=Math.ceil(H*G)/G),s==="ticks"?(k=Math.floor(A/H)*H,C=Math.ceil(R/H)*H):(k=A,C=R),I&&B&&a&&GU((u-l)/a,H/1e3)?(M=Math.round(Math.min((u-l)/H,p)),H=(u-l)/M,k=l,C=u):F?(k=I?l:k,C=B?u:C,M=f-1,H=(C-k)/M):(M=(C-k)/H,eh(M,Math.round(M),H/1e3)?M=Math.round(M):M=Math.ceil(M));const P=Math.max(ME(H),ME(k));G=Math.pow(10,ie(h)?P:h),k=Math.round(k*G)/G,C=Math.round(C*G)/G;let V=0;for(I&&(b&&k!==l?(e.push({value:l}),k<l&&V++,eh(Math.round((k+V*H)*G)/G,l,k2(l,Y,n))&&V++):k<l&&V++);V<M;++V){const L=Math.round((k+V*H)*G)/G;if(B&&L>u)break;e.push({value:L})}return B&&b&&C!==u?e.length&&eh(e[e.length-1].value,u,k2(u,Y,n))?e[e.length-1].value=u:e.push({value:u}):(!B||C===u)&&e.push({value:C}),e}function k2(n,t,{horizontal:e,minRotation:i}){const s=fo(i),a=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class EH extends pc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ie(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=e?s:h,u=h=>a=i?a:h;if(t){const h=ys(s),f=ys(a);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);u(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=SH(s,a);return t.bounds==="ticks"&&QU(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return bI(t,this.chart.options.locale,this.options.ticks.format)}}class AH extends EH{static id="linear";static defaults={ticks:{callback:_I.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Si(t)?t:0,this.max=Si(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=fo(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const up={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fn=Object.keys(up);function M2(n,t){return n-t}function D2(n,t){if(ie(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Si(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(Th(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,s)),+l)}function P2(n,t,e,i){const s=Fn.length;for(let a=Fn.indexOf(n);a<s-1;++a){const l=up[Fn[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Fn[a]}return Fn[s-1]}function CH(n,t,e,i,s){for(let a=Fn.length-1;a>=Fn.indexOf(e);a--){const l=Fn[a];if(up[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return Fn[e?Fn.indexOf(e):0]}function RH(n){for(let t=Fn.indexOf(n)+1,e=Fn.length;t<e;++t)if(up[Fn[t]].common)return Fn[t]}function O2(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=Jx(e,t),a=e[i]>=t?e[i]:e[s];n[a]=!0}}function NH(n,t,e,i){const s=n._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,h;for(u=a;u<=l;u=+s.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}function j2(n,t,e){const i=[],s={},a=t.length;let l,u;for(l=0;l<a;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return a===0||!e?i:NH(n,i,s,e)}class V2 extends pc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new PB._date(t.adapters.date);s.init(e),th(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:D2(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Si(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),a=Si(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=JU(s,a,l);return this._unit=e.unit||(i.autoSkip?P2(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):CH(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:RH(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),j2(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=ii(e,0,l),i=ii(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||P2(a.minUnit,e,i,this._getLabelCapacity(e)),u=Ft(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Th(h)||h===!0,p={};let v=e,b,w;if(f&&(v=+t.startOf(v,"isoWeek",h)),v=+t.startOf(v,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(b=v,w=0;b<i;b=+t.add(b,u,l),w++)O2(p,b,S);return(b===i||s.bounds==="ticks"||w===1)&&O2(p,b,S),Object.keys(p).sort(M2).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,l=e||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const a=this.options,l=a.ticks.callback;if(l)return ge(l,[t,e,i],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&u[h],v=f&&u[f],b=i[e],w=f&&v&&b&&b.major;return this._adapter.format(t,s||(w?v:p))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=fo(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,j2(this,[t],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(D2(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return gI(t.sort(M2))}}function Uf(n,t,e){let i=0,s=n.length-1,a,l,u,h;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=po(n,"pos",t)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=po(n,"time",t)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[s]);const f=l-a;return f?u+(h-u)*(t-a)/f:u}class GH extends V2{static id="timeseries";static defaults=V2.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Uf(e,this.min),this._tableRange=Uf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],a=[];let l,u,h,f,p;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&s.push(f);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Uf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Uf(this._table,i*this._tableRange+this._minPos,!0)}}const YI="label";function L2(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function IH(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function XI(n,t){n.labels=t}function ZI(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YI;const i=[];n.datasets=t.map(s=>{const a=n.datasets.find(l=>l[e]===s[e]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function kH(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YI;const e={labels:[],datasets:[]};return XI(e,n.labels),ZI(e,n.datasets,t),e}function MH(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:p,updateMode:v,...b}=n,w=O.useRef(null),S=O.useRef(null),A=()=>{w.current&&(S.current=new ub(w.current,{type:l,data:kH(u,a),options:h&&{...h},plugins:f}),L2(t,S.current))},R=()=>{L2(t,null),S.current&&(S.current.destroy(),S.current=null)};return O.useEffect(()=>{!s&&S.current&&h&&IH(S.current,h)},[s,h]),O.useEffect(()=>{!s&&S.current&&XI(S.current.config.data,u.labels)},[s,u.labels]),O.useEffect(()=>{!s&&S.current&&u.datasets&&ZI(S.current.config.data,u.datasets,a)},[s,u.datasets]),O.useEffect(()=>{S.current&&(s?(R(),setTimeout(A)):S.current.update(v))},[s,h,u.labels,u.datasets,v]),O.useEffect(()=>{S.current&&(R(),setTimeout(A))},[l]),O.useEffect(()=>(A(),()=>R()),[]),rv.createElement("canvas",{ref:w,role:"img",height:e,width:i,...b},p)}const DH=O.forwardRef(MH);ub.register(MB,DB,rH,ZF,JF,AH,TH,xH,hH);const PH=({attempts:n})=>{const{labels:t,scores:e,percentages:i,maxQuestions:s,formattedDates:a}=O.useMemo(()=>{if(!n||n.length===0)return{labels:[],scores:[],percentages:[],maxQuestions:1,formattedDates:[]};const h=[...n].sort((f,p)=>f.timestamp?.seconds-p.timestamp?.seconds);return{labels:h.map((f,p)=>`Attempt ${p+1}`),scores:h.map(f=>f.score),percentages:h.map(f=>Math.round(f.score/f.totalQuestions*100)),maxQuestions:h[0]?.totalQuestions||1,formattedDates:h.map(f=>new Date(f.timestamp?.seconds*1e3).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}))}},[n]);if(!n||n.length===0)return y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quiz Performance Timeline"}),y.jsx("div",{className:"h-64 flex items-center justify-center",children:y.jsx("p",{className:"text-gray-500",children:"No attempt data available"})})]});const l=O.useMemo(()=>({labels:t,datasets:[{type:"bar",label:"Score",data:e,backgroundColor:"rgba(54, 162, 235, 0.7)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,yAxisID:"y"},{type:"line",label:"Percentage",data:i,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.7)",borderWidth:2,pointRadius:4,pointHoverRadius:6,yAxisID:"y1",fill:!1}]}),[t,e,i]),u=O.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,animation:{duration:2e3},plugins:{legend:{position:"top",labels:{usePointStyle:!0}},tooltip:{callbacks:{title:h=>a[h[0].dataIndex],label:h=>{let f=h.dataset.label||"";return f+=": ",f+=h.datasetIndex===0?`${h.raw}/${s}`:`${h.raw}%`,f}}}},scales:{y:{type:"linear",position:"left",title:{display:!0,text:"Score",color:"rgba(54, 162, 235, 1)",font:{weight:"bold"}},max:s,min:0,ticks:{color:"rgba(54, 162, 235, 1)"},grid:{color:"rgba(54, 162, 235, 0.1)"}},y1:{type:"linear",position:"right",title:{display:!0,text:"Percentage (%)",color:"rgba(255, 99, 132, 1)",font:{weight:"bold"}},max:100,min:0,grid:{drawOnChartArea:!1},ticks:{color:"rgba(255, 99, 132, 1)"}},x:{title:{display:!0,text:"Attempts",font:{weight:"bold"}}}}}),[a,s]);return y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quiz Performance Timeline"}),y.jsx("div",{className:"h-64",children:y.jsx(DH,{type:"bar",data:l,options:u,fallbackContent:y.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading chart..."})})}),y.jsx("div",{className:"mt-2 text-sm text-gray-500 text-center",children:n.length>0&&`From ${a[0]} to ${a[a.length-1]}`})]})},OH=rv.memo(PH),jH=()=>{const n=_s(),t=On(),{courseId:e,chapterId:i,sectionId:s,userId:a}=n.state||{},{courses:l}=dx([e]),{chapters:u}=fx([{courseId:e,chapterId:i}]),{sections:h}=mx([{courseId:e,chapterId:i,sectionId:s}]),[f,p]=O.useState([]),[v,b]=O.useState(!0),[w,S]=O.useState(null),[A,R]=O.useState(null),[I,B]=O.useState(!1),F=nt=>l[nt]?.Subject||nt,Y=nt=>u[nt]?.Title||nt,H=nt=>h[nt]?.SectionName||nt;O.useEffect(()=>{if(!e||!i||!s||!a){S("Missing required parameters"),b(!1);return}(async()=>{try{b(!0);const rt=`users/${a}/quizResults/${e}/chapters/${i}/sections/${s}/attempts`,$=ln(Yt,rt),J=Yr($,d6("timestamp","desc")),gt=(await Pi(J)).docs.map(U=>({id:U.id,...U.data(),date:U.data().timestamp?.toDate()}));p(gt)}catch(rt){console.error("Error fetching attempts:",rt),S(rt.message)}finally{b(!1)}})()},[e,i,s,a]);const G=(nt,rt)=>Math.round(nt/rt*100),k=nt=>nt?.toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})||"N/A",C=(nt,rt)=>{const $=G(nt,rt);return $>=80?"text-green-600":$>=60?"text-yellow-600":"text-red-600"},M=(nt,rt)=>{const $=G(nt,rt);return $>=80?"":$>=60?"":""},P=(nt,rt,$)=>{const J=G(nt.score,nt.totalQuestions),ct=$-rt;return J>=90?`Exceptional Performance #${ct}`:J>=80?`Great Work #${ct}`:J>=70?`Solid Effort #${ct}`:J>=60?`Good Try #${ct}`:J>=50?`Practice Needed #${ct}`:`Let's Improve #${ct}`},V=nt=>{const rt=new Date,$=new Date(nt),J=Math.floor((rt-$)/(1e3*60*60));if(J<1)return"Just now";if(J<24)return`${J} hours ago`;if(J<48)return"Yesterday";const ct=Math.floor(J/24);return ct<7?`${ct} days ago`:k(nt)},L=I?f:f.slice(0,3),j={collapsed:{opacity:0,height:0,transition:{duration:.4}},expanded:{opacity:1,height:"auto",transition:{duration:.4}}};return v?y.jsxs("div",{className:"flex justify-center items-center h-64",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("span",{className:"ml-3 text-gray-600",children:"Loading your results..."})]}):w?y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative max-w-md",children:y.jsxs("span",{className:"block sm:inline",children:[" Error: ",w]})})}):y.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[y.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[y.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200 transform hover:-translate-x-1",children:[y.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Scores"]}),y.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[y.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Attempt Details"]}),y.jsx("div",{className:"w-24"})," "]}),y.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-200 transition-all duration-300 hover:shadow-lg",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold",children:F(e)})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold",children:Y(i)})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold",children:H(s)})]})]})]})}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Quiz Attempts"]}),f.length===0?y.jsxs("div",{className:"text-center py-8 text-gray-500 bg-gray-100 rounded-lg animate-pulse",children:[y.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),y.jsx("p",{className:"mt-2",children:"No attempts found for this section"})]}):y.jsxs(y.Fragment,{children:[f.slice(0,3).map((nt,rt)=>y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden transition-all duration-300 hover:shadow-md",children:[y.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>R(A===nt.id?null:nt.id),children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-2xl mr-3",children:M(nt.score,nt.totalQuestions)}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:P(nt,rt,f.length)}),y.jsx("p",{className:"text-sm text-gray-500",children:V(nt.date)}),y.jsxs("p",{className:`text-sm font-semibold ${C(nt.score,nt.totalQuestions)}`,children:["Score: ",nt.score,"/",nt.totalQuestions," (",G(nt.score,nt.totalQuestions),"%)"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-gray-500 mr-2 text-sm",children:A===nt.id?"Hide details":"Show details"}),y.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform duration-300 ${A===nt.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),y.jsx(ra,{children:A===nt.id&&y.jsx(kt.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:j,className:"p-4 border-t border-gray-200 bg-gray-50 animate-fadeIn",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Date Completed"}),y.jsx("p",{children:k(nt.date)})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Time Spent"}),y.jsx("p",{children:nt.timeSpent||"N/A"})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Correct Answers"}),y.jsxs("p",{children:[nt.score,"/",nt.totalQuestions]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Percentage"}),y.jsxs("p",{className:C(nt.score,nt.totalQuestions),children:[G(nt.score,nt.totalQuestions),"%"]})]})]})]})},"extraAttempts")})]},nt.id)),y.jsx(ra,{children:I&&y.jsx(kt.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:j,className:"space-y-4 overflow-hidden",children:L.slice(3).map((nt,rt)=>y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden transition-all duration-300 hover:shadow-md",children:[y.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>R(A===nt.id?null:nt.id),children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-2xl mr-3",children:M(nt.score,nt.totalQuestions)}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:P(nt,rt,f.length-3)}),y.jsx("p",{className:"text-sm text-gray-500",children:V(nt.date)}),y.jsxs("p",{className:`text-sm font-semibold ${C(nt.score,nt.totalQuestions)}`,children:["Score: ",nt.score,"/",nt.totalQuestions," (",G(nt.score,nt.totalQuestions),"%)"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-gray-500 mr-2 text-sm",children:A===nt.id?"Hide details":"Show details"}),y.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform duration-300 ${A===nt.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),y.jsx(ra,{children:A===nt.id&&y.jsx(kt.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:j,className:"p-4 border-t border-gray-200 bg-gray-50 animate-fadeIn",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Date Completed"}),y.jsx("p",{children:k(nt.date)})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Time Spent"}),y.jsx("p",{children:nt.timeSpent||"N/A"})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Correct Answers"}),y.jsxs("p",{children:[nt.score,"/",nt.totalQuestions]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Percentage"}),y.jsxs("p",{className:C(nt.score,nt.totalQuestions),children:[G(nt.score,nt.totalQuestions),"%"]})]})]})]})},"extraAttempts")})]},nt.id))},"extraAttempts")}),f.length>3&&y.jsx("div",{className:"flex justify-center mt-6",children:y.jsx("button",{onClick:()=>B(!I),className:"px-6 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors duration-200 flex items-center",children:I?y.jsxs(y.Fragment,{children:[y.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Show Less"]}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"View All"]})})})]}),y.jsx(OH,{attempts:f})]}),y.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-in-out;
        }
      `})]})},VH=()=>{const n=On(),[t,e]=O.useState(!0),[i,s]=O.useState(null),[a,l]=O.useState(null),[u,h]=O.useState([]),[f,p]=O.useState({}),[v,b]=O.useState({}),[w,S]=O.useState({}),[A,R]=O.useState({});O.useEffect(()=>{(async()=>{const M=Yr(ln(Yt,"courses")),V=(await Pi(M)).docs.map(nt=>({id:nt.id,...nt.data()})),L={},j={};for(const nt of V){const rt=Yr(ln(Yt,`courses/${nt.id}/Chapters`)),$=await Pi(rt);L[nt.id]=$.size;const J=$.docs.map(ct=>({id:ct.id,...ct.data()})).sort((ct,gt)=>{const U=parseFloat(ct.Number),it=parseFloat(gt.Number);return U-it});p(ct=>({...ct,[nt.id]:J}));for(const ct of J){const gt=Yr(ln(Yt,`courses/${nt.id}/Chapters/${ct.id}/Section`)),U=await Pi(gt),it=`${nt.id}-${ct.id}`;j[it]=U.size;const dt=U.docs.map(et=>({id:et.id,...et.data()})).sort((et,mt)=>et.SectionNumber.localeCompare(mt.SectionNumber,void 0,{numeric:!0,sensitivity:"base"}));b(et=>({...et,[it]:dt}))}}S(L),R(j),h(V),e(!1)})()},[]);const I=async(C,M)=>{const P=`${C}-${M}`;if(v[P])return;const V=Yr(ln(Yt,`courses/${C}/Chapters/${M}/Section`)),j=(await Pi(V)).docs.map(nt=>({id:nt.id,...nt.data()})).sort((nt,rt)=>nt.SectionNumber.localeCompare(rt.SectionNumber,void 0,{numeric:!0,sensitivity:"base"}));b(nt=>({...nt,[P]:j})),R(nt=>({...nt,[P]:j.length}))},B=C=>{i===C?(s(null),l(null)):(s(C),l(null))},F=async(C,M)=>{a===M?l(null):(await I(C,M),l(M))},Y=C=>{const M=["blue","green","purple","orange","red","indigo"];return M[C%M.length]},H={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},G={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.3}}},k={hidden:{opacity:0,height:0,transition:{duration:.2}},visible:{opacity:1,height:"auto",transition:{duration:.3}}};return t?y.jsx("div",{className:"p-6 max-w-5xl mx-auto flex justify-center items-center h-96",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Loading courses..."})]})}):y.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[y.jsxs(kt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-10 text-center",children:[y.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-3",children:"Practice Questions"}),y.jsx("p",{className:"text-xl text-gray-600",children:"Select a course and chapter to practice questions"})]}),y.jsxs(kt.div,{variants:H,initial:"hidden",animate:"visible",className:"hidden md:grid grid-cols-1 md:grid-cols-3 gap-5 mb-10",children:[y.jsxs(kt.div,{variants:G,className:"bg-white rounded-xl p-5 shadow-md border border-gray-200 flex items-center",children:[y.jsx("div",{className:"p-4 rounded-xl bg-blue-100 text-blue-600 mr-5",children:y.jsx("i",{className:"fas fa-book text-2xl"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-base text-gray-500",children:"Active Courses"}),y.jsx("p",{className:"text-2xl font-bold text-gray-800",children:u.length})]})]}),y.jsxs(kt.div,{variants:G,className:"bg-white rounded-xl p-5 shadow-md border border-gray-200 flex items-center",children:[y.jsx("div",{className:"p-4 rounded-xl bg-green-100 text-green-600 mr-5",children:y.jsx("i",{className:"fas fa-check-circle text-2xl"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-base text-gray-500",children:"Completed Chapters"}),y.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["0/",Object.values(f).flat().length]})]})]}),y.jsxs(kt.div,{variants:G,className:"bg-white rounded-xl p-5 shadow-md border border-gray-200 flex items-center",children:[y.jsx("div",{className:"p-4 rounded-xl bg-purple-100 text-purple-600 mr-5",children:y.jsx("i",{className:"fas fa-trophy text-2xl"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-base text-gray-500",children:"Average Score"}),y.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"0%"})]})]})]}),y.jsx(kt.div,{variants:H,initial:"hidden",animate:"visible",className:"space-y-6",children:u.map((C,M)=>{const P=Y(M),V=`border-${P}-500 bg-${P}-100 text-${P}-600`;return y.jsxs(kt.div,{variants:G,className:`course-card bg-white rounded-xl shadow-md border-l-5 border-${P}-500 overflow-hidden`,children:[y.jsxs("div",{className:"p-5 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>B(C.id),children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h2",{className:"font-semibold text-gray-800 text-xl",children:C.Subject}),y.jsxs("span",{className:`text-base font-medium px-3 py-1.5 rounded-full ${V}`,children:[f[C.id]?.length||"0"," Chapters"]})]}),y.jsxs("p",{className:"text-base text-gray-600 mb-3",children:["Tutor: ",C.Tutor]}),y.jsxs("div",{className:"mt-3",children:[y.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[y.jsx("span",{children:"Progress"}),y.jsx("span",{children:"0%"})]}),y.jsx("div",{className:"progress-bar bg-gray-200 w-full h-2.5 rounded-full",children:y.jsx("div",{className:`progress-fill bg-${P}-500 h-full rounded-full transition-all duration-500`,style:{width:"0%"}})})]})]}),y.jsx("div",{className:"ml-5 text-gray-400 text-xl",children:y.jsx("i",{className:`fas fa-chevron-down transition-transform duration-300 ${i===C.id?"rotate-180":""}`})})]}),y.jsx(ra,{children:i===C.id&&y.jsx(kt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:k,className:"border-t border-gray-200 overflow-hidden",children:f[C.id]?.map(L=>y.jsxs("div",{className:"chapter-item p-5 bg-gray-50 border-b border-gray-200",children:[y.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>F(C.id,L.id),children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("h3",{className:"font-medium text-gray-800 text-lg",children:[L.Number,". ",L.Title]}),y.jsxs("div",{className:"flex items-center mt-2",children:[y.jsx("span",{className:"text-sm font-medium px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 mr-3",children:"Not started"}),y.jsxs("span",{className:"text-sm text-gray-500",children:[v[`${C.id}-${L.id}`]?.length||"0"," sections"]})]})]}),y.jsx("div",{className:"ml-5 text-gray-400 text-lg",children:y.jsx("i",{className:`fas fa-chevron-down transition-transform duration-300 ${a===L.id?"rotate-180":""}`})})]}),y.jsx(ra,{children:a===L.id&&y.jsx(kt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:k,className:"mt-4 pl-5 space-y-4 overflow-hidden",children:v[`${C.id}-${L.id}`]?.map(j=>y.jsxs(kt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:"p-4 bg-white rounded-lg border border-gray-200 flex justify-between items-center shadow-sm",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"font-medium text-gray-800 text-base",children:[j.SectionNumber," ",j.SectionName]}),j.QuizVideoLink&&y.jsxs("a",{href:j.QuizVideoLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline inline-flex items-center mt-2",children:[y.jsx("i",{className:"fas fa-video mr-2 text-xs"})," Watch Video"]})]}),y.jsxs("div",{className:"flex space-x-3",children:[j.QuizVideoLink&&y.jsx("button",{className:"p-2.5 text-blue-500 hover:bg-blue-50 rounded-full transition-colors duration-200",onClick:nt=>{nt.stopPropagation(),window.open(j.QuizVideoLink,"_blank")},children:y.jsx("i",{className:"fas fa-video text-lg"})}),y.jsx("button",{onClick:()=>n("/home/practice/quiz",{state:{courseId:C.id,chapterId:L.id,sectionId:j.id}}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-base font-medium transition-colors duration-200",children:"Practice"})]})]},j.id))})})]},L.id))})})]},C.id)})})]})},LH=()=>{const{state:n}=_s(),{courseId:t,chapterId:e,sectionId:i}=n||{},s=On(),[a,l]=O.useState([]),[u,h]=O.useState(0),[f,p]=O.useState(null),[v,b]=O.useState(!1),[w,S]=O.useState(0),[A,R]=O.useState(!0),[I,B]=O.useState(null),[F,Y]=O.useState(!1),[H,G]=O.useState(!1),[k,C]=O.useState(!1),[M,P]=O.useState([]),{courses:V}=dx([t]),{chapters:L}=fx([{courseId:t,chapterId:e}]),{sections:j}=mx([{courseId:t,chapterId:e,sectionId:i}]),nt=et=>V[et]?.Subject||et,rt=et=>V[et]?.Tutor||et,$=et=>L[et]?.Title||et,J=et=>j[et]?.SectionName||et;O.useEffect(()=>{if(!t||!e||!i){B("Missing required parameters"),R(!1);return}const et=ln(Yt,"courses",t,"Chapters",e,"Section",i,"Quiz"),mt=En(et,bt=>{const ft=bt.docs.map(At=>({id:At.id,...At.data()}));l(ft),R(!1)},bt=>{console.error("Firestore error:",bt),B(bt.message),R(!1)});return()=>mt()},[t,e,i]);const ct=et=>{p(et),b(!0),P(mt=>[...mt,{question:a[u].Question,selected:et,correct:et===a[u].CorrectAnswer}]),et===a[u].CorrectAnswer&&!H&&G(!0)},gt=()=>{C(!0),b(!1),setTimeout(()=>{H===!0&&(S(et=>et+1),G(!1)),u<a.length-1?(h(et=>et+1),p(null)):Y(!0),C(!1)},500)},U=()=>{h(0),p(null),b(!1),S(0),Y(!1),G(!1),C(!1),P([])};if(A)return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Quiz"}),y.jsx("p",{className:"text-gray-600",children:"Preparing your questions..."})]})});if(I)return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Quiz"}),y.jsx("p",{className:"text-gray-600 mb-6",children:I}),y.jsx("button",{onClick:()=>s("/home/practice"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Back to Practice"})]})});if(a.length===0)return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"text-gray-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Questions Available"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"This section doesn't have any quiz questions yet."}),y.jsx("button",{onClick:()=>s("/home/practice"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Back to Practice"})]})});if(F){const et=Math.round(w/a.length*100);let mt="",bt="text-yellow-600",ft="Good effort!";return et>=90?(mt="",bt="text-green-600",ft="Outstanding!"):et>=70?(mt="",bt="text-blue-600",ft="Well done!"):et>=50&&(mt="",bt="text-yellow-600",ft="Good effort!"),y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex flex-col items-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:[y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"block md:hidden mb-6 p-6 bg-white rounded-2xl shadow-lg border border-gray-200 text-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:nt(t)}),y.jsxs("p",{className:"text-gray-600",children:["Tutor: ",rt(t)]}),y.jsxs("div",{className:"mt-4 bg-blue-100 text-blue-800 px-4 py-2 rounded-full inline-block",children:[y.jsx("i",{className:"fas fa-question-circle mr-2"}),a.length," questions completed"]})]}),y.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-md p-6 mb-8 border border-gray-200",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold text-blue-700",children:nt(t)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold text-green-700",children:$(e)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold text-purple-700",children:J(i)})]})]})}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("span",{className:"text-6xl",children:mt}),y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-2",children:"Practice Complete"}),y.jsx("p",{className:`text-xl font-semibold mt-2 ${bt}`,children:ft})]}),y.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[w,"/",a.length]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[et,"%"]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Percentage"})]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${et}%`}})})})]}),y.jsxs("div",{className:"flex flex-col space-y-3",children:[y.jsx("button",{onClick:U,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-medium",children:"Try Again"}),y.jsx("button",{onClick:()=>s("/home/practice"),className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 font-medium",children:"Back to Practice"}),y.jsx("button",{onClick:()=>s("/home/quizMenu"),className:"px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 font-medium",children:"Play Quiz Now"})]})]})]})})}const it=a[u],dt=u/a.length*100;return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("button",{onClick:()=>s("/home/practice"),className:"flex items-center text-gray-600 hover:text-gray-800",children:[y.jsx("span",{className:"mr-2",children:""})," Back"]}),y.jsxs("div",{className:"flex-1 mx-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Question ",u+1," of ",a.length]}),y.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Score: ",w,"/",u]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${dt}%`}})})]})]}),y.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-md p-6 mb-8 border border-gray-200",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold text-blue-700",children:nt(t)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold text-green-700",children:$(e)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold text-purple-700",children:J(i)})]})]})}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-8 border border-gray-200",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Question ",u+1]}),y.jsx("p",{className:"text-lg text-gray-700",children:it.Question})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:it.Options.map((et,mt)=>{const bt=f===et,ft=et===it.CorrectAnswer,At=v&&(bt||ft);let Mt="bg-white border-gray-300 hover:bg-gray-50";return At?Mt=ft?"bg-green-100 border-green-500":"bg-red-100 border-red-500":bt&&(Mt="bg-blue-100 border-blue-500"),y.jsx("button",{onClick:()=>!k&&!v&&ct(et),disabled:k||v,className:`p-4 rounded-xl border text-left transition-all duration-200 ${Mt} ${k||v?"cursor-default":"cursor-pointer"}`,children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center mr-3 font-medium",children:String.fromCharCode(65+mt)}),y.jsx("span",{className:"text-gray-800",children:et})]})},mt)})}),v&&y.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 mb-6 border border-blue-200 animate-fadeIn",children:[y.jsx("h4",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Explanation"}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:`text-2xl mr-3 ${f===it.CorrectAnswer?"text-green-500":"text-red-500"}`,children:f===it.CorrectAnswer?"":""}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-blue-800",children:["The correct answer is ",y.jsx("span",{className:"font-bold",children:it.CorrectAnswer})]}),it.Explanation&&y.jsx("p",{className:"mt-2 text-blue-700",children:it.Explanation})]})]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("button",{onClick:()=>!k&&b(!1),disabled:!v||k,className:`px-5 py-2.5 rounded-lg font-medium ${v&&!k?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Redo Question"}),y.jsx("button",{onClick:gt,disabled:!v||k,className:`px-5 py-2.5 rounded-lg font-medium ${v&&!k?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-300 text-white cursor-not-allowed"}`,children:u<a.length-1?"Next Question ":"See Results"})]})]}),y.jsx("div",{className:"flex justify-center space-x-2 mb-8",children:a.map((et,mt)=>y.jsx("div",{className:`w-3 h-3 rounded-full ${mt===u?"bg-blue-600":mt<u?"bg-green-500":"bg-gray-300"}`},mt))})]})})},UH=()=>{const n=On(),[t,e]=O.useState(!0),[i,s]=O.useState([]),[a,l]=O.useState({}),[u,h]=O.useState({}),[f,p]=O.useState(null),[v,b]=O.useState(null),[w,S]=O.useState(null),[A,R]=O.useState([]),[I,B]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const V=Yr(ln(Yt,"courses")),j=(await Pi(V)).docs.map(rt=>({id:rt.id,...rt.data()}));s(j);const nt={};for(const rt of j){const $=Yr(ln(Yt,`courses/${rt.id}/Chapters`)),ct=(await Pi($)).docs.map(U=>({id:U.id,...U.data()})).sort((U,it)=>{const dt=parseFloat(U.Number),et=parseFloat(it.Number);return dt-et});nt[rt.id]=ct;const gt={};for(const U of ct){const it=Yr(ln(Yt,`courses/${rt.id}/Chapters/${U.id}/Section`)),et=(await Pi(it)).docs.map(mt=>({id:mt.id,...mt.data()})).sort((mt,bt)=>mt.SectionNumber.localeCompare(bt.SectionNumber,void 0,{numeric:!0,sensitivity:"base"}));gt[`${rt.id}-${U.id}`]=et}h(U=>({...U,...gt}))}l(nt),e(!1)}catch(V){console.error("Error fetching data:",V),e(!1)}})()},[]);const F=async P=>{B(!0),p(P),R([{type:"course",data:P}]),setTimeout(()=>B(!1),300)},Y=async P=>{B(!0),b(P),R(V=>[...V,{type:"chapter",data:P}]),setTimeout(()=>B(!1),300)},H=P=>{S(P),n("/home/quizMenu/quizGame",{state:{courseId:f.id,chapterId:v.id,sectionId:P.id}})},G=(P=1)=>{if(B(!0),A.length<=P)p(null),b(null),R([]);else{const V=A.slice(0,A.length-P),L=V[V.length-1];L?L.type==="course"?(p(L.data),b(null)):L.type==="chapter"&&b(L.data):(p(null),b(null)),R(V)}setTimeout(()=>B(!1),300)},k=P=>{const V=["blue","green","purple","orange","red","indigo"];return V[P%V.length]},C={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},M={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.3}}};return t?y.jsx("div",{className:"p-6 max-w-5xl mx-auto flex justify-center items-center h-96",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Loading courses..."})]})}):y.jsxs("div",{className:"p-6 max-w-5xl mx-auto min-h-screen",children:[y.jsxs(kt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-10 text-center",children:[y.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-3",children:"Quiz Questions"}),y.jsx("p",{className:"text-xl text-gray-600 hidden sm:block",children:"Test your knowledge with quiz today!"})]}),A.length>0&&y.jsxs(kt.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6 flex items-center justify-center",children:[y.jsxs("button",{onClick:()=>G(1),className:"flex items-center text-blue-600 hover:text-blue-800 font-medium mr-4 px-4 py-2 bg-blue-100 rounded-full",children:[y.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back"]}),y.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[y.jsx("span",{className:`cursor-pointer hover:text-blue-600 ${A.length>1?"font-medium":""}`,onClick:()=>G(A.length),children:"All Courses"}),A.map((P,V)=>y.jsxs(rv.Fragment,{children:[y.jsx("i",{className:"fas fa-chevron-right mx-2 text-xs"}),y.jsx("span",{className:`cursor-pointer hover:text-blue-600 ${V===A.length-1?"font-bold text-blue-700":""}`,onClick:()=>G(A.length-1-V),children:P.data.Subject||P.data.Title||P.data.SectionName})]},V))]})]}),y.jsx("div",{className:"relative min-h-96",children:y.jsx(ra,{mode:"wait",children:!I&&y.jsxs(kt.div,{initial:{opacity:0,x:A.length>0?50:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:A.length>0?-50:50},transition:{duration:.3},className:"absolute inset-0",children:[!f&&y.jsx(kt.div,{variants:C,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((P,V)=>{const L=k(V);return y.jsxs(kt.div,{variants:M,whileHover:{scale:1.03},whileTap:{scale:.98},className:`bg-white rounded-2xl p-6 shadow-lg border-l-8 border-${L}-500 cursor-pointer transition-all duration-300 hover:shadow-xl`,onClick:()=>F(P),children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("div",{className:`p-3 rounded-xl bg-${L}-100 text-${L}-600 mr-4`,children:y.jsx("i",{className:"fas fa-book text-2xl"})}),y.jsx("h2",{className:"text-xl font-bold text-gray-800",children:P.Subject})]}),y.jsxs("p",{className:"text-gray-600 mb-4",children:["Tutor: ",P.Tutor]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("span",{className:`text-sm font-medium px-3 py-1 rounded-full bg-${L}-100 text-${L}-700`,children:[a[P.id]?.length||"0"," Chapters"]}),y.jsxs("button",{className:`px-4 py-2 bg-${L}-500 text-white rounded-lg font-medium`,children:["Choose ",y.jsx("i",{className:"fas fa-arrow-right ml-2"})]})]})]},P.id)})}),f&&!v&&y.jsxs(kt.div,{variants:C,initial:"hidden",animate:"visible",className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-200 mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 flex items-center",children:[y.jsx("div",{className:"p-2 rounded-xl bg-blue-100 text-blue-600 mr-3",children:y.jsx("i",{className:"fas fa-book"})}),f.Subject]}),y.jsx("p",{className:"text-gray-600",children:"Select a chapter to practice"})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:a[f.id]?.map((P,V)=>{const L=k(V);return y.jsx(kt.div,{variants:M,whileHover:{scale:1.02},whileTap:{scale:.98},className:`bg-white rounded-xl p-5 shadow-sm border-l-4 border-${L}-500 cursor-pointer transition-all duration-300 hover:shadow-md`,onClick:()=>Y(P),children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg py-1.5 text-gray-800",children:[P.Number,". ",P.Title]}),y.jsxs("p",{className:`text-sm font-medium px-3 py-1 rounded-full text-${L}-700`,children:[u[`${f.id}-${P.id}`]?.length||"0"," sections available"]})]}),y.jsxs("button",{className:`px-4 py-2 bg-${L}-500 text-white rounded-lg font-medium`,children:["Select ",y.jsx("i",{className:"fas fa-arrow-right ml-2"})]})]})},P.id)})})]}),f&&v&&y.jsxs(kt.div,{variants:C,initial:"hidden",animate:"visible",className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-200 mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 flex items-center",children:[y.jsx("div",{className:"p-2 rounded-xl bg-green-100 text-green-600 mr-3",children:y.jsx("i",{className:"fas fa-layer-group"})}),f.Subject," - Chapter ",v.Number]}),y.jsx("p",{className:"text-gray-600",children:"Select a section to practice"})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:u[`${f.id}-${v.id}`]?.map((P,V)=>{const L=k(V);return y.jsx(kt.div,{variants:M,whileHover:{scale:1.02},whileTap:{scale:.98},className:`bg-white rounded-xl p-5 shadow-sm border-l-4 border-${L}-500 transition-all duration-300 hover:shadow-md`,children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("h3",{className:"font-bold text-lg text-gray-800",children:[P.SectionNumber," ",P.SectionName]}),y.jsxs("div",{className:"flex items-center mt-2",children:[y.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Status: "}),y.jsx("span",{className:"text-sm font-medium px-2.5 py-1 rounded-full bg-gray-100 text-gray-700",children:"Not started"})]}),P.QuizVideoLink&&y.jsxs("a",{href:P.QuizVideoLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline inline-flex items-center mt-2",onClick:j=>j.stopPropagation(),children:[y.jsx("i",{className:"fas fa-video mr-2 text-xs"})," Watch Video"]})]}),y.jsxs("div",{className:"flex space-x-3",children:[P.QuizVideoLink&&y.jsx("button",{className:"p-2.5 text-blue-500 hover:bg-blue-50 rounded-full transition-colors duration-200",onClick:j=>{j.stopPropagation(),window.open(P.QuizVideoLink,"_blank")},children:y.jsx("i",{className:"fas fa-video text-lg"})}),y.jsx("button",{onClick:()=>H(P),className:`px-4 py-2 bg-${L}-500 text-white rounded-lg font-medium hover:bg-${L}-600 transition-colors duration-200`,children:"Play Quiz"})]})]})},P.id)})})]})]},A.length)})})]})},zH=()=>{const{state:n}=_s(),{courseId:t,chapterId:e,sectionId:i}=n||{},s=On(),{currentUser:a}=hx(),[l,u]=O.useState([]),[h,f]=O.useState(null),[p,v]=O.useState(!0),[b,w]=O.useState(null),[S,A]=O.useState(0),[R,I]=O.useState(0),[B,F]=O.useState(null),[Y,H]=O.useState(null),[G,k]=O.useState(!1),[C,M]=O.useState(!1),[P,V]=O.useState(0),[L,j]=O.useState([{name:"Loading...",id:"intializing..."}]),[nt,rt]=O.useState([{name:"Loading...",id:"intializing..."}]),[$,J]=O.useState(!1),[ct,gt]=O.useState(0),[U]=O.useState(window.innerWidth<768),it=_t=>_t>=80?"text-green-600":_t>=60?"text-yellow-600":"text-red-600",dt=_t=>{if(!_t)return null;if(_t.includes("youtube.com/embed"))return _t;const Jt=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Dt=_t.match(Jt),Ee=Dt&&Dt[2].length===11?Dt[2]:null;return Ee?`https://www.youtube.com/embed/${Ee}?rel=0`:null};O.useEffect(()=>{const _t=an(Yt,"courses",t),Jt=En(_t,Ot=>{Ot.exists()&&w(Ot.data())}),Dt=an(Yt,"courses",t,"Chapters",e);En(Dt,Ot=>{Ot.exists()?j({...Ot.data(),id:Ot.id}):console.log("No such chapter document!")},Ot=>{console.error("Firestore error:",Ot),f(Ot.message)},[t,e]);const Ee=an(Yt,"courses",t,"Chapters",e,"Section",i);En(Ee,Ot=>{Ot.exists()?rt({...Ot.data(),id:Ot.id}):console.log("No such section document!")},Ot=>{console.error("Firestore error:",Ot),f(Ot.message)},[t,e,i]);const Ge=ln(Yt,"courses",t,"Chapters",e,"Section",i,"Quiz");console.log(Ge);const $n=En(Ge,Ot=>{const ws=Ot.docs.map(Bi=>({id:Bi.id,...Bi.data()}));u(ws),v(!1)},Ot=>{console.error("Firestore error:",Ot),f(Ot.message)});return()=>{Jt(),$n()}},[t]);const et=()=>{V(3);const _t=setInterval(()=>{V(Jt=>Jt<=1?(clearInterval(_t),M(!0),0):Jt-1)},1e3)},mt=_t=>{F(_t),H(l[S].Options[_t]);const Jt=l[S];l[S].Options[_t].toString()===Jt.CorrectAnswer&&I(Ee=>Ee+1),k(!0),gt(1),setTimeout(()=>{gt(2)},1e3)},bt=(_t,Jt)=>{if(!G)return _t===0?"bg-red-400 text-white":_t===1?"bg-blue-400 text-white":_t===2?"bg-yellow-400 text-white":"bg-green-400 text-white";const Dt=l[S].Options[_t],Ee=B===_t,Ge=Dt.toString()===Jt.CorrectAnswer;if(ct===1){const $n=_t===0?"bg-red-400":_t===1?"bg-blue-400":_t===2?"bg-yellow-400":"bg-green-400";return Ee?`${$n} text-white`:`${$n} text-white opacity-50`}else if(ct===2)return Ge?"!bg-green-500 !text-white":Ee&&!Ge?"!bg-red-500/75 !text-white":"bg-gray-300 opacity-70";return""},ft=async()=>{S<l.length-1?(A(_t=>_t+1),H(null),k(!1),gt(0)):(k("completed"),await At())},At=async()=>{try{const _t=hc.currentUser;if(!_t)return;const Jt={score:R,totalQuestions:l.length,percentage:Math.round(R/l.length*100),timestamp:new Date,courseId:t,chapterId:e,sectionId:i},Dt=ln(Yt,"users",_t.uid,"quizResults",t,"chapters",e,"sections",i,"attempts"),Ge=(await Pi(Dt)).docs.map(jn=>({id:jn.id,...jn.data()})),$n=Ge.sort((jn,gc)=>jn.timestamp.toMillis()-gc.timestamp.toMillis()).slice(0,9),Ot=[];if(Ge.length>=10){const jn=$n[0];Ot.push(ER(an(Dt,jn.id)))}const ws=AR(Dt,Jt),Bi=an(Yt,"users",_t.uid,"allQuizAttempts",`${t}_${e}_${i}`),fr=Wu(Bi,Jt);await Promise.all([...Ot,ws,fr]),console.log("Quiz results saved successfully!")}catch(_t){console.error("Error saving quiz results:",_t)}},Mt=()=>{window.location.reload()};if(p)return y.jsxs("div",{className:"flex justify-center items-center h-64",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("span",{className:"ml-3 text-gray-600",children:"Loading quiz..."})]});if(h)return y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative max-w-md",children:y.jsxs("span",{className:"block sm:inline",children:[" Error: ",h]})})});if(!l||l.length===0)return y.jsxs("div",{className:"text-center py-8",children:[y.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded max-w-md mx-auto",children:y.jsx("p",{children:"No quiz questions found."})}),y.jsx("button",{onClick:()=>s(-1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]});if(!C)return y.jsxs("div",{className:"p-6 max-w-4xl mx-auto text-center",children:[b&&y.jsxs("div",{children:[y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"block md:hidden mb-6 p-6 bg-white rounded-2xl shadow-lg border border-gray-200",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:b.Subject}),y.jsxs("p",{className:"text-gray-600",children:["Tutor: ",b.Tutor]}),y.jsxs("div",{className:"mt-4 bg-blue-100 text-blue-800 px-4 py-2 rounded-full inline-block",children:[y.jsx("i",{className:"fas fa-question-circle mr-2"}),l.length," questions ready"]})]}),y.jsx("div",{children:y.jsx(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hidden md:block bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-200 transition-all duration-300 hover:shadow-lg text-left",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold",children:b.Subject})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold",children:L.Title})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold",children:nt.SectionName})]})]})]})})})]}),P>0?y.jsx(kt.div,{initial:{scale:0},animate:{scale:1},className:"text-8xl font-bold my-16 text-blue-600",children:P},P):y.jsx(y.Fragment,{children:$?y.jsxs(kt.div,{initial:{opacity:0},animate:{opacity:1},children:[y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-200 mb-8",children:[y.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Are you ready?"}),y.jsx("div",{className:"text-5xl mb-6",children:""}),y.jsxs("p",{className:"text-gray-600 mb-6",children:["You'll answer ",l.length," questions. Do your best!"]}),y.jsxs("button",{onClick:et,className:"px-8 py-4 bg-green-600 text-white text-xl rounded-lg hover:bg-green-700 flex items-center mx-auto",children:[y.jsx("i",{className:"fas fa-play mr-2"}),"START QUIZ"]})]}),y.jsxs("div",{className:"flex justify-center space-x-4",children:[y.jsxs("button",{onClick:()=>J(!1),className:"px-6 py-3 bg-gray-300 text-gray-700 text-lg rounded-lg hover:bg-gray-400 flex items-center",children:[y.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Back to Video"]}),y.jsxs("button",{onClick:()=>s(-1),className:"px-6 py-3 bg-red-500 text-white text-lg rounded-lg hover:bg-red-600 flex items-center",children:[y.jsx("i",{className:"fas fa-times mr-2"}),"Exit Quiz"]})]})]}):y.jsxs(kt.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8",children:[y.jsxs("h2",{className:"text-3xl font-bold mb-6 text-gray-800 flex items-center justify-center",children:[y.jsx("i",{className:"fas fa-video mr-3 text-blue-500"}),"Watch This First"]}),y.jsx("div",{className:"mb-6",children:nt.QuizVideoLink?y.jsx("div",{className:"relative pb-[56.25%] h-0 overflow-hidden rounded-xl shadow-lg",children:y.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:dt(nt.QuizVideoLink),title:"Quiz Preparation Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):y.jsx("div",{className:"bg-gray-100 h-64 flex items-center justify-center rounded-xl",children:y.jsx("p",{className:"text-gray-500",children:"No video available"})})}),y.jsxs("div",{className:"flex justify-center space-x-4",children:[y.jsxs("button",{onClick:()=>J(!0),className:"px-6 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700 flex items-center",children:[y.jsx("i",{className:"fas fa-arrow-right mr-2"}),"Next"]}),y.jsxs("button",{onClick:()=>s(-1),className:"px-6 py-3 bg-red-500 text-white text-lg rounded-lg hover:bg-red-600 flex items-center",children:[y.jsx("i",{className:"fas fa-times mr-2"}),"Exit Quiz"]})]})]})})]});if(G==="completed"){const _t=Math.round(R/l.length*100);return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto text-center",children:[b&&y.jsxs("div",{children:[y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"block md:hidden mb-6 p-6 bg-white rounded-2xl shadow-lg border border-gray-200",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:b.Subject}),y.jsxs("p",{className:"text-gray-600",children:["Tutor: ",b.Tutor]}),y.jsxs("div",{className:"mt-4 bg-blue-100 text-blue-800 px-4 py-2 rounded-full inline-block",children:[y.jsx("i",{className:"fas fa-question-circle mr-2"}),l.length," questions ready"]})]}),y.jsx("div",{children:y.jsx(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hidden md:block bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-200 transition-all duration-300 hover:shadow-lg text-left",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold",children:b.Subject})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold",children:L.Title})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold",children:nt.SectionName})]})]})]})})})]}),y.jsxs(kt.div,{initial:{scale:.5},animate:{scale:1},className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-200",children:[y.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:["Quiz Completed! ",_t>=80?"":_t>=60?"":""]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("div",{className:"text-6xl font-bold mb-2",children:y.jsxs("span",{className:it(_t),children:[R,"/",l.length]})}),y.jsxs("div",{className:"text-xl text-gray-600",children:["(",_t,"% Correct)"]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:y.jsx("div",{className:`h-4 rounded-full ${_t>=80?"bg-green-500":_t>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${_t}%`}})}),y.jsxs("div",{className:"flex justify-center space-x-4",children:[y.jsxs("button",{onClick:Mt,className:"px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[y.jsx("i",{className:"fas fa-redo mr-2"}),"Play Again"]}),y.jsxs("button",{onClick:()=>s("/home/Practice"),className:"px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:bg-gray-400 flex items-center",children:[y.jsx("i",{className:"fas fa-book-open mr-2"}),"Practice Quiz"]}),y.jsxs("button",{onClick:()=>s("/home/Score"),className:"px-4 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:bg-gray-400 flex items-center",children:[y.jsx("i",{className:"fas fa-chart-line mr-2"}),"View Score"]})]})]})]})}const ee=l[S],Ve=(S+1)/l.length*100;return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[y.jsxs("div",{className:"mb-6 bg-white rounded-xl p-4 shadow-md border border-gray-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Question ",S+1," of ",l.length]}),y.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Score: ",R]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${Ve}%`}})})]}),y.jsxs(kt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200 mb-6",children:[y.jsx("h3",{className:"font-bold text-xl mb-6 text-gray-800 text-center",children:ee.Question||"No question text available"}),y.jsx("div",{className:"space-y-4",children:ee.Options.map((_t,Jt)=>y.jsxs(kt.div,{whileHover:{scale:G?1:1.02},whileTap:{scale:G?1:.98},className:`flex items-center p-4 rounded-xl cursor-pointer transition-all duration-300 ${bt(Jt,ee)}`,onClick:()=>!G&&mt(Jt),children:[y.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full mr-4 ${!G||ct===1?"bg-white/20":""}`,children:y.jsx("span",{className:"font-bold",children:String.fromCharCode(65+Jt)})}),y.jsx("span",{className:"text-lg",children:_t||`Option ${Jt+1}`})]},Jt))}),G&&y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 flex justify-between items-center",children:[y.jsx("div",{className:`p-3 rounded-lg ${Y.toString()===ee.CorrectAnswer?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Y.toString()===ee.CorrectAnswer?y.jsxs("span",{children:[y.jsx("i",{className:"fas fa-check-circle mr-2"})," Correct!"]}):y.jsxs("span",{children:[y.jsx("i",{className:"fas fa-times-circle mr-2"})," Incorrect! The correct answer is: ",ee.CorrectAnswer]})}),y.jsx("button",{onClick:ft,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:S<l.length-1?y.jsxs(y.Fragment,{children:["Next ",y.jsx("i",{className:"fas fa-arrow-right ml-2"})]}):y.jsxs(y.Fragment,{children:["Finish ",y.jsx("i",{className:"fas fa-flag-checkered ml-2"})]})})]})]},S)]})},BH=()=>{const[n,t]=O.useState(()=>localStorage.getItem("theme")==="dark");return O.useEffect(()=>{const e=window.document.documentElement;n?(e.classList.add("dark"),localStorage.setItem("theme","dark")):(e.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),y.jsx(w6,{children:y.jsx(KD,{children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg ring shadow-xl ring-gray-900/5 min-h-screen",children:[y.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"}),y.jsxs(AD,{children:[y.jsx(wn,{path:"/quiz",element:y.jsx(y6,{})}),y.jsxs(wn,{path:"/home",element:y.jsxs(y.Fragment,{children:[y.jsx(_6,{})," "]}),children:[y.jsx(wn,{index:!0,element:y.jsx(T6,{})}),y.jsx(wn,{path:"testing",element:y.jsx(E6,{})}),y.jsx(wn,{path:"courses",element:y.jsx(C6,{})}),y.jsx(wn,{path:"courses/:courseId/chapters",element:y.jsx(I6,{})}),y.jsx(wn,{path:"courses/:courseId/chapters/:chapterId/section",element:y.jsx(M6,{})}),y.jsx(wn,{path:"courses/:courseId/chapters/:chapterId/section/:sectionId/quiz",element:y.jsx(R6,{})}),y.jsx(wn,{path:"quizMenu",element:y.jsx(UH,{})}),y.jsx(wn,{path:"quizMenu/quizGame",element:y.jsx(zH,{})}),y.jsx(wn,{path:"score",element:y.jsx(dU,{})}),y.jsx(wn,{path:"score/sectionScore",element:y.jsx(jH,{})}),y.jsx(wn,{path:"practice",element:y.jsx(VH,{})}),y.jsx(wn,{path:"practice/quiz",element:y.jsx(LH,{})}),y.jsx(wn,{path:"settings",element:y.jsx(S6,{})})]})]})]})})})};DM.createRoot(document.getElementById("root")).render(y.jsx(O.StrictMode,{children:y.jsx(BH,{})}));
