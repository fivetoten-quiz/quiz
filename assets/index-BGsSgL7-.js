(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function gD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var l0={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function yD(){if(xw)return _u;xw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:o}}return _u.Fragment=t,_u.jsx=e,_u.jsxs=e,_u}var bw;function vD(){return bw||(bw=1,l0.exports=yD()),l0.exports}var y=vD(),c0={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function xD(){if(_w)return Vt;_w=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function R(U,it,dt){this.props=U,this.context=it,this.refs=C,this.updater=dt||w}R.prototype.isReactComponent={},R.prototype.setState=function(U,it){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,it,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=R.prototype;function F(U,it,dt){this.props=U,this.context=it,this.refs=C,this.updater=dt||w}var B=F.prototype=new j;B.constructor=F,E(B,R.prototype),B.isPureReactComponent=!0;var X=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function D(U,it,dt,et,mt,bt){return dt=bt.ref,{$$typeof:n,type:U,key:it,ref:dt!==void 0?dt:null,props:bt}}function A(U,it){return D(U.type,it,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function P(U){var it={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(dt){return it[dt]})}var V=/\/+/g;function L(U,it){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):it.toString(36)}function O(){}function nt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(O,O):(U.status="pending",U.then(function(it){U.status==="pending"&&(U.status="fulfilled",U.value=it)},function(it){U.status==="pending"&&(U.status="rejected",U.reason=it)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function rt(U,it,dt,et,mt){var bt=typeof U;(bt==="undefined"||bt==="boolean")&&(U=null);var ft=!1;if(U===null)ft=!0;else switch(bt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(U.$$typeof){case n:case t:ft=!0;break;case p:return ft=U._init,rt(ft(U._payload),it,dt,et,mt)}}if(ft)return mt=mt(U),ft=et===""?"."+L(U,0):et,X(mt)?(dt="",ft!=null&&(dt=ft.replace(V,"$&/")+"/"),rt(mt,it,dt,"",function(ee){return ee})):mt!=null&&(I(mt)&&(mt=A(mt,dt+(mt.key==null||U&&U.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+ft)),it.push(mt)),1;ft=0;var At=et===""?".":et+":";if(X(U))for(var Dt=0;Dt<U.length;Dt++)et=U[Dt],bt=At+L(et,Dt),ft+=rt(et,it,dt,bt,mt);else if(Dt=b(U),typeof Dt=="function")for(U=Dt.call(U),Dt=0;!(et=U.next()).done;)et=et.value,bt=At+L(et,Dt++),ft+=rt(et,it,dt,bt,mt);else if(bt==="object"){if(typeof U.then=="function")return rt(nt(U),it,dt,et,mt);throw it=String(U),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return ft}function $(U,it,dt){if(U==null)return U;var et=[],mt=0;return rt(U,et,"","",function(bt){return it.call(dt,bt,mt++)}),et}function J(U){if(U._status===-1){var it=U._result;it=it(),it.then(function(dt){(U._status===0||U._status===-1)&&(U._status=1,U._result=dt)},function(dt){(U._status===0||U._status===-1)&&(U._status=2,U._result=dt)}),U._status===-1&&(U._status=0,U._result=it)}if(U._status===1)return U._result.default;throw U._result}var ct=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function gt(){}return Vt.Children={map:$,forEach:function(U,it,dt){$(U,function(){it.apply(this,arguments)},dt)},count:function(U){var it=0;return $(U,function(){it++}),it},toArray:function(U){return $(U,function(it){return it})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Vt.Component=R,Vt.Fragment=e,Vt.Profiler=s,Vt.PureComponent=F,Vt.StrictMode=i,Vt.Suspense=h,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return q.H.useMemoCache(U)}},Vt.cache=function(U){return function(){return U.apply(null,arguments)}},Vt.cloneElement=function(U,it,dt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var et=E({},U.props),mt=U.key,bt=void 0;if(it!=null)for(ft in it.ref!==void 0&&(bt=void 0),it.key!==void 0&&(mt=""+it.key),it)!Q.call(it,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&it.ref===void 0||(et[ft]=it[ft]);var ft=arguments.length-2;if(ft===1)et.children=dt;else if(1<ft){for(var At=Array(ft),Dt=0;Dt<ft;Dt++)At[Dt]=arguments[Dt+2];et.children=At}return D(U.type,mt,void 0,void 0,bt,et)},Vt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Vt.createElement=function(U,it,dt){var et,mt={},bt=null;if(it!=null)for(et in it.key!==void 0&&(bt=""+it.key),it)Q.call(it,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(mt[et]=it[et]);var ft=arguments.length-2;if(ft===1)mt.children=dt;else if(1<ft){for(var At=Array(ft),Dt=0;Dt<ft;Dt++)At[Dt]=arguments[Dt+2];mt.children=At}if(U&&U.defaultProps)for(et in ft=U.defaultProps,ft)mt[et]===void 0&&(mt[et]=ft[et]);return D(U,bt,void 0,void 0,null,mt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(U){return{$$typeof:u,render:U}},Vt.isValidElement=I,Vt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:J}},Vt.memo=function(U,it){return{$$typeof:f,type:U,compare:it===void 0?null:it}},Vt.startTransition=function(U){var it=q.T,dt={};q.T=dt;try{var et=U(),mt=q.S;mt!==null&&mt(dt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(gt,ct)}catch(bt){ct(bt)}finally{q.T=it}},Vt.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Vt.use=function(U){return q.H.use(U)},Vt.useActionState=function(U,it,dt){return q.H.useActionState(U,it,dt)},Vt.useCallback=function(U,it){return q.H.useCallback(U,it)},Vt.useContext=function(U){return q.H.useContext(U)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(U,it){return q.H.useDeferredValue(U,it)},Vt.useEffect=function(U,it,dt){var et=q.H;if(typeof dt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(U,it)},Vt.useId=function(){return q.H.useId()},Vt.useImperativeHandle=function(U,it,dt){return q.H.useImperativeHandle(U,it,dt)},Vt.useInsertionEffect=function(U,it){return q.H.useInsertionEffect(U,it)},Vt.useLayoutEffect=function(U,it){return q.H.useLayoutEffect(U,it)},Vt.useMemo=function(U,it){return q.H.useMemo(U,it)},Vt.useOptimistic=function(U,it){return q.H.useOptimistic(U,it)},Vt.useReducer=function(U,it,dt){return q.H.useReducer(U,it,dt)},Vt.useRef=function(U){return q.H.useRef(U)},Vt.useState=function(U){return q.H.useState(U)},Vt.useSyncExternalStore=function(U,it,dt){return q.H.useSyncExternalStore(U,it,dt)},Vt.useTransition=function(){return q.H.useTransition()},Vt.version="19.1.1",Vt}var ww;function iv(){return ww||(ww=1,c0.exports=xD()),c0.exports}var M=iv();const sv=gD(M);var u0={exports:{}},wu={},h0={exports:{}},d0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function bD(){return Tw||(Tw=1,function(n){function t($,J){var ct=$.length;$.push(J);t:for(;0<ct;){var gt=ct-1>>>1,U=$[gt];if(0<s(U,J))$[gt]=J,$[ct]=U,ct=gt;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var J=$[0],ct=$.pop();if(ct!==J){$[0]=ct;t:for(var gt=0,U=$.length,it=U>>>1;gt<it;){var dt=2*(gt+1)-1,et=$[dt],mt=dt+1,bt=$[mt];if(0>s(et,ct))mt<U&&0>s(bt,et)?($[gt]=bt,$[mt]=ct,gt=mt):($[gt]=et,$[dt]=ct,gt=dt);else if(mt<U&&0>s(bt,ct))$[gt]=bt,$[mt]=ct,gt=mt;else break t}}return J}function s($,J){var ct=$.sortIndex-J.sortIndex;return ct!==0?ct:$.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,x=null,b=3,w=!1,E=!1,C=!1,R=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X($){for(var J=e(f);J!==null;){if(J.callback===null)i(f);else if(J.startTime<=$)i(f),J.sortIndex=J.expirationTime,t(h,J);else break;J=e(f)}}function q($){if(C=!1,X($),!E)if(e(h)!==null)E=!0,Q||(Q=!0,L());else{var J=e(f);J!==null&&rt(q,J.startTime-$)}}var Q=!1,D=-1,A=5,I=-1;function P(){return R?!0:!(n.unstable_now()-I<A)}function V(){if(R=!1,Q){var $=n.unstable_now();I=$;var J=!0;try{t:{E=!1,C&&(C=!1,F(D),D=-1),w=!0;var ct=b;try{e:{for(X($),x=e(h);x!==null&&!(x.expirationTime>$&&P());){var gt=x.callback;if(typeof gt=="function"){x.callback=null,b=x.priorityLevel;var U=gt(x.expirationTime<=$);if($=n.unstable_now(),typeof U=="function"){x.callback=U,X($),J=!0;break e}x===e(h)&&i(h),X($)}else i(h);x=e(h)}if(x!==null)J=!0;else{var it=e(f);it!==null&&rt(q,it.startTime-$),J=!1}}break t}finally{x=null,b=ct,w=!1}J=void 0}}finally{J?L():Q=!1}}}var L;if(typeof B=="function")L=function(){B(V)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,nt=O.port2;O.port1.onmessage=V,L=function(){nt.postMessage(null)}}else L=function(){j(V,0)};function rt($,J){D=j(function(){$(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var ct=b;b=J;try{return $()}finally{b=ct}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ct=b;b=$;try{return J()}finally{b=ct}},n.unstable_scheduleCallback=function($,J,ct){var gt=n.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?gt+ct:gt):ct=gt,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ct+U,$={id:p++,callback:J,priorityLevel:$,startTime:ct,expirationTime:U,sortIndex:-1},ct>gt?($.sortIndex=ct,t(f,$),e(h)===null&&$===e(f)&&(C?(F(D),D=-1):C=!0,rt(q,ct-gt))):($.sortIndex=U,t(h,$),E||w||(E=!0,Q||(Q=!0,L()))),$},n.unstable_shouldYield=P,n.unstable_wrapCallback=function($){var J=b;return function(){var ct=b;b=J;try{return $.apply(this,arguments)}finally{b=ct}}}}(d0)),d0}var Sw;function _D(){return Sw||(Sw=1,h0.exports=bD()),h0.exports}var f0={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function wD(){if(Ew)return bn;Ew=1;var n=iv();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,f,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,bn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,p)},bn.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},bn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},bn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},bn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,x=u(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):p==="script"&&i.d.X(h,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},bn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},bn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,x=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},bn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},bn.requestFormReset=function(h){i.d.r(h)},bn.unstable_batchedUpdates=function(h,f){return h(f)},bn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},bn.version="19.1.1",bn}var Aw;function TD(){if(Aw)return f0.exports;Aw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),f0.exports=wD(),f0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function SD(){if(Cw)return wu;Cw=1;var n=_D(),t=iv(),e=TD();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,d=a;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return u(g),r;if(v===d)return u(g),a;v=v.sibling}throw Error(i(188))}if(c.return!==d.return)c=g,d=v;else{for(var S=!1,N=g.child;N;){if(N===c){S=!0,c=g,d=v;break}if(N===d){S=!0,d=g,c=v;break}N=N.sibling}if(!S){for(N=v.child;N;){if(N===c){S=!0,c=v,d=g;break}if(N===d){S=!0,d=v,c=g;break}N=N.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function f(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=f(r),a!==null)return a;r=r.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function nt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case Q:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case B:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case X:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:nt(r.type)||"Memo";case A:a=r._payload,r=r._init;try{return nt(r(a))}catch{}}return null}var rt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},gt=[],U=-1;function it(r){return{current:r}}function dt(r){0>U||(r.current=gt[U],gt[U]=null,U--)}function et(r,a){U++,gt[U]=r.current,r.current=a}var mt=it(null),bt=it(null),ft=it(null),At=it(null);function Dt(r,a){switch(et(ft,a),et(bt,r),et(mt,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Q1(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Q1(a),r=W1(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}dt(mt),et(mt,r)}function ee(){dt(mt),dt(bt),dt(ft)}function Ve(r){r.memoizedState!==null&&et(At,r);var a=mt.current,c=W1(a,r.type);a!==c&&(et(bt,r),et(mt,c))}function _t(r){bt.current===r&&(dt(mt),dt(bt)),At.current===r&&(dt(At),gu._currentValue=ct)}var Jt=Object.prototype.hasOwnProperty,Mt=n.unstable_scheduleCallback,Ee=n.unstable_cancelCallback,Ge=n.unstable_shouldYield,$n=n.unstable_requestPaint,jt=n.unstable_now,_s=n.unstable_getCurrentPriorityLevel,Bi=n.unstable_ImmediatePriority,dr=n.unstable_UserBlockingPriority,On=n.unstable_NormalPriority,mc=n.unstable_LowPriority,Do=n.unstable_IdlePriority,pc=n.log,Bh=n.unstable_setDisableYieldValue,Ae=null,se=null;function Gn(r){if(typeof pc=="function"&&Bh(r),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(Ae,r)}catch{}}var vn=Math.clz32?Math.clz32:ba,Fh=Math.log,up=Math.LN2;function ba(r){return r>>>=0,r===0?32:31-(Fh(r)/up|0)|0}var _a=256,wa=4194304;function Si(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Mo(r,a,c){var d=r.pendingLanes;if(d===0)return 0;var g=0,v=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var N=d&134217727;return N!==0?(d=N&~v,d!==0?g=Si(d):(S&=N,S!==0?g=Si(S):c||(c=N&~r,c!==0&&(g=Si(c))))):(N=d&~v,N!==0?g=Si(N):S!==0?g=Si(S):c||(c=d&~r,c!==0&&(g=Si(c)))),g===0?0:a!==0&&a!==g&&(a&v)===0&&(v=g&-g,c=a&-a,v>=c||v===32&&(c&4194048)!==0)?a:g}function Ta(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function gc(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(){var r=_a;return _a<<=1,(_a&4194048)===0&&(_a=256),r}function vc(){var r=wa;return wa<<=1,(wa&62914560)===0&&(wa=4194304),r}function ws(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Ts(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function xc(r,a,c,d,g,v){var S=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var N=r.entanglements,z=r.expirationTimes,Y=r.hiddenUpdates;for(c=S&~c;0<c;){var at=31-vn(c),ut=1<<at;N[at]=0,z[at]=-1;var Z=Y[at];if(Z!==null)for(Y[at]=null,at=0;at<Z.length;at++){var tt=Z[at];tt!==null&&(tt.lane&=-536870913)}c&=~ut}d!==0&&Fi(r,d,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(S&~a))}function Fi(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-vn(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function bc(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var d=31-vn(c),g=1<<d;g&a|r[d]&a&&(r[d]|=a),c&=~g}}function fr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Po(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function mr(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:fw(r.type))}function Hh(r,a){var c=J.p;try{return J.p=r,a()}finally{J.p=c}}var ye=Math.random().toString(36).slice(2),Qe="__reactFiber$"+ye,Le="__reactProps$"+ye,ii="__reactContainer$"+ye,_c="__reactEvents$"+ye,hp="__reactListeners$"+ye,pr="__reactHandles$"+ye,qh="__reactResources$"+ye,Sa="__reactMarker$"+ye;function gr(r){delete r[Qe],delete r[Le],delete r[_c],delete r[hp],delete r[pr]}function Ss(r){var a=r[Qe];if(a)return a;for(var c=r.parentNode;c;){if(a=c[ii]||c[Qe]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=Z1(r);r!==null;){if(c=r[Qe])return c;r=Z1(r)}return a}r=c,c=r.parentNode}return null}function Hi(r){if(r=r[Qe]||r[ii]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function qi(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function In(r){var a=r[qh];return a||(a=r[qh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ie(r){r[Sa]=!0}var wc=new Set,jo={};function Ei(r,a){Es(r,a),Es(r+"Capture",a)}function Es(r,a){for(jo[r]=a,r=0;r<a.length;r++)wc.add(a[r])}var $h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gh={},Ea={};function Qh(r){return Jt.call(Ea,r)?!0:Jt.call(Gh,r)?!1:$h.test(r)?Ea[r]=!0:(Gh[r]=!0,!1)}function yr(r,a,c){if(Qh(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function $i(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function ln(r,a,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+d)}}var Aa,Wh;function As(r){if(Aa===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Aa=a&&a[1]||"",Wh=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+r+Wh}var Oo=!1;function Vo(r,a){if(!r||Oo)return"";Oo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(tt){var Z=tt}Reflect.construct(r,[],ut)}else{try{ut.call()}catch(tt){Z=tt}r.call(ut.prototype)}}else{try{throw Error()}catch(tt){Z=tt}(ut=r())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(tt){if(tt&&Z&&typeof tt.stack=="string")return[tt.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),S=v[0],N=v[1];if(S&&N){var z=S.split(`
`),Y=N.split(`
`);for(g=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(d===z.length||g===Y.length)for(d=z.length-1,g=Y.length-1;1<=d&&0<=g&&z[d]!==Y[g];)g--;for(;1<=d&&0<=g;d--,g--)if(z[d]!==Y[g]){if(d!==1||g!==1)do if(d--,g--,0>g||z[d]!==Y[g]){var at=`
`+z[d].replace(" at new "," at ");return r.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",r.displayName)),at}while(1<=d&&0<=g);break}}}finally{Oo=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?As(c):""}function Tc(r){switch(r.tag){case 26:case 27:case 5:return As(r.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 15:return Vo(r.type,!1);case 11:return Vo(r.type.render,!1);case 1:return Vo(r.type,!0);case 31:return As("Activity");default:return""}}function Lo(r){try{var a="";do a+=Tc(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function kn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Sc(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function dp(r){var a=Sc(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Uo(r){r._valueTracker||(r._valueTracker=dp(r))}function Ec(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),d="";return r&&(d=Sc(r)?r.checked?"true":"false":r.value),r=d,r!==c?(a.setValue(r),!0):!1}function Ca(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var fp=/[\n"\\]/g;function Ue(r){return r.replace(fp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Qn(r,a,c,d,g,v,S,N){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+kn(a)):r.value!==""+kn(a)&&(r.value=""+kn(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?vr(r,S,kn(a)):c!=null?vr(r,S,kn(c)):d!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+kn(N):r.removeAttribute("name")}function Ra(r,a,c,d,g,v,S,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),a!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;c=c!=null?""+kn(c):"",a=a!=null?""+kn(a):c,N||a===r.value||(r.value=a),r.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=N?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function vr(r,a,c){a==="number"&&Ca(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Cs(r,a,c,d){if(r=r.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=a.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&d&&(r[c].defaultSelected=!0)}else{for(c=""+kn(c),a=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function le(r,a,c){if(a!=null&&(a=""+kn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+kn(c):""}function Na(r,a,c,d){if(a==null){if(d!=null){if(c!=null)throw Error(i(92));if(rt(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),a=c}c=kn(a),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function si(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kh(r,a,c){var d=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,c):typeof c!="number"||c===0||Ia.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function Ac(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in a)d=a[g],a.hasOwnProperty(g)&&c[g]!==d&&Kh(r,g,d)}else for(var v in a)a.hasOwnProperty(v)&&Kh(r,v,a[v])}function Cc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(r){return pp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Rs=null;function ri(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ns=null,Is=null;function Rc(r){var a=Hi(r);if(a&&(r=a.stateNode)){var c=r[Le]||null;t:switch(r=a.stateNode,a.type){case"input":if(Qn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ue(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var d=c[a];if(d!==r&&d.form===r.form){var g=d[Le]||null;if(!g)throw Error(i(90));Qn(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)d=c[a],d.form===r.form&&Ec(d)}break t;case"textarea":le(r,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Cs(r,!!c.multiple,a,!1)}}}var Gi=!1;function Yh(r,a,c){if(Gi)return r(a,c);Gi=!0;try{var d=r(a);return d}finally{if(Gi=!1,(Ns!==null||Is!==null)&&(Hd(),Ns&&(a=Ns,r=Is,Is=Ns=null,Rc(a),r)))for(a=0;a<r.length;a++)Rc(r[a])}}function ka(r,a){var c=r.stateNode;if(c===null)return null;var d=c[Le]||null;if(d===null)return null;c=d[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ai=!1;if(Ai)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){ai=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{ai=!1}var Qi=null,xr=null,ks=null;function Nc(){if(ks)return ks;var r,a=xr,c=a.length,d,g="value"in Qi?Qi.value:Qi.textContent,v=g.length;for(r=0;r<c&&a[r]===g[r];r++);var S=c-r;for(d=1;d<=S&&a[c-d]===g[v-d];d++);return ks=g.slice(r,1<d?1-d:void 0)}function Wi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ki(){return!0}function Ic(){return!1}function Je(r){function a(c,d,g,v,S){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(c=r[N],this[N]=c?c(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ki:Ic,this.isPropagationStopped=Ic,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),a}var ne={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=Je(ne),Ma=p({},ne,{view:0,detail:0}),Xh=Je(Ma),Fo,Ho,Yi,Pa=p({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yi&&(Yi&&r.type==="mousemove"?(Fo=r.screenX-Yi.screenX,Ho=r.screenY-Yi.screenY):Ho=Fo=0,Yi=r),Fo)},movementY:function(r){return"movementY"in r?r.movementY:Ho}}),oi=Je(Pa),Zh=p({},Pa,{dataTransfer:0}),gp=Je(Zh),ja=p({},Ma,{relatedTarget:0}),qo=Je(ja),kc=p({},ne,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=Je(kc),Jh=p({},ne,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Go=Je(Jh),yp=p({},ne,{data:0}),Dc=Je(yp),Oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mc(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=ed[r])?!!a[r]:!1}function Va(){return Mc}var nd=p({},Ma,{key:function(r){if(r.key){var a=Oa[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Wi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?td[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(r){return r.type==="keypress"?Wi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Qo=Je(nd),id=p({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=Je(id),Ds=p({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),sd=Je(Ds),rd=p({},ne,{propertyName:0,elapsedTime:0,pseudoElement:0}),ad=Je(rd),od=p({},Pa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Wo=Je(od),Dn=p({},ne,{newState:0,oldState:0}),ld=Je(Dn),cd=[9,13,27,32],Xi=Ai&&"CompositionEvent"in window,m=null;Ai&&"documentMode"in document&&(m=document.documentMode);var _=Ai&&"TextEvent"in window&&!m,T=Ai&&(!Xi||m&&8<m&&11>=m),k=" ",W=!1;function st(r,a){switch(r){case"keyup":return cd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $t=!1;function We(r,a){switch(r){case"compositionend":return pt(a);case"keypress":return a.which!==32?null:(W=!0,k);case"textInput":return r=a.data,r===k&&W?null:r;default:return null}}function Gt(r,a){if($t)return r==="compositionend"||!Xi&&st(r,a)?(r=Nc(),ks=xr=Qi=null,$t=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ke(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!tn[r.type]:a==="textarea"}function Ms(r,a,c,d){Ns?Is?Is.push(d):Is=[d]:Ns=d,a=Kd(a,"onChange"),0<a.length&&(c=new Bo("onChange","change",null,c,d),r.push({event:c,listeners:a}))}var cn=null,Zi=null;function jc(r){F1(r,0)}function ud(r){var a=qi(r);if(Ec(a))return r}function cb(r,a){if(r==="change")return a}var ub=!1;if(Ai){var vp;if(Ai){var xp="oninput"in document;if(!xp){var hb=document.createElement("div");hb.setAttribute("oninput","return;"),xp=typeof hb.oninput=="function"}vp=xp}else vp=!1;ub=vp&&(!document.documentMode||9<document.documentMode)}function db(){cn&&(cn.detachEvent("onpropertychange",fb),Zi=cn=null)}function fb(r){if(r.propertyName==="value"&&ud(Zi)){var a=[];Ms(a,Zi,r,ri(r)),Yh(jc,a)}}function GI(r,a,c){r==="focusin"?(db(),cn=a,Zi=c,cn.attachEvent("onpropertychange",fb)):r==="focusout"&&db()}function QI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ud(Zi)}function WI(r,a){if(r==="click")return ud(a)}function KI(r,a){if(r==="input"||r==="change")return ud(a)}function YI(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Wn=typeof Object.is=="function"?Object.is:YI;function Oc(r,a){if(Wn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),d=Object.keys(a);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!Jt.call(a,g)||!Wn(r[g],a[g]))return!1}return!0}function mb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pb(r,a){var c=mb(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=a&&d>=a)return{node:c,offset:a-r};r=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=mb(c)}}function gb(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?gb(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function yb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ca(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=Ca(r.document)}return a}function bp(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var XI=Ai&&"documentMode"in document&&11>=document.documentMode,Ko=null,_p=null,Vc=null,wp=!1;function vb(r,a,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;wp||Ko==null||Ko!==Ca(d)||(d=Ko,"selectionStart"in d&&bp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Vc&&Oc(Vc,d)||(Vc=d,d=Kd(_p,"onSelect"),0<d.length&&(a=new Bo("onSelect","select",null,a,c),r.push({event:a,listeners:d}),a.target=Ko)))}function La(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var Yo={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Tp={},xb={};Ai&&(xb=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Ua(r){if(Tp[r])return Tp[r];if(!Yo[r])return r;var a=Yo[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in xb)return Tp[r]=a[c];return r}var bb=Ua("animationend"),_b=Ua("animationiteration"),wb=Ua("animationstart"),ZI=Ua("transitionrun"),JI=Ua("transitionstart"),tk=Ua("transitioncancel"),Tb=Ua("transitionend"),Sb=new Map,Sp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sp.push("scrollEnd");function Ci(r,a){Sb.set(r,a),Ei(a,[r])}var Eb=new WeakMap;function li(r,a){if(typeof r=="object"&&r!==null){var c=Eb.get(r);return c!==void 0?c:(a={value:r,source:a,stack:Lo(a)},Eb.set(r,a),a)}return{value:r,source:a,stack:Lo(a)}}var ci=[],Xo=0,Ep=0;function hd(){for(var r=Xo,a=Ep=Xo=0;a<r;){var c=ci[a];ci[a++]=null;var d=ci[a];ci[a++]=null;var g=ci[a];ci[a++]=null;var v=ci[a];if(ci[a++]=null,d!==null&&g!==null){var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}v!==0&&Ab(c,g,v)}}function dd(r,a,c,d){ci[Xo++]=r,ci[Xo++]=a,ci[Xo++]=c,ci[Xo++]=d,Ep|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Ap(r,a,c,d){return dd(r,a,c,d),fd(r)}function Zo(r,a){return dd(r,null,null,a),fd(r)}function Ab(r,a,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var g=!1,v=r.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&a!==null&&(g=31-vn(c),r=v.hiddenUpdates,d=r[g],d===null?r[g]=[a]:d.push(a),a.lane=c|536870912),v):null}function fd(r){if(50<lu)throw lu=0,Dg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Jo={};function ek(r,a,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,a,c,d){return new ek(r,a,c,d)}function Cp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ps(r,a){var c=r.alternate;return c===null?(c=Kn(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Cb(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function md(r,a,c,d,g,v){var S=0;if(d=r,typeof r=="function")Cp(r)&&(S=1);else if(typeof r=="string")S=iD(r,c,mt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case I:return r=Kn(31,c,a,g),r.elementType=I,r.lanes=v,r;case E:return za(c.children,g,v,a);case C:S=8,g|=24;break;case R:return r=Kn(12,c,a,g|2),r.elementType=R,r.lanes=v,r;case q:return r=Kn(13,c,a,g),r.elementType=q,r.lanes=v,r;case Q:return r=Kn(19,c,a,g),r.elementType=Q,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case B:S=10;break t;case F:S=9;break t;case X:S=11;break t;case D:S=14;break t;case A:S=16,d=null;break t}S=29,c=Error(i(130,r===null?"null":typeof r,"")),d=null}return a=Kn(S,c,a,g),a.elementType=r,a.type=d,a.lanes=v,a}function za(r,a,c,d){return r=Kn(7,r,d,a),r.lanes=c,r}function Rp(r,a,c){return r=Kn(6,r,null,a),r.lanes=c,r}function Np(r,a,c){return a=Kn(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var tl=[],el=0,pd=null,gd=0,ui=[],hi=0,Ba=null,js=1,Os="";function Fa(r,a){tl[el++]=gd,tl[el++]=pd,pd=r,gd=a}function Rb(r,a,c){ui[hi++]=js,ui[hi++]=Os,ui[hi++]=Ba,Ba=r;var d=js;r=Os;var g=32-vn(d)-1;d&=~(1<<g),c+=1;var v=32-vn(a)+g;if(30<v){var S=g-g%5;v=(d&(1<<S)-1).toString(32),d>>=S,g-=S,js=1<<32-vn(a)+g|c<<g|d,Os=v+r}else js=1<<v|c<<g|d,Os=r}function Ip(r){r.return!==null&&(Fa(r,1),Rb(r,1,0))}function kp(r){for(;r===pd;)pd=tl[--el],tl[el]=null,gd=tl[--el],tl[el]=null;for(;r===Ba;)Ba=ui[--hi],ui[hi]=null,Os=ui[--hi],ui[hi]=null,js=ui[--hi],ui[hi]=null}var Mn=null,Ce=null,te=!1,Ha=null,Ji=!1,Dp=Error(i(519));function qa(r){var a=Error(i(418,""));throw zc(li(a,r)),Dp}function Nb(r){var a=r.stateNode,c=r.type,d=r.memoizedProps;switch(a[Qe]=r,a[Le]=d,c){case"dialog":Bt("cancel",a),Bt("close",a);break;case"iframe":case"object":case"embed":Bt("load",a);break;case"video":case"audio":for(c=0;c<uu.length;c++)Bt(uu[c],a);break;case"source":Bt("error",a);break;case"img":case"image":case"link":Bt("error",a),Bt("load",a);break;case"details":Bt("toggle",a);break;case"input":Bt("invalid",a),Ra(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Uo(a);break;case"select":Bt("invalid",a);break;case"textarea":Bt("invalid",a),Na(a,d.value,d.defaultValue,d.children),Uo(a)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||d.suppressHydrationWarning===!0||G1(a.textContent,c)?(d.popover!=null&&(Bt("beforetoggle",a),Bt("toggle",a)),d.onScroll!=null&&Bt("scroll",a),d.onScrollEnd!=null&&Bt("scrollend",a),d.onClick!=null&&(a.onclick=Yd),a=!0):a=!1,a||qa(r)}function Ib(r){for(Mn=r.return;Mn;)switch(Mn.tag){case 5:case 13:Ji=!1;return;case 27:case 3:Ji=!0;return;default:Mn=Mn.return}}function Lc(r){if(r!==Mn)return!1;if(!te)return Ib(r),te=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Wg(r.type,r.memoizedProps)),c=!c),c&&Ce&&qa(r),Ib(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){Ce=Ni(r.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}Ce=null}}else a===27?(a=Ce,jr(r.type)?(r=Zg,Zg=null,Ce=r):Ce=a):Ce=Mn?Ni(r.stateNode.nextSibling):null;return!0}function Uc(){Ce=Mn=null,te=!1}function kb(){var r=Ha;return r!==null&&(Un===null?Un=r:Un.push.apply(Un,r),Ha=null),r}function zc(r){Ha===null?Ha=[r]:Ha.push(r)}var Mp=it(null),$a=null,Vs=null;function br(r,a,c){et(Mp,a._currentValue),a._currentValue=c}function Ls(r){r._currentValue=Mp.current,dt(Mp)}function Pp(r,a,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===c)break;r=r.return}}function jp(r,a,c,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var S=g.child;v=v.firstContext;t:for(;v!==null;){var N=v;v=g;for(var z=0;z<a.length;z++)if(N.context===a[z]){v.lanes|=c,N=v.alternate,N!==null&&(N.lanes|=c),Pp(v.return,c,r),d||(S=null);break t}v=N.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=c,v=S.alternate,v!==null&&(v.lanes|=c),Pp(S,c,r),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===r){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Bc(r,a,c,d){r=null;for(var g=a,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var N=g.type;Wn(g.pendingProps.value,S.value)||(r!==null?r.push(N):r=[N])}}else if(g===At.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(gu):r=[gu])}g=g.return}r!==null&&jp(a,r,c,d),a.flags|=262144}function yd(r){for(r=r.firstContext;r!==null;){if(!Wn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ga(r){$a=r,Vs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function xn(r){return Db($a,r)}function vd(r,a){return $a===null&&Ga(r),Db(r,a)}function Db(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Vs===null){if(r===null)throw Error(i(308));Vs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Vs=Vs.next=a;return c}var nk=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},ik=n.unstable_scheduleCallback,sk=n.unstable_NormalPriority,Ye={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new nk,data:new Map,refCount:0}}function Fc(r){r.refCount--,r.refCount===0&&ik(sk,function(){r.controller.abort()})}var Hc=null,Vp=0,nl=0,il=null;function rk(r,a){if(Hc===null){var c=Hc=[];Vp=0,nl=Ug(),il={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Vp++,a.then(Mb,Mb),a}function Mb(){if(--Vp===0&&Hc!==null){il!==null&&(il.status="fulfilled");var r=Hc;Hc=null,nl=0,il=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function ak(r,a){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var Pb=$.S;$.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&rk(r,a),Pb!==null&&Pb(r,a)};var Qa=it(null);function Lp(){var r=Qa.current;return r!==null?r:fe.pooledCache}function xd(r,a){a===null?et(Qa,Qa.current):et(Qa,a.pool)}function jb(){var r=Lp();return r===null?null:{parent:Ye._currentValue,pool:r}}var qc=Error(i(460)),Ob=Error(i(474)),bd=Error(i(542)),Up={then:function(){}};function Vb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function _d(){}function Lb(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(_d,_d),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,zb(r),r;default:if(typeof a.status=="string")a.then(_d,_d);else{if(r=fe,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=d}},function(d){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,zb(r),r}throw $c=a,qc}}var $c=null;function Ub(){if($c===null)throw Error(i(459));var r=$c;return $c=null,r}function zb(r){if(r===qc||r===bd)throw Error(i(483))}var _r=!1;function zp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bp(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function wr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Tr(r,a,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(re&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=fd(r),Ab(r,null,c),a}return dd(r,d,a,c),fd(r)}function Gc(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var d=a.lanes;d&=r.pendingLanes,c|=d,a.lanes=c,bc(r,c)}}function Fp(r,a){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?g=v=S:v=v.next=S,c=c.next}while(c!==null);v===null?g=v=a:v=v.next=a}else g=v=a;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var Hp=!1;function Qc(){if(Hp){var r=il;if(r!==null)throw r}}function Wc(r,a,c,d){Hp=!1;var g=r.updateQueue;_r=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var z=N,Y=z.next;z.next=null,S===null?v=Y:S.next=Y,S=z;var at=r.alternate;at!==null&&(at=at.updateQueue,N=at.lastBaseUpdate,N!==S&&(N===null?at.firstBaseUpdate=Y:N.next=Y,at.lastBaseUpdate=z))}if(v!==null){var ut=g.baseState;S=0,at=Y=z=null,N=v;do{var Z=N.lane&-536870913,tt=Z!==N.lane;if(tt?(Qt&Z)===Z:(d&Z)===Z){Z!==0&&Z===nl&&(Hp=!0),at!==null&&(at=at.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var Nt=r,St=N;Z=a;var he=c;switch(St.tag){case 1:if(Nt=St.payload,typeof Nt=="function"){ut=Nt.call(he,ut,Z);break t}ut=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=St.payload,Z=typeof Nt=="function"?Nt.call(he,ut,Z):Nt,Z==null)break t;ut=p({},ut,Z);break t;case 2:_r=!0}}Z=N.callback,Z!==null&&(r.flags|=64,tt&&(r.flags|=8192),tt=g.callbacks,tt===null?g.callbacks=[Z]:tt.push(Z))}else tt={lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},at===null?(Y=at=tt,z=ut):at=at.next=tt,S|=Z;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;tt=N,N=tt.next,tt.next=null,g.lastBaseUpdate=tt,g.shared.pending=null}}while(!0);at===null&&(z=ut),g.baseState=z,g.firstBaseUpdate=Y,g.lastBaseUpdate=at,v===null&&(g.shared.lanes=0),kr|=S,r.lanes=S,r.memoizedState=ut}}function Bb(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Fb(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Bb(c[r],a)}var sl=it(null),wd=it(0);function Hb(r,a){r=$s,et(wd,r),et(sl,a),$s=r|a.baseLanes}function qp(){et(wd,$s),et(sl,sl.current)}function $p(){$s=wd.current,dt(sl),dt(wd)}var Sr=0,Lt=null,ce=null,ze=null,Td=!1,rl=!1,Wa=!1,Sd=0,Kc=0,al=null,ok=0;function ke(){throw Error(i(321))}function Gp(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!Wn(r[c],a[c]))return!1;return!0}function Qp(r,a,c,d,g,v){return Sr=v,Lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=r===null||r.memoizedState===null?A_:C_,Wa=!1,v=c(d,g),Wa=!1,rl&&(v=$b(a,c,d,g)),qb(r),v}function qb(r){$.H=Id;var a=ce!==null&&ce.next!==null;if(Sr=0,ze=ce=Lt=null,Td=!1,Kc=0,al=null,a)throw Error(i(300));r===null||en||(r=r.dependencies,r!==null&&yd(r)&&(en=!0))}function $b(r,a,c,d){Lt=r;var g=0;do{if(rl&&(al=null),Kc=0,rl=!1,25<=g)throw Error(i(301));if(g+=1,ze=ce=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=mk,v=a(c,d)}while(rl);return v}function lk(){var r=$.H,a=r.useState()[0];return a=typeof a.then=="function"?Yc(a):a,r=r.useState()[0],(ce!==null?ce.memoizedState:null)!==r&&(Lt.flags|=1024),a}function Wp(){var r=Sd!==0;return Sd=0,r}function Kp(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function Yp(r){if(Td){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Td=!1}Sr=0,ze=ce=Lt=null,rl=!1,Kc=Sd=0,al=null}function Vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Lt.memoizedState=ze=r:ze=ze.next=r,ze}function Be(){if(ce===null){var r=Lt.alternate;r=r!==null?r.memoizedState:null}else r=ce.next;var a=ze===null?Lt.memoizedState:ze.next;if(a!==null)ze=a,ce=r;else{if(r===null)throw Lt.alternate===null?Error(i(467)):Error(i(310));ce=r,r={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},ze===null?Lt.memoizedState=ze=r:ze=ze.next=r}return ze}function Xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(r){var a=Kc;return Kc+=1,al===null&&(al=[]),r=Lb(al,r,a),a=Lt,(ze===null?a.memoizedState:ze.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?A_:C_),r}function Ed(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Yc(r);if(r.$$typeof===B)return xn(r)}throw Error(i(438,String(r)))}function Zp(r){var a=null,c=Lt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var d=Lt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Xp(),Lt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),d=0;d<r;d++)c[d]=P;return a.index++,c}function Us(r,a){return typeof a=="function"?a(r):a}function Ad(r){var a=Be();return Jp(a,ce,r)}function Jp(r,a,c){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var g=r.baseQueue,v=d.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}a.baseQueue=g=v,d.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{a=g.next;var N=S=null,z=null,Y=a,at=!1;do{var ut=Y.lane&-536870913;if(ut!==Y.lane?(Qt&ut)===ut:(Sr&ut)===ut){var Z=Y.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ut===nl&&(at=!0);else if((Sr&Z)===Z){Y=Y.next,Z===nl&&(at=!0);continue}else ut={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(N=z=ut,S=v):z=z.next=ut,Lt.lanes|=Z,kr|=Z;ut=Y.action,Wa&&c(v,ut),v=Y.hasEagerState?Y.eagerState:c(v,ut)}else Z={lane:ut,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(N=z=Z,S=v):z=z.next=Z,Lt.lanes|=ut,kr|=ut;Y=Y.next}while(Y!==null&&Y!==a);if(z===null?S=v:z.next=N,!Wn(v,r.memoizedState)&&(en=!0,at&&(c=il,c!==null)))throw c;r.memoizedState=v,r.baseState=S,r.baseQueue=z,d.lastRenderedState=v}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function tg(r){var a=Be(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var d=c.dispatch,g=c.pending,v=a.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do v=r(v,S.action),S=S.next;while(S!==g);Wn(v,a.memoizedState)||(en=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,d]}function Gb(r,a,c){var d=Lt,g=Be(),v=te;if(v){if(c===void 0)throw Error(i(407));c=c()}else c=a();var S=!Wn((ce||g).memoizedState,c);S&&(g.memoizedState=c,en=!0),g=g.queue;var N=Kb.bind(null,d,g,r);if(Xc(2048,8,N,[r]),g.getSnapshot!==a||S||ze!==null&&ze.memoizedState.tag&1){if(d.flags|=2048,ol(9,Cd(),Wb.bind(null,d,g,c,a),null),fe===null)throw Error(i(349));v||(Sr&124)!==0||Qb(d,a,c)}return c}function Qb(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Lt.updateQueue,a===null?(a=Xp(),Lt.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function Wb(r,a,c,d){a.value=c,a.getSnapshot=d,Yb(a)&&Xb(r)}function Kb(r,a,c){return c(function(){Yb(a)&&Xb(r)})}function Yb(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!Wn(r,c)}catch{return!0}}function Xb(r){var a=Zo(r,2);a!==null&&ti(a,r,2)}function eg(r){var a=Vn();if(typeof r=="function"){var c=r;if(r=c(),Wa){Gn(!0);try{c()}finally{Gn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:r},a}function Zb(r,a,c,d){return r.baseState=c,Jp(r,ce,typeof d=="function"?d:Us)}function ck(r,a,c,d,g){if(Nd(r))throw Error(i(485));if(r=a.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};$.T!==null?c(!0):v.isTransition=!1,d(v),c=a.pending,c===null?(v.next=a.pending=v,Jb(a,v)):(v.next=c.next,a.pending=c.next=v)}}function Jb(r,a){var c=a.action,d=a.payload,g=r.state;if(a.isTransition){var v=$.T,S={};$.T=S;try{var N=c(g,d),z=$.S;z!==null&&z(S,N),t_(r,a,N)}catch(Y){ng(r,a,Y)}finally{$.T=v}}else try{v=c(g,d),t_(r,a,v)}catch(Y){ng(r,a,Y)}}function t_(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){e_(r,a,d)},function(d){return ng(r,a,d)}):e_(r,a,c)}function e_(r,a,c){a.status="fulfilled",a.value=c,n_(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,Jb(r,c)))}function ng(r,a,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=c,n_(a),a=a.next;while(a!==d)}r.action=null}function n_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function i_(r,a){return a}function s_(r,a){if(te){var c=fe.formState;if(c!==null){t:{var d=Lt;if(te){if(Ce){e:{for(var g=Ce,v=Ji;g.nodeType!==8;){if(!v){g=null;break e}if(g=Ni(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Ce=Ni(g.nextSibling),d=g.data==="F!";break t}}qa(d)}d=!1}d&&(a=c[0])}}return c=Vn(),c.memoizedState=c.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:a},c.queue=d,c=T_.bind(null,Lt,d),d.dispatch=c,d=eg(!1),v=og.bind(null,Lt,!1,d.queue),d=Vn(),g={state:a,dispatch:null,action:r,pending:null},d.queue=g,c=ck.bind(null,Lt,g,v,c),g.dispatch=c,d.memoizedState=r,[a,c,!1]}function r_(r){var a=Be();return a_(a,ce,r)}function a_(r,a,c){if(a=Jp(r,a,i_)[0],r=Ad(Us)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Yc(a)}catch(S){throw S===qc?bd:S}else d=a;a=Be();var g=a.queue,v=g.dispatch;return c!==a.memoizedState&&(Lt.flags|=2048,ol(9,Cd(),uk.bind(null,g,c),null)),[d,v,r]}function uk(r,a){r.action=a}function o_(r){var a=Be(),c=ce;if(c!==null)return a_(a,c,r);Be(),a=a.memoizedState,c=Be();var d=c.queue.dispatch;return c.memoizedState=r,[a,d,!1]}function ol(r,a,c,d){return r={tag:r,create:c,deps:d,inst:a,next:null},a=Lt.updateQueue,a===null&&(a=Xp(),Lt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,a.lastEffect=r),r}function Cd(){return{destroy:void 0,resource:void 0}}function l_(){return Be().memoizedState}function Rd(r,a,c,d){var g=Vn();d=d===void 0?null:d,Lt.flags|=r,g.memoizedState=ol(1|a,Cd(),c,d)}function Xc(r,a,c,d){var g=Be();d=d===void 0?null:d;var v=g.memoizedState.inst;ce!==null&&d!==null&&Gp(d,ce.memoizedState.deps)?g.memoizedState=ol(a,v,c,d):(Lt.flags|=r,g.memoizedState=ol(1|a,v,c,d))}function c_(r,a){Rd(8390656,8,r,a)}function u_(r,a){Xc(2048,8,r,a)}function h_(r,a){return Xc(4,2,r,a)}function d_(r,a){return Xc(4,4,r,a)}function f_(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function m_(r,a,c){c=c!=null?c.concat([r]):null,Xc(4,4,f_.bind(null,a,r),c)}function ig(){}function p_(r,a){var c=Be();a=a===void 0?null:a;var d=c.memoizedState;return a!==null&&Gp(a,d[1])?d[0]:(c.memoizedState=[r,a],r)}function g_(r,a){var c=Be();a=a===void 0?null:a;var d=c.memoizedState;if(a!==null&&Gp(a,d[1]))return d[0];if(d=r(),Wa){Gn(!0);try{r()}finally{Gn(!1)}}return c.memoizedState=[d,a],d}function sg(r,a,c){return c===void 0||(Sr&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=x1(),Lt.lanes|=r,kr|=r,c)}function y_(r,a,c,d){return Wn(c,a)?c:sl.current!==null?(r=sg(r,c,d),Wn(r,a)||(en=!0),r):(Sr&42)===0?(en=!0,r.memoizedState=c):(r=x1(),Lt.lanes|=r,kr|=r,a)}function v_(r,a,c,d,g){var v=J.p;J.p=v!==0&&8>v?v:8;var S=$.T,N={};$.T=N,og(r,!1,a,c);try{var z=g(),Y=$.S;if(Y!==null&&Y(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var at=ak(z,d);Zc(r,a,at,Jn(r))}else Zc(r,a,d,Jn(r))}catch(ut){Zc(r,a,{then:function(){},status:"rejected",reason:ut},Jn())}finally{J.p=v,$.T=S}}function hk(){}function rg(r,a,c,d){if(r.tag!==5)throw Error(i(476));var g=x_(r).queue;v_(r,g,a,ct,c===null?hk:function(){return b_(r),c(d)})}function x_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:ct},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function b_(r){var a=x_(r).next.queue;Zc(r,a,{},Jn())}function ag(){return xn(gu)}function __(){return Be().memoizedState}function w_(){return Be().memoizedState}function dk(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=Jn();r=wr(c);var d=Tr(a,r,c);d!==null&&(ti(d,a,c),Gc(d,a,c)),a={cache:Op()},r.payload=a;return}a=a.return}}function fk(r,a,c){var d=Jn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Nd(r)?S_(a,c):(c=Ap(r,a,c,d),c!==null&&(ti(c,r,d),E_(c,a,d)))}function T_(r,a,c){var d=Jn();Zc(r,a,c,d)}function Zc(r,a,c,d){var g={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Nd(r))S_(a,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var S=a.lastRenderedState,N=v(S,c);if(g.hasEagerState=!0,g.eagerState=N,Wn(N,S))return dd(r,a,g,0),fe===null&&hd(),!1}catch{}finally{}if(c=Ap(r,a,g,d),c!==null)return ti(c,r,d),E_(c,a,d),!0}return!1}function og(r,a,c,d){if(d={lane:2,revertLane:Ug(),action:d,hasEagerState:!1,eagerState:null,next:null},Nd(r)){if(a)throw Error(i(479))}else a=Ap(r,c,d,2),a!==null&&ti(a,r,2)}function Nd(r){var a=r.alternate;return r===Lt||a!==null&&a===Lt}function S_(r,a){rl=Td=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function E_(r,a,c){if((c&4194048)!==0){var d=a.lanes;d&=r.pendingLanes,c|=d,a.lanes=c,bc(r,c)}}var Id={readContext:xn,use:Ed,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke},A_={readContext:xn,use:Ed,useCallback:function(r,a){return Vn().memoizedState=[r,a===void 0?null:a],r},useContext:xn,useEffect:c_,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Rd(4194308,4,f_.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Rd(4194308,4,r,a)},useInsertionEffect:function(r,a){Rd(4,2,r,a)},useMemo:function(r,a){var c=Vn();a=a===void 0?null:a;var d=r();if(Wa){Gn(!0);try{r()}finally{Gn(!1)}}return c.memoizedState=[d,a],d},useReducer:function(r,a,c){var d=Vn();if(c!==void 0){var g=c(a);if(Wa){Gn(!0);try{c(a)}finally{Gn(!1)}}}else g=a;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=fk.bind(null,Lt,r),[d.memoizedState,r]},useRef:function(r){var a=Vn();return r={current:r},a.memoizedState=r},useState:function(r){r=eg(r);var a=r.queue,c=T_.bind(null,Lt,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:ig,useDeferredValue:function(r,a){var c=Vn();return sg(c,r,a)},useTransition:function(){var r=eg(!1);return r=v_.bind(null,Lt,r.queue,!0,!1),Vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var d=Lt,g=Vn();if(te){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),fe===null)throw Error(i(349));(Qt&124)!==0||Qb(d,a,c)}g.memoizedState=c;var v={value:c,getSnapshot:a};return g.queue=v,c_(Kb.bind(null,d,v,r),[r]),d.flags|=2048,ol(9,Cd(),Wb.bind(null,d,v,c,a),null),c},useId:function(){var r=Vn(),a=fe.identifierPrefix;if(te){var c=Os,d=js;c=(d&~(1<<32-vn(d)-1)).toString(32)+c,a=""+a+"R"+c,c=Sd++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=ok++,a=""+a+"r"+c.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:ag,useFormState:s_,useActionState:s_,useOptimistic:function(r){var a=Vn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=og.bind(null,Lt,!0,c),c.dispatch=a,[r,a]},useMemoCache:Zp,useCacheRefresh:function(){return Vn().memoizedState=dk.bind(null,Lt)}},C_={readContext:xn,use:Ed,useCallback:p_,useContext:xn,useEffect:u_,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:d_,useMemo:g_,useReducer:Ad,useRef:l_,useState:function(){return Ad(Us)},useDebugValue:ig,useDeferredValue:function(r,a){var c=Be();return y_(c,ce.memoizedState,r,a)},useTransition:function(){var r=Ad(Us)[0],a=Be().memoizedState;return[typeof r=="boolean"?r:Yc(r),a]},useSyncExternalStore:Gb,useId:__,useHostTransitionStatus:ag,useFormState:r_,useActionState:r_,useOptimistic:function(r,a){var c=Be();return Zb(c,ce,r,a)},useMemoCache:Zp,useCacheRefresh:w_},mk={readContext:xn,use:Ed,useCallback:p_,useContext:xn,useEffect:u_,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:d_,useMemo:g_,useReducer:tg,useRef:l_,useState:function(){return tg(Us)},useDebugValue:ig,useDeferredValue:function(r,a){var c=Be();return ce===null?sg(c,r,a):y_(c,ce.memoizedState,r,a)},useTransition:function(){var r=tg(Us)[0],a=Be().memoizedState;return[typeof r=="boolean"?r:Yc(r),a]},useSyncExternalStore:Gb,useId:__,useHostTransitionStatus:ag,useFormState:o_,useActionState:o_,useOptimistic:function(r,a){var c=Be();return ce!==null?Zb(c,ce,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Zp,useCacheRefresh:w_},ll=null,Jc=0;function kd(r){var a=Jc;return Jc+=1,ll===null&&(ll=[]),Lb(ll,r,a)}function tu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Dd(r,a){throw a.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function R_(r){var a=r._init;return a(r._payload)}function N_(r){function a(G,H){if(r){var K=G.deletions;K===null?(G.deletions=[H],G.flags|=16):K.push(H)}}function c(G,H){if(!r)return null;for(;H!==null;)a(G,H),H=H.sibling;return null}function d(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function g(G,H){return G=Ps(G,H),G.index=0,G.sibling=null,G}function v(G,H,K){return G.index=K,r?(K=G.alternate,K!==null?(K=K.index,K<H?(G.flags|=67108866,H):K):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function S(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function N(G,H,K,ot){return H===null||H.tag!==6?(H=Rp(K,G.mode,ot),H.return=G,H):(H=g(H,K),H.return=G,H)}function z(G,H,K,ot){var xt=K.type;return xt===E?at(G,H,K.props.children,ot,K.key):H!==null&&(H.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===A&&R_(xt)===H.type)?(H=g(H,K.props),tu(H,K),H.return=G,H):(H=md(K.type,K.key,K.props,null,G.mode,ot),tu(H,K),H.return=G,H)}function Y(G,H,K,ot){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=Np(K,G.mode,ot),H.return=G,H):(H=g(H,K.children||[]),H.return=G,H)}function at(G,H,K,ot,xt){return H===null||H.tag!==7?(H=za(K,G.mode,ot,xt),H.return=G,H):(H=g(H,K),H.return=G,H)}function ut(G,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Rp(""+H,G.mode,K),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return K=md(H.type,H.key,H.props,null,G.mode,K),tu(K,H),K.return=G,K;case w:return H=Np(H,G.mode,K),H.return=G,H;case A:var ot=H._init;return H=ot(H._payload),ut(G,H,K)}if(rt(H)||L(H))return H=za(H,G.mode,K,null),H.return=G,H;if(typeof H.then=="function")return ut(G,kd(H),K);if(H.$$typeof===B)return ut(G,vd(G,H),K);Dd(G,H)}return null}function Z(G,H,K,ot){var xt=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return xt!==null?null:N(G,H,""+K,ot);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===xt?z(G,H,K,ot):null;case w:return K.key===xt?Y(G,H,K,ot):null;case A:return xt=K._init,K=xt(K._payload),Z(G,H,K,ot)}if(rt(K)||L(K))return xt!==null?null:at(G,H,K,ot,null);if(typeof K.then=="function")return Z(G,H,kd(K),ot);if(K.$$typeof===B)return Z(G,H,vd(G,K),ot);Dd(G,K)}return null}function tt(G,H,K,ot,xt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return G=G.get(K)||null,N(H,G,""+ot,xt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case b:return G=G.get(ot.key===null?K:ot.key)||null,z(H,G,ot,xt);case w:return G=G.get(ot.key===null?K:ot.key)||null,Y(H,G,ot,xt);case A:var Ut=ot._init;return ot=Ut(ot._payload),tt(G,H,K,ot,xt)}if(rt(ot)||L(ot))return G=G.get(K)||null,at(H,G,ot,xt,null);if(typeof ot.then=="function")return tt(G,H,K,kd(ot),xt);if(ot.$$typeof===B)return tt(G,H,K,vd(H,ot),xt);Dd(H,ot)}return null}function Nt(G,H,K,ot){for(var xt=null,Ut=null,wt=H,Et=H=0,sn=null;wt!==null&&Et<K.length;Et++){wt.index>Et?(sn=wt,wt=null):sn=wt.sibling;var Xt=Z(G,wt,K[Et],ot);if(Xt===null){wt===null&&(wt=sn);break}r&&wt&&Xt.alternate===null&&a(G,wt),H=v(Xt,H,Et),Ut===null?xt=Xt:Ut.sibling=Xt,Ut=Xt,wt=sn}if(Et===K.length)return c(G,wt),te&&Fa(G,Et),xt;if(wt===null){for(;Et<K.length;Et++)wt=ut(G,K[Et],ot),wt!==null&&(H=v(wt,H,Et),Ut===null?xt=wt:Ut.sibling=wt,Ut=wt);return te&&Fa(G,Et),xt}for(wt=d(wt);Et<K.length;Et++)sn=tt(wt,G,Et,K[Et],ot),sn!==null&&(r&&sn.alternate!==null&&wt.delete(sn.key===null?Et:sn.key),H=v(sn,H,Et),Ut===null?xt=sn:Ut.sibling=sn,Ut=sn);return r&&wt.forEach(function(zr){return a(G,zr)}),te&&Fa(G,Et),xt}function St(G,H,K,ot){if(K==null)throw Error(i(151));for(var xt=null,Ut=null,wt=H,Et=H=0,sn=null,Xt=K.next();wt!==null&&!Xt.done;Et++,Xt=K.next()){wt.index>Et?(sn=wt,wt=null):sn=wt.sibling;var zr=Z(G,wt,Xt.value,ot);if(zr===null){wt===null&&(wt=sn);break}r&&wt&&zr.alternate===null&&a(G,wt),H=v(zr,H,Et),Ut===null?xt=zr:Ut.sibling=zr,Ut=zr,wt=sn}if(Xt.done)return c(G,wt),te&&Fa(G,Et),xt;if(wt===null){for(;!Xt.done;Et++,Xt=K.next())Xt=ut(G,Xt.value,ot),Xt!==null&&(H=v(Xt,H,Et),Ut===null?xt=Xt:Ut.sibling=Xt,Ut=Xt);return te&&Fa(G,Et),xt}for(wt=d(wt);!Xt.done;Et++,Xt=K.next())Xt=tt(wt,G,Et,Xt.value,ot),Xt!==null&&(r&&Xt.alternate!==null&&wt.delete(Xt.key===null?Et:Xt.key),H=v(Xt,H,Et),Ut===null?xt=Xt:Ut.sibling=Xt,Ut=Xt);return r&&wt.forEach(function(pD){return a(G,pD)}),te&&Fa(G,Et),xt}function he(G,H,K,ot){if(typeof K=="object"&&K!==null&&K.type===E&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:t:{for(var xt=K.key;H!==null;){if(H.key===xt){if(xt=K.type,xt===E){if(H.tag===7){c(G,H.sibling),ot=g(H,K.props.children),ot.return=G,G=ot;break t}}else if(H.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===A&&R_(xt)===H.type){c(G,H.sibling),ot=g(H,K.props),tu(ot,K),ot.return=G,G=ot;break t}c(G,H);break}else a(G,H);H=H.sibling}K.type===E?(ot=za(K.props.children,G.mode,ot,K.key),ot.return=G,G=ot):(ot=md(K.type,K.key,K.props,null,G.mode,ot),tu(ot,K),ot.return=G,G=ot)}return S(G);case w:t:{for(xt=K.key;H!==null;){if(H.key===xt)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){c(G,H.sibling),ot=g(H,K.children||[]),ot.return=G,G=ot;break t}else{c(G,H);break}else a(G,H);H=H.sibling}ot=Np(K,G.mode,ot),ot.return=G,G=ot}return S(G);case A:return xt=K._init,K=xt(K._payload),he(G,H,K,ot)}if(rt(K))return Nt(G,H,K,ot);if(L(K)){if(xt=L(K),typeof xt!="function")throw Error(i(150));return K=xt.call(K),St(G,H,K,ot)}if(typeof K.then=="function")return he(G,H,kd(K),ot);if(K.$$typeof===B)return he(G,H,vd(G,K),ot);Dd(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(c(G,H.sibling),ot=g(H,K),ot.return=G,G=ot):(c(G,H),ot=Rp(K,G.mode,ot),ot.return=G,G=ot),S(G)):c(G,H)}return function(G,H,K,ot){try{Jc=0;var xt=he(G,H,K,ot);return ll=null,xt}catch(wt){if(wt===qc||wt===bd)throw wt;var Ut=Kn(29,wt,null,G.mode);return Ut.lanes=ot,Ut.return=G,Ut}finally{}}}var cl=N_(!0),I_=N_(!1),di=it(null),ts=null;function Er(r){var a=r.alternate;et(Xe,Xe.current&1),et(di,r),ts===null&&(a===null||sl.current!==null||a.memoizedState!==null)&&(ts=r)}function k_(r){if(r.tag===22){if(et(Xe,Xe.current),et(di,r),ts===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(ts=r)}}else Ar()}function Ar(){et(Xe,Xe.current),et(di,di.current)}function zs(r){dt(di),ts===r&&(ts=null),dt(Xe)}var Xe=it(0);function Md(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Xg(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function lg(r,a,c,d){a=r.memoizedState,c=c(d,a),c=c==null?a:p({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var cg={enqueueSetState:function(r,a,c){r=r._reactInternals;var d=Jn(),g=wr(d);g.payload=a,c!=null&&(g.callback=c),a=Tr(r,g,d),a!==null&&(ti(a,r,d),Gc(a,r,d))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var d=Jn(),g=wr(d);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=Tr(r,g,d),a!==null&&(ti(a,r,d),Gc(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=Jn(),d=wr(c);d.tag=2,a!=null&&(d.callback=a),a=Tr(r,d,c),a!==null&&(ti(a,r,c),Gc(a,r,c))}};function D_(r,a,c,d,g,v,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,S):a.prototype&&a.prototype.isPureReactComponent?!Oc(c,d)||!Oc(g,v):!0}function M_(r,a,c,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,d),a.state!==r&&cg.enqueueReplaceState(a,a.state,null)}function Ka(r,a){var c=a;if("ref"in a){c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}if(r=r.defaultProps){c===a&&(c=p({},c));for(var g in r)c[g]===void 0&&(c[g]=r[g])}return c}var Pd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function P_(r){Pd(r)}function j_(r){console.error(r)}function O_(r){Pd(r)}function jd(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function V_(r,a,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ug(r,a,c){return c=wr(c),c.tag=3,c.payload={element:null},c.callback=function(){jd(r,a)},c}function L_(r){return r=wr(r),r.tag=3,r}function U_(r,a,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;r.payload=function(){return g(v)},r.callback=function(){V_(a,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){V_(a,c,d),typeof g!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function pk(r,a,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=c.alternate,a!==null&&Bc(a,c,g,!0),c=di.current,c!==null){switch(c.tag){case 13:return ts===null?Pg():c.alternate===null&&Re===0&&(Re=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===Up?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([d]):a.add(d),Og(r,d,g)),!1;case 22:return c.flags|=65536,d===Up?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([d]):c.add(d)),Og(r,d,g)),!1}throw Error(i(435,c.tag))}return Og(r,d,g),Pg(),!1}if(te)return a=di.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==Dp&&(r=Error(i(422),{cause:d}),zc(li(r,c)))):(d!==Dp&&(a=Error(i(423),{cause:d}),zc(li(a,c))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=li(d,c),g=ug(r.stateNode,d,g),Fp(r,g),Re!==4&&(Re=2)),!1;var v=Error(i(520),{cause:d});if(v=li(v,c),ou===null?ou=[v]:ou.push(v),Re!==4&&(Re=2),a===null)return!0;d=li(d,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=g&-g,c.lanes|=r,r=ug(c.stateNode,d,r),Fp(c,r),!1;case 1:if(a=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Dr===null||!Dr.has(v))))return c.flags|=65536,g&=-g,c.lanes|=g,g=L_(g),U_(g,r,c,d),Fp(c,g),!1}c=c.return}while(c!==null);return!1}var z_=Error(i(461)),en=!1;function un(r,a,c,d){a.child=r===null?I_(a,null,c,d):cl(a,r.child,c,d)}function B_(r,a,c,d,g){c=c.render;var v=a.ref;if("ref"in d){var S={};for(var N in d)N!=="ref"&&(S[N]=d[N])}else S=d;return Ga(a),d=Qp(r,a,c,S,v,g),N=Wp(),r!==null&&!en?(Kp(r,a,g),Bs(r,a,g)):(te&&N&&Ip(a),a.flags|=1,un(r,a,d,g),a.child)}function F_(r,a,c,d,g){if(r===null){var v=c.type;return typeof v=="function"&&!Cp(v)&&v.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=v,H_(r,a,v,d,g)):(r=md(c.type,null,d,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(v=r.child,!vg(r,g)){var S=v.memoizedProps;if(c=c.compare,c=c!==null?c:Oc,c(S,d)&&r.ref===a.ref)return Bs(r,a,g)}return a.flags|=1,r=Ps(v,d),r.ref=a.ref,r.return=a,a.child=r}function H_(r,a,c,d,g){if(r!==null){var v=r.memoizedProps;if(Oc(v,d)&&r.ref===a.ref)if(en=!1,a.pendingProps=d=v,vg(r,g))(r.flags&131072)!==0&&(en=!0);else return a.lanes=r.lanes,Bs(r,a,g)}return hg(r,a,c,d,g)}function q_(r,a,c){var d=a.pendingProps,g=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=v!==null?v.baseLanes|c:c,r!==null){for(g=a.child=r.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;a.childLanes=v&~d}else a.childLanes=0,a.child=null;return $_(r,a,d,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&xd(a,v!==null?v.cachePool:null),v!==null?Hb(a,v):qp(),k_(a);else return a.lanes=a.childLanes=536870912,$_(r,a,v!==null?v.baseLanes|c:c,c)}else v!==null?(xd(a,v.cachePool),Hb(a,v),Ar(),a.memoizedState=null):(r!==null&&xd(a,null),qp(),Ar());return un(r,a,g,c),a.child}function $_(r,a,c,d){var g=Lp();return g=g===null?null:{parent:Ye._currentValue,pool:g},a.memoizedState={baseLanes:c,cachePool:g},r!==null&&xd(a,null),qp(),k_(a),r!==null&&Bc(r,a,d,!0),null}function Od(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function hg(r,a,c,d,g){return Ga(a),c=Qp(r,a,c,d,void 0,g),d=Wp(),r!==null&&!en?(Kp(r,a,g),Bs(r,a,g)):(te&&d&&Ip(a),a.flags|=1,un(r,a,c,g),a.child)}function G_(r,a,c,d,g,v){return Ga(a),a.updateQueue=null,c=$b(a,d,c,g),qb(r),d=Wp(),r!==null&&!en?(Kp(r,a,v),Bs(r,a,v)):(te&&d&&Ip(a),a.flags|=1,un(r,a,c,v),a.child)}function Q_(r,a,c,d,g){if(Ga(a),a.stateNode===null){var v=Jo,S=c.contextType;typeof S=="object"&&S!==null&&(v=xn(S)),v=new c(d,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=cg,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=d,v.state=a.memoizedState,v.refs={},zp(a),S=c.contextType,v.context=typeof S=="object"&&S!==null?xn(S):Jo,v.state=a.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(lg(a,c,S,d),v.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&cg.enqueueReplaceState(v,v.state,null),Wc(a,d,v,g),Qc(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){v=a.stateNode;var N=a.memoizedProps,z=Ka(c,N);v.props=z;var Y=v.context,at=c.contextType;S=Jo,typeof at=="object"&&at!==null&&(S=xn(at));var ut=c.getDerivedStateFromProps;at=typeof ut=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,at||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||Y!==S)&&M_(a,v,d,S),_r=!1;var Z=a.memoizedState;v.state=Z,Wc(a,d,v,g),Qc(),Y=a.memoizedState,N||Z!==Y||_r?(typeof ut=="function"&&(lg(a,c,ut,d),Y=a.memoizedState),(z=_r||D_(a,c,z,d,Z,Y,S))?(at||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=Y),v.props=d,v.state=Y,v.context=S,d=z):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{v=a.stateNode,Bp(r,a),S=a.memoizedProps,at=Ka(c,S),v.props=at,ut=a.pendingProps,Z=v.context,Y=c.contextType,z=Jo,typeof Y=="object"&&Y!==null&&(z=xn(Y)),N=c.getDerivedStateFromProps,(Y=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==ut||Z!==z)&&M_(a,v,d,z),_r=!1,Z=a.memoizedState,v.state=Z,Wc(a,d,v,g),Qc();var tt=a.memoizedState;S!==ut||Z!==tt||_r||r!==null&&r.dependencies!==null&&yd(r.dependencies)?(typeof N=="function"&&(lg(a,c,N,d),tt=a.memoizedState),(at=_r||D_(a,c,at,d,Z,tt,z)||r!==null&&r.dependencies!==null&&yd(r.dependencies))?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,tt,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,tt,z)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=tt),v.props=d,v.state=tt,v.context=z,d=at):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),d=!1)}return v=d,Od(r,a),d=(a.flags&128)!==0,v||d?(v=a.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,r!==null&&d?(a.child=cl(a,r.child,null,g),a.child=cl(a,null,c,g)):un(r,a,c,g),a.memoizedState=v.state,r=a.child):r=Bs(r,a,g),r}function W_(r,a,c,d){return Uc(),a.flags|=256,un(r,a,c,d),a.child}var dg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fg(r){return{baseLanes:r,cachePool:jb()}}function mg(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=fi),r}function K_(r,a,c){var d=a.pendingProps,g=!1,v=(a.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(Xe.current&2)!==0),S&&(g=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(te){if(g?Er(a):Ar(),te){var N=Ce,z;if(z=N){t:{for(z=N,N=Ji;z.nodeType!==8;){if(!N){N=null;break t}if(z=Ni(z.nextSibling),z===null){N=null;break t}}N=z}N!==null?(a.memoizedState={dehydrated:N,treeContext:Ba!==null?{id:js,overflow:Os}:null,retryLane:536870912,hydrationErrors:null},z=Kn(18,null,null,0),z.stateNode=N,z.return=a,a.child=z,Mn=a,Ce=null,z=!0):z=!1}z||qa(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Xg(N)?a.lanes=32:a.lanes=536870912,null;zs(a)}return N=d.children,d=d.fallback,g?(Ar(),g=a.mode,N=Vd({mode:"hidden",children:N},g),d=za(d,g,c,null),N.return=a,d.return=a,N.sibling=d,a.child=N,g=a.child,g.memoizedState=fg(c),g.childLanes=mg(r,S,c),a.memoizedState=dg,d):(Er(a),pg(a,N))}if(z=r.memoizedState,z!==null&&(N=z.dehydrated,N!==null)){if(v)a.flags&256?(Er(a),a.flags&=-257,a=gg(r,a,c)):a.memoizedState!==null?(Ar(),a.child=r.child,a.flags|=128,a=null):(Ar(),g=d.fallback,N=a.mode,d=Vd({mode:"visible",children:d.children},N),g=za(g,N,c,null),g.flags|=2,d.return=a,g.return=a,d.sibling=g,a.child=d,cl(a,r.child,null,c),d=a.child,d.memoizedState=fg(c),d.childLanes=mg(r,S,c),a.memoizedState=dg,a=g);else if(Er(a),Xg(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var Y=S.dgst;S=Y,d=Error(i(419)),d.stack="",d.digest=S,zc({value:d,source:null,stack:null}),a=gg(r,a,c)}else if(en||Bc(r,a,c,!1),S=(c&r.childLanes)!==0,en||S){if(S=fe,S!==null&&(d=c&-c,d=(d&42)!==0?1:fr(d),d=(d&(S.suspendedLanes|c))!==0?0:d,d!==0&&d!==z.retryLane))throw z.retryLane=d,Zo(r,d),ti(S,r,d),z_;N.data==="$?"||Pg(),a=gg(r,a,c)}else N.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=z.treeContext,Ce=Ni(N.nextSibling),Mn=a,te=!0,Ha=null,Ji=!1,r!==null&&(ui[hi++]=js,ui[hi++]=Os,ui[hi++]=Ba,js=r.id,Os=r.overflow,Ba=a),a=pg(a,d.children),a.flags|=4096);return a}return g?(Ar(),g=d.fallback,N=a.mode,z=r.child,Y=z.sibling,d=Ps(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&65011712,Y!==null?g=Ps(Y,g):(g=za(g,N,c,null),g.flags|=2),g.return=a,d.return=a,d.sibling=g,a.child=d,d=g,g=a.child,N=r.child.memoizedState,N===null?N=fg(c):(z=N.cachePool,z!==null?(Y=Ye._currentValue,z=z.parent!==Y?{parent:Y,pool:Y}:z):z=jb(),N={baseLanes:N.baseLanes|c,cachePool:z}),g.memoizedState=N,g.childLanes=mg(r,S,c),a.memoizedState=dg,d):(Er(a),c=r.child,r=c.sibling,c=Ps(c,{mode:"visible",children:d.children}),c.return=a,c.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=c,a.memoizedState=null,c)}function pg(r,a){return a=Vd({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Vd(r,a){return r=Kn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function gg(r,a,c){return cl(a,r.child,null,c),r=pg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Y_(r,a,c){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Pp(r.return,a,c)}function yg(r,a,c,d,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=g)}function X_(r,a,c){var d=a.pendingProps,g=d.revealOrder,v=d.tail;if(un(r,a,d.children,c),d=Xe.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Y_(r,c,a);else if(r.tag===19)Y_(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(et(Xe,d),g){case"forwards":for(c=a.child,g=null;c!==null;)r=c.alternate,r!==null&&Md(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),yg(a,!1,g,c,v);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&Md(r)===null){a.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}yg(a,!0,c,null,v);break;case"together":yg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bs(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),kr|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(Bc(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=Ps(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=Ps(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function vg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&yd(r)))}function gk(r,a,c){switch(a.tag){case 3:Dt(a,a.stateNode.containerInfo),br(a,Ye,r.memoizedState.cache),Uc();break;case 27:case 5:Ve(a);break;case 4:Dt(a,a.stateNode.containerInfo);break;case 10:br(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Er(a),a.flags|=128,null):(c&a.child.childLanes)!==0?K_(r,a,c):(Er(a),r=Bs(r,a,c),r!==null?r.sibling:null);Er(a);break;case 19:var g=(r.flags&128)!==0;if(d=(c&a.childLanes)!==0,d||(Bc(r,a,c,!1),d=(c&a.childLanes)!==0),g){if(d)return X_(r,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),et(Xe,Xe.current),d)break;return null;case 22:case 23:return a.lanes=0,q_(r,a,c);case 24:br(a,Ye,r.memoizedState.cache)}return Bs(r,a,c)}function Z_(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)en=!0;else{if(!vg(r,c)&&(a.flags&128)===0)return en=!1,gk(r,a,c);en=(r.flags&131072)!==0}else en=!1,te&&(a.flags&1048576)!==0&&Rb(a,gd,a.index);switch(a.lanes=0,a.tag){case 16:t:{r=a.pendingProps;var d=a.elementType,g=d._init;if(d=g(d._payload),a.type=d,typeof d=="function")Cp(d)?(r=Ka(d,r),a.tag=1,a=Q_(null,a,d,r,c)):(a.tag=0,a=hg(null,a,d,r,c));else{if(d!=null){if(g=d.$$typeof,g===X){a.tag=11,a=B_(null,a,d,r,c);break t}else if(g===D){a.tag=14,a=F_(null,a,d,r,c);break t}}throw a=nt(d)||d,Error(i(306,a,""))}}return a;case 0:return hg(r,a,a.type,a.pendingProps,c);case 1:return d=a.type,g=Ka(d,a.pendingProps),Q_(r,a,d,g,c);case 3:t:{if(Dt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));d=a.pendingProps;var v=a.memoizedState;g=v.element,Bp(r,a),Wc(a,d,null,c);var S=a.memoizedState;if(d=S.cache,br(a,Ye,d),d!==v.cache&&jp(a,[Ye],c,!0),Qc(),d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=W_(r,a,d,c);break t}else if(d!==g){g=li(Error(i(424)),a),zc(g),a=W_(r,a,d,c);break t}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ce=Ni(r.firstChild),Mn=a,te=!0,Ha=null,Ji=!0,c=I_(a,null,d,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Uc(),d===g){a=Bs(r,a,c);break t}un(r,a,d,c)}a=a.child}return a;case 26:return Od(r,a),r===null?(c=nw(a.type,null,a.pendingProps,null))?a.memoizedState=c:te||(c=a.type,r=a.pendingProps,d=Xd(ft.current).createElement(c),d[Qe]=a,d[Le]=r,dn(d,c,r),Ie(d),a.stateNode=d):a.memoizedState=nw(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ve(a),r===null&&te&&(d=a.stateNode=J1(a.type,a.pendingProps,ft.current),Mn=a,Ji=!0,g=Ce,jr(a.type)?(Zg=g,Ce=Ni(d.firstChild)):Ce=g),un(r,a,a.pendingProps.children,c),Od(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&te&&((g=d=Ce)&&(d=qk(d,a.type,a.pendingProps,Ji),d!==null?(a.stateNode=d,Mn=a,Ce=Ni(d.firstChild),Ji=!1,g=!0):g=!1),g||qa(a)),Ve(a),g=a.type,v=a.pendingProps,S=r!==null?r.memoizedProps:null,d=v.children,Wg(g,v)?d=null:S!==null&&Wg(g,S)&&(a.flags|=32),a.memoizedState!==null&&(g=Qp(r,a,lk,null,null,c),gu._currentValue=g),Od(r,a),un(r,a,d,c),a.child;case 6:return r===null&&te&&((r=c=Ce)&&(c=$k(c,a.pendingProps,Ji),c!==null?(a.stateNode=c,Mn=a,Ce=null,r=!0):r=!1),r||qa(a)),null;case 13:return K_(r,a,c);case 4:return Dt(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=cl(a,null,d,c):un(r,a,d,c),a.child;case 11:return B_(r,a,a.type,a.pendingProps,c);case 7:return un(r,a,a.pendingProps,c),a.child;case 8:return un(r,a,a.pendingProps.children,c),a.child;case 12:return un(r,a,a.pendingProps.children,c),a.child;case 10:return d=a.pendingProps,br(a,a.type,d.value),un(r,a,d.children,c),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,Ga(a),g=xn(g),d=d(g),a.flags|=1,un(r,a,d,c),a.child;case 14:return F_(r,a,a.type,a.pendingProps,c);case 15:return H_(r,a,a.type,a.pendingProps,c);case 19:return X_(r,a,c);case 31:return d=a.pendingProps,c=a.mode,d={mode:d.mode,children:d.children},r===null?(c=Vd(d,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=Ps(r.child,d),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return q_(r,a,c);case 24:return Ga(a),d=xn(Ye),r===null?(g=Lp(),g===null&&(g=fe,v=Op(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=c),g=v),a.memoizedState={parent:d,cache:g},zp(a),br(a,Ye,g)):((r.lanes&c)!==0&&(Bp(r,a),Wc(a,null,null,c),Qc()),g=r.memoizedState,v=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),br(a,Ye,d)):(d=v.cache,br(a,Ye,d),d!==g.cache&&jp(a,[Ye],c,!0))),un(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Fs(r){r.flags|=4}function J_(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!ow(a)){if(a=di.current,a!==null&&((Qt&4194048)===Qt?ts!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||a!==ts))throw $c=Up,Ob;r.flags|=8192}}function Ld(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?vc():536870912,r.lanes|=a,fl|=a)}function eu(r,a){if(!te)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function be(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(a)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=c,a}function yk(r,a,c){var d=a.pendingProps;switch(kp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(a),null;case 1:return be(a),null;case 3:return c=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Ls(Ye),ee(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Lc(a)?Fs(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,kb())),be(a),null;case 26:return c=a.memoizedState,r===null?(Fs(a),c!==null?(be(a),J_(a,c)):(be(a),a.flags&=-16777217)):c?c!==r.memoizedState?(Fs(a),be(a),J_(a,c)):(be(a),a.flags&=-16777217):(r.memoizedProps!==d&&Fs(a),be(a),a.flags&=-16777217),null;case 27:_t(a),c=ft.current;var g=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Fs(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return be(a),null}r=mt.current,Lc(a)?Nb(a):(r=J1(g,d,c),a.stateNode=r,Fs(a))}return be(a),null;case 5:if(_t(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Fs(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return be(a),null}if(r=mt.current,Lc(a))Nb(a);else{switch(g=Xd(ft.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(c,{is:d.is}):g.createElement(c)}}r[Qe]=a,r[Le]=d;t:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break t;for(;g.sibling===null;){if(g.return===null||g.return===a)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=r;t:switch(dn(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Fs(a)}}return be(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&Fs(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(r=ft.current,Lc(a)){if(r=a.stateNode,c=a.memoizedProps,d=null,g=Mn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[Qe]=a,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||G1(r.nodeValue,c)),r||qa(a)}else r=Xd(r).createTextNode(d),r[Qe]=a,a.stateNode=r}return be(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Lc(a),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Qe]=a}else Uc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;be(a),g=!1}else g=kb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(zs(a),a):(zs(a),null)}if(zs(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),Ld(a,a.updateQueue),be(a),null;case 4:return ee(),r===null&&Hg(a.stateNode.containerInfo),be(a),null;case 10:return Ls(a.type),be(a),null;case 19:if(dt(Xe),g=a.memoizedState,g===null)return be(a),null;if(d=(a.flags&128)!==0,v=g.rendering,v===null)if(d)eu(g,!1);else{if(Re!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(v=Md(r),v!==null){for(a.flags|=128,eu(g,!1),r=v.updateQueue,a.updateQueue=r,Ld(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)Cb(c,r),c=c.sibling;return et(Xe,Xe.current&1|2),a.child}r=r.sibling}g.tail!==null&&jt()>Bd&&(a.flags|=128,d=!0,eu(g,!1),a.lanes=4194304)}else{if(!d)if(r=Md(v),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,Ld(a,r),eu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!te)return be(a),null}else 2*jt()-g.renderingStartTime>Bd&&c!==536870912&&(a.flags|=128,d=!0,eu(g,!1),a.lanes=4194304);g.isBackwards?(v.sibling=a.child,a.child=v):(r=g.last,r!==null?r.sibling=v:a.child=v,g.last=v)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=jt(),a.sibling=null,r=Xe.current,et(Xe,d?r&1|2:r&1),a):(be(a),null);case 22:case 23:return zs(a),$p(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(c&536870912)!==0&&(a.flags&128)===0&&(be(a),a.subtreeFlags&6&&(a.flags|=8192)):be(a),c=a.updateQueue,c!==null&&Ld(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==c&&(a.flags|=2048),r!==null&&dt(Qa),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ls(Ye),be(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function vk(r,a){switch(kp(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ls(Ye),ee(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return _t(a),null;case 13:if(zs(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Uc()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return dt(Xe),null;case 4:return ee(),null;case 10:return Ls(a.type),null;case 22:case 23:return zs(a),$p(),r!==null&&dt(Qa),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ls(Ye),null;case 25:return null;default:return null}}function t1(r,a){switch(kp(a),a.tag){case 3:Ls(Ye),ee();break;case 26:case 27:case 5:_t(a);break;case 4:ee();break;case 13:zs(a);break;case 19:dt(Xe);break;case 10:Ls(a.type);break;case 22:case 23:zs(a),$p(),r!==null&&dt(Qa);break;case 24:Ls(Ye)}}function nu(r,a){try{var c=a.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){d=void 0;var v=c.create,S=c.inst;d=v(),S.destroy=d}c=c.next}while(c!==g)}}catch(N){de(a,a.return,N)}}function Cr(r,a,c){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&r)===r){var S=d.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,g=a;var z=c,Y=N;try{Y()}catch(at){de(g,z,at)}}}d=d.next}while(d!==v)}}catch(at){de(a,a.return,at)}}function e1(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{Fb(a,c)}catch(d){de(r,r.return,d)}}}function n1(r,a,c){c.props=Ka(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){de(r,a,d)}}function iu(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(g){de(r,a,g)}}function es(r,a){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){de(r,a,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){de(r,a,g)}else c.current=null}function i1(r){var a=r.type,c=r.memoizedProps,d=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){de(r,r.return,g)}}function xg(r,a,c){try{var d=r.stateNode;Uk(d,r.type,c,a),d[Le]=a}catch(g){de(r,r.return,g)}}function s1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&jr(r.type)||r.tag===4}function bg(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||s1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&jr(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _g(r,a,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Yd));else if(d!==4&&(d===27&&jr(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(_g(r,a,c),r=r.sibling;r!==null;)_g(r,a,c),r=r.sibling}function Ud(r,a,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(d!==4&&(d===27&&jr(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Ud(r,a,c),r=r.sibling;r!==null;)Ud(r,a,c),r=r.sibling}function r1(r){var a=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);dn(a,d,c),a[Qe]=r,a[Le]=c}catch(v){de(r,r.return,v)}}var Hs=!1,De=!1,wg=!1,a1=typeof WeakSet=="function"?WeakSet:Set,nn=null;function xk(r,a){if(r=r.containerInfo,Gg=sf,r=yb(r),bp(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break t}var S=0,N=-1,z=-1,Y=0,at=0,ut=r,Z=null;e:for(;;){for(var tt;ut!==c||g!==0&&ut.nodeType!==3||(N=S+g),ut!==v||d!==0&&ut.nodeType!==3||(z=S+d),ut.nodeType===3&&(S+=ut.nodeValue.length),(tt=ut.firstChild)!==null;)Z=ut,ut=tt;for(;;){if(ut===r)break e;if(Z===c&&++Y===g&&(N=S),Z===v&&++at===d&&(z=S),(tt=ut.nextSibling)!==null)break;ut=Z,Z=ut.parentNode}ut=tt}c=N===-1||z===-1?null:{start:N,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Qg={focusedElem:r,selectionRange:c},sf=!1,nn=a;nn!==null;)if(a=nn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,nn=r;else for(;nn!==null;){switch(a=nn,v=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=a,g=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var Nt=Ka(c.type,g,c.elementType===c.type);r=d.getSnapshotBeforeUpdate(Nt,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(St){de(c,c.return,St)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)Yg(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Yg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,nn=r;break}nn=a.return}}function o1(r,a,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Rr(r,c),d&4&&nu(5,c);break;case 1:if(Rr(r,c),d&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(S){de(c,c.return,S)}else{var g=Ka(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(g,a,r.__reactInternalSnapshotBeforeUpdate)}catch(S){de(c,c.return,S)}}d&64&&e1(c),d&512&&iu(c,c.return);break;case 3:if(Rr(r,c),d&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Fb(r,a)}catch(S){de(c,c.return,S)}}break;case 27:a===null&&d&4&&r1(c);case 26:case 5:Rr(r,c),a===null&&d&4&&i1(c),d&512&&iu(c,c.return);break;case 12:Rr(r,c);break;case 13:Rr(r,c),d&4&&u1(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=Rk.bind(null,c),Gk(r,c))));break;case 22:if(d=c.memoizedState!==null||Hs,!d){a=a!==null&&a.memoizedState!==null||De,g=Hs;var v=De;Hs=d,(De=a)&&!v?Nr(r,c,(c.subtreeFlags&8772)!==0):Rr(r,c),Hs=g,De=v}break;case 30:break;default:Rr(r,c)}}function l1(r){var a=r.alternate;a!==null&&(r.alternate=null,l1(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&gr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ve=null,Ln=!1;function qs(r,a,c){for(c=c.child;c!==null;)c1(r,a,c),c=c.sibling}function c1(r,a,c){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(Ae,c)}catch{}switch(c.tag){case 26:De||es(c,a),qs(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:De||es(c,a);var d=ve,g=Ln;jr(c.type)&&(ve=c.stateNode,Ln=!1),qs(r,a,c),du(c.stateNode),ve=d,Ln=g;break;case 5:De||es(c,a);case 6:if(d=ve,g=Ln,ve=null,qs(r,a,c),ve=d,Ln=g,ve!==null)if(Ln)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(c.stateNode)}catch(v){de(c,a,v)}else try{ve.removeChild(c.stateNode)}catch(v){de(c,a,v)}break;case 18:ve!==null&&(Ln?(r=ve,X1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),bu(r)):X1(ve,c.stateNode));break;case 4:d=ve,g=Ln,ve=c.stateNode.containerInfo,Ln=!0,qs(r,a,c),ve=d,Ln=g;break;case 0:case 11:case 14:case 15:De||Cr(2,c,a),De||Cr(4,c,a),qs(r,a,c);break;case 1:De||(es(c,a),d=c.stateNode,typeof d.componentWillUnmount=="function"&&n1(c,a,d)),qs(r,a,c);break;case 21:qs(r,a,c);break;case 22:De=(d=De)||c.memoizedState!==null,qs(r,a,c),De=d;break;default:qs(r,a,c)}}function u1(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{bu(r)}catch(c){de(a,a.return,c)}}function bk(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new a1),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new a1),a;default:throw Error(i(435,r.tag))}}function Tg(r,a){var c=bk(r);a.forEach(function(d){var g=Nk.bind(null,r,d);c.has(d)||(c.add(d),d.then(g,g))})}function Yn(r,a){var c=a.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],v=r,S=a,N=S;t:for(;N!==null;){switch(N.tag){case 27:if(jr(N.type)){ve=N.stateNode,Ln=!1;break t}break;case 5:ve=N.stateNode,Ln=!1;break t;case 3:case 4:ve=N.stateNode.containerInfo,Ln=!0;break t}N=N.return}if(ve===null)throw Error(i(160));c1(v,S,g),ve=null,Ln=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)h1(a,r),a=a.sibling}var Ri=null;function h1(r,a){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yn(a,r),Xn(r),d&4&&(Cr(3,r,r.return),nu(3,r),Cr(5,r,r.return));break;case 1:Yn(a,r),Xn(r),d&512&&(De||c===null||es(c,c.return)),d&64&&Hs&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=Ri;if(Yn(a,r),Xn(r),d&512&&(De||c===null||es(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){t:{d=r.type,c=r.memoizedProps,g=g.ownerDocument||g;e:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Sa]||v[Qe]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),dn(v,d,c),v[Qe]=r,Ie(v),d=v;break t;case"link":var S=rw("link","href",g).get(d+(c.href||""));if(S){for(var N=0;N<S.length;N++)if(v=S[N],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(N,1);break e}}v=g.createElement(d),dn(v,d,c),g.head.appendChild(v);break;case"meta":if(S=rw("meta","content",g).get(d+(c.content||""))){for(N=0;N<S.length;N++)if(v=S[N],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(N,1);break e}}v=g.createElement(d),dn(v,d,c),g.head.appendChild(v);break;default:throw Error(i(468,d))}v[Qe]=r,Ie(v),d=v}r.stateNode=d}else aw(g,r.type,r.stateNode);else r.stateNode=sw(g,d,r.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?aw(g,r.type,r.stateNode):sw(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&xg(r,r.memoizedProps,c.memoizedProps)}break;case 27:Yn(a,r),Xn(r),d&512&&(De||c===null||es(c,c.return)),c!==null&&d&4&&xg(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Yn(a,r),Xn(r),d&512&&(De||c===null||es(c,c.return)),r.flags&32){g=r.stateNode;try{si(g,"")}catch(tt){de(r,r.return,tt)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,xg(r,g,c!==null?c.memoizedProps:g)),d&1024&&(wg=!0);break;case 6:if(Yn(a,r),Xn(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(tt){de(r,r.return,tt)}}break;case 3:if(tf=null,g=Ri,Ri=Zd(a.containerInfo),Yn(a,r),Ri=g,Xn(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{bu(a.containerInfo)}catch(tt){de(r,r.return,tt)}wg&&(wg=!1,d1(r));break;case 4:d=Ri,Ri=Zd(r.stateNode.containerInfo),Yn(a,r),Xn(r),Ri=d;break;case 12:Yn(a,r),Xn(r);break;case 13:Yn(a,r),Xn(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ng=jt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Tg(r,d)));break;case 22:g=r.memoizedState!==null;var z=c!==null&&c.memoizedState!==null,Y=Hs,at=De;if(Hs=Y||g,De=at||z,Yn(a,r),De=at,Hs=Y,Xn(r),d&8192)t:for(a=r.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||z||Hs||De||Ya(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){z=c=a;try{if(v=z.stateNode,g)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=z.stateNode;var ut=z.memoizedProps.style,Z=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;N.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(tt){de(z,z.return,tt)}}}else if(a.tag===6){if(c===null){z=a;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(tt){de(z,z.return,tt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Tg(r,c))));break;case 19:Yn(a,r),Xn(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Tg(r,d)));break;case 30:break;case 21:break;default:Yn(a,r),Xn(r)}}function Xn(r){var a=r.flags;if(a&2){try{for(var c,d=r.return;d!==null;){if(s1(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,v=bg(r);Ud(r,v,g);break;case 5:var S=c.stateNode;c.flags&32&&(si(S,""),c.flags&=-33);var N=bg(r);Ud(r,N,S);break;case 3:case 4:var z=c.stateNode.containerInfo,Y=bg(r);_g(r,Y,z);break;default:throw Error(i(161))}}catch(at){de(r,r.return,at)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function d1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;d1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Rr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)o1(r,a.alternate,a),a=a.sibling}function Ya(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Cr(4,a,a.return),Ya(a);break;case 1:es(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&n1(a,a.return,c),Ya(a);break;case 27:du(a.stateNode);case 26:case 5:es(a,a.return),Ya(a);break;case 22:a.memoizedState===null&&Ya(a);break;case 30:Ya(a);break;default:Ya(a)}r=r.sibling}}function Nr(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,g=r,v=a,S=v.flags;switch(v.tag){case 0:case 11:case 15:Nr(g,v,c),nu(4,v);break;case 1:if(Nr(g,v,c),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){de(d,d.return,Y)}if(d=v,g=d.updateQueue,g!==null){var N=d.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)Bb(z[g],N)}catch(Y){de(d,d.return,Y)}}c&&S&64&&e1(v),iu(v,v.return);break;case 27:r1(v);case 26:case 5:Nr(g,v,c),c&&d===null&&S&4&&i1(v),iu(v,v.return);break;case 12:Nr(g,v,c);break;case 13:Nr(g,v,c),c&&S&4&&u1(g,v);break;case 22:v.memoizedState===null&&Nr(g,v,c),iu(v,v.return);break;case 30:break;default:Nr(g,v,c)}a=a.sibling}}function Sg(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Fc(c))}function Eg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Fc(r))}function ns(r,a,c,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)f1(r,a,c,d),a=a.sibling}function f1(r,a,c,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:ns(r,a,c,d),g&2048&&nu(9,a);break;case 1:ns(r,a,c,d);break;case 3:ns(r,a,c,d),g&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Fc(r)));break;case 12:if(g&2048){ns(r,a,c,d),r=a.stateNode;try{var v=a.memoizedProps,S=v.id,N=v.onPostCommit;typeof N=="function"&&N(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){de(a,a.return,z)}}else ns(r,a,c,d);break;case 13:ns(r,a,c,d);break;case 23:break;case 22:v=a.stateNode,S=a.alternate,a.memoizedState!==null?v._visibility&2?ns(r,a,c,d):su(r,a):v._visibility&2?ns(r,a,c,d):(v._visibility|=2,ul(r,a,c,d,(a.subtreeFlags&10256)!==0)),g&2048&&Sg(S,a);break;case 24:ns(r,a,c,d),g&2048&&Eg(a.alternate,a);break;default:ns(r,a,c,d)}}function ul(r,a,c,d,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=r,S=a,N=c,z=d,Y=S.flags;switch(S.tag){case 0:case 11:case 15:ul(v,S,N,z,g),nu(8,S);break;case 23:break;case 22:var at=S.stateNode;S.memoizedState!==null?at._visibility&2?ul(v,S,N,z,g):su(v,S):(at._visibility|=2,ul(v,S,N,z,g)),g&&Y&2048&&Sg(S.alternate,S);break;case 24:ul(v,S,N,z,g),g&&Y&2048&&Eg(S.alternate,S);break;default:ul(v,S,N,z,g)}a=a.sibling}}function su(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,d=a,g=d.flags;switch(d.tag){case 22:su(c,d),g&2048&&Sg(d.alternate,d);break;case 24:su(c,d),g&2048&&Eg(d.alternate,d);break;default:su(c,d)}a=a.sibling}}var ru=8192;function hl(r){if(r.subtreeFlags&ru)for(r=r.child;r!==null;)m1(r),r=r.sibling}function m1(r){switch(r.tag){case 26:hl(r),r.flags&ru&&r.memoizedState!==null&&rD(Ri,r.memoizedState,r.memoizedProps);break;case 5:hl(r);break;case 3:case 4:var a=Ri;Ri=Zd(r.stateNode.containerInfo),hl(r),Ri=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=ru,ru=16777216,hl(r),ru=a):hl(r));break;default:hl(r)}}function p1(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function au(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];nn=d,y1(d,r)}p1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g1(r),r=r.sibling}function g1(r){switch(r.tag){case 0:case 11:case 15:au(r),r.flags&2048&&Cr(9,r,r.return);break;case 3:au(r);break;case 12:au(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,zd(r)):au(r);break;default:au(r)}}function zd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];nn=d,y1(d,r)}p1(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Cr(8,a,a.return),zd(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,zd(a));break;default:zd(a)}r=r.sibling}}function y1(r,a){for(;nn!==null;){var c=nn;switch(c.tag){case 0:case 11:case 15:Cr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Fc(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,nn=d;else t:for(c=r;nn!==null;){d=nn;var g=d.sibling,v=d.return;if(l1(d),d===c){nn=null;break t}if(g!==null){g.return=v,nn=g;break t}nn=v}}}var _k={getCacheForType:function(r){var a=xn(Ye),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},wk=typeof WeakMap=="function"?WeakMap:Map,re=0,fe=null,zt=null,Qt=0,ae=0,Zn=null,Ir=!1,dl=!1,Ag=!1,$s=0,Re=0,kr=0,Xa=0,Cg=0,fi=0,fl=0,ou=null,Un=null,Rg=!1,Ng=0,Bd=1/0,Fd=null,Dr=null,hn=0,Mr=null,ml=null,pl=0,Ig=0,kg=null,v1=null,lu=0,Dg=null;function Jn(){if((re&2)!==0&&Qt!==0)return Qt&-Qt;if($.T!==null){var r=nl;return r!==0?r:Ug()}return mr()}function x1(){fi===0&&(fi=(Qt&536870912)===0||te?yc():536870912);var r=di.current;return r!==null&&(r.flags|=32),fi}function ti(r,a,c){(r===fe&&(ae===2||ae===9)||r.cancelPendingCommit!==null)&&(gl(r,0),Pr(r,Qt,fi,!1)),Ts(r,c),((re&2)===0||r!==fe)&&(r===fe&&((re&2)===0&&(Xa|=c),Re===4&&Pr(r,Qt,fi,!1)),is(r))}function b1(r,a,c){if((re&6)!==0)throw Error(i(327));var d=!c&&(a&124)===0&&(a&r.expiredLanes)===0||Ta(r,a),g=d?Ek(r,a):jg(r,a,!0),v=d;do{if(g===0){dl&&!d&&Pr(r,a,0,!1);break}else{if(c=r.current.alternate,v&&!Tk(c)){g=jg(r,a,!1),v=!1;continue}if(g===2){if(v=a,r.errorRecoveryDisabledLanes&v)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var N=r;g=ou;var z=N.current.memoizedState.isDehydrated;if(z&&(gl(N,S).flags|=256),S=jg(N,S,!1),S!==2){if(Ag&&!z){N.errorRecoveryDisabledLanes|=v,Xa|=v,g=4;break t}v=Un,Un=g,v!==null&&(Un===null?Un=v:Un.push.apply(Un,v))}g=S}if(v=!1,g!==2)continue}}if(g===1){gl(r,0),Pr(r,a,0,!0);break}t:{switch(d=r,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Pr(d,a,fi,!Ir);break t;case 2:Un=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Ng+300-jt(),10<g)){if(Pr(d,a,fi,!Ir),Mo(d,0,!0)!==0)break t;d.timeoutHandle=K1(_1.bind(null,d,c,Un,Fd,Rg,a,fi,Xa,fl,Ir,v,2,-0,0),g);break t}_1(d,c,Un,Fd,Rg,a,fi,Xa,fl,Ir,v,0,-0,0)}}break}while(!0);is(r)}function _1(r,a,c,d,g,v,S,N,z,Y,at,ut,Z,tt){if(r.timeoutHandle=-1,ut=a.subtreeFlags,(ut&8192||(ut&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:sD},m1(a),ut=aD(),ut!==null)){r.cancelPendingCommit=ut(R1.bind(null,r,a,v,c,d,g,S,N,z,at,1,Z,tt)),Pr(r,v,S,!Y);return}R1(r,a,v,c,d,g,S,N,z)}function Tk(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],v=g.getSnapshot;g=g.value;try{if(!Wn(v(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Pr(r,a,c,d){a&=~Cg,a&=~Xa,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var g=a;0<g;){var v=31-vn(g),S=1<<v;d[v]=-1,g&=~S}c!==0&&Fi(r,c,a)}function Hd(){return(re&6)===0?(cu(0),!1):!0}function Mg(){if(zt!==null){if(ae===0)var r=zt.return;else r=zt,Vs=$a=null,Yp(r),ll=null,Jc=0,r=zt;for(;r!==null;)t1(r.alternate,r),r=r.return;zt=null}}function gl(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,Bk(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Mg(),fe=r,zt=c=Ps(r.current,null),Qt=a,ae=0,Zn=null,Ir=!1,dl=Ta(r,a),Ag=!1,fl=fi=Cg=Xa=kr=Re=0,Un=ou=null,Rg=!1,(a&8)!==0&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var g=31-vn(d),v=1<<g;a|=r[g],d&=~v}return $s=a,hd(),c}function w1(r,a){Lt=null,$.H=Id,a===qc||a===bd?(a=Ub(),ae=3):a===Ob?(a=Ub(),ae=4):ae=a===z_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zn=a,zt===null&&(Re=1,jd(r,li(a,r.current)))}function T1(){var r=$.H;return $.H=Id,r===null?Id:r}function S1(){var r=$.A;return $.A=_k,r}function Pg(){Re=4,Ir||(Qt&4194048)!==Qt&&di.current!==null||(dl=!0),(kr&134217727)===0&&(Xa&134217727)===0||fe===null||Pr(fe,Qt,fi,!1)}function jg(r,a,c){var d=re;re|=2;var g=T1(),v=S1();(fe!==r||Qt!==a)&&(Fd=null,gl(r,a)),a=!1;var S=Re;t:do try{if(ae!==0&&zt!==null){var N=zt,z=Zn;switch(ae){case 8:Mg(),S=6;break t;case 3:case 2:case 9:case 6:di.current===null&&(a=!0);var Y=ae;if(ae=0,Zn=null,yl(r,N,z,Y),c&&dl){S=0;break t}break;default:Y=ae,ae=0,Zn=null,yl(r,N,z,Y)}}Sk(),S=Re;break}catch(at){w1(r,at)}while(!0);return a&&r.shellSuspendCounter++,Vs=$a=null,re=d,$.H=g,$.A=v,zt===null&&(fe=null,Qt=0,hd()),S}function Sk(){for(;zt!==null;)E1(zt)}function Ek(r,a){var c=re;re|=2;var d=T1(),g=S1();fe!==r||Qt!==a?(Fd=null,Bd=jt()+500,gl(r,a)):dl=Ta(r,a);t:do try{if(ae!==0&&zt!==null){a=zt;var v=Zn;e:switch(ae){case 1:ae=0,Zn=null,yl(r,a,v,1);break;case 2:case 9:if(Vb(v)){ae=0,Zn=null,A1(a);break}a=function(){ae!==2&&ae!==9||fe!==r||(ae=7),is(r)},v.then(a,a);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:Vb(v)?(ae=0,Zn=null,A1(a)):(ae=0,Zn=null,yl(r,a,v,7));break;case 5:var S=null;switch(zt.tag){case 26:S=zt.memoizedState;case 5:case 27:var N=zt;if(!S||ow(S)){ae=0,Zn=null;var z=N.sibling;if(z!==null)zt=z;else{var Y=N.return;Y!==null?(zt=Y,qd(Y)):zt=null}break e}}ae=0,Zn=null,yl(r,a,v,5);break;case 6:ae=0,Zn=null,yl(r,a,v,6);break;case 8:Mg(),Re=6;break t;default:throw Error(i(462))}}Ak();break}catch(at){w1(r,at)}while(!0);return Vs=$a=null,$.H=d,$.A=g,re=c,zt!==null?0:(fe=null,Qt=0,hd(),Re)}function Ak(){for(;zt!==null&&!Ge();)E1(zt)}function E1(r){var a=Z_(r.alternate,r,$s);r.memoizedProps=r.pendingProps,a===null?qd(r):zt=a}function A1(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=G_(c,a,a.pendingProps,a.type,void 0,Qt);break;case 11:a=G_(c,a,a.pendingProps,a.type.render,a.ref,Qt);break;case 5:Yp(a);default:t1(c,a),a=zt=Cb(a,$s),a=Z_(c,a,$s)}r.memoizedProps=r.pendingProps,a===null?qd(r):zt=a}function yl(r,a,c,d){Vs=$a=null,Yp(a),ll=null,Jc=0;var g=a.return;try{if(pk(r,g,a,c,Qt)){Re=1,jd(r,li(c,r.current)),zt=null;return}}catch(v){if(g!==null)throw zt=g,v;Re=1,jd(r,li(c,r.current)),zt=null;return}a.flags&32768?(te||d===1?r=!0:dl||(Qt&536870912)!==0?r=!1:(Ir=r=!0,(d===2||d===9||d===3||d===6)&&(d=di.current,d!==null&&d.tag===13&&(d.flags|=16384))),C1(a,r)):qd(a)}function qd(r){var a=r;do{if((a.flags&32768)!==0){C1(a,Ir);return}r=a.return;var c=yk(a.alternate,a,$s);if(c!==null){zt=c;return}if(a=a.sibling,a!==null){zt=a;return}zt=a=r}while(a!==null);Re===0&&(Re=5)}function C1(r,a){do{var c=vk(r.alternate,r);if(c!==null){c.flags&=32767,zt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){zt=r;return}zt=r=c}while(r!==null);Re=6,zt=null}function R1(r,a,c,d,g,v,S,N,z){r.cancelPendingCommit=null;do $d();while(hn!==0);if((re&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(v=a.lanes|a.childLanes,v|=Ep,xc(r,c,v,S,N,z),r===fe&&(zt=fe=null,Qt=0),ml=a,Mr=r,pl=c,Ig=v,kg=g,v1=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Ik(On,function(){return M1(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,g=J.p,J.p=2,S=re,re|=4;try{xk(r,a,c)}finally{re=S,J.p=g,$.T=d}}hn=1,N1(),I1(),k1()}}function N1(){if(hn===1){hn=0;var r=Mr,a=ml,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var d=J.p;J.p=2;var g=re;re|=4;try{h1(a,r);var v=Qg,S=yb(r.containerInfo),N=v.focusedElem,z=v.selectionRange;if(S!==N&&N&&N.ownerDocument&&gb(N.ownerDocument.documentElement,N)){if(z!==null&&bp(N)){var Y=z.start,at=z.end;if(at===void 0&&(at=Y),"selectionStart"in N)N.selectionStart=Y,N.selectionEnd=Math.min(at,N.value.length);else{var ut=N.ownerDocument||document,Z=ut&&ut.defaultView||window;if(Z.getSelection){var tt=Z.getSelection(),Nt=N.textContent.length,St=Math.min(z.start,Nt),he=z.end===void 0?St:Math.min(z.end,Nt);!tt.extend&&St>he&&(S=he,he=St,St=S);var G=pb(N,St),H=pb(N,he);if(G&&H&&(tt.rangeCount!==1||tt.anchorNode!==G.node||tt.anchorOffset!==G.offset||tt.focusNode!==H.node||tt.focusOffset!==H.offset)){var K=ut.createRange();K.setStart(G.node,G.offset),tt.removeAllRanges(),St>he?(tt.addRange(K),tt.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),tt.addRange(K))}}}}for(ut=[],tt=N;tt=tt.parentNode;)tt.nodeType===1&&ut.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ut.length;N++){var ot=ut[N];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}sf=!!Gg,Qg=Gg=null}finally{re=g,J.p=d,$.T=c}}r.current=a,hn=2}}function I1(){if(hn===2){hn=0;var r=Mr,a=ml,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var d=J.p;J.p=2;var g=re;re|=4;try{o1(r,a.alternate,a)}finally{re=g,J.p=d,$.T=c}}hn=3}}function k1(){if(hn===4||hn===3){hn=0,$n();var r=Mr,a=ml,c=pl,d=v1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?hn=5:(hn=0,ml=Mr=null,D1(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Dr=null),Po(c),a=a.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(Ae,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=$.T,g=J.p,J.p=2,$.T=null;try{for(var v=r.onRecoverableError,S=0;S<d.length;S++){var N=d[S];v(N.value,{componentStack:N.stack})}}finally{$.T=a,J.p=g}}(pl&3)!==0&&$d(),is(r),g=r.pendingLanes,(c&4194090)!==0&&(g&42)!==0?r===Dg?lu++:(lu=0,Dg=r):lu=0,cu(0)}}function D1(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Fc(a)))}function $d(r){return N1(),I1(),k1(),M1()}function M1(){if(hn!==5)return!1;var r=Mr,a=Ig;Ig=0;var c=Po(pl),d=$.T,g=J.p;try{J.p=32>c?32:c,$.T=null,c=kg,kg=null;var v=Mr,S=pl;if(hn=0,ml=Mr=null,pl=0,(re&6)!==0)throw Error(i(331));var N=re;if(re|=4,g1(v.current),f1(v,v.current,S,c),re=N,cu(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(Ae,v)}catch{}return!0}finally{J.p=g,$.T=d,D1(r,a)}}function P1(r,a,c){a=li(c,a),a=ug(r.stateNode,a,2),r=Tr(r,a,2),r!==null&&(Ts(r,2),is(r))}function de(r,a,c){if(r.tag===3)P1(r,r,c);else for(;a!==null;){if(a.tag===3){P1(a,r,c);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Dr===null||!Dr.has(d))){r=li(c,r),c=L_(2),d=Tr(a,c,2),d!==null&&(U_(c,d,a,r),Ts(d,2),is(d));break}}a=a.return}}function Og(r,a,c){var d=r.pingCache;if(d===null){d=r.pingCache=new wk;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(c)||(Ag=!0,g.add(c),r=Ck.bind(null,r,a,c),a.then(r,r))}function Ck(r,a,c){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,fe===r&&(Qt&c)===c&&(Re===4||Re===3&&(Qt&62914560)===Qt&&300>jt()-Ng?(re&2)===0&&gl(r,0):Cg|=c,fl===Qt&&(fl=0)),is(r)}function j1(r,a){a===0&&(a=vc()),r=Zo(r,a),r!==null&&(Ts(r,a),is(r))}function Rk(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),j1(r,c)}function Nk(r,a){var c=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),j1(r,c)}function Ik(r,a){return Mt(r,a)}var Gd=null,vl=null,Vg=!1,Qd=!1,Lg=!1,Za=0;function is(r){r!==vl&&r.next===null&&(vl===null?Gd=vl=r:vl=vl.next=r),Qd=!0,Vg||(Vg=!0,Dk())}function cu(r,a){if(!Lg&&Qd){Lg=!0;do for(var c=!1,d=Gd;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var S=d.suspendedLanes,N=d.pingedLanes;v=(1<<31-vn(42|r)+1)-1,v&=g&~(S&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,U1(d,v))}else v=Qt,v=Mo(d,d===fe?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Ta(d,v)||(c=!0,U1(d,v));d=d.next}while(c);Lg=!1}}function kk(){O1()}function O1(){Qd=Vg=!1;var r=0;Za!==0&&(zk()&&(r=Za),Za=0);for(var a=jt(),c=null,d=Gd;d!==null;){var g=d.next,v=V1(d,a);v===0?(d.next=null,c===null?Gd=g:c.next=g,g===null&&(vl=c)):(c=d,(r!==0||(v&3)!==0)&&(Qd=!0)),d=g}cu(r)}function V1(r,a){for(var c=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var S=31-vn(v),N=1<<S,z=g[S];z===-1?((N&c)===0||(N&d)!==0)&&(g[S]=gc(N,a)):z<=a&&(r.expiredLanes|=N),v&=~N}if(a=fe,c=Qt,c=Mo(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===a&&(ae===2||ae===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Ee(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Ta(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(d!==null&&Ee(d),Po(c)){case 2:case 8:c=dr;break;case 32:c=On;break;case 268435456:c=Do;break;default:c=On}return d=L1.bind(null,r),c=Mt(c,d),r.callbackPriority=a,r.callbackNode=c,a}return d!==null&&d!==null&&Ee(d),r.callbackPriority=2,r.callbackNode=null,2}function L1(r,a){if(hn!==0&&hn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if($d()&&r.callbackNode!==c)return null;var d=Qt;return d=Mo(r,r===fe?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(b1(r,d,a),V1(r,jt()),r.callbackNode!=null&&r.callbackNode===c?L1.bind(null,r):null)}function U1(r,a){if($d())return null;b1(r,a,!0)}function Dk(){Fk(function(){(re&6)!==0?Mt(Bi,kk):O1()})}function Ug(){return Za===0&&(Za=yc()),Za}function z1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:zo(""+r)}function B1(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function Mk(r,a,c,d,g){if(a==="submit"&&c&&c.stateNode===g){var v=z1((g[Le]||null).action),S=d.submitter;S&&(a=(a=S[Le]||null)?z1(a.formAction):S.getAttribute("formAction"),a!==null&&(v=a,S=null));var N=new Bo("action","action",null,d,g);r.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Za!==0){var z=S?B1(g,S):new FormData(g);rg(c,{pending:!0,data:z,method:g.method,action:v},null,z)}}else typeof v=="function"&&(N.preventDefault(),z=S?B1(g,S):new FormData(g),rg(c,{pending:!0,data:z,method:g.method,action:v},v,z))},currentTarget:g}]})}}for(var zg=0;zg<Sp.length;zg++){var Bg=Sp[zg],Pk=Bg.toLowerCase(),jk=Bg[0].toUpperCase()+Bg.slice(1);Ci(Pk,"on"+jk)}Ci(bb,"onAnimationEnd"),Ci(_b,"onAnimationIteration"),Ci(wb,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(ZI,"onTransitionRun"),Ci(JI,"onTransitionStart"),Ci(tk,"onTransitionCancel"),Ci(Tb,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ok=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function F1(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],g=d.event;d=d.listeners;t:{var v=void 0;if(a)for(var S=d.length-1;0<=S;S--){var N=d[S],z=N.instance,Y=N.currentTarget;if(N=N.listener,z!==v&&g.isPropagationStopped())break t;v=N,g.currentTarget=Y;try{v(g)}catch(at){Pd(at)}g.currentTarget=null,v=z}else for(S=0;S<d.length;S++){if(N=d[S],z=N.instance,Y=N.currentTarget,N=N.listener,z!==v&&g.isPropagationStopped())break t;v=N,g.currentTarget=Y;try{v(g)}catch(at){Pd(at)}g.currentTarget=null,v=z}}}}function Bt(r,a){var c=a[_c];c===void 0&&(c=a[_c]=new Set);var d=r+"__bubble";c.has(d)||(H1(a,r,2,!1),c.add(d))}function Fg(r,a,c){var d=0;a&&(d|=4),H1(c,r,d,a)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function Hg(r){if(!r[Wd]){r[Wd]=!0,wc.forEach(function(c){c!=="selectionchange"&&(Ok.has(c)||Fg(c,!1,r),Fg(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Wd]||(a[Wd]=!0,Fg("selectionchange",!1,a))}}function H1(r,a,c,d){switch(fw(a)){case 2:var g=cD;break;case 8:g=uD;break;default:g=i0}c=g.bind(null,a,c,r),g=void 0,!ai||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(a,c,{capture:!0,passive:g}):r.addEventListener(a,c,!0):g!==void 0?r.addEventListener(a,c,{passive:g}):r.addEventListener(a,c,!1)}function qg(r,a,c,d,g){var v=d;if((a&1)===0&&(a&2)===0&&d!==null)t:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var N=d.stateNode.containerInfo;if(N===g)break;if(S===4)for(S=d.return;S!==null;){var z=S.tag;if((z===3||z===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;N!==null;){if(S=Ss(N),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){d=v=S;continue t}N=N.parentNode}}d=d.return}Yh(function(){var Y=v,at=ri(c),ut=[];t:{var Z=Sb.get(r);if(Z!==void 0){var tt=Bo,Nt=r;switch(r){case"keypress":if(Wi(c)===0)break t;case"keydown":case"keyup":tt=Qo;break;case"focusin":Nt="focus",tt=qo;break;case"focusout":Nt="blur",tt=qo;break;case"beforeblur":case"afterblur":tt=qo;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=sd;break;case bb:case _b:case wb:tt=$o;break;case Tb:tt=ad;break;case"scroll":case"scrollend":tt=Xh;break;case"wheel":tt=Wo;break;case"copy":case"cut":case"paste":tt=Go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Pc;break;case"toggle":case"beforetoggle":tt=ld}var St=(a&4)!==0,he=!St&&(r==="scroll"||r==="scrollend"),G=St?Z!==null?Z+"Capture":null:Z;St=[];for(var H=Y,K;H!==null;){var ot=H;if(K=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||K===null||G===null||(ot=ka(H,G),ot!=null&&St.push(hu(H,ot,K))),he)break;H=H.return}0<St.length&&(Z=new tt(Z,Nt,null,c,at),ut.push({event:Z,listeners:St}))}}if((a&7)===0){t:{if(Z=r==="mouseover"||r==="pointerover",tt=r==="mouseout"||r==="pointerout",Z&&c!==Rs&&(Nt=c.relatedTarget||c.fromElement)&&(Ss(Nt)||Nt[ii]))break t;if((tt||Z)&&(Z=at.window===at?at:(Z=at.ownerDocument)?Z.defaultView||Z.parentWindow:window,tt?(Nt=c.relatedTarget||c.toElement,tt=Y,Nt=Nt?Ss(Nt):null,Nt!==null&&(he=o(Nt),St=Nt.tag,Nt!==he||St!==5&&St!==27&&St!==6)&&(Nt=null)):(tt=null,Nt=Y),tt!==Nt)){if(St=oi,ot="onMouseLeave",G="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(St=Pc,ot="onPointerLeave",G="onPointerEnter",H="pointer"),he=tt==null?Z:qi(tt),K=Nt==null?Z:qi(Nt),Z=new St(ot,H+"leave",tt,c,at),Z.target=he,Z.relatedTarget=K,ot=null,Ss(at)===Y&&(St=new St(G,H+"enter",Nt,c,at),St.target=K,St.relatedTarget=he,ot=St),he=ot,tt&&Nt)e:{for(St=tt,G=Nt,H=0,K=St;K;K=xl(K))H++;for(K=0,ot=G;ot;ot=xl(ot))K++;for(;0<H-K;)St=xl(St),H--;for(;0<K-H;)G=xl(G),K--;for(;H--;){if(St===G||G!==null&&St===G.alternate)break e;St=xl(St),G=xl(G)}St=null}else St=null;tt!==null&&q1(ut,Z,tt,St,!1),Nt!==null&&he!==null&&q1(ut,he,Nt,St,!0)}}t:{if(Z=Y?qi(Y):window,tt=Z.nodeName&&Z.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Z.type==="file")var xt=cb;else if(Ke(Z))if(ub)xt=KI;else{xt=QI;var Ut=GI}else tt=Z.nodeName,!tt||tt.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Y&&Cc(Y.elementType)&&(xt=cb):xt=WI;if(xt&&(xt=xt(r,Y))){Ms(ut,xt,c,at);break t}Ut&&Ut(r,Z,Y),r==="focusout"&&Y&&Z.type==="number"&&Y.memoizedProps.value!=null&&vr(Z,"number",Z.value)}switch(Ut=Y?qi(Y):window,r){case"focusin":(Ke(Ut)||Ut.contentEditable==="true")&&(Ko=Ut,_p=Y,Vc=null);break;case"focusout":Vc=_p=Ko=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,vb(ut,c,at);break;case"selectionchange":if(XI)break;case"keydown":case"keyup":vb(ut,c,at)}var wt;if(Xi)t:{switch(r){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else $t?st(r,c)&&(Et="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Et="onCompositionStart");Et&&(T&&c.locale!=="ko"&&($t||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&$t&&(wt=Nc()):(Qi=at,xr="value"in Qi?Qi.value:Qi.textContent,$t=!0)),Ut=Kd(Y,Et),0<Ut.length&&(Et=new Dc(Et,r,null,c,at),ut.push({event:Et,listeners:Ut}),wt?Et.data=wt:(wt=pt(c),wt!==null&&(Et.data=wt)))),(wt=_?We(r,c):Gt(r,c))&&(Et=Kd(Y,"onBeforeInput"),0<Et.length&&(Ut=new Dc("onBeforeInput","beforeinput",null,c,at),ut.push({event:Ut,listeners:Et}),Ut.data=wt)),Mk(ut,r,Y,c,at)}F1(ut,a)})}function hu(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Kd(r,a){for(var c=a+"Capture",d=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=ka(r,c),g!=null&&d.unshift(hu(r,g,v)),g=ka(r,a),g!=null&&d.push(hu(r,g,v))),r.tag===3)return d;r=r.return}return[]}function xl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function q1(r,a,c,d,g){for(var v=a._reactName,S=[];c!==null&&c!==d;){var N=c,z=N.alternate,Y=N.stateNode;if(N=N.tag,z!==null&&z===d)break;N!==5&&N!==26&&N!==27||Y===null||(z=Y,g?(Y=ka(c,v),Y!=null&&S.unshift(hu(c,Y,z))):g||(Y=ka(c,v),Y!=null&&S.push(hu(c,Y,z)))),c=c.return}S.length!==0&&r.push({event:a,listeners:S})}var Vk=/\r\n?/g,Lk=/\u0000|\uFFFD/g;function $1(r){return(typeof r=="string"?r:""+r).replace(Vk,`
`).replace(Lk,"")}function G1(r,a){return a=$1(a),$1(r)===a}function Yd(){}function ue(r,a,c,d,g,v){switch(c){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||si(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&si(r,""+d);break;case"className":$i(r,"class",d);break;case"tabIndex":$i(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(r,c,d);break;case"style":Ac(r,d,v);break;case"data":if(a!=="object"){$i(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=zo(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(a!=="input"&&ue(r,a,"name",g.name,g,null),ue(r,a,"formEncType",g.formEncType,g,null),ue(r,a,"formMethod",g.formMethod,g,null),ue(r,a,"formTarget",g.formTarget,g,null)):(ue(r,a,"encType",g.encType,g,null),ue(r,a,"method",g.method,g,null),ue(r,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=zo(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=Yd);break;case"onScroll":d!=null&&Bt("scroll",r);break;case"onScrollEnd":d!=null&&Bt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=zo(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":Bt("beforetoggle",r),Bt("toggle",r),yr(r,"popover",d);break;case"xlinkActuate":ln(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ln(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ln(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ln(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ln(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ln(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ln(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ln(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ln(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":yr(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=mp.get(c)||c,yr(r,c,d))}}function $g(r,a,c,d,g,v){switch(c){case"style":Ac(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof d=="string"?si(r,d):(typeof d=="number"||typeof d=="bigint")&&si(r,""+d);break;case"onScroll":d!=null&&Bt("scroll",r);break;case"onScrollEnd":d!=null&&Bt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Yd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jo.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),v=r[Le]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(a,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,d,g);break t}c in r?r[c]=d:d===!0?r.setAttribute(c,""):yr(r,c,d)}}}function dn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",r),Bt("load",r);var d=!1,g=!1,v;for(v in c)if(c.hasOwnProperty(v)){var S=c[v];if(S!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ue(r,a,v,S,c,null)}}g&&ue(r,a,"srcSet",c.srcSet,c,null),d&&ue(r,a,"src",c.src,c,null);return;case"input":Bt("invalid",r);var N=v=S=g=null,z=null,Y=null;for(d in c)if(c.hasOwnProperty(d)){var at=c[d];if(at!=null)switch(d){case"name":g=at;break;case"type":S=at;break;case"checked":z=at;break;case"defaultChecked":Y=at;break;case"value":v=at;break;case"defaultValue":N=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,a));break;default:ue(r,a,d,at,c,null)}}Ra(r,v,N,z,Y,S,g,!1),Uo(r);return;case"select":Bt("invalid",r),d=S=v=null;for(g in c)if(c.hasOwnProperty(g)&&(N=c[g],N!=null))switch(g){case"value":v=N;break;case"defaultValue":S=N;break;case"multiple":d=N;default:ue(r,a,g,N,c,null)}a=v,c=S,r.multiple=!!d,a!=null?Cs(r,!!d,a,!1):c!=null&&Cs(r,!!d,c,!0);return;case"textarea":Bt("invalid",r),v=g=d=null;for(S in c)if(c.hasOwnProperty(S)&&(N=c[S],N!=null))switch(S){case"value":d=N;break;case"defaultValue":g=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:ue(r,a,S,N,c,null)}Na(r,d,g,v),Uo(r);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(d=c[z],d!=null))switch(z){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ue(r,a,z,d,c,null)}return;case"dialog":Bt("beforetoggle",r),Bt("toggle",r),Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":Bt("load",r);break;case"video":case"audio":for(d=0;d<uu.length;d++)Bt(uu[d],r);break;case"image":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"embed":case"source":case"link":Bt("error",r),Bt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in c)if(c.hasOwnProperty(Y)&&(d=c[Y],d!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ue(r,a,Y,d,c,null)}return;default:if(Cc(a)){for(at in c)c.hasOwnProperty(at)&&(d=c[at],d!==void 0&&$g(r,a,at,d,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(d=c[N],d!=null&&ue(r,a,N,d,c,null))}function Uk(r,a,c,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,S=null,N=null,z=null,Y=null,at=null;for(tt in c){var ut=c[tt];if(c.hasOwnProperty(tt)&&ut!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":z=ut;default:d.hasOwnProperty(tt)||ue(r,a,tt,null,d,ut)}}for(var Z in d){var tt=d[Z];if(ut=c[Z],d.hasOwnProperty(Z)&&(tt!=null||ut!=null))switch(Z){case"type":v=tt;break;case"name":g=tt;break;case"checked":Y=tt;break;case"defaultChecked":at=tt;break;case"value":S=tt;break;case"defaultValue":N=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:tt!==ut&&ue(r,a,Z,tt,d,ut)}}Qn(r,S,N,z,Y,at,v,g);return;case"select":tt=S=N=Z=null;for(v in c)if(z=c[v],c.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":tt=z;default:d.hasOwnProperty(v)||ue(r,a,v,null,d,z)}for(g in d)if(v=d[g],z=c[g],d.hasOwnProperty(g)&&(v!=null||z!=null))switch(g){case"value":Z=v;break;case"defaultValue":N=v;break;case"multiple":S=v;default:v!==z&&ue(r,a,g,v,d,z)}a=N,c=S,d=tt,Z!=null?Cs(r,!!c,Z,!1):!!d!=!!c&&(a!=null?Cs(r,!!c,a,!0):Cs(r,!!c,c?[]:"",!1));return;case"textarea":tt=Z=null;for(N in c)if(g=c[N],c.hasOwnProperty(N)&&g!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:ue(r,a,N,null,d,g)}for(S in d)if(g=d[S],v=c[S],d.hasOwnProperty(S)&&(g!=null||v!=null))switch(S){case"value":Z=g;break;case"defaultValue":tt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&ue(r,a,S,g,d,v)}le(r,Z,tt);return;case"option":for(var Nt in c)if(Z=c[Nt],c.hasOwnProperty(Nt)&&Z!=null&&!d.hasOwnProperty(Nt))switch(Nt){case"selected":r.selected=!1;break;default:ue(r,a,Nt,null,d,Z)}for(z in d)if(Z=d[z],tt=c[z],d.hasOwnProperty(z)&&Z!==tt&&(Z!=null||tt!=null))switch(z){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ue(r,a,z,Z,d,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in c)Z=c[St],c.hasOwnProperty(St)&&Z!=null&&!d.hasOwnProperty(St)&&ue(r,a,St,null,d,Z);for(Y in d)if(Z=d[Y],tt=c[Y],d.hasOwnProperty(Y)&&Z!==tt&&(Z!=null||tt!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:ue(r,a,Y,Z,d,tt)}return;default:if(Cc(a)){for(var he in c)Z=c[he],c.hasOwnProperty(he)&&Z!==void 0&&!d.hasOwnProperty(he)&&$g(r,a,he,void 0,d,Z);for(at in d)Z=d[at],tt=c[at],!d.hasOwnProperty(at)||Z===tt||Z===void 0&&tt===void 0||$g(r,a,at,Z,d,tt);return}}for(var G in c)Z=c[G],c.hasOwnProperty(G)&&Z!=null&&!d.hasOwnProperty(G)&&ue(r,a,G,null,d,Z);for(ut in d)Z=d[ut],tt=c[ut],!d.hasOwnProperty(ut)||Z===tt||Z==null&&tt==null||ue(r,a,ut,Z,d,tt)}var Gg=null,Qg=null;function Xd(r){return r.nodeType===9?r:r.ownerDocument}function Q1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Wg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Kg=null;function zk(){var r=window.event;return r&&r.type==="popstate"?r===Kg?!1:(Kg=r,!0):(Kg=null,!1)}var K1=typeof setTimeout=="function"?setTimeout:void 0,Bk=typeof clearTimeout=="function"?clearTimeout:void 0,Y1=typeof Promise=="function"?Promise:void 0,Fk=typeof queueMicrotask=="function"?queueMicrotask:typeof Y1<"u"?function(r){return Y1.resolve(null).then(r).catch(Hk)}:K1;function Hk(r){setTimeout(function(){throw r})}function jr(r){return r==="head"}function X1(r,a){var c=a,d=0,g=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<d&&8>d){c=d;var S=r.ownerDocument;if(c&1&&du(S.documentElement),c&2&&du(S.body),c&4)for(c=S.head,du(c),S=c.firstChild;S;){var N=S.nextSibling,z=S.nodeName;S[Sa]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=N}}if(g===0){r.removeChild(v),bu(a);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:d=c.charCodeAt(0)-48;else d=0;c=v}while(c);bu(a)}function Yg(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Yg(c),gr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function qk(r,a,c,d){for(;r.nodeType===1;){var g=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Sa])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Ni(r.nextSibling),r===null)break}return null}function $k(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Ni(r.nextSibling),r===null))return null;return r}function Xg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Gk(r,a){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")a();else{var d=function(){a(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Ni(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Zg=null;function Z1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function J1(r,a,c){switch(a=Xd(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function du(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);gr(r)}var mi=new Map,tw=new Set;function Zd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Gs=J.d;J.d={f:Qk,r:Wk,D:Kk,C:Yk,L:Xk,m:Zk,X:tD,S:Jk,M:eD};function Qk(){var r=Gs.f(),a=Hd();return r||a}function Wk(r){var a=Hi(r);a!==null&&a.tag===5&&a.type==="form"?b_(a):Gs.r(r)}var bl=typeof document>"u"?null:document;function ew(r,a,c){var d=bl;if(d&&typeof a=="string"&&a){var g=Ue(a);g='link[rel="'+r+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),tw.has(g)||(tw.add(g),r={rel:r,crossOrigin:c,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),dn(a,"link",r),Ie(a),d.head.appendChild(a)))}}function Kk(r){Gs.D(r),ew("dns-prefetch",r,null)}function Yk(r,a){Gs.C(r,a),ew("preconnect",r,a)}function Xk(r,a,c){Gs.L(r,a,c);var d=bl;if(d&&r&&a){var g='link[rel="preload"][as="'+Ue(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Ue(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Ue(c.imageSizes)+'"]')):g+='[href="'+Ue(r)+'"]';var v=g;switch(a){case"style":v=_l(r);break;case"script":v=wl(r)}mi.has(v)||(r=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),mi.set(v,r),d.querySelector(g)!==null||a==="style"&&d.querySelector(fu(v))||a==="script"&&d.querySelector(mu(v))||(a=d.createElement("link"),dn(a,"link",r),Ie(a),d.head.appendChild(a)))}}function Zk(r,a){Gs.m(r,a);var c=bl;if(c&&r){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Ue(d)+'"][href="'+Ue(r)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=wl(r)}if(!mi.has(v)&&(r=p({rel:"modulepreload",href:r},a),mi.set(v,r),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(mu(v)))return}d=c.createElement("link"),dn(d,"link",r),Ie(d),c.head.appendChild(d)}}}function Jk(r,a,c){Gs.S(r,a,c);var d=bl;if(d&&r){var g=In(d).hoistableStyles,v=_l(r);a=a||"default";var S=g.get(v);if(!S){var N={loading:0,preload:null};if(S=d.querySelector(fu(v)))N.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":a},c),(c=mi.get(v))&&Jg(r,c);var z=S=d.createElement("link");Ie(z),dn(z,"link",r),z._p=new Promise(function(Y,at){z.onload=Y,z.onerror=at}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Jd(S,a,d)}S={type:"stylesheet",instance:S,count:1,state:N},g.set(v,S)}}}function tD(r,a){Gs.X(r,a);var c=bl;if(c&&r){var d=In(c).hoistableScripts,g=wl(r),v=d.get(g);v||(v=c.querySelector(mu(g)),v||(r=p({src:r,async:!0},a),(a=mi.get(g))&&t0(r,a),v=c.createElement("script"),Ie(v),dn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function eD(r,a){Gs.M(r,a);var c=bl;if(c&&r){var d=In(c).hoistableScripts,g=wl(r),v=d.get(g);v||(v=c.querySelector(mu(g)),v||(r=p({src:r,async:!0,type:"module"},a),(a=mi.get(g))&&t0(r,a),v=c.createElement("script"),Ie(v),dn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function nw(r,a,c,d){var g=(g=ft.current)?Zd(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=_l(c.href),c=In(g).hoistableStyles,d=c.get(a),d||(d={type:"style",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=_l(c.href);var v=In(g).hoistableStyles,S=v.get(r);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,S),(v=g.querySelector(fu(r)))&&!v._p&&(S.instance=v,S.state.loading=5),mi.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},mi.set(r,c),v||nD(g,r,c,S.state))),a&&d===null)throw Error(i(528,""));return S}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=wl(c),c=In(g).hoistableScripts,d=c.get(a),d||(d={type:"script",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function _l(r){return'href="'+Ue(r)+'"'}function fu(r){return'link[rel="stylesheet"]['+r+"]"}function iw(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function nD(r,a,c,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),dn(a,"link",c),Ie(a),r.head.appendChild(a))}function wl(r){return'[src="'+Ue(r)+'"]'}function mu(r){return"script[async]"+r}function sw(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+Ue(c.href)+'"]');if(d)return a.instance=d,Ie(d),d;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Ie(d),dn(d,"style",g),Jd(d,c.precedence,r),a.instance=d;case"stylesheet":g=_l(c.href);var v=r.querySelector(fu(g));if(v)return a.state.loading|=4,a.instance=v,Ie(v),v;d=iw(c),(g=mi.get(g))&&Jg(d,g),v=(r.ownerDocument||r).createElement("link"),Ie(v);var S=v;return S._p=new Promise(function(N,z){S.onload=N,S.onerror=z}),dn(v,"link",d),a.state.loading|=4,Jd(v,c.precedence,r),a.instance=v;case"script":return v=wl(c.src),(g=r.querySelector(mu(v)))?(a.instance=g,Ie(g),g):(d=c,(g=mi.get(v))&&(d=p({},c),t0(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),Ie(g),dn(g,"link",d),r.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Jd(d,c.precedence,r));return a.instance}function Jd(r,a,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,S=0;S<d.length;S++){var N=d[S];if(N.dataset.precedence===a)v=N;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function Jg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function t0(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var tf=null;function rw(r,a,c){if(tf===null){var d=new Map,g=tf=new Map;g.set(c,d)}else g=tf,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),g=0;g<c.length;g++){var v=c[g];if(!(v[Sa]||v[Qe]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(a)||"";S=r+S;var N=d.get(S);N?N.push(v):d.set(S,[v])}}return d}function aw(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function iD(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ow(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var pu=null;function sD(){}function rD(r,a,c){if(pu===null)throw Error(i(475));var d=pu;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=_l(c.href),v=r.querySelector(fu(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=ef.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=v,Ie(v);return}v=r.ownerDocument||r,c=iw(c),(g=mi.get(g))&&Jg(c,g),v=v.createElement("link"),Ie(v);var S=v;S._p=new Promise(function(N,z){S.onload=N,S.onerror=z}),dn(v,"link",c),a.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=ef.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function aD(){if(pu===null)throw Error(i(475));var r=pu;return r.stylesheets&&r.count===0&&e0(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&e0(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function ef(){if(this.count--,this.count===0){if(this.stylesheets)e0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var nf=null;function e0(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,nf=new Map,a.forEach(oD,r),nf=null,ef.call(r))}function oD(r,a){if(!(a.state.loading&4)){var c=nf.get(r);if(c)var d=c.get(null);else{c=new Map,nf.set(r,c);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var S=g[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}g=a.instance,S=g.getAttribute("data-precedence"),v=c.get(S)||d,v===d&&c.set(null,g),c.set(S,g),this.count++,d=ef.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),a.state.loading|=4}}var gu={$$typeof:B,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function lD(r,a,c,d,g,v,S,N){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function lw(r,a,c,d,g,v,S,N,z,Y,at,ut){return r=new lD(r,a,c,S,N,z,Y,ut),a=1,v===!0&&(a|=24),v=Kn(3,null,null,a),r.current=v,v.stateNode=r,a=Op(),a.refCount++,r.pooledCache=a,a.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:a},zp(v),r}function cw(r){return r?(r=Jo,r):Jo}function uw(r,a,c,d,g,v){g=cw(g),d.context===null?d.context=g:d.pendingContext=g,d=wr(a),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=Tr(r,d,a),c!==null&&(ti(c,r,a),Gc(c,r,a))}function hw(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function n0(r,a){hw(r,a),(r=r.alternate)&&hw(r,a)}function dw(r){if(r.tag===13){var a=Zo(r,67108864);a!==null&&ti(a,r,67108864),n0(r,67108864)}}var sf=!0;function cD(r,a,c,d){var g=$.T;$.T=null;var v=J.p;try{J.p=2,i0(r,a,c,d)}finally{J.p=v,$.T=g}}function uD(r,a,c,d){var g=$.T;$.T=null;var v=J.p;try{J.p=8,i0(r,a,c,d)}finally{J.p=v,$.T=g}}function i0(r,a,c,d){if(sf){var g=s0(d);if(g===null)qg(r,a,d,rf,c),mw(r,d);else if(dD(g,r,a,c,d))d.stopPropagation();else if(mw(r,d),a&4&&-1<hD.indexOf(r)){for(;g!==null;){var v=Hi(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Si(v.pendingLanes);if(S!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var z=1<<31-vn(S);N.entanglements[1]|=z,S&=~z}is(v),(re&6)===0&&(Bd=jt()+500,cu(0))}}break;case 13:N=Zo(v,2),N!==null&&ti(N,v,2),Hd(),n0(v,2)}if(v=s0(d),v===null&&qg(r,a,d,rf,c),v===g)break;g=v}g!==null&&d.stopPropagation()}else qg(r,a,d,null,c)}}function s0(r){return r=ri(r),r0(r)}var rf=null;function r0(r){if(rf=null,r=Ss(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=l(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return rf=r,null}function fw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case Bi:return 2;case dr:return 8;case On:case mc:return 32;case Do:return 268435456;default:return 32}default:return 32}}var a0=!1,Or=null,Vr=null,Lr=null,yu=new Map,vu=new Map,Ur=[],hD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mw(r,a){switch(r){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":yu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(a.pointerId)}}function xu(r,a,c,d,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:a,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},a!==null&&(a=Hi(a),a!==null&&dw(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function dD(r,a,c,d,g){switch(a){case"focusin":return Or=xu(Or,r,a,c,d,g),!0;case"dragenter":return Vr=xu(Vr,r,a,c,d,g),!0;case"mouseover":return Lr=xu(Lr,r,a,c,d,g),!0;case"pointerover":var v=g.pointerId;return yu.set(v,xu(yu.get(v)||null,r,a,c,d,g)),!0;case"gotpointercapture":return v=g.pointerId,vu.set(v,xu(vu.get(v)||null,r,a,c,d,g)),!0}return!1}function pw(r){var a=Ss(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){r.blockedOn=a,Hh(r.priority,function(){if(c.tag===13){var d=Jn();d=fr(d);var g=Zo(c,d);g!==null&&ti(g,c,d),n0(c,d)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function af(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=s0(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);Rs=d,c.target.dispatchEvent(d),Rs=null}else return a=Hi(c),a!==null&&dw(a),r.blockedOn=c,!1;a.shift()}return!0}function gw(r,a,c){af(r)&&c.delete(a)}function fD(){a0=!1,Or!==null&&af(Or)&&(Or=null),Vr!==null&&af(Vr)&&(Vr=null),Lr!==null&&af(Lr)&&(Lr=null),yu.forEach(gw),vu.forEach(gw)}function of(r,a){r.blockedOn===a&&(r.blockedOn=null,a0||(a0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fD)))}var lf=null;function yw(r){lf!==r&&(lf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lf===r&&(lf=null);for(var a=0;a<r.length;a+=3){var c=r[a],d=r[a+1],g=r[a+2];if(typeof d!="function"){if(r0(d||c)===null)continue;break}var v=Hi(c);v!==null&&(r.splice(a,3),a-=3,rg(v,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function bu(r){function a(z){return of(z,r)}Or!==null&&of(Or,r),Vr!==null&&of(Vr,r),Lr!==null&&of(Lr,r),yu.forEach(a),vu.forEach(a);for(var c=0;c<Ur.length;c++){var d=Ur[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Ur.length&&(c=Ur[0],c.blockedOn===null);)pw(c),c.blockedOn===null&&Ur.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],v=c[d+1],S=g[Le]||null;if(typeof v=="function")S||yw(c);else if(S){var N=null;if(v&&v.hasAttribute("formAction")){if(g=v,S=v[Le]||null)N=S.formAction;else if(r0(g)!==null)continue}else N=S.action;typeof N=="function"?c[d+1]=N:(c.splice(d,3),d-=3),yw(c)}}}function o0(r){this._internalRoot=r}cf.prototype.render=o0.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,d=Jn();uw(c,d,r,a,null,null)},cf.prototype.unmount=o0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;uw(r.current,2,null,r,null,null),Hd(),a[ii]=null}};function cf(r){this._internalRoot=r}cf.prototype.unstable_scheduleHydration=function(r){if(r){var a=mr();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Ur.length&&a!==0&&a<Ur[c].priority;c++);Ur.splice(c,0,r),c===0&&pw(r)}};var vw=t.version;if(vw!=="19.1.1")throw Error(i(527,vw,"19.1.1"));J.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var mD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{Ae=uf.inject(mD),se=uf}catch{}}return wu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,d="",g=P_,v=j_,S=O_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=lw(r,1,!1,null,null,c,d,g,v,S,N,null),r[ii]=a.current,Hg(r),new o0(a)},wu.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var d=!1,g="",v=P_,S=j_,N=O_,z=null,Y=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks),c.formState!==void 0&&(Y=c.formState)),a=lw(r,1,!0,a,c??null,d,g,v,S,N,z,Y),a.context=cw(null),c=a.current,d=Jn(),d=fr(d),g=wr(d),g.callback=null,Tr(c,g,d),c=d,a.current.lanes=c,Ts(a,c),is(a),r[ii]=a.current,Hg(r),new cf(a)},wu.version="19.1.1",wu}var Rw;function ED(){if(Rw)return u0.exports;Rw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),u0.exports=SD(),u0.exports}var AD=ED();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nw="popstate";function CD(n={}){function t(i,s){let{pathname:o,search:l,hash:u}=i.location;return ty("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:nh(s)}return ND(t,e,null,n)}function Te(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ys(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RD(){return Math.random().toString(36).substring(2,10)}function Iw(n,t){return{usr:n.state,key:n.key,idx:t}}function ty(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Jl(t):t,state:e,key:t&&t.key||i||RD()}}function nh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Jl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function ND(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,u="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function x(){u="POP";let R=p(),j=R==null?null:R-f;f=R,h&&h({action:u,location:C.location,delta:j})}function b(R,j){u="PUSH";let F=ty(C.location,R,j);f=p()+1;let B=Iw(F,f),X=C.createHref(F);try{l.pushState(B,"",X)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(X)}o&&h&&h({action:u,location:C.location,delta:1})}function w(R,j){u="REPLACE";let F=ty(C.location,R,j);f=p();let B=Iw(F,f),X=C.createHref(F);l.replaceState(B,"",X),o&&h&&h({action:u,location:C.location,delta:0})}function E(R){return ID(R)}let C={get action(){return u},get location(){return n(s,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Nw,x),h=R,()=>{s.removeEventListener(Nw,x),h=null}},createHref(R){return t(s,R)},createURL:E,encodeLocation(R){let j=E(R);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:w,go(R){return l.go(R)}};return C}function ID(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Te(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:nh(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function P2(n,t,e="/"){return kD(n,t,e,!1)}function kD(n,t,e,i){let s=typeof t=="string"?Jl(t):t,o=ir(s.pathname||"/",e);if(o==null)return null;let l=j2(n);DD(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=HD(o);u=BD(l[h],f,i)}return u}function j2(n,t=[],e=[],i=""){let s=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Te(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=tr([i,h.relativePath]),p=e.concat(h);o.children&&o.children.length>0&&(Te(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),j2(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:UD(f,o.index),routesMeta:p})};return n.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))s(o,l);else for(let u of O2(o.path))s(o,l,u)}),t}function O2(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=O2(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function DD(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:zD(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var MD=/^:[\w-]+$/,PD=3,jD=2,OD=1,VD=10,LD=-2,kw=n=>n==="*";function UD(n,t){let e=n.split("/"),i=e.length;return e.some(kw)&&(i+=LD),t&&(i+=jD),e.filter(s=>!kw(s)).reduce((s,o)=>s+(MD.test(o)?PD:o===""?OD:VD),i)}function zD(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function BD(n,t,e=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,p=o==="/"?t:t.slice(o.length)||"/",x=tm({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),b=h.route;if(!x&&f&&e&&!i[i.length-1].route.index&&(x=tm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!x)return null;Object.assign(s,x.params),l.push({params:s,pathname:tr([o,x.pathname]),pathnameBase:QD(tr([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=tr([o,x.pathnameBase]))}return l}function tm(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=FD(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:x},b)=>{if(p==="*"){let E=u[b]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=u[b];return x&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function FD(n,t=!1,e=!0){ys(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function HD(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ys(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ir(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function qD(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?Jl(n):n;return{pathname:e?e.startsWith("/")?e:$D(e,t):t,search:WD(i),hash:KD(s)}}function $D(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function m0(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GD(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function V2(n){let t=GD(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function L2(n,t,e,i=!1){let s;typeof n=="string"?s=Jl(n):(s={...n},Te(!s.pathname||!s.pathname.includes("?"),m0("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),m0("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),m0("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=e;else{let x=t.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),x-=1;s.pathname=b.join("/")}u=x>=0?t[x]:"/"}let h=qD(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var tr=n=>n.join("/").replace(/\/\/+/g,"/"),QD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function YD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var U2=["POST","PUT","PATCH","DELETE"];new Set(U2);var XD=["GET",...U2];new Set(XD);var tc=M.createContext(null);tc.displayName="DataRouter";var Om=M.createContext(null);Om.displayName="DataRouterState";M.createContext(!1);var z2=M.createContext({isTransitioning:!1});z2.displayName="ViewTransition";var ZD=M.createContext(new Map);ZD.displayName="Fetchers";var JD=M.createContext(null);JD.displayName="Await";var xs=M.createContext(null);xs.displayName="Navigation";var wh=M.createContext(null);wh.displayName="Location";var zi=M.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var rv=M.createContext(null);rv.displayName="RouteError";function tM(n,{relative:t}={}){Te(Th(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=M.useContext(xs),{hash:s,pathname:o,search:l}=Sh(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:tr([e,o])),i.createHref({pathname:u,search:l,hash:s})}function Th(){return M.useContext(wh)!=null}function bs(){return Te(Th(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(wh).location}var B2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F2(n){M.useContext(xs).static||M.useLayoutEffect(n)}function jn(){let{isDataRoute:n}=M.useContext(zi);return n?pM():eM()}function eM(){Te(Th(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(tc),{basename:t,navigator:e}=M.useContext(xs),{matches:i}=M.useContext(zi),{pathname:s}=bs(),o=JSON.stringify(V2(i)),l=M.useRef(!1);return F2(()=>{l.current=!0}),M.useCallback((h,f={})=>{if(ys(l.current,B2),!l.current)return;if(typeof h=="number"){e.go(h);return}let p=L2(h,JSON.parse(o),s,f.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:tr([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,s,n])}var nM=M.createContext(null);function iM(n){let t=M.useContext(zi).outlet;return t&&M.createElement(nM.Provider,{value:n},t)}function av(){let{matches:n}=M.useContext(zi),t=n[n.length-1];return t?t.params:{}}function Sh(n,{relative:t}={}){let{matches:e}=M.useContext(zi),{pathname:i}=bs(),s=JSON.stringify(V2(e));return M.useMemo(()=>L2(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function sM(n,t){return H2(n,t)}function H2(n,t,e,i){Te(Th(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(xs),{matches:o}=M.useContext(zi),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let j=p&&p.path||"";q2(h,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=bs(),b;if(t){let j=typeof t=="string"?Jl(t):t;Te(f==="/"||j.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=x;let w=b.pathname||"/",E=w;if(f!=="/"){let j=f.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=P2(n,{pathname:E});ys(p||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ys(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=cM(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:tr([f,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:tr([f,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,e,i);return t&&R?M.createElement(wh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function rM(){let n=mM(),t=YD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),e?M.createElement("pre",{style:s},e):null,l)}var aM=M.createElement(rM,null),oM=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?M.createElement(zi.Provider,{value:this.props.routeContext},M.createElement(rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lM({routeContext:n,match:t,children:e}){let i=M.useContext(tc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(zi.Provider,{value:n},e)}function cM(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,o=e?.errors;if(o!=null){let h=s.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);Te(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(e)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:x}=e,b=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let x,b=!1,w=null,E=null;e&&(x=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||aM,l&&(u<0&&p===0?(q2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):u===p&&(b=!0,E=f.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,p+1)),R=()=>{let j;return x?j=w:b?j=E:f.route.Component?j=M.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=h,M.createElement(lM,{match:f,routeContext:{outlet:h,matches:C,isDataRoute:e!=null},children:j})};return e&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(oM,{location:e.location,revalidation:e.revalidation,component:w,error:x,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):R()},null)}function ov(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uM(n){let t=M.useContext(tc);return Te(t,ov(n)),t}function hM(n){let t=M.useContext(Om);return Te(t,ov(n)),t}function dM(n){let t=M.useContext(zi);return Te(t,ov(n)),t}function lv(n){let t=dM(n),e=t.matches[t.matches.length-1];return Te(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function fM(){return lv("useRouteId")}function mM(){let n=M.useContext(rv),t=hM("useRouteError"),e=lv("useRouteError");return n!==void 0?n:t.errors?.[e]}function pM(){let{router:n}=uM("useNavigate"),t=lv("useNavigate"),e=M.useRef(!1);return F2(()=>{e.current=!0}),M.useCallback(async(s,o={})=>{ys(e.current,B2),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...o}))},[n,t])}var Dw={};function q2(n,t,e){!t&&!Dw[n]&&(Dw[n]=!0,ys(!1,e))}M.memo(gM);function gM({routes:n,future:t,state:e}){return H2(n,void 0,e,t)}function yM(n){return iM(n.context)}function wn(n){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vM({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:o=!1}){Te(!Th(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof e=="string"&&(e=Jl(e));let{pathname:h="/",search:f="",hash:p="",state:x=null,key:b="default"}=e,w=M.useMemo(()=>{let E=ir(h,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:x,key:b},navigationType:i}},[l,h,f,p,x,b,i]);return ys(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:M.createElement(xs.Provider,{value:u},M.createElement(wh.Provider,{children:t,value:w}))}function xM({children:n,location:t}){return sM(ey(n),t)}function ey(n,t=[]){let e=[];return M.Children.forEach(n,(i,s)=>{if(!M.isValidElement(i))return;let o=[...t,s];if(i.type===M.Fragment){e.push.apply(e,ey(i.props.children,o));return}Te(i.type===wn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ey(i.props.children,o)),e.push(l)}),e}var Of="get",Vf="application/x-www-form-urlencoded";function Vm(n){return n!=null&&typeof n.tagName=="string"}function bM(n){return Vm(n)&&n.tagName.toLowerCase()==="button"}function _M(n){return Vm(n)&&n.tagName.toLowerCase()==="form"}function wM(n){return Vm(n)&&n.tagName.toLowerCase()==="input"}function TM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function SM(n,t){return n.button===0&&(!t||t==="_self")&&!TM(n)}var hf=null;function EM(){if(hf===null)try{new FormData(document.createElement("form"),0),hf=!1}catch{hf=!0}return hf}var AM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function p0(n){return n!=null&&!AM.has(n)?(ys(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vf}"`),null):n}function CM(n,t){let e,i,s,o,l;if(_M(n)){let u=n.getAttribute("action");i=u?ir(u,t):null,e=n.getAttribute("method")||Of,s=p0(n.getAttribute("enctype"))||Vf,o=new FormData(n)}else if(bM(n)||wM(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?ir(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||Of,s=p0(n.getAttribute("formenctype"))||p0(u.getAttribute("enctype"))||Vf,o=new FormData(u,n),!EM()){let{name:f,type:p,value:x}=n;if(p==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,x)}}else{if(Vm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Of,i=null,s=Vf,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cv(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function RM(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&ir(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function NM(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kM(n,t,e){let i=await Promise.all(n.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await NM(o,e);return l.links?l.links():[]}return[]}));return jM(i.flat(1).filter(IM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Mw(n,t,e,i,s,o){let l=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,u=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?t.filter((h,f)=>{let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function DM(n,t,{includeHydrateFallback:e}={}){return MM(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function MM(n){return[...new Set(n)]}function PM(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function jM(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let o=JSON.stringify(PM(s));return e.has(o)||(e.add(o),i.push({key:o,link:s})),i},[])}function $2(){let n=M.useContext(tc);return cv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function OM(){let n=M.useContext(Om);return cv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var uv=M.createContext(void 0);uv.displayName="FrameworkContext";function G2(){let n=M.useContext(uv);return cv(n,"You must render this element inside a <HydratedRouter> element"),n}function VM(n,t){let e=M.useContext(uv),[i,s]=M.useState(!1),[o,l]=M.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:x}=t,b=M.useRef(null);M.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let C=j=>{j.forEach(F=>{l(F.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[n]),M.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let w=()=>{s(!0)},E=()=>{s(!1),l(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Tu(u,w),onBlur:Tu(h,E),onMouseEnter:Tu(f,w),onMouseLeave:Tu(p,E),onTouchStart:Tu(x,w)}]:[!1,b,{}]}function Tu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function LM({page:n,...t}){let{router:e}=$2(),i=M.useMemo(()=>P2(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?M.createElement(zM,{page:n,matches:i,...t}):null}function UM(n){let{manifest:t,routeModules:e}=G2(),[i,s]=M.useState([]);return M.useEffect(()=>{let o=!1;return kM(n,t,e).then(l=>{o||s(l)}),()=>{o=!0}},[n,t,e]),i}function zM({page:n,matches:t,...e}){let i=bs(),{manifest:s,routeModules:o}=G2(),{basename:l}=$2(),{loaderData:u,matches:h}=OM(),f=M.useMemo(()=>Mw(n,t,h,s,i,"data"),[n,t,h,s,i]),p=M.useMemo(()=>Mw(n,t,h,s,i,"assets"),[n,t,h,s,i]),x=M.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let E=new Set,C=!1;if(t.forEach(j=>{let F=s.routes[j.route.id];!F||!F.hasLoader||(!f.some(B=>B.route.id===j.route.id)&&j.route.id in u&&o[j.route.id]?.shouldRevalidate||F.hasClientLoader?C=!0:E.add(j.route.id))}),E.size===0)return[];let R=RM(n,l,"data");return C&&E.size>0&&R.searchParams.set("_routes",t.filter(j=>E.has(j.route.id)).map(j=>j.route.id).join(",")),[R.pathname+R.search]},[l,u,i,s,f,t,n,o]),b=M.useMemo(()=>DM(p,s),[p,s]),w=UM(p);return M.createElement(M.Fragment,null,x.map(E=>M.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),b.map(E=>M.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),w.map(({key:E,link:C})=>M.createElement("link",{key:E,...C})))}function BM(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Q2&&(window.__reactRouterVersion="7.7.1")}catch{}function FM({basename:n,children:t,window:e}){let i=M.useRef();i.current==null&&(i.current=CD({window:e,v5Compat:!0}));let s=i.current,[o,l]=M.useState({action:s.action,location:s.location}),u=M.useCallback(h=>{M.startTransition(()=>l(h))},[l]);return M.useLayoutEffect(()=>s.listen(u),[s,u]),M.createElement(vM,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:s})}var W2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qr=M.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:p,viewTransition:x,...b},w){let{basename:E}=M.useContext(xs),C=typeof f=="string"&&W2.test(f),R,j=!1;if(typeof f=="string"&&C&&(R=f,Q2))try{let I=new URL(window.location.href),P=f.startsWith("//")?new URL(I.protocol+f):new URL(f),V=ir(P.pathname,E);P.origin===I.origin&&V!=null?f=V+P.search+P.hash:j=!0}catch{ys(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=tM(f,{relative:s}),[B,X,q]=VM(i,b),Q=GM(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:s,viewTransition:x});function D(I){t&&t(I),I.defaultPrevented||Q(I)}let A=M.createElement("a",{...b,...q,href:R||F,onClick:j||o?t:D,ref:BM(w,X),target:h,"data-discover":!C&&e==="render"?"true":void 0});return B&&!C?M.createElement(M.Fragment,null,A,M.createElement(LM,{page:F})):A});Qr.displayName="Link";var HM=M.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:u,children:h,...f},p){let x=Sh(l,{relative:f.relative}),b=bs(),w=M.useContext(Om),{navigator:E,basename:C}=M.useContext(xs),R=w!=null&&XM(x)&&u===!0,j=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,F=b.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(F=F.toLowerCase(),B=B?B.toLowerCase():null,j=j.toLowerCase()),B&&C&&(B=ir(B,C)||B);const X=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let q=F===j||!s&&F.startsWith(j)&&F.charAt(X)==="/",Q=B!=null&&(B===j||!s&&B.startsWith(j)&&B.charAt(j.length)==="/"),D={isActive:q,isPending:Q,isTransitioning:R},A=q?t:void 0,I;typeof i=="function"?I=i(D):I=[i,q?"active":null,Q?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(D):o;return M.createElement(Qr,{...f,"aria-current":A,className:I,ref:p,style:P,to:l,viewTransition:u},typeof h=="function"?h(D):h)});HM.displayName="NavLink";var qM=M.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:o,method:l=Of,action:u,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:x,...b},w)=>{let E=KM(),C=YM(u,{relative:f}),R=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&W2.test(u),F=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let X=B.nativeEvent.submitter,q=X?.getAttribute("formmethod")||l;E(X||B.currentTarget,{fetcherKey:t,method:q,navigate:e,replace:s,state:o,relative:f,preventScrollReset:p,viewTransition:x})};return M.createElement("form",{ref:w,method:R,action:C,onSubmit:i?h:F,...b,"data-discover":!j&&n==="render"?"true":void 0})});qM.displayName="Form";function $M(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K2(n){let t=M.useContext(tc);return Te(t,$M(n)),t}function GM(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=jn(),h=bs(),f=Sh(n,{relative:o});return M.useCallback(p=>{if(SM(p,t)){p.preventDefault();let x=e!==void 0?e:nh(h)===nh(f);u(n,{replace:x,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,f,e,i,t,n,s,o,l])}var QM=0,WM=()=>`__${String(++QM)}__`;function KM(){let{router:n}=K2("useSubmit"),{basename:t}=M.useContext(xs),e=fM();return M.useCallback(async(i,s={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=CM(i,t);if(s.navigate===!1){let p=s.fetcherKey||WM();await n.fetch(p,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function YM(n,{relative:t}={}){let{basename:e}=M.useContext(xs),i=M.useContext(zi);Te(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Sh(n||".",{relative:t})},l=bs();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(x=>x).forEach(x=>u.append("index",x));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:tr([e,o.pathname])),nh(o)}function XM(n,{relative:t}={}){let e=M.useContext(z2);Te(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=K2("useViewTransitionState"),s=Sh(n,{relative:t});if(!e.isTransitioning)return!1;let o=ir(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=ir(e.nextLocation.pathname,i)||e.nextLocation.pathname;return tm(s.pathname,l)!=null||tm(s.pathname,o)!=null}const ZM=()=>{};var Pw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},JM=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],l=n[e++],u=n[e++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return t.join("")},X2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,p=o>>2,x=(o&3)<<4|u>>4;let b=(u&15)<<2|f>>6,w=f&63;h||(w=64,l||(b=64)),i.push(e[p],e[x],e[b],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Y2(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):JM(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],u=s<n.length?e[n.charAt(s)]:0;++s;const f=s<n.length?e[n.charAt(s)]:64;++s;const x=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||u==null||f==null||x==null)throw new tP;const b=o<<2|u>>4;if(i.push(b),f!==64){const w=u<<4&240|f>>2;if(i.push(w),x!==64){const E=f<<6&192|x;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eP=function(n){const t=Y2(n);return X2.encodeByteArray(t,!0)},em=function(n){return eP(n).replace(/\./g,"")},Z2=function(n){try{return X2.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=()=>nP().__FIREBASE_DEFAULTS__,sP=()=>{if(typeof process>"u"||typeof Pw>"u")return;const n=Pw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Z2(n[1]);return t&&JSON.parse(t)},Lm=()=>{try{return ZM()||iP()||sP()||rP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},J2=n=>Lm()?.emulatorHosts?.[n],aP=n=>{const t=J2(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},tA=()=>Lm()?.config,eA=n=>Lm()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[em(JSON.stringify(e)),em(JSON.stringify(l)),""].join(".")}const zu={};function cP(){const n={prod:[],emulator:[]};for(const t of Object.keys(zu))zu[t]?n.emulator.push(t):n.prod.push(t);return n}function uP(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let jw=!1;function iA(n,t){if(typeof window>"u"||typeof document>"u"||!ec(window.location.host)||zu[n]===t||zu[n]||jw)return;zu[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=cP().prod.length>0;function l(){const b=document.getElementById(i);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{jw=!0,l()},b}function p(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=uP(i),w=e("text"),E=document.getElementById(w)||document.createElement("span"),C=e("learnmore"),R=document.getElementById(C)||document.createElement("a"),j=e("preprendIcon"),F=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const B=b.element;u(B),p(R,C);const X=f();h(F,j),B.append(F,E,R,X),document.body.appendChild(B)}o?(E.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function dP(){const n=Lm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gP(){const n=Rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yP(){return!dP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vP(){try{return typeof indexedDB=="object"}catch{return!1}}function xP(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="FirebaseError";class ur extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=bP,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eh.prototype.create)}}class Eh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],l=o?_P(o,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new ur(s,u,i)}}function _P(n,t){return n.replace(wP,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const wP=/\{\$([^}]+)}/g;function TP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function xo(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const o=n[s],l=t[s];if(Ow(o)&&Ow(l)){if(!xo(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function Ow(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Iu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(o)}}),t}function ku(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function SP(n,t){const e=new EP(n,t);return e.subscribe.bind(e)}class EP{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");AP(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=g0),s.error===void 0&&(s.error=g0),s.complete===void 0&&(s.complete=g0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AP(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function g0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n){return n&&n._delegate?n._delegate:n}class bo{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new oP;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NP(t))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=io){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=io){return this.instances.has(t)}getOptions(t=io){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(s)}return s}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:RP(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=io){return this.component?this.component.multipleInstances?t:io:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RP(n){return n===io?void 0:n}function NP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new CP(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ft||(Ft={}));const kP={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},DP=Ft.INFO,MP={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},PP=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=MP[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hv{constructor(t){this.name=t,this._logLevel=DP,this._logHandler=PP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const jP=(n,t)=>t.some(e=>n instanceof e);let Vw,Lw;function OP(){return Vw||(Vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VP(){return Lw||(Lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sA=new WeakMap,ny=new WeakMap,rA=new WeakMap,y0=new WeakMap,dv=new WeakMap;function LP(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(Jr(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&sA.set(e,n)}).catch(()=>{}),dv.set(t,n),t}function UP(n){if(ny.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});ny.set(n,t)}let iy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return ny.get(n);if(t==="objectStoreNames")return n.objectStoreNames||rA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Jr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function zP(n){iy=n(iy)}function BP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(v0(this),t,...e);return rA.set(i,t.sort?t.sort():[t]),Jr(i)}:VP().includes(n)?function(...t){return n.apply(v0(this),t),Jr(sA.get(this))}:function(...t){return Jr(n.apply(v0(this),t))}}function FP(n){return typeof n=="function"?BP(n):(n instanceof IDBTransaction&&UP(n),jP(n,OP())?new Proxy(n,iy):n)}function Jr(n){if(n instanceof IDBRequest)return LP(n);if(y0.has(n))return y0.get(n);const t=FP(n);return t!==n&&(y0.set(n,t),dv.set(t,n)),t}const v0=n=>dv.get(n);function HP(n,t,{blocked:e,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(n,t),u=Jr(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Jr(l.result),h.oldVersion,h.newVersion,Jr(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const qP=["get","getKey","getAll","getAllKeys","count"],$P=["put","add","delete","clear"],x0=new Map;function Uw(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(x0.get(t))return x0.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=$P.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||qP.includes(e)))return;const o=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),s&&h.done]))[0]};return x0.set(t,o),o}zP(n=>({...n,get:(t,e,i)=>Uw(t,e)||n.get(t,e,i),has:(t,e)=>!!Uw(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(QP(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function QP(n){return n.getComponent()?.type==="VERSION"}const sy="@firebase/app",zw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new hv("@firebase/app"),WP="@firebase/app-compat",KP="@firebase/analytics-compat",YP="@firebase/analytics",XP="@firebase/app-check-compat",ZP="@firebase/app-check",JP="@firebase/auth",t4="@firebase/auth-compat",e4="@firebase/database",n4="@firebase/data-connect",i4="@firebase/database-compat",s4="@firebase/functions",r4="@firebase/functions-compat",a4="@firebase/installations",o4="@firebase/installations-compat",l4="@firebase/messaging",c4="@firebase/messaging-compat",u4="@firebase/performance",h4="@firebase/performance-compat",d4="@firebase/remote-config",f4="@firebase/remote-config-compat",m4="@firebase/storage",p4="@firebase/storage-compat",g4="@firebase/firestore",y4="@firebase/ai",v4="@firebase/firestore-compat",x4="firebase",b4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="[DEFAULT]",_4={[sy]:"fire-core",[WP]:"fire-core-compat",[YP]:"fire-analytics",[KP]:"fire-analytics-compat",[ZP]:"fire-app-check",[XP]:"fire-app-check-compat",[JP]:"fire-auth",[t4]:"fire-auth-compat",[e4]:"fire-rtdb",[n4]:"fire-data-connect",[i4]:"fire-rtdb-compat",[s4]:"fire-fn",[r4]:"fire-fn-compat",[a4]:"fire-iid",[o4]:"fire-iid-compat",[l4]:"fire-fcm",[c4]:"fire-fcm-compat",[u4]:"fire-perf",[h4]:"fire-perf-compat",[d4]:"fire-rc",[f4]:"fire-rc-compat",[m4]:"fire-gcs",[p4]:"fire-gcs-compat",[g4]:"fire-fst",[v4]:"fire-fst-compat",[y4]:"fire-vertex","fire-js":"fire-js",[x4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Map,w4=new Map,ay=new Map;function Bw(n,t){try{n.container.addComponent(t)}catch(e){sr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function zl(n){const t=n.name;if(ay.has(t))return sr.debug(`There were multiple attempts to register component ${t}.`),!1;ay.set(t,n);for(const e of nm.values())Bw(e,n);for(const e of w4.values())Bw(e,n);return!0}function fv(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new Eh("app","Firebase",T4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=b4;function aA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:ry,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw ta.create("bad-app-name",{appName:String(s)});if(e||(e=tA()),!e)throw ta.create("no-options");const o=nm.get(s);if(o){if(xo(e,o.options)&&xo(i,o.config))return o;throw ta.create("duplicate-app",{appName:s})}const l=new IP(s);for(const h of ay.values())l.addComponent(h);const u=new S4(e,i,l);return nm.set(s,u),u}function oA(n=ry){const t=nm.get(n);if(!t&&n===ry&&tA())return aA();if(!t)throw ta.create("no-app",{appName:n});return t}function ea(n,t,e){let i=_4[n]??n;e&&(i+=`-${e}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sr.warn(l.join(" "));return}zl(new bo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="firebase-heartbeat-database",A4=1,ih="firebase-heartbeat-store";let b0=null;function lA(){return b0||(b0=HP(E4,A4,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ih)}catch(e){console.warn(e)}}}}).catch(n=>{throw ta.create("idb-open",{originalErrorMessage:n.message})})),b0}async function C4(n){try{const e=(await lA()).transaction(ih),i=await e.objectStore(ih).get(cA(n));return await e.done,i}catch(t){if(t instanceof ur)sr.warn(t.message);else{const e=ta.create("idb-get",{originalErrorMessage:t?.message});sr.warn(e.message)}}}async function Fw(n,t){try{const i=(await lA()).transaction(ih,"readwrite");await i.objectStore(ih).put(t,cA(n)),await i.done}catch(e){if(e instanceof ur)sr.warn(e.message);else{const i=ta.create("idb-set",{originalErrorMessage:e?.message});sr.warn(i.message)}}}function cA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=1024,N4=30;class I4{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new D4(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>N4){const s=M4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){sr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hw(),{heartbeatsToSend:e,unsentEntries:i}=k4(this._heartbeatsCache.heartbeats),s=em(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return sr.warn(t),""}}}function Hw(){return new Date().toISOString().substring(0,10)}function k4(n,t=R4){const e=[];let i=n.slice();for(const s of n){const o=e.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),qw(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),qw(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class D4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vP()?xP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await C4(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Fw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Fw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function qw(n){return em(JSON.stringify({version:2,heartbeats:n})).length}function M4(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(n){zl(new bo("platform-logger",t=>new GP(t),"PRIVATE")),zl(new bo("heartbeat",t=>new I4(t),"PRIVATE")),ea(sy,zw,n),ea(sy,zw,"esm2020"),ea("fire-js","")}P4("");function uA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j4=uA,hA=new Eh("auth","Firebase",uA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new hv("@firebase/auth");function O4(n,...t){im.logLevel<=Ft.WARN&&im.warn(`Auth (${nc}): ${n}`,...t)}function Lf(n,...t){im.logLevel<=Ft.ERROR&&im.error(`Auth (${nc}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(n,...t){throw pv(n,...t)}function Oi(n,...t){return pv(n,...t)}function mv(n,t,e){const i={...j4(),[t]:e};return new Eh("auth","Firebase",i).create(t,{appName:n.name})}function er(n){return mv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V4(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&wi(n,"argument-error"),mv(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pv(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return hA.create(n,...t)}function Ct(n,t,...e){if(!n)throw pv(t,...e)}function Zs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Lf(t),new Error(t)}function rr(n,t){n||Zs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){return typeof self<"u"&&self.location?.href||""}function L4(){return $w()==="http:"||$w()==="https:"}function $w(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L4()||mP()||"connection"in navigator)?navigator.onLine:!0}function z4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,e){this.shortDelay=t,this.longDelay=e,rr(e>t,"Short delay should be less than long delay!"),this.isMobile=hP()||pP()}get(){return U4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(n,t){rr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H4=new Ch(3e4,6e4);function ga(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function hr(n,t,e,i,s={}){return fA(n,s,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=Ah({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:h,...o};return fP()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&ec(n.emulatorConfig.host)&&(f.credentials="include"),dA.fetch()(await mA(n,n.config.apiHost,e,u),f)})}async function fA(n,t,e){n._canInitEmulator=!1;const i={...B4,...t};try{const s=new $4(n),o=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw df(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw df(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw df(n,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw mv(n,p,f);wi(n,p)}}catch(s){if(s instanceof ur)throw s;wi(n,"network-request-failed",{message:String(s)})}}async function Rh(n,t,e,i,s={}){const o=await hr(n,t,e,i,s);return"mfaPendingCredential"in o&&wi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function mA(n,t,e,i){const s=`${t}${e}?${i}`,o=n,l=o.config.emulator?gv(n.config,s):`${n.config.apiScheme}://${s}`;return F4.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function q4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Oi(this.auth,"network-request-failed")),H4.get())})}}function df(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=Oi(n,t,i);return s.customData._tokenResponse=e,s}function Gw(n){return n!==void 0&&n.enterprise!==void 0}class G4{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return q4(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q4(n,t){return hr(n,"GET","/v2/recaptchaConfig",ga(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(n,t){return hr(n,"POST","/v1/accounts:delete",t)}async function sm(n,t){return hr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function K4(n,t=!1){const e=Nn(n),i=await e.getIdToken(t),s=yv(i);Ct(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:i,authTime:Bu(_0(s.auth_time)),issuedAtTime:Bu(_0(s.iat)),expirationTime:Bu(_0(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function _0(n){return Number(n)*1e3}function yv(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const s=Z2(e);return s?JSON.parse(s):(Lf("Failed to decode base64 JWT payload"),null)}catch(s){return Lf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Qw(n){const t=yv(n);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ur&&Y4(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Y4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(n){const t=n.auth,e=await n.getIdToken(),i=await Bl(n,sm(t,{idToken:e}));Ct(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?pA(s.providerUserInfo):[],l=J4(n.providerData,o),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,f=u?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ly(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function Z4(n){const t=Nn(n);await rm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function J4(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function pA(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(n,t){const e=await fA(n,{},async()=>{const i=Ah({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=await mA(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return n.emulatorConfig&&ec(n.emulatorConfig.host)&&(h.credentials="include"),dA.fetch()(l,h)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function ej(n,t){return hr(n,"POST","/v2/accounts:revokeToken",ga(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Qw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const e=Qw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:o}=await tj(t,e);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:o}=e,l=new Ml;return i&&(Ct(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Ct(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),o&&(Ct(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return Zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(n,t){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ki{constructor({uid:t,auth:e,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new X4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ly(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return Ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return K4(this,t)}reload(){return Z4(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ki({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await rm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Bl(this,W4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,s=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,h=e._redirectEventId??void 0,f=e.createdAt??void 0,p=e.lastLoginAt??void 0,{uid:x,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:C}=e;Ct(x&&C,t,"internal-error");const R=Ml.fromJSON(this.name,C);Ct(typeof x=="string",t,"internal-error"),Br(i,t.name),Br(s,t.name),Ct(typeof b=="boolean",t,"internal-error"),Ct(typeof w=="boolean",t,"internal-error"),Br(o,t.name),Br(l,t.name),Br(u,t.name),Br(h,t.name),Br(f,t.name),Br(p,t.name);const j=new ki({uid:x,auth:t,email:s,emailVerified:b,displayName:i,isAnonymous:w,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:R,createdAt:f,lastLoginAt:p});return E&&Array.isArray(E)&&(j.providerData=E.map(F=>({...F}))),h&&(j._redirectEventId=h),j}static async _fromIdTokenResponse(t,e,i=!1){const s=new Ml;s.updateFromServerResponse(e);const o=new ki({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await rm(o),o}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];Ct(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?pA(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,u=new Ml;u.updateFromIdToken(i);const h=new ki({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ly(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;function Js(n){rr(n instanceof Function,"Expected a class definition");let t=Ww.get(n);return t?(rr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Ww.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}gA.type="NONE";const Kw=gA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n,t,e){return`firebase:${n}:${t}:${e}`}class Pl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Uf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Uf("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await sm(this.auth,{idToken:t}).catch(()=>{});return e?ki._fromGetAccountInfoResponse(this.auth,e,t):null}return ki._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Pl(Js(Kw),t,i);const s=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||Js(Kw);const l=Uf(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const p=await f._get(l);if(p){let x;if(typeof p=="string"){const b=await sm(t,{idToken:p}).catch(()=>{});if(!b)break;x=await ki._fromGetAccountInfoResponse(t,b,p)}else x=ki._fromJSON(t,p);f!==o&&(u=x),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Pl(o,t,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Pl(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wA(t))return"Blackberry";if(TA(t))return"Webos";if(vA(t))return"Safari";if((t.includes("chrome/")||xA(t))&&!t.includes("edge/"))return"Chrome";if(_A(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function yA(n=Rn()){return/firefox\//i.test(n)}function vA(n=Rn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xA(n=Rn()){return/crios\//i.test(n)}function bA(n=Rn()){return/iemobile/i.test(n)}function _A(n=Rn()){return/android/i.test(n)}function wA(n=Rn()){return/blackberry/i.test(n)}function TA(n=Rn()){return/webos/i.test(n)}function vv(n=Rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nj(n=Rn()){return vv(n)&&!!window.navigator?.standalone}function ij(){return gP()&&document.documentMode===10}function SA(n=Rn()){return vv(n)||_A(n)||TA(n)||wA(n)||/windows phone/i.test(n)||bA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(n,t=[]){let e;switch(n){case"Browser":e=Yw(Rn());break;case"Worker":e=`${Yw(Rn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${nc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const h=t(o);l(h)}catch(h){u(h)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(n,t={}){return hr(n,"GET","/v2/passwordPolicy",ga(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=6;class oj{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??aj,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xw(this),this.idTokenSubscription=new Xw(this),this.beforeStateQueue=new sj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Js(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await sm(this,{idToken:t}),i=await ki._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await rm(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=z4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(er(this));const e=t?Nn(t):null;return e&&Ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rj(this),e=new oj(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Eh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await ej(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Js(t)||this._popupRedirectResolver;Ct(e,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Js(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=EA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&O4(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ya(n){return Nn(n)}class Xw{constructor(t){this.auth=t,this.observer=null,this.addObserver=SP(e=>this.observer=e)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cj(n){Um=n}function AA(n){return Um.loadJS(n)}function uj(){return Um.recaptchaEnterpriseScript}function hj(){return Um.gapiScript}function dj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fj{constructor(){this.enterprise=new mj}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class mj{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const pj="recaptcha-enterprise",CA="NO_RECAPTCHA";class gj{constructor(t){this.type=pj,this.auth=ya(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{Q4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new G4(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function s(o,l,u){const h=window.grecaptcha;Gw(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:t}).then(f=>{l(f)}).catch(()=>{l(CA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fj().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&Gw(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=uj();h.length!==0&&(h+=u),AA(h).then(()=>{s(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function Zw(n,t,e,i=!1,s=!1){const o=new gj(n);let l;if(s)l=CA;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function cy(n,t,e,i,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Zw(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Zw(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(n,t){const e=fv(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),o=e.getOptions();if(xo(o,t??{}))return s;wi(s,"already-initialized")}return e.initialize({options:t})}function vj(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Js);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function xj(n,t,e){const i=ya(n);Ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,o=RA(t),{host:l,port:u}=bj(t),h=u===null?"":`:${u}`,f={url:`${o}//${l}${h}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ct(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ct(xo(f,i.config.emulator)&&xo(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,ec(l)?(nA(`${o}//${l}${h}`),iA("Auth",!0)):_j()}function RA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function bj(n){const t=RA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:Jw(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:Jw(l)}}}function Jw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function _j(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Zs("not implemented")}_getIdTokenResponse(t){return Zs("not implemented")}_linkToIdToken(t,e){return Zs("not implemented")}_getReauthenticationResolver(t){return Zs("not implemented")}}async function wj(n,t){return hr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(n,t){return Rh(n,"POST","/v1/accounts:signInWithPassword",ga(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(n,t){return Rh(n,"POST","/v1/accounts:signInWithEmailLink",ga(n,t))}async function Ej(n,t){return Rh(n,"POST","/v1/accounts:signInWithEmailLink",ga(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends xv{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new sh(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new sh(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(t,e,"signInWithPassword",Tj);case"emailLink":return Sj(t,{email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(t,i,"signUpPassword",wj);case"emailLink":return Ej(t,{idToken:e,email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(n,t){return Rh(n,"POST","/v1/accounts:signInWithIdp",ga(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="http://localhost";class _o extends xv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new _o(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):wi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...o}=e;if(!i||!s)return null;const l=new _o(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return jl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,jl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,jl(t,e)}buildRequest(){const t={requestUri:Aj,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ah(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rj(n){const t=Iu(ku(n)).link,e=t?Iu(ku(t)).deep_link_id:null,i=Iu(ku(n)).deep_link_id;return(i?Iu(ku(i)).link:null)||i||e||t||n}class bv{constructor(t){const e=Iu(ku(t)),i=e.apiKey??null,s=e.oobCode??null,o=Cj(e.mode??null);Ct(i&&s&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=s,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=Rj(t);try{return new bv(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.providerId=ic.PROVIDER_ID}static credential(t,e){return sh._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=bv.parseLink(e);return Ct(i,"argument-error"),sh._fromEmailAndCode(t,i.code,i.tenantId)}}ic.PROVIDER_ID="password";ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends _v{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Nh{constructor(){super("facebook.com")}static credential(t){return _o._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Nh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return _o._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Xs.credential(e,i)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Nh{constructor(){super("github.com")}static credential(t){return _o._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $r.credential(t.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Nh{constructor(){super("twitter.com")}static credential(t,e){return _o._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Gr.credential(e,i)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(n,t){return Rh(n,"POST","/v1/accounts:signUp",ga(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const o=await ki._fromIdTokenResponse(t,i,s),l=tT(i);return new wo({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=tT(i);return new wo({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function tT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends ur{constructor(t,e,i,s){super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,am.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new am(t,e,i,s)}}function NA(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(n,o,t,i):o})}async function Ij(n,t,e=!1){const i=await Bl(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(n,t,e=!1){const{auth:i}=n;if(ni(i.app))return Promise.reject(er(i));const s="reauthenticate";try{const o=await Bl(n,NA(i,s,t,n),e);Ct(o.idToken,i,"internal-error");const l=yv(o.idToken);Ct(l,i,"internal-error");const{sub:u}=l;return Ct(n.uid===u,i,"user-mismatch"),wo._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&wi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(n,t,e=!1){if(ni(n.app))return Promise.reject(er(n));const i="signIn",s=await NA(n,i,t),o=await wo._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(o.user),o}async function Dj(n,t){return IA(ya(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(n){const t=ya(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Mj(n,t,e){if(ni(n.app))return Promise.reject(er(n));const i=ya(n),l=await cy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&kA(n),h}),u=await wo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function Pj(n,t,e){return ni(n.app)?Promise.reject(er(n)):Dj(Nn(n),ic.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&kA(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(n,t){return hr(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=Nn(n),o={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},l=await Bl(i,jj(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function Vj(n,t,e,i){return Nn(n).onIdTokenChanged(t,e,i)}function Lj(n,t,e){return Nn(n).beforeAuthStateChanged(t,e)}function Uj(n){return Nn(n).signOut()}const om="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(om,"1"),this.storage.removeItem(om),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=1e3,Bj=10;class MA extends DA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);ij()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Bj):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}MA.type="LOCAL";const Fj=MA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends DA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}PA.type="SESSION";const jA=PA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new zm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:o}=e.data,l=this.handlersMap[s];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async f=>f(e.origin,o)),h=await Hj(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=wv("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(x){const b=x;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return window}function $j(n){ls().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function Gj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qj(){return navigator?.serviceWorker?.controller||null}function Wj(){return OA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firebaseLocalStorageDb",Kj=1,lm="firebaseLocalStorage",LA="fbase_key";class Ih{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Bm(n,t){return n.transaction([lm],t?"readwrite":"readonly").objectStore(lm)}function Yj(){const n=indexedDB.deleteDatabase(VA);return new Ih(n).toPromise()}function uy(){const n=indexedDB.open(VA,Kj);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(lm,{keyPath:LA})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(lm)?t(i):(i.close(),await Yj(),t(await uy()))})})}async function eT(n,t,e){const i=Bm(n,!0).put({[LA]:t,value:e});return new Ih(i).toPromise()}async function Xj(n,t){const e=Bm(n,!1).get(t),i=await new Ih(e).toPromise();return i===void 0?null:i.value}function nT(n,t){const e=Bm(n,!0).delete(t);return new Ih(e).toPromise()}const Zj=800,Jj=3;class UA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>Jj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zm._getInstance(Wj()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Gj(),!this.activeServiceWorker)return;this.sender=new qj(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Qj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await uy();return await eT(t,om,"1"),await nT(t,om),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>eT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>Xj(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>nT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=Bm(s,!1).getAll();return new Ih(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UA.type="LOCAL";const tO=UA;new Ch(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n,t){return t?Js(t):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends xv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return jl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return jl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function eO(n){return IA(n.auth,new Tv(n),n.bypassAuthState)}function nO(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),kj(e,new Tv(n),n.bypassAuthState)}async function iO(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),Ij(e,new Tv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,e,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eO;case"linkViaPopup":case"linkViaRedirect":return iO;case"reauthViaPopup":case"reauthViaRedirect":return nO;default:wi(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new Ch(2e3,1e4);async function rO(n,t,e){if(ni(n.app))return Promise.reject(Oi(n,"operation-not-supported-in-this-environment"));const i=ya(n);V4(n,t,_v);const s=zA(i,e);return new oo(i,"signInViaPopup",t,s).executeNotNull()}class oo extends BA{constructor(t,e,i,s,o){super(t,e,s,o),this.provider=i,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sO.get())};t()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="pendingRedirect",zf=new Map;class oO extends BA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=zf.get(this.auth._key());if(!t){try{const i=await lO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}zf.set(this.auth._key(),t)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lO(n,t){const e=hO(t),i=uO(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function cO(n,t){zf.set(n._key(),t)}function uO(n){return Js(n._redirectPersistence)}function hO(n){return Uf(aO,n.config.apiKey,n.name)}async function dO(n,t,e=!1){if(ni(n.app))return Promise.reject(er(n));const i=ya(n),s=zA(i,t),l=await new oO(i,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=600*1e3;class mO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!FA(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Oi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fO&&this.cachedEventUids.clear(),this.cachedEventUids.has(iT(t))}saveEventToCache(t){this.cachedEventUids.add(iT(t)),this.lastProcessedEventTime=Date.now()}}function iT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function FA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function pO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(n,t={}){return hr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vO=/^https?/;async function xO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await gO(n);for(const e of t)try{if(bO(e))return}catch{}wi(n,"unauthorized-domain")}function bO(n){const t=oy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!vO.test(e))return!1;if(yO.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new Ch(3e4,6e4);function sT(){const n=ls().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function wO(n){return new Promise((t,e)=>{function i(){sT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sT(),e(Oi(n,"network-request-failed"))},timeout:_O.get()})}if(ls().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ls().gapi?.load)i();else{const s=dj("iframefcb");return ls()[s]=()=>{gapi.load?i():e(Oi(n,"network-request-failed"))},AA(`${hj()}?onload=${s}`).catch(o=>e(o))}}).catch(t=>{throw Bf=null,t})}let Bf=null;function TO(n){return Bf=Bf||wO(n),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Ch(5e3,15e3),EO="__/auth/iframe",AO="emulator/auth/iframe",CO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NO(n){const t=n.config;Ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?gv(t,AO):`https://${n.config.authDomain}/${EO}`,i={apiKey:t.apiKey,appName:n.name,v:nc},s=RO.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Ah(i).slice(1)}`}async function IO(n){const t=await TO(n),e=ls().gapi;return Ct(e,n,"internal-error"),t.open({where:document.body,url:NO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CO,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Oi(n,"network-request-failed"),u=ls().setTimeout(()=>{o(l)},SO.get());function h(){ls().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DO=500,MO=600,PO="_blank",jO="http://localhost";class rT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OO(n,t,e,i=DO,s=MO){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={...kO,width:i.toString(),height:s.toString(),top:o,left:l},f=Rn().toLowerCase();e&&(u=xA(f)?PO:e),yA(f)&&(t=t||jO,h.scrollbars="yes");const p=Object.entries(h).reduce((b,[w,E])=>`${b}${w}=${E},`,"");if(nj(f)&&u!=="_self")return VO(t||"",u),new rT(null);const x=window.open(t||"",u,p);Ct(x,n,"popup-blocked");try{x.focus()}catch{}return new rT(x)}function VO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="__/auth/handler",UO="emulator/auth/handler",zO=encodeURIComponent("fac");async function aT(n,t,e,i,s,o){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:nc,eventId:s};if(t instanceof _v){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",TP(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,x]of Object.entries({}))l[p]=x}if(t instanceof Nh){const p=t.getScopes().filter(x=>x!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await n._getAppCheckToken(),f=h?`#${zO}=${encodeURIComponent(h)}`:"";return`${BO(n)}?${Ah(u).slice(1)}${f}`}function BO({config:n}){return n.emulator?gv(n,UO):`https://${n.authDomain}/${LO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="webStorageSupport";class FO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jA,this._completeRedirectFn=dO,this._overrideRedirectResult=cO}async _openPopup(t,e,i,s){rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await aT(t,e,i,oy(),s);return OO(t,o,wv())}async _openRedirect(t,e,i,s){await this._originValidation(t);const o=await aT(t,e,i,oy(),s);return $j(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(rr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await IO(t),i=new mO(t);return e.register("authEvent",s=>(Ct(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(w0,{type:w0},s=>{const o=s?.[0]?.[w0];o!==void 0&&e(!!o),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=xO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return SA()||vA()||vv()}}const HO=FO;var oT="@firebase/auth",lT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GO(n){zl(new bo("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ct(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EA(n)},f=new lj(i,s,o,h);return vj(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),zl(new bo("auth-internal",t=>{const e=ya(t.getProvider("auth").getImmediate());return(i=>new qO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ea(oT,lT,$O(n)),ea(oT,lT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=300,WO=eA("authIdTokenMaxAge")||QO;let cT=null;const KO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>WO)return;const s=e?.token;cT!==s&&(cT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function HA(n=oA()){const t=fv(n,"auth");if(t.isInitialized())return t.getImmediate();const e=yj(n,{popupRedirectResolver:HO,persistence:[tO,Fj,jA]}),i=eA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=KO(o.toString());Lj(e,l,()=>l(e.currentUser)),Vj(e,u=>l(u))}}const s=J2("auth");return s&&xj(e,`http://${s}`),e}function YO(){return document.getElementsByTagName("head")?.[0]??document}cj({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const o=Oi("internal-error");o.customData=s,e(o)},i.type="text/javascript",i.charset="UTF-8",YO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GO("Browser");var XO="firebase",ZO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea(XO,ZO,"app");var uT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,qA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,A){function I(){}I.prototype=A.prototype,D.D=A.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(P,V,L){for(var O=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)O[nt-2]=arguments[nt];return A.prototype[V].apply(P,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,A,I){I||(I=0);var P=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)P[V]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(V=0;16>V;++V)P[V]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=D.g[0],I=D.g[1],V=D.g[2];var L=D.g[3],O=A+(L^I&(V^L))+P[0]+3614090360&4294967295;A=I+(O<<7&4294967295|O>>>25),O=L+(V^A&(I^V))+P[1]+3905402710&4294967295,L=A+(O<<12&4294967295|O>>>20),O=V+(I^L&(A^I))+P[2]+606105819&4294967295,V=L+(O<<17&4294967295|O>>>15),O=I+(A^V&(L^A))+P[3]+3250441966&4294967295,I=V+(O<<22&4294967295|O>>>10),O=A+(L^I&(V^L))+P[4]+4118548399&4294967295,A=I+(O<<7&4294967295|O>>>25),O=L+(V^A&(I^V))+P[5]+1200080426&4294967295,L=A+(O<<12&4294967295|O>>>20),O=V+(I^L&(A^I))+P[6]+2821735955&4294967295,V=L+(O<<17&4294967295|O>>>15),O=I+(A^V&(L^A))+P[7]+4249261313&4294967295,I=V+(O<<22&4294967295|O>>>10),O=A+(L^I&(V^L))+P[8]+1770035416&4294967295,A=I+(O<<7&4294967295|O>>>25),O=L+(V^A&(I^V))+P[9]+2336552879&4294967295,L=A+(O<<12&4294967295|O>>>20),O=V+(I^L&(A^I))+P[10]+4294925233&4294967295,V=L+(O<<17&4294967295|O>>>15),O=I+(A^V&(L^A))+P[11]+2304563134&4294967295,I=V+(O<<22&4294967295|O>>>10),O=A+(L^I&(V^L))+P[12]+1804603682&4294967295,A=I+(O<<7&4294967295|O>>>25),O=L+(V^A&(I^V))+P[13]+4254626195&4294967295,L=A+(O<<12&4294967295|O>>>20),O=V+(I^L&(A^I))+P[14]+2792965006&4294967295,V=L+(O<<17&4294967295|O>>>15),O=I+(A^V&(L^A))+P[15]+1236535329&4294967295,I=V+(O<<22&4294967295|O>>>10),O=A+(V^L&(I^V))+P[1]+4129170786&4294967295,A=I+(O<<5&4294967295|O>>>27),O=L+(I^V&(A^I))+P[6]+3225465664&4294967295,L=A+(O<<9&4294967295|O>>>23),O=V+(A^I&(L^A))+P[11]+643717713&4294967295,V=L+(O<<14&4294967295|O>>>18),O=I+(L^A&(V^L))+P[0]+3921069994&4294967295,I=V+(O<<20&4294967295|O>>>12),O=A+(V^L&(I^V))+P[5]+3593408605&4294967295,A=I+(O<<5&4294967295|O>>>27),O=L+(I^V&(A^I))+P[10]+38016083&4294967295,L=A+(O<<9&4294967295|O>>>23),O=V+(A^I&(L^A))+P[15]+3634488961&4294967295,V=L+(O<<14&4294967295|O>>>18),O=I+(L^A&(V^L))+P[4]+3889429448&4294967295,I=V+(O<<20&4294967295|O>>>12),O=A+(V^L&(I^V))+P[9]+568446438&4294967295,A=I+(O<<5&4294967295|O>>>27),O=L+(I^V&(A^I))+P[14]+3275163606&4294967295,L=A+(O<<9&4294967295|O>>>23),O=V+(A^I&(L^A))+P[3]+4107603335&4294967295,V=L+(O<<14&4294967295|O>>>18),O=I+(L^A&(V^L))+P[8]+1163531501&4294967295,I=V+(O<<20&4294967295|O>>>12),O=A+(V^L&(I^V))+P[13]+2850285829&4294967295,A=I+(O<<5&4294967295|O>>>27),O=L+(I^V&(A^I))+P[2]+4243563512&4294967295,L=A+(O<<9&4294967295|O>>>23),O=V+(A^I&(L^A))+P[7]+1735328473&4294967295,V=L+(O<<14&4294967295|O>>>18),O=I+(L^A&(V^L))+P[12]+2368359562&4294967295,I=V+(O<<20&4294967295|O>>>12),O=A+(I^V^L)+P[5]+4294588738&4294967295,A=I+(O<<4&4294967295|O>>>28),O=L+(A^I^V)+P[8]+2272392833&4294967295,L=A+(O<<11&4294967295|O>>>21),O=V+(L^A^I)+P[11]+1839030562&4294967295,V=L+(O<<16&4294967295|O>>>16),O=I+(V^L^A)+P[14]+4259657740&4294967295,I=V+(O<<23&4294967295|O>>>9),O=A+(I^V^L)+P[1]+2763975236&4294967295,A=I+(O<<4&4294967295|O>>>28),O=L+(A^I^V)+P[4]+1272893353&4294967295,L=A+(O<<11&4294967295|O>>>21),O=V+(L^A^I)+P[7]+4139469664&4294967295,V=L+(O<<16&4294967295|O>>>16),O=I+(V^L^A)+P[10]+3200236656&4294967295,I=V+(O<<23&4294967295|O>>>9),O=A+(I^V^L)+P[13]+681279174&4294967295,A=I+(O<<4&4294967295|O>>>28),O=L+(A^I^V)+P[0]+3936430074&4294967295,L=A+(O<<11&4294967295|O>>>21),O=V+(L^A^I)+P[3]+3572445317&4294967295,V=L+(O<<16&4294967295|O>>>16),O=I+(V^L^A)+P[6]+76029189&4294967295,I=V+(O<<23&4294967295|O>>>9),O=A+(I^V^L)+P[9]+3654602809&4294967295,A=I+(O<<4&4294967295|O>>>28),O=L+(A^I^V)+P[12]+3873151461&4294967295,L=A+(O<<11&4294967295|O>>>21),O=V+(L^A^I)+P[15]+530742520&4294967295,V=L+(O<<16&4294967295|O>>>16),O=I+(V^L^A)+P[2]+3299628645&4294967295,I=V+(O<<23&4294967295|O>>>9),O=A+(V^(I|~L))+P[0]+4096336452&4294967295,A=I+(O<<6&4294967295|O>>>26),O=L+(I^(A|~V))+P[7]+1126891415&4294967295,L=A+(O<<10&4294967295|O>>>22),O=V+(A^(L|~I))+P[14]+2878612391&4294967295,V=L+(O<<15&4294967295|O>>>17),O=I+(L^(V|~A))+P[5]+4237533241&4294967295,I=V+(O<<21&4294967295|O>>>11),O=A+(V^(I|~L))+P[12]+1700485571&4294967295,A=I+(O<<6&4294967295|O>>>26),O=L+(I^(A|~V))+P[3]+2399980690&4294967295,L=A+(O<<10&4294967295|O>>>22),O=V+(A^(L|~I))+P[10]+4293915773&4294967295,V=L+(O<<15&4294967295|O>>>17),O=I+(L^(V|~A))+P[1]+2240044497&4294967295,I=V+(O<<21&4294967295|O>>>11),O=A+(V^(I|~L))+P[8]+1873313359&4294967295,A=I+(O<<6&4294967295|O>>>26),O=L+(I^(A|~V))+P[15]+4264355552&4294967295,L=A+(O<<10&4294967295|O>>>22),O=V+(A^(L|~I))+P[6]+2734768916&4294967295,V=L+(O<<15&4294967295|O>>>17),O=I+(L^(V|~A))+P[13]+1309151649&4294967295,I=V+(O<<21&4294967295|O>>>11),O=A+(V^(I|~L))+P[4]+4149444226&4294967295,A=I+(O<<6&4294967295|O>>>26),O=L+(I^(A|~V))+P[11]+3174756917&4294967295,L=A+(O<<10&4294967295|O>>>22),O=V+(A^(L|~I))+P[2]+718787259&4294967295,V=L+(O<<15&4294967295|O>>>17),O=I+(L^(V|~A))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+L&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var I=A-this.blockSize,P=this.B,V=this.h,L=0;L<A;){if(V==0)for(;L<=I;)s(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<A;)if(P[V++]=D.charCodeAt(L++),V==this.blockSize){s(this,P),V=0;break}}else for(;L<A;)if(P[V++]=D[L++],V==this.blockSize){s(this,P),V=0;break}}this.h=V,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var I=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=I&255,I/=256;for(this.u(D),D=Array(16),A=I=0;4>A;++A)for(var P=0;32>P;P+=8)D[I++]=this.g[A]>>>P&255;return D};function o(D,A){var I=u;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=A(D)}function l(D,A){this.h=A;for(var I=[],P=!0,V=D.length-1;0<=V;V--){var L=D[V]|0;P&&L==A||(I[V]=L,P=!1)}this.g=I}var u={};function h(D){return-128<=D&&128>D?o(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return x;if(0>D)return R(f(-D));for(var A=[],I=1,P=0;D>=I;P++)A[P]=D/I|0,I*=4294967296;return new l(A,0)}function p(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return R(p(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(A,8)),P=x,V=0;V<D.length;V+=8){var L=Math.min(8,D.length-V),O=parseInt(D.substring(V,V+L),A);8>L?(L=f(Math.pow(A,L)),P=P.j(L).add(f(O))):(P=P.j(I),P=P.add(f(O)))}return P}var x=h(0),b=h(1),w=h(16777216);n=l.prototype,n.m=function(){if(C(this))return-R(this).m();for(var D=0,A=1,I=0;I<this.g.length;I++){var P=this.i(I);D+=(0<=P?P:4294967296+P)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(C(this))return"-"+R(this).toString(D);for(var A=f(Math.pow(D,6)),I=this,P="";;){var V=X(I,A).g;I=j(I,V.j(A));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=V,E(I))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function C(D){return D.h==-1}n.l=function(D){return D=j(this,D),C(D)?-1:E(D)?0:1};function R(D){for(var A=D.g.length,I=[],P=0;P<A;P++)I[P]=~D.g[P];return new l(I,~D.h).add(b)}n.abs=function(){return C(this)?R(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],P=0,V=0;V<=A;V++){var L=P+(this.i(V)&65535)+(D.i(V)&65535),O=(L>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);P=O>>>16,L&=65535,O&=65535,I[V]=O<<16|L}return new l(I,I[I.length-1]&-2147483648?-1:0)};function j(D,A){return D.add(R(A))}n.j=function(D){if(E(this)||E(D))return x;if(C(this))return C(D)?R(this).j(R(D)):R(R(this).j(D));if(C(D))return R(this.j(R(D)));if(0>this.l(w)&&0>D.l(w))return f(this.m()*D.m());for(var A=this.g.length+D.g.length,I=[],P=0;P<2*A;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<D.g.length;V++){var L=this.i(P)>>>16,O=this.i(P)&65535,nt=D.i(V)>>>16,rt=D.i(V)&65535;I[2*P+2*V]+=O*rt,F(I,2*P+2*V),I[2*P+2*V+1]+=L*rt,F(I,2*P+2*V+1),I[2*P+2*V+1]+=O*nt,F(I,2*P+2*V+1),I[2*P+2*V+2]+=L*nt,F(I,2*P+2*V+2)}for(P=0;P<A;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=A;P<2*A;P++)I[P]=0;return new l(I,0)};function F(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function B(D,A){this.g=D,this.h=A}function X(D,A){if(E(A))throw Error("division by zero");if(E(D))return new B(x,x);if(C(D))return A=X(R(D),A),new B(R(A.g),R(A.h));if(C(A))return A=X(D,R(A)),new B(R(A.g),A.h);if(30<D.g.length){if(C(D)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var I=b,P=A;0>=P.l(D);)I=q(I),P=q(P);var V=Q(I,1),L=Q(P,1);for(P=Q(P,2),I=Q(I,2);!E(P);){var O=L.add(P);0>=O.l(D)&&(V=V.add(I),L=O),P=Q(P,1),I=Q(I,1)}return A=j(D,V.j(A)),new B(V,A)}for(V=x;0<=D.l(A);){for(I=Math.max(1,Math.floor(D.m()/A.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=f(I),O=L.j(A);C(O)||0<O.l(D);)I-=P,L=f(I),O=L.j(A);E(L)&&(L=b),V=V.add(L),D=j(D,O)}return new B(V,D)}n.A=function(D){return X(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],P=0;P<A;P++)I[P]=this.i(P)&D.i(P);return new l(I,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],P=0;P<A;P++)I[P]=this.i(P)|D.i(P);return new l(I,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],P=0;P<A;P++)I[P]=this.i(P)^D.i(P);return new l(I,this.h^D.h)};function q(D){for(var A=D.g.length+1,I=[],P=0;P<A;P++)I[P]=D.i(P)<<1|D.i(P-1)>>>31;return new l(I,D.h)}function Q(D,A){var I=A>>5;A%=32;for(var P=D.g.length-I,V=[],L=0;L<P;L++)V[L]=0<A?D.i(L+I)>>>A|D.i(L+I+1)<<32-A:D.i(L+I);return new l(V,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qA=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,na=l}).apply(typeof uT<"u"?uT:typeof self<"u"?self:typeof window<"u"?window:{});var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $A,Du,GA,Ff,hy,QA,WA,KA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,T){return m==Array.prototype||m==Object.prototype||(m[_]=T.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof ff=="object"&&ff];for(var _=0;_<m.length;++_){var T=m[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function s(m,_){if(_)t:{var T=i;m=m.split(".");for(var k=0;k<m.length-1;k++){var W=m[k];if(!(W in T))break t;T=T[W]}m=m[m.length-1],k=T[m],_=_(k),_!=k&&_!=null&&t(T,m,{configurable:!0,writable:!0,value:_})}}function o(m,_){m instanceof String&&(m+="");var T=0,k=!1,W={next:function(){if(!k&&T<m.length){var st=T++;return{value:_(st,m[st]),done:!1}}return k=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(m){return m||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function f(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function p(m,_,T){return m.call.apply(m.bind,arguments)}function x(m,_,T){if(!m)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,k),m.apply(_,W)}}return function(){return m.apply(_,arguments)}}function b(m,_,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:x,b.apply(null,arguments)}function w(m,_){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),m.apply(this,k)}}function E(m,_){function T(){}T.prototype=_.prototype,m.aa=_.prototype,m.prototype=new T,m.prototype.constructor=m,m.Qb=function(k,W,st){for(var pt=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)pt[$t-2]=arguments[$t];return _.prototype[W].apply(k,pt)}}function C(m){const _=m.length;if(0<_){const T=Array(_);for(let k=0;k<_;k++)T[k]=m[k];return T}return[]}function R(m,_){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(h(k)){const W=m.length||0,st=k.length||0;m.length=W+st;for(let pt=0;pt<st;pt++)m[W+pt]=k[pt]}else m.push(k)}}class j{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function F(m){return/^[\s\xa0]*$/.test(m)}function B(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function X(m){return X[" "](m),m}X[" "]=function(){};var q=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Q(m,_,T){for(const k in m)_.call(T,m[k],k,m)}function D(m,_){for(const T in m)_.call(void 0,m[T],T,m)}function A(m){const _={};for(const T in m)_[T]=m[T];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(m,_){let T,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(T in k)m[T]=k[T];for(let st=0;st<I.length;st++)T=I[st],Object.prototype.hasOwnProperty.call(k,T)&&(m[T]=k[T])}}function V(m){var _=1;m=m.split(":");const T=[];for(;0<_&&m.length;)T.push(m.shift()),_--;return m.length&&T.push(m.join(":")),T}function L(m){u.setTimeout(()=>{throw m},0)}function O(){var m=gt;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class nt{constructor(){this.h=this.g=null}add(_,T){const k=rt.get();k.set(_,T),this.h?this.h.next=k:this.g=k,this.h=k}}var rt=new j(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ct=!1,gt=new nt,U=()=>{const m=u.Promise.resolve(void 0);J=()=>{m.then(it)}};var it=()=>{for(var m;m=O();){try{m.h.call(m.g)}catch(T){L(T)}var _=rt;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}ct=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return m}();function bt(m,_){if(et.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var T=this.type=m.type,k=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(q){t:{try{X(_.nodeName);var W=!0;break t}catch{}W=!1}W||(_=null)}}else T=="mouseover"?_=m.fromElement:T=="mouseout"&&(_=m.toElement);this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ft[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&bt.aa.h.call(this)}}E(bt,et);var ft={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Dt=0;function ee(m,_,T,k,W){this.listener=m,this.proxy=null,this.src=_,this.type=T,this.capture=!!k,this.ha=W,this.key=++Dt,this.da=this.fa=!1}function Ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function _t(m){this.src=m,this.g={},this.h=0}_t.prototype.add=function(m,_,T,k,W){var st=m.toString();m=this.g[st],m||(m=this.g[st]=[],this.h++);var pt=Mt(m,_,k,W);return-1<pt?(_=m[pt],T||(_.fa=!1)):(_=new ee(_,this.src,st,!!k,W),_.fa=T,m.push(_)),_};function Jt(m,_){var T=_.type;if(T in m.g){var k=m.g[T],W=Array.prototype.indexOf.call(k,_,void 0),st;(st=0<=W)&&Array.prototype.splice.call(k,W,1),st&&(Ve(_),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Mt(m,_,T,k){for(var W=0;W<m.length;++W){var st=m[W];if(!st.da&&st.listener==_&&st.capture==!!T&&st.ha==k)return W}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Ge={};function $n(m,_,T,k,W){if(Array.isArray(_)){for(var st=0;st<_.length;st++)$n(m,_[st],T,k,W);return null}return T=Bh(T),m&&m[At]?m.K(_,T,f(k)?!!k.capture:!1,W):jt(m,_,T,!1,k,W)}function jt(m,_,T,k,W,st){if(!_)throw Error("Invalid event type");var pt=f(W)?!!W.capture:!!W,$t=Do(m);if($t||(m[Ee]=$t=new _t(m)),T=$t.add(_,T,k,pt,st),T.proxy)return T;if(k=_s(),T.proxy=k,k.src=m,k.listener=T,m.addEventListener)mt||(W=pt),W===void 0&&(W=!1),m.addEventListener(_.toString(),k,W);else if(m.attachEvent)m.attachEvent(On(_.toString()),k);else if(m.addListener&&m.removeListener)m.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function _s(){function m(T){return _.call(m.src,m.listener,T)}const _=mc;return m}function Bi(m,_,T,k,W){if(Array.isArray(_))for(var st=0;st<_.length;st++)Bi(m,_[st],T,k,W);else k=f(k)?!!k.capture:!!k,T=Bh(T),m&&m[At]?(m=m.i,_=String(_).toString(),_ in m.g&&(st=m.g[_],T=Mt(st,T,k,W),-1<T&&(Ve(st[T]),Array.prototype.splice.call(st,T,1),st.length==0&&(delete m.g[_],m.h--)))):m&&(m=Do(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Mt(_,T,k,W)),(T=-1<m?_[m]:null)&&dr(T))}function dr(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[At])Jt(_.i,m);else{var T=m.type,k=m.proxy;_.removeEventListener?_.removeEventListener(T,k,m.capture):_.detachEvent?_.detachEvent(On(T),k):_.addListener&&_.removeListener&&_.removeListener(k),(T=Do(_))?(Jt(T,m),T.h==0&&(T.src=null,_[Ee]=null)):Ve(m)}}}function On(m){return m in Ge?Ge[m]:Ge[m]="on"+m}function mc(m,_){if(m.da)m=!0;else{_=new bt(_,this);var T=m.listener,k=m.ha||m.src;m.fa&&dr(m),m=T.call(k,_)}return m}function Do(m){return m=m[Ee],m instanceof _t?m:null}var pc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bh(m){return typeof m=="function"?m:(m[pc]||(m[pc]=function(_){return m.handleEvent(_)}),m[pc])}function Ae(){dt.call(this),this.i=new _t(this),this.M=this,this.F=null}E(Ae,dt),Ae.prototype[At]=!0,Ae.prototype.removeEventListener=function(m,_,T,k){Bi(this,m,_,T,k)};function se(m,_){var T,k=m.F;if(k)for(T=[];k;k=k.F)T.push(k);if(m=m.M,k=_.type||_,typeof _=="string")_=new et(_,m);else if(_ instanceof et)_.target=_.target||m;else{var W=_;_=new et(k,m),P(_,W)}if(W=!0,T)for(var st=T.length-1;0<=st;st--){var pt=_.g=T[st];W=Gn(pt,k,!0,_)&&W}if(pt=_.g=m,W=Gn(pt,k,!0,_)&&W,W=Gn(pt,k,!1,_)&&W,T)for(st=0;st<T.length;st++)pt=_.g=T[st],W=Gn(pt,k,!1,_)&&W}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var T=m.g[_],k=0;k<T.length;k++)Ve(T[k]);delete m.g[_],m.h--}}this.F=null},Ae.prototype.K=function(m,_,T,k){return this.i.add(String(m),_,!1,T,k)},Ae.prototype.L=function(m,_,T,k){return this.i.add(String(m),_,!0,T,k)};function Gn(m,_,T,k){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var W=!0,st=0;st<_.length;++st){var pt=_[st];if(pt&&!pt.da&&pt.capture==T){var $t=pt.listener,We=pt.ha||pt.src;pt.fa&&Jt(m.i,pt),W=$t.call(We,k)!==!1&&W}}return W&&!k.defaultPrevented}function vn(m,_,T){if(typeof m=="function")T&&(m=b(m,T));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(m,_||0)}function Fh(m){m.g=vn(()=>{m.g=null,m.i&&(m.i=!1,Fh(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class up extends dt{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Fh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ba(m){dt.call(this),this.h=m,this.g={}}E(ba,dt);var _a=[];function wa(m){Q(m.g,function(_,T){this.g.hasOwnProperty(T)&&dr(_)},m),m.g={}}ba.prototype.N=function(){ba.aa.N.call(this),wa(this)},ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=u.JSON.stringify,Mo=u.JSON.parse,Ta=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function gc(){}gc.prototype.h=null;function yc(m){return m.h||(m.h=m.i())}function vc(){}var ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ts(){et.call(this,"d")}E(Ts,et);function xc(){et.call(this,"c")}E(xc,et);var Fi={},bc=null;function fr(){return bc=bc||new Ae}Fi.La="serverreachability";function Po(m){et.call(this,Fi.La,m)}E(Po,et);function mr(m){const _=fr();se(_,new Po(_))}Fi.STAT_EVENT="statevent";function Hh(m,_){et.call(this,Fi.STAT_EVENT,m),this.stat=_}E(Hh,et);function ye(m){const _=fr();se(_,new Hh(_,m))}Fi.Ma="timingevent";function Qe(m,_){et.call(this,Fi.Ma,m),this.size=_}E(Qe,et);function Le(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function ii(){this.g=!0}ii.prototype.xa=function(){this.g=!1};function _c(m,_,T,k,W,st){m.info(function(){if(m.g)if(st)for(var pt="",$t=st.split("&"),We=0;We<$t.length;We++){var Gt=$t[We].split("=");if(1<Gt.length){var tn=Gt[0];Gt=Gt[1];var Ke=tn.split("_");pt=2<=Ke.length&&Ke[1]=="type"?pt+(tn+"="+Gt+"&"):pt+(tn+"=redacted&")}}else pt=null;else pt=st;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+_+`
`+T+`
`+pt})}function hp(m,_,T,k,W,st,pt){m.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+_+`
`+T+`
`+st+" "+pt})}function pr(m,_,T,k){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Sa(m,T)+(k?" "+k:"")})}function qh(m,_){m.info(function(){return"TIMEOUT: "+_})}ii.prototype.info=function(){};function Sa(m,_){if(!m.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(m=0;m<T.length;m++)if(Array.isArray(T[m])){var k=T[m];if(!(2>k.length)){var W=k[1];if(Array.isArray(W)&&!(1>W.length)){var st=W[0];if(st!="noop"&&st!="stop"&&st!="close")for(var pt=1;pt<W.length;pt++)W[pt]=""}}}}return Si(T)}catch{return _}}var gr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ss={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hi;function qi(){}E(qi,gc),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},Hi=new qi;function In(m,_,T,k){this.j=m,this.i=_,this.l=T,this.R=k||1,this.U=new ba(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var wc={},jo={};function Ei(m,_,T){m.L=1,m.v=Na(Qn(_)),m.m=T,m.P=!0,Es(m,null)}function Es(m,_){m.F=Date.now(),Ea(m),m.A=Qn(m.v);var T=m.A,k=m.R;Array.isArray(k)||(k=[String(k)]),Rc(T.i,"t",k),m.C=0,T=m.j.J,m.h=new Ie,m.g=ad(m.j,T?_:null,!m.m),0<m.O&&(m.M=new up(b(m.Y,m,m.g),m.O)),_=m.U,T=m.g,k=m.ca;var W="readystatechange";Array.isArray(W)||(W&&(_a[0]=W.toString()),W=_a);for(var st=0;st<W.length;st++){var pt=$n(T,W[st],k||_.handleEvent,!1,_.h||_);if(!pt)break;_.g[pt.key]=pt}_=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),mr(),_c(m.i,m.u,m.A,m.l,m.R,m.m)}In.prototype.ca=function(m){m=m.target;const _=this.M;_&&oi(m)==3?_.j():this.Y(m)},In.prototype.Y=function(m){try{if(m==this.g)t:{const Ke=oi(this.g);var _=this.g.Ba();const Ms=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||Zh(this.g)))){this.J||Ke!=4||_==7||(_==8||0>=Ms?mr(3):mr(2)),yr(this);var T=this.g.Z();this.X=T;e:if($h(this)){var k=Zh(this.g);m="";var W=k.length,st=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),$i(this);var pt="";break e}this.h.i=new u.TextDecoder}for(_=0;_<W;_++)this.h.h=!0,m+=this.h.i.decode(k[_],{stream:!(st&&_==W-1)});k.length=0,this.h.g+=m,this.C=0,pt=this.h.g}else pt=this.g.oa();if(this.o=T==200,hp(this.i,this.u,this.A,this.l,this.R,Ke,T),this.o){if(this.T&&!this.K){e:{if(this.g){var $t,We=this.g;if(($t=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F($t)){var Gt=$t;break e}}Gt=null}if(T=Gt)pr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,T);else{this.o=!1,this.s=3,ye(12),ln(this),$i(this);break t}}if(this.P){T=!0;let cn;for(;!this.J&&this.C<pt.length;)if(cn=Gh(this,pt),cn==jo){Ke==4&&(this.s=4,ye(14),T=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==wc){this.s=4,ye(15),pr(this.i,this.l,pt,"[Invalid Chunk]"),T=!1;break}else pr(this.i,this.l,cn,null),Aa(this,cn);if($h(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||pt.length!=0||this.h.h||(this.s=1,ye(16),T=!1),this.o=this.o&&T,!T)pr(this.i,this.l,pt,"[Invalid Chunked Response]"),ln(this),$i(this);else if(0<pt.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+pt.length),Va(tn),tn.M=!0,ye(11))}}else pr(this.i,this.l,pt,null),Aa(this,pt);Ke==4&&ln(this),this.o&&!this.J&&(Ke==4?id(this.j,this):(this.o=!1,Ea(this)))}else gp(this.g),T==400&&0<pt.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),ln(this),$i(this)}}}catch{}finally{}};function $h(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Gh(m,_){var T=m.C,k=_.indexOf(`
`,T);return k==-1?jo:(T=Number(_.substring(T,k)),isNaN(T)?wc:(k+=1,k+T>_.length?jo:(_=_.slice(k,k+T),m.C=k+T,_)))}In.prototype.cancel=function(){this.J=!0,ln(this)};function Ea(m){m.S=Date.now()+m.I,Qh(m,m.I)}function Qh(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Le(b(m.ba,m),_)}function yr(m){m.B&&(u.clearTimeout(m.B),m.B=null)}In.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(qh(this.i,this.A),this.L!=2&&(mr(),ye(17)),ln(this),this.s=2,$i(this)):Qh(this,this.S-m)};function $i(m){m.j.G==0||m.J||id(m.j,m)}function ln(m){yr(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,wa(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function Aa(m,_){try{var T=m.j;if(T.G!=0&&(T.g==m||Tc(T.h,m))){if(!m.K&&Tc(T.h,m)&&T.G==3){try{var k=T.Da.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<m.F)Qo(T),$o(T);else break t;Mc(T),ye(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=Le(b(T.Za,T),6e3));if(1>=Vo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ds(T,11)}else if((m.K||T.g==m)&&Qo(T),!F(_))for(W=T.Da.g.parse(_),_=0;_<W.length;_++){let Gt=W[_];if(T.T=Gt[0],Gt=Gt[1],T.G==2)if(Gt[0]=="c"){T.K=Gt[1],T.ia=Gt[2];const tn=Gt[3];tn!=null&&(T.la=tn,T.j.info("VER="+T.la));const Ke=Gt[4];Ke!=null&&(T.Aa=Ke,T.j.info("SVER="+T.Aa));const Ms=Gt[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(k=1.5*Ms,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const cn=m.g;if(cn){const Zi=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var st=k.h;st.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(Lo(st,st.h),st.h=null))}if(k.D){const jc=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;jc&&(k.ya=jc,le(k.I,k.D,jc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-m.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var pt=m;if(k.qa=rd(k,k.J?k.ia:null,k.W),pt.K){kn(k.h,pt);var $t=pt,We=k.L;We&&($t.I=We),$t.B&&(yr($t),Ea($t)),k.g=pt}else ed(k);0<T.i.length&&Go(T)}else Gt[0]!="stop"&&Gt[0]!="close"||Ds(T,7);else T.G==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ds(T,7):kc(T):Gt[0]!="noop"&&T.l&&T.l.ta(Gt),T.v=0)}}mr(4)}catch{}}var Wh=class{constructor(m,_){this.g=m,this.map=_}};function As(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Vo(m){return m.h?1:m.g?m.g.size:0}function Tc(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Lo(m,_){m.g?m.g.add(_):m.h=_}function kn(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}As.prototype.cancel=function(){if(this.i=Sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Sc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const T of m.g.values())_=_.concat(T.D);return _}return C(m.i)}function dp(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var _=[],T=m.length,k=0;k<T;k++)_.push(m[k]);return _}_=[],T=0;for(k in m)_[T++]=m[k];return _}function Uo(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var _=[];m=m.length;for(var T=0;T<m;T++)_.push(T);return _}_=[],T=0;for(const k in m)_[T++]=k;return _}}}function Ec(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var T=Uo(m),k=dp(m),W=k.length,st=0;st<W;st++)_.call(void 0,k[st],T&&T[st],m)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fp(m,_){if(m){m=m.split("&");for(var T=0;T<m.length;T++){var k=m[T].indexOf("="),W=null;if(0<=k){var st=m[T].substring(0,k);W=m[T].substring(k+1)}else st=m[T];_(st,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ue(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ue){this.h=m.h,Ra(this,m.j),this.o=m.o,this.g=m.g,vr(this,m.s),this.l=m.l;var _=m.i,T=new Rs;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Cs(this,T),this.m=m.m}else m&&(_=String(m).match(Ca))?(this.h=!1,Ra(this,_[1]||"",!0),this.o=si(_[2]||""),this.g=si(_[3]||"",!0),vr(this,_[4]),this.l=si(_[5]||"",!0),Cs(this,_[6]||"",!0),this.m=si(_[7]||"")):(this.h=!1,this.i=new Rs(null,this.h))}Ue.prototype.toString=function(){var m=[],_=this.j;_&&m.push(Ia(_,Ac,!0),":");var T=this.g;return(T||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Ia(_,Ac,!0),"@"),m.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&m.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(Ia(T,T.charAt(0)=="/"?mp:Cc,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",Ia(T,zo)),m.join("")};function Qn(m){return new Ue(m)}function Ra(m,_,T){m.j=T?si(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function vr(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function Cs(m,_,T){_ instanceof Rs?(m.i=_,Yh(m.i,m.h)):(T||(_=Ia(_,pp)),m.i=new Rs(_,m.h))}function le(m,_,T){m.i.set(_,T)}function Na(m){return le(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function si(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ia(m,_,T){return typeof m=="string"?(m=encodeURI(m).replace(_,Kh),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Kh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ac=/[#\/\?@]/g,Cc=/[#\?:]/g,mp=/[#\?]/g,pp=/[#\?@]/g,zo=/#/g;function Rs(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function ri(m){m.g||(m.g=new Map,m.h=0,m.i&&fp(m.i,function(_,T){m.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Rs.prototype,n.add=function(m,_){ri(this),this.i=null,m=Gi(this,m);var T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(_),this.h+=1,this};function Ns(m,_){ri(m),_=Gi(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function Is(m,_){return ri(m),_=Gi(m,_),m.g.has(_)}n.forEach=function(m,_){ri(this),this.g.forEach(function(T,k){T.forEach(function(W){m.call(_,W,k,this)},this)},this)},n.na=function(){ri(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let k=0;k<_.length;k++){const W=m[k];for(let st=0;st<W.length;st++)T.push(_[k])}return T},n.V=function(m){ri(this);let _=[];if(typeof m=="string")Is(this,m)&&(_=_.concat(this.g.get(Gi(this,m))));else{m=Array.from(this.g.values());for(let T=0;T<m.length;T++)_=_.concat(m[T])}return _},n.set=function(m,_){return ri(this),this.i=null,m=Gi(this,m),Is(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function Rc(m,_,T){Ns(m,_),0<T.length&&(m.i=null,m.g.set(Gi(m,_),C(T)),m.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var k=_[T];const st=encodeURIComponent(String(k)),pt=this.V(k);for(k=0;k<pt.length;k++){var W=st;pt[k]!==""&&(W+="="+encodeURIComponent(String(pt[k]))),m.push(W)}}return this.i=m.join("&")};function Gi(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Yh(m,_){_&&!m.j&&(ri(m),m.i=null,m.g.forEach(function(T,k){var W=k.toLowerCase();k!=W&&(Ns(this,k),Rc(this,W,T))},m)),m.j=_}function ka(m,_){const T=new ii;if(u.Image){const k=new Image;k.onload=w(ai,T,"TestLoadImage: loaded",!0,_,k),k.onerror=w(ai,T,"TestLoadImage: error",!1,_,k),k.onabort=w(ai,T,"TestLoadImage: abort",!1,_,k),k.ontimeout=w(ai,T,"TestLoadImage: timeout",!1,_,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=m}else _(!1)}function Ai(m,_){const T=new ii,k=new AbortController,W=setTimeout(()=>{k.abort(),ai(T,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:k.signal}).then(st=>{clearTimeout(W),st.ok?ai(T,"TestPingServer: ok",!0,_):ai(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),ai(T,"TestPingServer: error",!1,_)})}function ai(m,_,T,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(T)}catch{}}function Da(){this.g=new Ta}function Qi(m,_,T){const k=T||"";try{Ec(m,function(W,st){let pt=W;f(W)&&(pt=Si(W)),_.push(k+st+"="+encodeURIComponent(pt))})}catch(W){throw _.push(k+"type="+encodeURIComponent("_badmap")),W}}function xr(m){this.l=m.Ub||null,this.j=m.eb||!1}E(xr,gc),xr.prototype.g=function(){return new ks(this.l,this.j)},xr.prototype.i=function(m){return function(){return m}}({});function ks(m,_){Ae.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ks,Ae),n=ks.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Ki(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Wi(this):Ki(this),this.readyState==3&&Nc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Wi(this))},n.Qa=function(m){this.g&&(this.response=m,Wi(this))},n.ga=function(){this.g&&Wi(this)};function Wi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ki(m)}n.setRequestHeader=function(m,_){this.u.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=_.next();return m.join(`\r
`)};function Ki(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ic(m){let _="";return Q(m,function(T,k){_+=k,_+=":",_+=T,_+=`\r
`}),_}function Je(m,_,T){t:{for(k in T){var k=!1;break t}k=!0}k||(T=Ic(T),typeof m=="string"?T!=null&&encodeURIComponent(String(T)):le(m,_,T))}function ne(m){Ae.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ne,Ae);var Bo=/^https?$/i,Ma=["POST","PUT"];n=ne.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,_,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hi.g(),this.v=this.o?yc(this.o):yc(Hi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(st){Xh(this,st);return}if(m=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)T.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const st of k.keys())T.set(st,k.get(st));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(st=>st.toLowerCase()=="content-type"),W=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ma,_,void 0))||k||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,pt]of T)this.g.setRequestHeader(st,pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pa(this),this.u=!0,this.g.send(m),this.u=!1}catch(st){Xh(this,st)}};function Xh(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,Fo(m),Yi(m)}function Fo(m){m.A||(m.A=!0,se(m,"complete"),se(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,se(this,"complete"),se(this,"abort"),Yi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ho(this):this.bb())},n.bb=function(){Ho(this)};function Ho(m){if(m.h&&typeof l<"u"&&(!m.v[1]||oi(m)!=4||m.Z()!=2)){if(m.u&&oi(m)==4)vn(m.Ea,0,m);else if(se(m,"readystatechange"),oi(m)==4){m.h=!1;try{const pt=m.Z();t:switch(pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var T;if(!(T=_)){var k;if(k=pt===0){var W=String(m.D).match(Ca)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),k=!Bo.test(W?W.toLowerCase():"")}T=k}if(T)se(m,"complete"),se(m,"success");else{m.m=6;try{var st=2<oi(m)?m.g.statusText:""}catch{st=""}m.l=st+" ["+m.Z()+"]",Fo(m)}}finally{Yi(m)}}}}function Yi(m,_){if(m.g){Pa(m);const T=m.g,k=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||se(m,"ready");try{T.onreadystatechange=k}catch{}}}function Pa(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function oi(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Mo(_)}};function Zh(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function gp(m){const _={};m=(m.g&&2<=oi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<m.length;k++){if(F(m[k]))continue;var T=V(m[k]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const st=_[W]||[];_[W]=st,st.push(T)}D(_,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(m,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||_}function qo(m){this.Aa=0,this.i=[],this.j=new ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,m),this.cb=ja("retryDelaySeedMs",1e4,m),this.Wa=ja("forwardChannelMaxRetries",2,m),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new As(m&&m.concurrentRequestLimit),this.Da=new Da,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qo.prototype,n.la=8,n.G=1,n.connect=function(m,_,T,k){ye(0),this.W=m,this.H=_||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=rd(this,null,this.W),Go(this)};function kc(m){if(Jh(m),m.G==3){var _=m.U++,T=Qn(m.I);if(le(T,"SID",m.K),le(T,"RID",_),le(T,"TYPE","terminate"),Oa(m,T),_=new In(m,m.j,_),_.L=2,_.v=Na(Qn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.v,T=!0),T||(_.g=ad(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ea(_)}sd(m)}function $o(m){m.g&&(Va(m),m.g.cancel(),m.g=null)}function Jh(m){$o(m),m.u&&(u.clearTimeout(m.u),m.u=null),Qo(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Go(m){if(!Oo(m.h)&&!m.s){m.s=!0;var _=m.Ga;J||U(),ct||(J(),ct=!0),gt.add(_,m),m.B=0}}function yp(m,_){return Vo(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Le(b(m.Ga,m,_),Pc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const W=new In(this,this.j,m);let st=this.o;if(this.S&&(st?(st=A(st),P(st,this.S)):st=this.S),this.m!==null||this.O||(W.H=st,st=null),this.P)t:{for(var _=0,T=0;T<this.i.length;T++){e:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break e}k=void 0}if(k===void 0)break;if(_+=k,4096<_){_=T;break t}if(_===4096||T===this.i.length-1){_=T+1;break t}}_=1e3}else _=1e3;_=td(this,W,_),T=Qn(this.I),le(T,"RID",m),le(T,"CVER",22),this.D&&le(T,"X-HTTP-Session-Id",this.D),Oa(this,T),st&&(this.O?_="headers="+encodeURIComponent(String(Ic(st)))+"&"+_:this.m&&Je(T,this.m,st)),Lo(this.h,W),this.Ua&&le(T,"TYPE","init"),this.P?(le(T,"$req",_),le(T,"SID","null"),W.T=!0,Ei(W,T,null)):Ei(W,T,_),this.G=2}}else this.G==3&&(m?Dc(this,m):this.i.length==0||Oo(this.h)||Dc(this))};function Dc(m,_){var T;_?T=_.l:T=m.U++;const k=Qn(m.I);le(k,"SID",m.K),le(k,"RID",T),le(k,"AID",m.T),Oa(m,k),m.m&&m.o&&Je(k,m.m,m.o),T=new In(m,m.j,T,m.B+1),m.m===null&&(T.H=m.o),_&&(m.i=_.D.concat(m.i)),_=td(m,T,1e3),T.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Lo(m.h,T),Ei(T,k,_)}function Oa(m,_){m.H&&Q(m.H,function(T,k){le(_,k,T)}),m.l&&Ec({},function(T,k){le(_,k,T)})}function td(m,_,T){T=Math.min(m.i.length,T);var k=m.l?b(m.l.Na,m.l,m):null;t:{var W=m.i;let st=-1;for(;;){const pt=["count="+T];st==-1?0<T?(st=W[0].g,pt.push("ofs="+st)):st=0:pt.push("ofs="+st);let $t=!0;for(let We=0;We<T;We++){let Gt=W[We].g;const tn=W[We].map;if(Gt-=st,0>Gt)st=Math.max(0,W[We].g-100),$t=!1;else try{Qi(tn,pt,"req"+Gt+"_")}catch{k&&k(tn)}}if($t){k=pt.join("&");break t}}}return m=m.i.splice(0,T),_.D=m,k}function ed(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;J||U(),ct||(J(),ct=!0),gt.add(_,m),m.v=0}}function Mc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Le(b(m.Fa,m),Pc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,nd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Le(b(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),$o(this),nd(this))};function Va(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function nd(m){m.g=new In(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=Qn(m.qa);le(_,"RID","rpc"),le(_,"SID",m.K),le(_,"AID",m.T),le(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&le(_,"TO",m.ja),le(_,"TYPE","xmlhttp"),Oa(m,_),m.m&&m.o&&Je(_,m.m,m.o),m.L&&(m.g.I=m.L);var T=m.g;m=m.ia,T.L=1,T.v=Na(Qn(_)),T.m=null,T.P=!0,Es(T,m)}n.Za=function(){this.C!=null&&(this.C=null,$o(this),Mc(this),ye(19))};function Qo(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function id(m,_){var T=null;if(m.g==_){Qo(m),Va(m),m.g=null;var k=2}else if(Tc(m.h,_))T=_.D,kn(m.h,_),k=1;else return;if(m.G!=0){if(_.o)if(k==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var W=m.B;k=fr(),se(k,new Qe(k,T)),Go(m)}else ed(m);else if(W=_.s,W==3||W==0&&0<_.X||!(k==1&&yp(m,_)||k==2&&Mc(m)))switch(T&&0<T.length&&(_=m.h,_.i=_.i.concat(T)),W){case 1:Ds(m,5);break;case 4:Ds(m,10);break;case 3:Ds(m,6);break;default:Ds(m,2)}}}function Pc(m,_){let T=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(T*=2),T*_}function Ds(m,_){if(m.j.info("Error code "+_),_==2){var T=b(m.fb,m),k=m.Xa;const W=!k;k=new Ue(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ra(k,"https"),Na(k),W?ka(k.toString(),T):Ai(k.toString(),T)}else ye(2);m.G=0,m.l&&m.l.sa(_),sd(m),Jh(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function sd(m){if(m.G=0,m.ka=[],m.l){const _=Sc(m.h);(_.length!=0||m.i.length!=0)&&(R(m.ka,_),R(m.ka,m.i),m.h.i.length=0,C(m.i),m.i.length=0),m.l.ra()}}function rd(m,_,T){var k=T instanceof Ue?Qn(T):new Ue(T);if(k.g!="")_&&(k.g=_+"."+k.g),vr(k,k.s);else{var W=u.location;k=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;var st=new Ue(null);k&&Ra(st,k),_&&(st.g=_),W&&vr(st,W),T&&(st.l=T),k=st}return T=m.D,_=m.ya,T&&_&&le(k,T,_),le(k,"VER",m.la),Oa(m,k),k}function ad(m,_,T){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new ne(new xr({eb:T})):new ne(m.pa),_.Ha(m.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function od(){}n=od.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wo(){}Wo.prototype.g=function(m,_){return new Dn(m,_)};function Dn(m,_){Ae.call(this),this.g=new qo(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!F(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!F(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Xi(this)}E(Dn,Ae),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){kc(this.g)},Dn.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.u&&(T={},T.__data__=Si(m),m=T);_.i.push(new Wh(_.Ya++,m)),_.G==3&&Go(_)},Dn.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,Dn.aa.N.call(this)};function ld(m){Ts.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){t:{for(const T in _){m=T;break t}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}E(ld,Ts);function cd(){xc.call(this),this.status=1}E(cd,xc);function Xi(m){this.g=m}E(Xi,od),Xi.prototype.ua=function(){se(this.g,"a")},Xi.prototype.ta=function(m){se(this.g,new ld(m))},Xi.prototype.sa=function(m){se(this.g,new cd)},Xi.prototype.ra=function(){se(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,KA=function(){return new Wo},WA=function(){return fr()},QA=Fi,hy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Ff=gr,Ss.COMPLETE="complete",GA=Ss,vc.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,Du=vc,ne.prototype.listenOnce=ne.prototype.L,ne.prototype.getLastError=ne.prototype.Ka,ne.prototype.getLastErrorCode=ne.prototype.Ba,ne.prototype.getStatus=ne.prototype.Z,ne.prototype.getResponseJson=ne.prototype.Oa,ne.prototype.getResponseText=ne.prototype.oa,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Ha,$A=ne}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});const hT="@firebase/firestore",dT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new hv("@firebase/firestore");function Sl(){return To.logLevel}function vt(n,...t){if(To.logLevel<=Ft.DEBUG){const e=t.map(Sv);To.debug(`Firestore (${sc}): ${n}`,...e)}}function ar(n,...t){if(To.logLevel<=Ft.ERROR){const e=t.map(Sv);To.error(`Firestore (${sc}): ${n}`,...e)}}function Fl(n,...t){if(To.logLevel<=Ft.WARN){const e=t.map(Sv);To.warn(`Firestore (${sc}): ${n}`,...e)}}function Sv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,YA(n,i,e)}function YA(n,t,e){let i=`FIRESTORE (${sc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ar(i),new Error(i)}function ie(n,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,n||YA(t,s,i)}function Ot(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends ur{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class JO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Tn.UNAUTHENTICATED))}shutdown(){}}class t5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class e5{constructor(t){this.t=t,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ie(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let o=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new nr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new nr)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ie(typeof i.accessToken=="string",31837,{l:i}),new XA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ie(t===null||typeof t=="string",2055,{h:t}),new Tn(t)}}class n5{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i5{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new n5(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s5{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ie(this.o===void 0,3512);const i=o=>{o.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ie(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new fT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=r5(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%62))}return i}}function Ht(n,t){return n<t?-1:n>t?1:0}function dy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const s=n.charAt(i),o=t.charAt(i);if(s!==o)return T0(s)===T0(o)?Ht(s,o):T0(s)?1:-1}return Ht(n.length,t.length)}const a5=55296,o5=57343;function T0(n){const t=n.charCodeAt(0);return t>=a5&&t<=o5}function Hl(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__name__";class os{constructor(t,e,i){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Rt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return os.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof os?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=os.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return Ht(t.length,e.length)}static compareSegments(t,e){const i=os.isNumericId(t),s=os.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?os.extractNumericId(t).compare(os.extractNumericId(e)):dy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return na.fromString(t.substring(4,t.length-2))}}class me extends os{construct(t,e,i){return new me(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new yt(lt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new me(e)}static emptyPath(){return new me([])}}const l5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends os{construct(t,e,i){return new pn(t,e,i)}static isValidIdentifier(t){return l5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mT}static keyField(){return new pn([mT])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(i.length===0)throw new yt(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new yt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new yt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(o(),s++)}if(o(),l)throw new yt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pn(e)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(me.fromString(t))}static fromName(t){return new Tt(me.fromString(t).popFirst(5))}static empty(){return new Tt(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return me.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new me(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n,t,e){if(!e)throw new yt(lt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function c5(n,t,e,i){if(t===!0&&i===!0)throw new yt(lt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function pT(n){if(!Tt.isDocumentKey(n))throw new yt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gT(n){if(Tt.isDocumentKey(n))throw new yt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function bi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Fm(n);throw new yt(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,t){const e={typeString:n};return t&&(e.value=t),e}function kh(n,t){if(!JA(n))throw new yt(lt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const s=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(s&&typeof l!==s){e=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new yt(lt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=-62135596800,vT=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*vT);return new ge(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<yT)throw new yt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vT}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(kh(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:$e("string",ge._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new ge(0,0))}static max(){return new Pt(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=-1;function u5(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Pt.fromTimestamp(i===1e9?new ge(e+1,0):new ge(e,i));return new aa(s,Tt.empty(),t)}function h5(n){return new aa(n.readTime,n.key,rh)}class aa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new aa(Pt.min(),Tt.empty(),rh)}static max(){return new aa(Pt.max(),Tt.empty(),rh)}}function d5(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Tt.comparator(n.documentKey,t.documentKey),e!==0?e:Ht(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(n){if(n.code!==lt.FAILED_PRECONDITION||n.message!==f5)throw n;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.reject(e)}static resolve(t){return new ht((e,i)=>{e(t)})}static reject(t){return new ht((e,i)=>{i(t)})}static waitFor(t){return new ht((e,i)=>{let s=0,o=0,l=!1;t.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&e()},h=>i(h))}),l=!0,o===s&&e()})}static or(t){let e=ht.resolve(!1);for(const i of t)e=e.next(s=>s?ht.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,o)=>{i.push(e.call(this,s,o))}),this.waitFor(i)}static mapArray(t,e){return new ht((i,s)=>{const o=t.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;e(t[f]).next(p=>{l[f]=p,++u,u===o&&i(l)},p=>s(p))}})}static doWhile(t,e){return new ht((i,s)=>{const o=()=>{t()===!0?e().next(()=>{o()},s):i()};o()})}}function p5(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ac(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Hm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-1;function qm(n){return n==null}function cm(n){return n===0&&1/n==-1/0}function g5(n){return typeof n=="number"&&Number.isInteger(n)&&!cm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="";function y5(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=xT(t)),t=v5(n.get(e),t);return xT(t)}function v5(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case tC:e+="";break;default:e+=o}}return e}function xT(n){return n+tC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ao(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function eC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,e){this.comparator=t,this.root=e||mn.EMPTY}insert(t,e){return new Se(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(t){return new Se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mf(this.root,t,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mf(this.root,t,this.comparator,!0)}}class mf{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mn{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=i??mn.RED,this.left=s??mn.EMPTY,this.right=o??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new mn(t??this.key,e??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return mn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,i,s,o){return this}insert(t,e,i){return new mn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.comparator=t,this.data=new Se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new _T(this.data.getIterator())}getIteratorFrom(t){return new _T(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ze(this.comparator);return e.data=t,e}}class _T{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.fields=t,t.sort(pn.comparator)}static empty(){return new Di([])}unionWith(t){let e=new Ze(pn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Di(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Hl(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nC("Invalid base64 string: "+o):o}}(t);return new yn(e)}static fromUint8Array(t){const e=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(t);return new yn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const x5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(n){if(ie(!!n,39018),typeof n=="string"){let t=0;const e=x5.exec(n);if(ie(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function la(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="server_timestamp",sC="__type__",rC="__previous_value__",aC="__local_write_time__";function Cv(n){return(n?.mapValue?.fields||{})[sC]?.stringValue===iC}function $m(n){const t=n.mapValue.fields[rC];return Cv(t)?$m(t):t}function ah(n){const t=oa(n.mapValue.fields[aC].timestampValue);return new ge(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,e,i,s,o,l,u,h,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const um="(default)";class oh{constructor(t,e){this.projectId=t,this.database=e||um}static empty(){return new oh("","")}get isDefaultDatabase(){return this.database===um}isEqual(t){return t instanceof oh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="__type__",_5="__max__",pf={mapValue:{}},lC="__vector__",hm="value";function ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cv(n)?4:T5(n)?9007199254740991:w5(n)?10:11:Rt(28295,{value:n})}function vs(n,t){if(n===t)return!0;const e=ca(n);if(e!==ca(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ah(n).isEqual(ah(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=oa(s.timestampValue),u=oa(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,o){return la(s.bytesValue).isEqual(la(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,o){return Pe(s.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(s.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)}(n,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Pe(s.integerValue)===Pe(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Pe(s.doubleValue),u=Pe(o.doubleValue);return l===u?cm(l)===cm(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Hl(n.arrayValue.values||[],t.arrayValue.values||[],vs);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(bT(l)!==bT(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!vs(l[h],u[h])))return!1;return!0}(n,t);default:return Rt(52216,{left:n})}}function lh(n,t){return(n.values||[]).find(e=>vs(e,t))!==void 0}function ql(n,t){if(n===t)return 0;const e=ca(n),i=ca(t);if(e!==i)return Ht(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,t.booleanValue);case 2:return function(o,l){const u=Pe(o.integerValue||o.doubleValue),h=Pe(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return wT(n.timestampValue,t.timestampValue);case 4:return wT(ah(n),ah(t));case 5:return dy(n.stringValue,t.stringValue);case 6:return function(o,l){const u=la(o),h=la(l);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=Ht(u[f],h[f]);if(p!==0)return p}return Ht(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,l){const u=Ht(Pe(o.latitude),Pe(l.latitude));return u!==0?u:Ht(Pe(o.longitude),Pe(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return TT(n.arrayValue,t.arrayValue);case 10:return function(o,l){const u=o.fields||{},h=l.fields||{},f=u[hm]?.arrayValue,p=h[hm]?.arrayValue,x=Ht(f?.values?.length||0,p?.values?.length||0);return x!==0?x:TT(f,p)}(n.mapValue,t.mapValue);case 11:return function(o,l){if(o===pf.mapValue&&l===pf.mapValue)return 0;if(o===pf.mapValue)return 1;if(l===pf.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let x=0;x<h.length&&x<p.length;++x){const b=dy(h[x],p[x]);if(b!==0)return b;const w=ql(u[h[x]],f[p[x]]);if(w!==0)return w}return Ht(h.length,p.length)}(n.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function wT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ht(n,t);const e=oa(n),i=oa(t),s=Ht(e.seconds,i.seconds);return s!==0?s:Ht(e.nanos,i.nanos)}function TT(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const o=ql(e[s],i[s]);if(o)return o}return Ht(e.length,i.length)}function $l(n){return fy(n)}function fy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=oa(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return la(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Tt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const o of e.values||[])s?s=!1:i+=",",i+=fy(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${fy(e.fields[l])}`;return s+"}"}(n.mapValue):Rt(61005,{value:n})}function Hf(n){switch(ca(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$m(n);return t?16+Hf(t):16;case 5:return 2*n.stringValue.length;case 6:return la(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Hf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ao(i.fields,(o,l)=>{s+=o.length+Hf(l)}),s}(n.mapValue);default:throw Rt(13486,{value:n})}}function ST(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function my(n){return!!n&&"integerValue"in n}function Rv(n){return!!n&&"arrayValue"in n}function ET(n){return!!n&&"nullValue"in n}function AT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qf(n){return!!n&&"mapValue"in n}function w5(n){return(n?.mapValue?.fields||{})[oC]?.stringValue===lC}function Fu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ao(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Fu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Fu(n.arrayValue.values[e]);return t}return{...n}}function T5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this.value=t}static empty(){return new vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!qf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fu(e)}setAll(t){let e=pn.emptyPath(),i={},s=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,s),i={},s=[],e=u.popLast()}l?i[u.lastSegment()]=Fu(l):s.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());qf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return vs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];qf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Ao(e,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new vi(Fu(this.value))}}function cC(n){const t=[];return Ao(n.fields,(e,i)=>{const s=new pn([e]);if(qf(i)){const o=cC(i.mapValue).fields;if(o.length===0)t.push(s);else for(const l of o)t.push(s.child(l))}else t.push(s)}),new Di(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t,e,i,s,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Sn(t,0,Pt.min(),Pt.min(),Pt.min(),vi.empty(),0)}static newFoundDocument(t,e,i,s){return new Sn(t,1,e,Pt.min(),i,s,0)}static newNoDocument(t,e){return new Sn(t,2,e,Pt.min(),Pt.min(),vi.empty(),0)}static newUnknownDocument(t,e){return new Sn(t,3,e,Pt.min(),Pt.min(),vi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,e){this.position=t,this.inclusive=e}}function CT(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],l=n.position[s];if(o.field.isKeyField()?i=Tt.comparator(Tt.fromName(l.referenceValue),e.key):i=ql(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function RT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!vs(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,e="asc"){this.field=t,this.dir=e}}function S5(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{}class qe extends uC{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new A5(t,e,i):e==="array-contains"?new N5(t,i):e==="in"?new I5(t,i):e==="not-in"?new k5(t,i):e==="array-contains-any"?new D5(t,i):new qe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new C5(t,i):new R5(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(ql(e,this.value)):e!==null&&ca(this.value)===ca(e)&&this.matchesComparison(ql(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends uC{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Li(t,e)}matches(t){return hC(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hC(n){return n.op==="and"}function dC(n){return E5(n)&&hC(n)}function E5(n){for(const t of n.filters)if(t instanceof Li)return!1;return!0}function py(n){if(n instanceof qe)return n.field.canonicalString()+n.op.toString()+$l(n.value);if(dC(n))return n.filters.map(t=>py(t)).join(",");{const t=n.filters.map(e=>py(e)).join(",");return`${n.op}(${t})`}}function fC(n,t){return n instanceof qe?function(i,s){return s instanceof qe&&i.op===s.op&&i.field.isEqual(s.field)&&vs(i.value,s.value)}(n,t):n instanceof Li?function(i,s){return s instanceof Li&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,u)=>o&&fC(l,s.filters[u]),!0):!1}(n,t):void Rt(19439)}function mC(n){return n instanceof qe?function(e){return`${e.field.canonicalString()} ${e.op} ${$l(e.value)}`}(n):n instanceof Li?function(e){return e.op.toString()+" {"+e.getFilters().map(mC).join(" ,")+"}"}(n):"Filter"}class A5 extends qe{constructor(t,e,i){super(t,e,i),this.key=Tt.fromName(i.referenceValue)}matches(t){const e=Tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class C5 extends qe{constructor(t,e){super(t,"in",e),this.keys=pC("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class R5 extends qe{constructor(t,e){super(t,"not-in",e),this.keys=pC("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function pC(n,t){return(t.arrayValue?.values||[]).map(e=>Tt.fromName(e.referenceValue))}class N5 extends qe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Rv(e)&&lh(e.arrayValue,this.value)}}class I5 extends qe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&lh(this.value.arrayValue,e)}}class k5 extends qe{constructor(t,e){super(t,"not-in",e)}matches(t){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!lh(this.value.arrayValue,e)}}class D5 extends qe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Rv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>lh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(t,e=null,i=[],s=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function NT(n,t=null,e=[],i=[],s=null,o=null,l=null){return new M5(n,t,e,i,s,o,l)}function Nv(n){const t=Ot(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>py(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),qm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>$l(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>$l(i)).join(",")),t.Te=e}return t.Te}function Iv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!S5(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!fC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!RT(n.startAt,t.startAt)&&RT(n.endAt,t.endAt)}function gy(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,e=null,i=[],s=[],o=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P5(n,t,e,i,s,o,l,u){return new oc(n,t,e,i,s,o,l,u)}function Gm(n){return new oc(n)}function IT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gC(n){return n.collectionGroup!==null}function Hu(n){const t=Ot(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ze(pn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new ch(o,i))}),e.has(pn.keyField().canonicalString())||t.Ie.push(new ch(pn.keyField(),i))}return t.Ie}function cs(n){const t=Ot(n);return t.Ee||(t.Ee=j5(t,Hu(n))),t.Ee}function j5(n,t){if(n.limitType==="F")return NT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new ch(s.field,o)});const e=n.endAt?new dm(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new dm(n.startAt.position,n.startAt.inclusive):null;return NT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function yy(n,t){const e=n.filters.concat([t]);return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function vy(n,t,e){return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Qm(n,t){return Iv(cs(n),cs(t))&&n.limitType===t.limitType}function yC(n){return`${Nv(cs(n))}|lt:${n.limitType}`}function El(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>mC(s)).join(", ")}]`),qm(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>$l(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>$l(s)).join(",")),`Target(${i})`}(cs(n))}; limitType=${n.limitType})`}function Wm(n,t){return t.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Tt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,s){for(const o of Hu(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,u,h){const f=CT(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,Hu(i),s)||i.endAt&&!function(l,u,h){const f=CT(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,Hu(i),s))}(n,t)}function O5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vC(n){return(t,e)=>{let i=!1;for(const s of Hu(n)){const o=V5(s,t,e);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function V5(n,t,e){const i=n.field.isKeyField()?Tt.comparator(t.key,e.key):function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?ql(h,f):Rt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ao(this.inner,(e,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return eC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new Se(Tt.comparator);function or(){return L5}const xC=new Se(Tt.comparator);function Mu(...n){let t=xC;for(const e of n)t=t.insert(e.key,e);return t}function bC(n){let t=xC;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function lo(){return qu()}function _C(){return qu()}function qu(){return new Co(n=>n.toString(),(n,t)=>n.isEqual(t))}const U5=new Se(Tt.comparator),z5=new Ze(Tt.comparator);function qt(...n){let t=z5;for(const e of n)t=t.add(e);return t}const B5=new Ze(Ht);function F5(){return B5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cm(t)?"-0":t}}function wC(n){return{integerValue:""+n}}function H5(n,t){return g5(t)?wC(t):kv(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this._=void 0}}function q5(n,t,e){return n instanceof fm?function(s,o){const l={fields:{[sC]:{stringValue:iC},[aC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Cv(o)&&(o=$m(o)),o&&(l.fields[rC]=o),{mapValue:l}}(e,t):n instanceof uh?SC(n,t):n instanceof hh?EC(n,t):function(s,o){const l=TC(s,o),u=kT(l)+kT(s.Ae);return my(l)&&my(s.Ae)?wC(u):kv(s.serializer,u)}(n,t)}function $5(n,t,e){return n instanceof uh?SC(n,t):n instanceof hh?EC(n,t):e}function TC(n,t){return n instanceof mm?function(i){return my(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class fm extends Km{}class uh extends Km{constructor(t){super(),this.elements=t}}function SC(n,t){const e=AC(t);for(const i of n.elements)e.some(s=>vs(s,i))||e.push(i);return{arrayValue:{values:e}}}class hh extends Km{constructor(t){super(),this.elements=t}}function EC(n,t){let e=AC(t);for(const i of n.elements)e=e.filter(s=>!vs(s,i));return{arrayValue:{values:e}}}class mm extends Km{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function kT(n){return Pe(n.integerValue||n.doubleValue)}function AC(n){return Rv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function G5(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof uh&&s instanceof uh||i instanceof hh&&s instanceof hh?Hl(i.elements,s.elements,vs):i instanceof mm&&s instanceof mm?vs(i.Ae,s.Ae):i instanceof fm&&s instanceof fm}(n.transform,t.transform)}class Q5{constructor(t,e){this.version=t,this.transformResults=e}}class Vi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Vi}static exists(t){return new Vi(void 0,t)}static updateTime(t){return new Vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $f(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Ym{}function CC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Dv(n.key,Vi.none()):new Dh(n.key,n.data,Vi.none());{const e=n.data,i=vi.empty();let s=new Ze(pn.comparator);for(let o of t.fields)if(!s.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Ro(n.key,i,new Di(s.toArray()),Vi.none())}}function W5(n,t,e){n instanceof Dh?function(s,o,l){const u=s.value.clone(),h=MT(s.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Ro?function(s,o,l){if(!$f(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=MT(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(RC(s)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function $u(n,t,e,i){return n instanceof Dh?function(o,l,u,h){if(!$f(o.precondition,l))return u;const f=o.value.clone(),p=PT(o.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ro?function(o,l,u,h){if(!$f(o.precondition,l))return u;const f=PT(o.fieldTransforms,h,l),p=l.data;return p.setAll(RC(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,t,e,i):function(o,l,u){return $f(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function K5(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=TC(i.transform,s||null);o!=null&&(e===null&&(e=vi.empty()),e.set(i.field,o))}return e||null}function DT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Hl(i,s,(o,l)=>G5(o,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Dh extends Ym{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ro extends Ym{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function RC(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function MT(n,t,e){const i=new Map;ie(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let s=0;s<e.length;s++){const o=n[s],l=o.transform,u=t.data.field(o.field);i.set(o.field,$5(l,u,e[s]))}return i}function PT(n,t,e){const i=new Map;for(const s of n){const o=s.transform,l=e.data.field(s.field);i.set(s.field,q5(o,l,t))}return i}class Dv extends Ym{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y5 extends Ym{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&W5(o,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=$u(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=$u(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=_C();return this.mutations.forEach(s=>{const o=t.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(s.key)?null:u;const h=CC(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Pt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),qt())}isEqual(t){return this.batchId===t.batchId&&Hl(this.mutations,t.mutations,(e,i)=>DT(e,i))&&Hl(this.baseMutations,t.baseMutations,(e,i)=>DT(e,i))}}class Mv{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){ie(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return U5}();const o=t.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new Mv(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,Wt;function t3(n){switch(n){case lt.OK:return Rt(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return Rt(15467,{code:n})}}function NC(n){if(n===void 0)return ar("GRPC error has no .code"),lt.UNKNOWN;switch(n){case Fe.OK:return lt.OK;case Fe.CANCELLED:return lt.CANCELLED;case Fe.UNKNOWN:return lt.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return lt.INTERNAL;case Fe.UNAVAILABLE:return lt.UNAVAILABLE;case Fe.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Fe.NOT_FOUND:return lt.NOT_FOUND;case Fe.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Fe.ABORTED:return lt.ABORTED;case Fe.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Fe.DATA_LOSS:return lt.DATA_LOSS;default:return Rt(39323,{code:n})}}(Wt=Fe||(Fe={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new na([4294967295,4294967295],0);function jT(n){const t=e3().encode(n),e=new qA;return e.update(t),new Uint8Array(e.digest())}function OT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new na([e,i],0),new na([s,o],0)]}class Pv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Pu(`Invalid padding: ${e}`);if(i<0)throw new Pu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=na.fromNumber(this.ge)}ye(t,e,i){let s=t.add(e.multiply(na.fromNumber(i)));return s.compare(n3)===1&&(s=new na([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=jT(t),[i,s]=OT(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,s,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new Pv(o,s,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.ge===0)return;const e=jT(t),[i,s]=OT(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,s,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Mh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Xm(Pt.min(),s,new Se(Ht),or(),qt())}}class Mh{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Mh(i,e,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,e,i,s){this.be=t,this.removedTargetIds=e,this.key=i,this.De=s}}class IC{constructor(t,e){this.targetId=t,this.Ce=e}}class kC{constructor(t,e,i=yn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class VT{constructor(){this.ve=0,this.Fe=LT(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),e=qt(),i=qt();return this.Fe.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:Rt(38017,{changeType:o})}}),new Mh(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=LT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i3{constructor(t){this.Ge=t,this.ze=new Map,this.je=or(),this.Je=gf(),this.He=gf(),this.Ye=new Se(Ht)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((i,s)=>{this.rt(s)&&e(s)})}st(t){const e=t.targetId,i=t.Ce.count,s=this.ot(e);if(s){const o=s.target;if(gy(o))if(i===0){const l=new Tt(o.path);this.et(e,l,Sn.newNoDocument(l,Pt.min()))}else ie(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),h=u?this.ct(u,t,l):1;if(h!==0){this.it(e);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=e;let l,u;try{l=la(i).toUint8Array()}catch(h){if(h instanceof nC)return Fl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Pv(l,s,o)}catch(h){return Fl(h instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let s=0;return i.forEach(o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),s++)}),s}Tt(t){const e=new Map;this.ze.forEach((o,l)=>{const u=this.ot(l);if(u){if(o.current&&gy(u.target)){const h=new Tt(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Sn.newNoDocument(h,t))}o.Be&&(e.set(l,o.ke()),o.qe())}});let i=qt();this.He.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.je.forEach((o,l)=>l.setReadTime(t));const s=new Xm(t,e,this.Ye,this.je,i);return this.je=or(),this.Je=gf(),this.He=gf(),this.Ye=new Se(Ht),s}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new VT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ze(Ht),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ze(Ht),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||vt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new VT),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function gf(){return new Se(Tt.comparator)}function LT(){return new Se(Tt.comparator)}const s3={asc:"ASCENDING",desc:"DESCENDING"},r3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a3={and:"AND",or:"OR"};class o3{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function xy(n,t){return n.useProto3Json||qm(t)?t:{value:t}}function pm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function l3(n,t){return pm(n,t.toTimestamp())}function us(n){return ie(!!n,49232),Pt.fromTimestamp(function(e){const i=oa(e);return new ge(i.seconds,i.nanos)}(n))}function jv(n,t){return by(n,t).canonicalString()}function by(n,t){const e=function(s){return new me(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function MC(n){const t=me.fromString(n);return ie(LC(t),10190,{key:t.toString()}),t}function _y(n,t){return jv(n.databaseId,t.path)}function S0(n,t){const e=MC(t);if(e.get(1)!==n.databaseId.projectId)throw new yt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new yt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Tt(jC(e))}function PC(n,t){return jv(n.databaseId,t)}function c3(n){const t=MC(n);return t.length===4?me.emptyPath():jC(t)}function wy(n){return new me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jC(n){return ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function UT(n,t,e){return{name:_y(n,t),fields:e.value.mapValue.fields}}function u3(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Rt(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(ie(p===void 0||typeof p=="string",58123),yn.fromBase64String(p||"")):(ie(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),yn.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(f){const p=f.code===void 0?lt.UNKNOWN:NC(f.code);return new yt(p,f.message||"")}(l);e=new kC(i,s,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=S0(n,i.document.name),o=us(i.document.updateTime),l=i.document.createTime?us(i.document.createTime):Pt.min(),u=new vi({mapValue:{fields:i.document.fields}}),h=Sn.newFoundDocument(s,o,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];e=new Gf(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=S0(n,i.document),o=i.readTime?us(i.readTime):Pt.min(),l=Sn.newNoDocument(s,o),u=i.removedTargetIds||[];e=new Gf([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=S0(n,i.document),o=i.removedTargetIds||[];e=new Gf([],o,s,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new J5(s,o),u=i.targetId;e=new IC(u,l)}}return e}function h3(n,t){let e;if(t instanceof Dh)e={update:UT(n,t.key,t.value)};else if(t instanceof Dv)e={delete:_y(n,t.key)};else if(t instanceof Ro)e={update:UT(n,t.key,t.data),updateMask:b3(t.fieldMask)};else{if(!(t instanceof Y5))return Rt(16599,{Vt:t.type});e={verify:_y(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof fm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof uh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof mm)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Rt(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:l3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Rt(27497)}(n,t.precondition)),e}function d3(n,t){return n&&n.length>0?(ie(t!==void 0,14353),n.map(e=>function(s,o){let l=s.updateTime?us(s.updateTime):us(o);return l.isEqual(Pt.min())&&(l=us(o)),new Q5(l,s.transformResults||[])}(e,t))):[]}function f3(n,t){return{documents:[PC(n,t.path)]}}function m3(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=PC(n,s);const o=function(f){if(f.length!==0)return VC(Li.create(f,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(p=>function(b){return{field:Al(b.field),direction:y3(b.dir)}}(p))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=xy(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:e,parent:s}}function p3(n){let t=c3(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){ie(i===1,65062);const p=e.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=function(x){const b=OC(x);return b instanceof Li&&dC(b)?b.getFilters():[b]}(e.where));let l=[];e.orderBy&&(l=function(x){return x.map(b=>function(E){return new ch(Cl(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(b))}(e.orderBy));let u=null;e.limit&&(u=function(x){let b;return b=typeof x=="object"?x.value:x,qm(b)?null:b}(e.limit));let h=null;e.startAt&&(h=function(x){const b=!!x.before,w=x.values||[];return new dm(w,b)}(e.startAt));let f=null;return e.endAt&&(f=function(x){const b=!x.before,w=x.values||[];return new dm(w,b)}(e.endAt)),P5(t,s,l,o,u,"F",h,f)}function g3(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function OC(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Cl(e.unaryFilter.field);return qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Cl(e.unaryFilter.field);return qe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cl(e.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Cl(e.unaryFilter.field);return qe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}}(n):n.fieldFilter!==void 0?function(e){return qe.create(Cl(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Li.create(e.compositeFilter.filters.map(i=>OC(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}}(e.compositeFilter.op))}(n):Rt(30097,{filter:n})}function y3(n){return s3[n]}function v3(n){return r3[n]}function x3(n){return a3[n]}function Al(n){return{fieldPath:n.canonicalString()}}function Cl(n){return pn.fromServerFormat(n.fieldPath)}function VC(n){return n instanceof qe?function(e){if(e.op==="=="){if(AT(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NAN"}};if(ET(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(AT(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NAN"}};if(ET(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(e.field),op:v3(e.op),value:e.value}}}(n):n instanceof Li?function(e){const i=e.getFilters().map(s=>VC(s));return i.length===1?i[0]:{compositeFilter:{op:x3(e.op),filters:i}}}(n):Rt(54877,{filter:n})}function b3(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function LC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t,e,i,s,o=Pt.min(),l=Pt.min(),u=yn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new Wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(t){this.yt=t}}function w3(n){const t=p3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.Cn=new S3}addToCollectionParentIndex(t,e){return this.Cn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(aa.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(aa.min())}updateCollectionGroup(t,e,i){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class S3{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new Ze(me.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Ze(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UC=41943040;class Bn{static withCacheSize(t){return new Bn(t,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(UC,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Gl(0)}static cr(){return new Gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="LruGarbageCollector",E3=1048576;function FT([n,t],[e,i]){const s=Ht(n,e);return s===0?Ht(t,i):s}class A3{constructor(t){this.Ir=t,this.buffer=new Ze(FT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();FT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class C3{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){vt(BT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ac(e)?vt(BT,"Ignoring IndexedDB error during garbage collection: ",e):await rc(e)}await this.Vr(3e5)})}}class R3{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return ht.resolve(Hm.ce);const i=new A3(e);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(zT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zT):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,s,o,l,u,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,l=Date.now(),this.nthSequenceNumber(t,s))).next(x=>(i=x,u=Date.now(),this.removeTargets(t,i,e))).next(x=>(o=x,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(f=Date.now(),Sl()<=Ft.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${x} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:x})))}}function N3(n,t){return new R3(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.changes=new Co(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ht.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&$u(i.mutation,s,Di.empty(),ge.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,qt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=qt()){const s=lo();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(o=>{let l=Mu();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=lo();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,qt()))}populateOverlays(t,e,i){const s=[];return i.forEach(o=>{e.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,s){let o=or();const l=qu(),u=function(){return qu()}();return e.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Ro)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),$u(p.mutation,f,p.mutation.getFieldMask(),ge.now())):l.set(f.key,Di.empty())}),this.recalculateAndSaveOverlays(t,o).next(h=>(h.forEach((f,p)=>l.set(f,p)),e.forEach((f,p)=>u.set(f,new k3(p,l.get(f)??null))),u))}recalculateAndSaveOverlays(t,e){const i=qu();let s=new Se((l,u)=>l-u),o=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=e.get(h);if(f===null)return;let p=i.get(h)||Di.empty();p=u.applyToLocalView(f,p),i.set(h,p);const x=(s.get(u.batchId)||qt()).add(h);s=s.insert(u.batchId,x)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,x=_C();p.forEach(b=>{if(!o.has(b)){const w=CC(e.get(b),i.get(b));w!==null&&x.set(b,w),o=o.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,x))}return ht.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return Tt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):gC(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-o.size):ht.resolve(lo());let u=rh,h=o;return l.next(f=>ht.forEach(f,(p,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),o.get(p)?ht.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{h=h.insert(p,b)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,h,f,qt())).next(p=>({batchId:u,changes:bC(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tt(e)).next(i=>{let s=Mu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const o=e.collectionGroup;let l=Mu();return this.indexManager.getCollectionParents(t,o).next(u=>ht.forEach(u,h=>{const f=function(x,b){return new oc(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(e,h.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((x,b)=>{l=l.insert(x,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,s))).next(l=>{o.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Sn.newInvalidDocument(p)))});let u=Mu();return l.forEach((h,f)=>{const p=o.get(h);p!==void 0&&$u(p.mutation,f,Di.empty(),ge.now()),Wm(e,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ht.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:us(s.createTime)}}(e)),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(s){return{name:s.name,query:w3(s.bundledQuery),readTime:us(s.readTime)}}(e)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.overlays=new Se(Tt.comparator),this.qr=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const i=lo();return ht.forEach(e,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,o)=>{this.St(t,e,o)}),ht.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(i)),ht.resolve()}getOverlaysForCollection(t,e,i){const s=lo(),o=e.length+1,l=new Tt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ht.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let o=new Se((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=lo(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=lo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=s)););return ht.resolve(u)}St(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Z5(e,i));let o=this.qr.get(e);o===void 0&&(o=qt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.Qr=new Ze(rn.$r),this.Ur=new Ze(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new rn(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Gr(new rn(t,e))}zr(t,e){t.forEach(i=>this.removeReference(i,e))}jr(t){const e=new Tt(new me([])),i=new rn(e,t),s=new rn(e,t+1),o=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),o.push(l.key)}),o}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Tt(new me([])),i=new rn(e,t),s=new rn(e,t+1);let o=qt();return this.Ur.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(t){const e=new rn(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class rn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Tt.comparator(t.key,e.key)||Ht(t.Yr,e.Yr)}static Kr(t,e){return Ht(t.Yr,e.Yr)||Tt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(rn.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new X5(o,e,i,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new rn(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ht.resolve(l)}lookupMutationBatch(t,e){return ht.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.ei(i),o=s<0?0:s;return ht.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Av:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new rn(e,0),s=new rn(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],l=>{const u=this.Xr(l.Yr);o.push(u)}),ht.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ze(Ht);return e.forEach(s=>{const o=new rn(s,0),l=new rn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],u=>{i=i.add(u.Yr)})}),ht.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;Tt.isDocumentKey(o)||(o=o.child(""));const l=new rn(new Tt(o),0);let u=new Ze(Ht);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(u=u.add(h.Yr)),!0)},l),ht.resolve(this.ti(u))}ti(t){const e=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){ie(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ht.forEach(e.mutations,s=>{const o=new rn(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new rn(e,0),s=this.Zr.firstAfterOrEqual(i);return ht.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(t){this.ri=t,this.docs=function(){return new Se(Tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),o=s?s.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ht.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(e))}getEntries(t,e){let i=or();return e.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Sn.newInvalidDocument(s))}),ht.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let o=or();const l=e.path,u=new Tt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||d5(h5(p),i)<=0||(s.has(p.key)||Wm(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return ht.resolve(o)}getAllFromCollectionGroup(t,e,i,s){Rt(9500)}ii(t,e){return ht.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new L3(this)}getSize(t){return ht.resolve(this.size)}}class L3 extends I3{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),ht.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(t){this.persistence=t,this.si=new Co(e=>Nv(e),Iv),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ov,this.targetCount=0,this.ai=Gl.ur()}forEachTarget(t,e){return this.si.forEach((i,s)=>e(s)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),ht.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Gl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.Pr(e),ht.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),ht.waitFor(o).next(()=>s)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return ht.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),ht.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(l=>{o.push(s.markPotentiallyOrphaned(t,l))}),ht.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return ht.resolve(i)}containsKey(t,e){return ht.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t,e){this.ui={},this.overlays={},this.ci=new Hm(0),this.li=!1,this.li=!0,this.hi=new j3,this.referenceDelegate=t(this),this.Pi=new U3(this),this.indexManager=new T3,this.remoteDocumentCache=function(s){return new V3(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new _3(e),this.Ii=new M3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new P3,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new O3(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){vt("MemoryPersistence","Starting transaction:",t);const s=new z3(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(t,e){return ht.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class z3 extends m5{constructor(t){super(),this.currentSequenceNumber=t}}class Vv{constructor(t){this.persistence=t,this.Ri=new Ov,this.Vi=null}static mi(t){return new Vv(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),ht.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,i=>{const s=Tt.fromPath(i);return this.gi(t,s).next(o=>{o||e.removeEntry(s,Pt.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return ht.or([()=>ht.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class gm{constructor(t,e){this.persistence=t,this.pi=new Co(i=>y5(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=N3(this,e)}static mi(t,e){return new gm(t,e)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}wr(t){let e=0;return this.pr(t,i=>{e++}).next(()=>e)}pr(t,e){return ht.forEach(this.pi,(i,s)=>this.br(t,i,s).next(o=>o?ht.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,e).next(u=>{u||(i++,o.removeEntry(l,Pt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ht.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Hf(t.data.value)),e}br(t,e,i){return ht.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return ht.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=s}static As(t,e){let i=qt(),s=qt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Lv(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yP()?8:p5(Rn())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,s){const o={result:null};return this.ys(t,e).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ws(t,e,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new B3;return this.Ss(t,e,l).next(u=>{if(o.result=u,this.Vs)return this.bs(t,e,l,u.size)})}).next(()=>o.result)}bs(t,e,i,s){return i.documentReadCount<this.fs?(Sl()<=Ft.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",El(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(Sl()<=Ft.DEBUG&&vt("QueryEngine","Query:",El(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Sl()<=Ft.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",El(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cs(e))):ht.resolve())}ys(t,e){if(IT(e))return ht.resolve(null);let i=cs(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=vy(e,null,"F"),i=cs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=qt(...o);return this.ps.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Ds(e,u);return this.Cs(e,f,l,h.readTime)?this.ys(t,vy(e,null,"F")):this.vs(t,f,e,h)}))})))}ws(t,e,i,s){return IT(e)||s.isEqual(Pt.min())?ht.resolve(null):this.ps.getDocuments(t,i).next(o=>{const l=this.Ds(e,o);return this.Cs(e,l,i,s)?ht.resolve(null):(Sl()<=Ft.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),El(e)),this.vs(t,l,e,u5(s,rh)).next(u=>u))})}Ds(t,e){let i=new Ze(vC(t));return e.forEach((s,o)=>{Wm(t,o)&&(i=i.add(o))}),i}Cs(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(t,e,i){return Sl()<=Ft.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",El(e)),this.ps.getDocumentsMatchingQuery(t,e,aa.min(),i)}vs(t,e,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(o=>(e.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="LocalStore",H3=3e8;class q3{constructor(t,e,i,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new Se(Ht),this.xs=new Co(o=>Nv(o),Iv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new D3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function $3(n,t,e,i){return new q3(n,t,e,i)}async function BC(n,t){const e=Ot(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let h=qt();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of o){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return e.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function G3(n,t){const e=Ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,f,p){const x=f.batch,b=x.keys();let w=ht.resolve();return b.forEach(E=>{w=w.next(()=>p.getEntry(h,E)).next(C=>{const R=f.docVersions.get(E);ie(R!==null,48541),C.version.compareTo(R)<0&&(x.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),p.addEntry(C)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(h,x))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=qt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function FC(n){const t=Ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Q3(n,t){const e=Ot(n),i=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const u=[];t.targetChanges.forEach((p,x)=>{const b=s.get(x);if(!b)return;u.push(e.Pi.removeMatchingKeys(o,p.removedDocuments,x).next(()=>e.Pi.addMatchingKeys(o,p.addedDocuments,x)));let w=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(x)!==null?w=w.withResumeToken(yn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),s=s.insert(x,w),function(C,R,j){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=H3?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(b,w,p)&&u.push(e.Pi.updateTargetData(o,w))});let h=or(),f=qt();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push(W3(o,l,t.documentUpdates).next(p=>{h=p.ks,f=p.qs})),!i.isEqual(Pt.min())){const p=e.Pi.getLastRemoteSnapshotVersion(o).next(x=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(p)}return ht.waitFor(u).next(()=>l.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(e.Ms=s,o))}function W3(n,t,e){let i=qt(),s=qt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let l=or();return e.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Pt.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):vt(Uv,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:s}})}function K3(n,t){const e=Ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Av),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Y3(n,t){const e=Ot(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Pi.getTargetData(i,t).next(o=>o?(s=o,ht.resolve(s)):e.Pi.allocateTargetId(i).next(l=>(s=new Wr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i})}async function Ty(n,t,e){const i=Ot(n),s=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!ac(l))throw l;vt(Uv,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function HT(n,t,e){const i=Ot(n);let s=Pt.min(),o=qt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const x=Ot(h),b=x.xs.get(p);return b!==void 0?ht.resolve(x.Ms.get(b)):x.Pi.getTargetData(f,p)}(i,l,cs(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,e?s:Pt.min(),e?o:qt())).next(u=>(X3(i,O5(t),u),{documents:u,Qs:o})))}function X3(n,t,e){let i=n.Os.get(t)||Pt.min();e.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Os.set(t,i)}class qT{constructor(){this.activeTargetIds=F5()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Z3{constructor(){this.Mo=new qT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new qT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="ConnectivityMonitor";class GT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){vt($T,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){vt($T,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf=null;function Sy(){return yf===null?yf=function(){return 268435456+Math.round(2147483648*Math.random())}():yf++,"0x"+yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="RestConnection",tV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eV{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===um?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,e,i,s,o){const l=Sy(),u=this.zo(t,e.toUriEncodedString());vt(E0,`Sending RPC '${t}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,o);const{host:f}=new URL(u),p=ec(f);return this.Jo(t,u,h,i,p).then(x=>(vt(E0,`Received RPC '${t}' ${l}: `,x),x),x=>{throw Fl(E0,`RPC '${t}' ${l} failed with error: `,x,"url: ",u,"request:",i),x})}Ho(t,e,i,s,o,l){return this.Go(t,e,i,s,o)}jo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}zo(t,e){const i=tV[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class iV extends eV{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,s,o){const l=Sy();return new Promise((u,h)=>{const f=new $A;f.setWithCredentials(!0),f.listenOnce(GA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ff.NO_ERROR:const x=f.getResponseJson();vt(_n,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(x)),u(x);break;case Ff.TIMEOUT:vt(_n,`RPC '${t}' ${l} timed out`),h(new yt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const b=f.getStatus();if(vt(_n,`RPC '${t}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w?.error;if(E&&E.status&&E.message){const C=function(j){const F=j.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(F)>=0?F:lt.UNKNOWN}(E.status);h(new yt(C,E.message))}else h(new yt(lt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new yt(lt.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{vt(_n,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);vt(_n,`RPC '${t}' ${l} sending request:`,s),f.send(e,"POST",p,i,15)})}T_(t,e,i){const s=Sy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=KA(),u=WA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const p=o.join("");vt(_n,`Creating RPC '${t}' stream ${s}: ${p}`,h);const x=l.createWebChannel(p,h);this.I_(x);let b=!1,w=!1;const E=new nV({Yo:R=>{w?vt(_n,`Not sending because RPC '${t}' stream ${s} is closed:`,R):(b||(vt(_n,`Opening RPC '${t}' stream ${s} transport.`),x.open(),b=!0),vt(_n,`RPC '${t}' stream ${s} sending:`,R),x.send(R))},Zo:()=>x.close()}),C=(R,j,F)=>{R.listen(j,B=>{try{F(B)}catch(X){setTimeout(()=>{throw X},0)}})};return C(x,Du.EventType.OPEN,()=>{w||(vt(_n,`RPC '${t}' stream ${s} transport opened.`),E.o_())}),C(x,Du.EventType.CLOSE,()=>{w||(w=!0,vt(_n,`RPC '${t}' stream ${s} transport closed`),E.a_(),this.E_(x))}),C(x,Du.EventType.ERROR,R=>{w||(w=!0,Fl(_n,`RPC '${t}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),E.a_(new yt(lt.UNAVAILABLE,"The operation could not be completed")))}),C(x,Du.EventType.MESSAGE,R=>{if(!w){const j=R.data[0];ie(!!j,16349);const F=j,B=F?.error||F[0]?.error;if(B){vt(_n,`RPC '${t}' stream ${s} received error:`,B);const X=B.status;let q=function(A){const I=Fe[A];if(I!==void 0)return NC(I)}(X),Q=B.message;q===void 0&&(q=lt.INTERNAL,Q="Unknown error status: "+X+" with message "+B.message),w=!0,E.a_(new yt(q,Q)),x.close()}else vt(_n,`RPC '${t}' stream ${s} received:`,j),E.u_(j)}}),C(u,QA.STAT_EVENT,R=>{R.stat===hy.PROXY?vt(_n,`RPC '${t}' stream ${s} detected buffering proxy`):R.stat===hy.NOPROXY&&vt(_n,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function A0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(n){return new o3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,e,i=1e3,s=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-i);s>0&&vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="PersistentStream";class qC{constructor(t,e,i,s,o,l,u,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HC(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===lt.RESOURCE_EXHAUSTED?(ar(e.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===e&&this.G_(i,s)},i=>{t(()=>{const s=new yt(lt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return vt(QT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(vt(QT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sV extends qC{constructor(t,e,i,s,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=u3(this.serializer,t),i=function(o){if(!("targetChange"in o))return Pt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Pt.min():l.readTime?us(l.readTime):Pt.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=wy(this.serializer),e.addTarget=function(o,l){let u;const h=l.target;if(u=gy(h)?{documents:f3(o,h)}:{query:m3(o,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=DC(o,l.resumeToken);const f=xy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Pt.min())>0){u.readTime=pm(o,l.snapshotVersion.toTimestamp());const f=xy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,t);const i=g3(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=wy(this.serializer),e.removeTarget=t,this.q_(e)}}class rV extends qC{constructor(t,e,i,s,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ie(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ie(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ie(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=d3(t.writeResults,t.commitTime),i=us(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=wy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>h3(this.serializer,i))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{}class oV extends aV{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new yt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Go(t,by(e,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new yt(lt.UNKNOWN,o.toString())})}Ho(t,e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(t,by(e,i),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(lt.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class lV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(e),this.aa=!1):vt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="RemoteStore";class cV{constructor(t,e,i,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{No(this)&&(vt(So,"Restarting streams for network reachability change."),await async function(h){const f=Ot(h);f.Ea.add(4),await Ph(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Jm(f)}(this))})}),this.Ra=new lV(i,s)}}async function Jm(n){if(No(n))for(const t of n.da)await t(!0)}async function Ph(n){for(const t of n.da)await t(!1)}function $C(n,t){const e=Ot(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Hv(e)?Fv(e):lc(e).O_()&&Bv(e,t))}function zv(n,t){const e=Ot(n),i=lc(e);e.Ia.delete(t),i.O_()&&GC(e,t),e.Ia.size===0&&(i.O_()?i.L_():No(e)&&e.Ra.set("Unknown"))}function Bv(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}lc(n).Y_(t)}function GC(n,t){n.Va.Ue(t),lc(n).Z_(t)}function Fv(n){n.Va=new i3({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),lc(n).start(),n.Ra.ua()}function Hv(n){return No(n)&&!lc(n).x_()&&n.Ia.size>0}function No(n){return Ot(n).Ea.size===0}function QC(n){n.Va=void 0}async function uV(n){n.Ra.set("Online")}async function hV(n){n.Ia.forEach((t,e)=>{Bv(n,t)})}async function dV(n,t){QC(n),Hv(n)?(n.Ra.ha(t),Fv(n)):n.Ra.set("Unknown")}async function fV(n,t,e){if(n.Ra.set("Online"),t instanceof kC&&t.state===2&&t.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))}(n,t)}catch(i){vt(So,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await ym(n,i)}else if(t instanceof Gf?n.Va.Ze(t):t instanceof IC?n.Va.st(t):n.Va.tt(t),!e.isEqual(Pt.min()))try{const i=await FC(n.localStore);e.compareTo(i)>=0&&await function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=o.Ia.get(f);p&&o.Ia.set(f,p.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const p=o.Ia.get(h);if(!p)return;o.Ia.set(h,p.withResumeToken(yn.EMPTY_BYTE_STRING,p.snapshotVersion)),GC(o,h);const x=new Wr(p.target,h,f,p.sequenceNumber);Bv(o,x)}),o.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){vt(So,"Failed to raise snapshot:",i),await ym(n,i)}}async function ym(n,t,e){if(!ac(t))throw t;n.Ea.add(1),await Ph(n),n.Ra.set("Offline"),e||(e=()=>FC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{vt(So,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Jm(n)})}function WC(n,t){return t().catch(e=>ym(n,e,t))}async function tp(n){const t=Ot(n),e=ua(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Av;for(;mV(t);)try{const s=await K3(t.localStore,i);if(s===null){t.Ta.length===0&&e.L_();break}i=s.batchId,pV(t,s)}catch(s){await ym(t,s)}KC(t)&&YC(t)}function mV(n){return No(n)&&n.Ta.length<10}function pV(n,t){n.Ta.push(t);const e=ua(n);e.O_()&&e.X_&&e.ea(t.mutations)}function KC(n){return No(n)&&!ua(n).x_()&&n.Ta.length>0}function YC(n){ua(n).start()}async function gV(n){ua(n).ra()}async function yV(n){const t=ua(n);for(const e of n.Ta)t.ea(e.mutations)}async function vV(n,t,e){const i=n.Ta.shift(),s=Mv.from(i,t,e);await WC(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await tp(n)}async function xV(n,t){t&&ua(n).X_&&await async function(i,s){if(function(l){return t3(l)&&l!==lt.ABORTED}(s.code)){const o=i.Ta.shift();ua(i).B_(),await WC(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await tp(i)}}(n,t),KC(n)&&YC(n)}async function WT(n,t){const e=Ot(n);e.asyncQueue.verifyOperationInProgress(),vt(So,"RemoteStore received new credentials");const i=No(e);e.Ea.add(3),await Ph(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Jm(e)}async function bV(n,t){const e=Ot(n);t?(e.Ea.delete(2),await Jm(e)):t||(e.Ea.add(2),await Ph(e),e.Ra.set("Unknown"))}function lc(n){return n.ma||(n.ma=function(e,i,s){const o=Ot(e);return o.sa(),new sV(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Xo:uV.bind(null,n),t_:hV.bind(null,n),r_:dV.bind(null,n),H_:fV.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Hv(n)?Fv(n):n.Ra.set("Unknown")):(await n.ma.stop(),QC(n))})),n.ma}function ua(n){return n.fa||(n.fa=function(e,i,s){const o=Ot(e);return o.sa(),new rV(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:gV.bind(null,n),r_:xV.bind(null,n),ta:yV.bind(null,n),na:vV.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await tp(n)):(await n.fa.stop(),n.Ta.length>0&&(vt(So,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,o){const l=Date.now()+i,u=new qv(t,e,l,s,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(n,t){if(ar("AsyncQueue",`${t}: ${n}`),ac(n))return new yt(lt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{static emptySet(t){return new Ol(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Tt.comparator(e.key,i.key):(e,i)=>Tt.comparator(e.key,i.key),this.keyedMap=Mu(),this.sortedSet=new Se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ol)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Ol;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.ga=new Se(Tt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ql{constructor(t,e,i,s,o,l,u,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,s,o){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Ql(t,e,Ol.emptySet(e),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class wV{constructor(){this.queries=YT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const s=Ot(e),o=s.queries;s.queries=YT(),o.forEach((l,u)=>{for(const h of u.Sa)h.onError(i)})})(this,new yt(lt.ABORTED,"Firestore shutting down"))}}function YT(){return new Co(n=>yC(n),Qm)}async function Gv(n,t){const e=Ot(n);let i=3;const s=t.query;let o=e.queries.get(s);o?!o.ba()&&t.Da()&&(i=2):(o=new _V,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(s,!0);break;case 1:o.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const u=$v(l,`Initialization of query '${El(t.query)}' failed`);return void t.onError(u)}e.queries.set(s,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Wv(e)}async function Qv(n,t){const e=Ot(n),i=t.query;let s=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=t.Da()?0:1:!o.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function TV(n,t){const e=Ot(n);let i=!1;for(const s of t){const o=s.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Fa(s)&&(i=!0);l.wa=s}}i&&Wv(e)}function SV(n,t,e){const i=Ot(n),s=i.queries.get(t);if(s)for(const o of s.Sa)o.onError(e);i.queries.delete(t)}function Wv(n){n.Ca.forEach(t=>{t.next()})}var Ey,XT;(XT=Ey||(Ey={})).Ma="default",XT.Cache="cache";class Kv{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Ql(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ql.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.key=t}}class ZC{constructor(t){this.key=t}}class EV{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=vC(t),this.tu=new Ol(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new KT,s=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,x)=>{const b=s.get(p),w=Wm(this.query,x)?x:null,E=!!b&&this.mutatedKeys.has(b.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;b&&w?b.data.isEqual(w.data)?E!==C&&(i.track({type:3,doc:w}),R=!0):this.su(b,w)||(i.track({type:2,doc:w}),R=!0,(h&&this.eu(w,h)>0||f&&this.eu(w,f)<0)&&(u=!0)):!b&&w?(i.track({type:0,doc:w}),R=!0):b&&!w&&(i.track({type:1,doc:b}),R=!0,(h||f)&&(u=!0)),R&&(w?(l=l.add(w),o=C?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((p,x)=>function(w,E){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:R})}};return C(w)-C(E)}(p.type,x.type)||this.eu(p.doc,x.doc)),this.ou(i),s=s??!1;const u=e&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Ql(this.query,t.tu,o,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const e=[];return t.forEach(i=>{this.Xa.has(i)||e.push(new ZC(i))}),this.Xa.forEach(i=>{t.has(i)||e.push(new XC(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=qt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yv="SyncEngine";class AV{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class CV{constructor(t){this.key=t,this.hu=!1}}class RV{constructor(t,e,i,s,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Co(u=>yC(u),Qm),this.Iu=new Map,this.Eu=new Set,this.du=new Se(Tt.comparator),this.Au=new Map,this.Ru=new Ov,this.Vu={},this.mu=new Map,this.fu=Gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NV(n,t,e=!0){const i=sR(n);let s;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await JC(i,t,e,!0),s}async function IV(n,t){const e=sR(n);await JC(e,t,!0,!1)}async function JC(n,t,e,i){const s=await Y3(n.localStore,cs(t)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await kV(n,t,o,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&$C(n.remoteStore,s),u}async function kV(n,t,e,i,s){n.pu=(x,b,w)=>async function(C,R,j,F){let B=R.view.ru(j);B.Cs&&(B=await HT(C.localStore,R.query,!1).then(({documents:D})=>R.view.ru(D,B)));const X=F&&F.targetChanges.get(R.targetId),q=F&&F.targetMismatches.get(R.targetId)!=null,Q=R.view.applyChanges(B,C.isPrimaryClient,X,q);return JT(C,R.targetId,Q.au),Q.snapshot}(n,x,b,w);const o=await HT(n.localStore,t,!0),l=new EV(t,o.Qs),u=l.ru(o.documents),h=Mh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),f=l.applyChanges(u,n.isPrimaryClient,h);JT(n,e,f.au);const p=new AV(t,e,l);return n.Tu.set(t,p),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function DV(n,t,e){const i=Ot(n),s=i.Tu.get(t),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter(l=>!Qm(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Ty(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&zv(i.remoteStore,s.targetId),Ay(i,s.targetId)}).catch(rc)):(Ay(i,s.targetId),await Ty(i.localStore,s.targetId,!0))}async function MV(n,t){const e=Ot(n),i=e.Tu.get(t),s=e.Iu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),zv(e.remoteStore,i.targetId))}async function PV(n,t,e){const i=BV(n);try{const s=await function(l,u){const h=Ot(l),f=ge.now(),p=u.reduce((w,E)=>w.add(E.key),qt());let x,b;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=or(),C=qt();return h.Ns.getEntries(w,p).next(R=>{E=R,E.forEach((j,F)=>{F.isValidDocument()||(C=C.add(j))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,E)).next(R=>{x=R;const j=[];for(const F of u){const B=K5(F,x.get(F.key).overlayedDocument);B!=null&&j.push(new Ro(F.key,B,cC(B.value.mapValue),Vi.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,j,u)}).next(R=>{b=R;const j=R.applyToLocalDocumentSet(x,C);return h.documentOverlayCache.saveOverlays(w,R.batchId,j)})}).then(()=>({batchId:b.batchId,changes:bC(x)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new Se(Ht)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f}(i,s.batchId,e),await jh(i,s.changes),await tp(i.remoteStore)}catch(s){const o=$v(s,"Failed to persist write");e.reject(o)}}async function tR(n,t){const e=Ot(n);try{const i=await Q3(e.localStore,t);t.targetChanges.forEach((s,o)=>{const l=e.Au.get(o);l&&(ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?ie(l.hu,14607):s.removedDocuments.size>0&&(ie(l.hu,42227),l.hu=!1))}),await jh(e,i,t)}catch(i){await rc(i)}}function ZT(n,t,e){const i=Ot(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.Tu.forEach((o,l)=>{const u=l.view.va(t);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=Ot(l);h.onlineState=u;let f=!1;h.queries.forEach((p,x)=>{for(const b of x.Sa)b.va(u)&&(f=!0)}),f&&Wv(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function jV(n,t,e){const i=Ot(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Au.get(t),o=s&&s.key;if(o){let l=new Se(Tt.comparator);l=l.insert(o,Sn.newNoDocument(o,Pt.min()));const u=qt().add(o),h=new Xm(Pt.min(),new Map,new Se(Ht),l,u);await tR(i,h),i.du=i.du.remove(o),i.Au.delete(t),Xv(i)}else await Ty(i.localStore,t,!1).then(()=>Ay(i,t,e)).catch(rc)}async function OV(n,t){const e=Ot(n),i=t.batch.batchId;try{const s=await G3(e.localStore,t);nR(e,i,null),eR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await jh(e,s)}catch(s){await rc(s)}}async function VV(n,t,e){const i=Ot(n);try{const s=await function(l,u){const h=Ot(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next(x=>(ie(x!==null,37113),p=x.keys(),h.mutationQueue.removeMutationBatch(f,x))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,t);nR(i,t,e),eR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await jh(i,s)}catch(s){await rc(s)}}function eR(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function nR(n,t,e){const i=Ot(n);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function Ay(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(i=>{n.Ru.containsKey(i)||iR(n,i)})}function iR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(zv(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Xv(n))}function JT(n,t,e){for(const i of e)i instanceof XC?(n.Ru.addReference(i.key,t),LV(n,i)):i instanceof ZC?(vt(Yv,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||iR(n,i.key)):Rt(19791,{wu:i})}function LV(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(vt(Yv,"New document in limbo: "+e),n.Eu.add(i),Xv(n))}function Xv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Tt(me.fromString(t)),i=n.fu.next();n.Au.set(i,new CV(e)),n.du=n.du.insert(e,i),$C(n.remoteStore,new Wr(cs(Gm(e.path)),i,"TargetPurposeLimboResolution",Hm.ce))}}async function jh(n,t,e){const i=Ot(n),s=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((u,h)=>{l.push(i.pu(h,t,e).then(f=>{if((f||e)&&i.isPrimaryClient){const p=f?!f.fromCache:e?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,p?"current":"not-current")}if(f){s.push(f);const p=Lv.As(h.targetId,f);o.push(p)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,f){const p=Ot(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ht.forEach(f,b=>ht.forEach(b.Es,w=>p.persistence.referenceDelegate.addReference(x,b.targetId,w)).next(()=>ht.forEach(b.ds,w=>p.persistence.referenceDelegate.removeReference(x,b.targetId,w)))))}catch(x){if(!ac(x))throw x;vt(Uv,"Failed to update sequence numbers: "+x)}for(const x of f){const b=x.targetId;if(!x.fromCache){const w=p.Ms.get(b),E=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(b,C)}}}(i.localStore,o))}async function UV(n,t){const e=Ot(n);if(!e.currentUser.isEqual(t)){vt(Yv,"User change. New user:",t.toKey());const i=await BC(e.localStore,t);e.currentUser=t,function(o,l){o.mu.forEach(u=>{u.forEach(h=>{h.reject(new yt(lt.CANCELLED,l))})}),o.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await jh(e,i.Ls)}}function zV(n,t){const e=Ot(n),i=e.Au.get(t);if(i&&i.hu)return qt().add(i.key);{let s=qt();const o=e.Iu.get(t);if(!o)return s;for(const l of o){const u=e.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function sR(n){const t=Ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=tR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jV.bind(null,t),t.Pu.H_=TV.bind(null,t.eventManager),t.Pu.yu=SV.bind(null,t.eventManager),t}function BV(n){const t=Ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VV.bind(null,t),t}class vm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return $3(this.persistence,new F3,t.initialUser,this.serializer)}Cu(t){return new zC(Vv.mi,this.serializer)}Du(t){return new Z3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vm.provider={build:()=>new vm};class FV extends vm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ie(this.persistence.referenceDelegate instanceof gm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new C3(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new zC(i=>gm.mi(i,e),this.serializer)}}class Cy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UV.bind(null,this.syncEngine),await bV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new wV}()}createDatastore(t){const e=Zm(t.databaseInfo.databaseId),i=function(o){return new iV(o)}(t.databaseInfo);return function(o,l,u,h){return new oV(o,l,u,h)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,o,l,u){return new cV(i,s,o,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>ZT(this.syncEngine,e,0),function(){return GT.v()?new GT:new J3}())}createSyncEngine(t,e){return function(s,o,l,u,h,f,p){const x=new RV(s,o,l,u,h,f);return p&&(x.gu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const i=Ot(e);vt(So,"RemoteStore shutting down."),i.Ea.add(5),await Ph(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cy.provider={build:()=>new Cy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="FirestoreClient";class HV{constructor(t,e,i,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=Ev.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{vt(ha,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(vt(ha,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=$v(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function C0(n,t){n.asyncQueue.verifyOperationInProgress(),vt(ha,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await BC(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function tS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await qV(n);vt(ha,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>WT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>WT(t.remoteStore,s)),n._onlineComponents=t}async function qV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){vt(ha,"Using user provided OfflineComponentProvider");try{await C0(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===lt.FAILED_PRECONDITION||s.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Fl("Error using user provided cache. Falling back to memory cache: "+e),await C0(n,new vm)}}else vt(ha,"Using default OfflineComponentProvider"),await C0(n,new FV(void 0));return n._offlineComponents}async function rR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(vt(ha,"Using user provided OnlineComponentProvider"),await tS(n,n._uninitializedComponentsProvider._online)):(vt(ha,"Using default OnlineComponentProvider"),await tS(n,new Cy))),n._onlineComponents}function $V(n){return rR(n).then(t=>t.syncEngine)}async function xm(n){const t=await rR(n),e=t.eventManager;return e.onListen=NV.bind(null,t.syncEngine),e.onUnlisten=DV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=IV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=MV.bind(null,t.syncEngine),e}function GV(n,t,e={}){const i=new nr;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const p=new Zv({next:b=>{p.Nu(),l.enqueueAndForget(()=>Qv(o,x));const w=b.docs.has(u);!w&&b.fromCache?f.reject(new yt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&h&&h.source==="server"?f.reject(new yt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),x=new Kv(Gm(u.path),p,{includeMetadataChanges:!0,qa:!0});return Gv(o,x)}(await xm(n),n.asyncQueue,t,e,i)),i.promise}function QV(n,t,e={}){const i=new nr;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const p=new Zv({next:b=>{p.Nu(),l.enqueueAndForget(()=>Qv(o,x)),b.fromCache&&h.source==="server"?f.reject(new yt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),x=new Kv(u,p,{includeMetadataChanges:!0,qa:!0});return Gv(o,x)}(await xm(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firestore.googleapis.com",nS=!0;class iS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oR,this.ssl=nS}else this.host=t.host,this.ssl=t.ssl??nS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<E3)throw new yt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}c5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aR(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ep{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new JO;switch(i.type){case"firstParty":return new i5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new yt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=eS.get(e);i&&(vt("ComponentProvider","Removing Datastore"),eS.delete(e),i.terminate())}(this),Promise.resolve()}}function WV(n,t,e,i={}){n=bi(n,ep);const s=ec(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;s&&(nA(`https://${u}`),iA("Firestore",!0)),o.host!==oR&&o.host!==u&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:s,emulatorOptions:i};if(!xo(h,l)&&(n._setSettings(h),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Tn.MOCK_USER;else{f=lP(i.mockUserToken,n._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new yt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Tn(x)}n._authCredentials=new t5(new XA(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new va(this.firestore,t,this._query)}}class je{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(kh(e,je._jsonSchema))return new je(t,i||null,new Tt(me.fromString(e.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:$e("string",je._jsonSchemaVersion),referencePath:$e("string")};class ia extends va{constructor(t,e,i){super(t,e,Gm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new Tt(t))}withConverter(t){return new ia(this.firestore,t,this._path)}}function on(n,t,...e){if(n=Nn(n),ZA("collection","path",t),n instanceof ep){const i=me.fromString(t,...e);return gT(i),new ia(n,null,i)}{if(!(n instanceof je||n instanceof ia))throw new yt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(me.fromString(t,...e));return gT(i),new ia(n.firestore,null,i)}}function an(n,t,...e){if(n=Nn(n),arguments.length===1&&(t=Ev.newId()),ZA("doc","path",t),n instanceof ep){const i=me.fromString(t,...e);return pT(i),new je(n,null,new Tt(i))}{if(!(n instanceof je||n instanceof ia))throw new yt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(me.fromString(t,...e));return pT(i),new je(n.firestore,n instanceof ia?n.converter:null,new Tt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="AsyncQueue";class rS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HC(this,"async_queue_retry"),this._c=()=>{const i=A0();i&&vt(sS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=A0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=A0();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new nr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ac(t))throw t;vt(sS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",aS(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=qv.createAndSchedule(this,t,e,i,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&Rt(47125,{Pc:aS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function aS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const s=e;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(n,["next","error","complete"])}class da extends ep{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new rS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new rS(t),this._firestoreClient=void 0,await t}}}function KV(n,t){const e=oA(),i=um,s=fv(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=aP("firestore");o&&WV(s,...o)}return s}function np(n){if(n._terminated)throw new yt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YV(n),n._firestoreClient}function YV(n){const t=n._freezeSettings(),e=function(s,o,l,u){return new b5(s,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,aR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new HV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xi(yn.fromBase64String(t))}catch(e){throw new yt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new xi(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(kh(t,xi._jsonSchema))return xi.fromBase64String(t.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:$e("string",xi._jsonSchemaVersion),bytes:$e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(t){if(kh(t,hs._jsonSchema))return new hs(t.latitude,t.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:$e("string",hs._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(kh(t,ds._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new ds(t.vectorValues);throw new yt(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:$e("string",ds._jsonSchemaVersion),vectorValues:$e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=/^__.*__$/;class ZV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ro(t,this.data,this.fieldMask,e,this.fieldTransforms):new Dh(t,this.data,e,this.fieldTransforms)}}function cR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:n})}}class tx{constructor(t,e,i,s,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new tx({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(cR(this.Ac)&&XV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class JV{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Zm(t)}Cc(t,e,i,s=!1){return new tx({Ac:t,methodName:e,Dc:i,path:pn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ex(n){const t=n._freezeSettings(),e=Zm(n._databaseId);return new JV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function uR(n,t,e,i,s,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,t,e,s);fR("Data must be an object, but it was:",l,i);const u=hR(i,l);let h,f;if(o.merge)h=new Di(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const x of o.mergeFields){const b=e6(t,x,e);if(!l.contains(b))throw new yt(lt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);i6(p,b)||p.push(b)}h=new Di(p),f=l.fieldTransforms.filter(x=>h.covers(x.field))}else h=null,f=l.fieldTransforms;return new ZV(new vi(u),h,f)}function t6(n,t,e,i=!1){return nx(e,n.Cc(i?4:3,t))}function nx(n,t){if(dR(n=Nn(n)))return fR("Unsupported field value:",t,n),hR(n,t);if(n instanceof lR)return function(i,s){if(!cR(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const u of i){let h=nx(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,t)}return function(i,s){if((i=Nn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return H5(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ge.fromDate(i);return{timestampValue:pm(s.serializer,o)}}if(i instanceof ge){const o=new ge(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pm(s.serializer,o)}}if(i instanceof hs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof xi)return{bytesValue:DC(s.serializer,i._byteString)};if(i instanceof je){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ds)return function(l,u){return{mapValue:{fields:{[oC]:{stringValue:lC},[hm]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return kv(u.serializer,f)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${Fm(i)}`)}(n,t)}function hR(n,t){const e={};return eC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ao(n,(i,s)=>{const o=nx(s,t.mc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function dR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ge||n instanceof hs||n instanceof xi||n instanceof je||n instanceof lR||n instanceof ds)}function fR(n,t,e){if(!dR(e)||!JA(e)){const i=Fm(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function e6(n,t,e){if((t=Nn(t))instanceof Jv)return t._internalPath;if(typeof t=="string")return mR(n,t);throw bm("Field path arguments must be of type string or ",n,!1,void 0,e)}const n6=new RegExp("[~\\*/\\[\\]]");function mR(n,t,e){if(t.search(n6)>=0)throw bm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Jv(...t.split("."))._internalPath}catch{throw bm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function bm(n,t,e,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new yt(lt.INVALID_ARGUMENT,u+n+h)}function i6(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new s6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ix("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class s6 extends pR{data(){return super.data()}}function ix(n,t){return typeof t=="string"?mR(n,t):t instanceof Jv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sx{}class yR extends sx{}function Kr(n,t,...e){let i=[];t instanceof sx&&i.push(t),i=i.concat(e),function(o){const l=o.filter(h=>h instanceof ax).length,u=o.filter(h=>h instanceof rx).length;if(l>1||l>0&&u>0)throw new yt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class rx extends yR{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new rx(t,e,i)}_apply(t){const e=this._parse(t);return vR(t._query,e),new va(t.firestore,t.converter,yy(t._query,e))}_parse(t){const e=ex(t.firestore);return function(o,l,u,h,f,p,x){let b;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new yt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){cS(x,p);const E=[];for(const C of x)E.push(lS(h,o,C));b={arrayValue:{values:E}}}else b=lS(h,o,x)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||cS(x,p),b=t6(u,l,x,p==="in"||p==="not-in");return qe.create(f,p,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class ax extends sx{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ax(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Li.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,o){let l=s;const u=o.getFlattenedFilters();for(const h of u)vR(l,h),l=yy(l,h)}(t._query,e),new va(t.firestore,t.converter,yy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ox extends yR{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ox(t,e)}_apply(t){const e=function(s,o,l){if(s.startAt!==null)throw new yt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new yt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ch(o,l)}(t._query,this._field,this._direction);return new va(t.firestore,t.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new oc(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,e))}}function r6(n,t="asc"){const e=t,i=ix("orderBy",n);return ox._create(i,e)}function lS(n,t,e){if(typeof(e=Nn(e))=="string"){if(e==="")throw new yt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gC(t)&&e.indexOf("/")!==-1)throw new yt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(me.fromString(e));if(!Tt.isDocumentKey(i))throw new yt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ST(n,new Tt(i))}if(e instanceof je)return ST(n,e._key);throw new yt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fm(e)}.`)}function cS(n,t){if(!Array.isArray(n)||n.length===0)throw new yt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vR(n,t){const e=function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new yt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class a6{convertValue(t,e="none"){switch(ca(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(la(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ao(t,(s,o)=>{i[s]=this.convertValue(o,e)}),i}convertVectorValue(t){const e=t.fields?.[hm].arrayValue?.values?.map(i=>Pe(i.doubleValue));return new ds(e)}convertGeoPoint(t){return new hs(Pe(t.latitude),Pe(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=$m(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ah(t));default:return null}}convertTimestamp(t){const e=oa(t);return new ge(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=me.fromString(t);ie(LC(i),9688,{name:t});const s=new oh(i.get(1),i.get(3)),o=new Tt(i.popFirst(5));return s.isEqual(e)||ar(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class ju{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mo extends pR{constructor(t,e,i,s,o,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(ix("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=mo._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:$e("string",mo._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class Qf extends mo{data(t={}){return super.data(t)}}class po{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new ju(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Qf(this._firestore,this._userDataWriter,i.key,i,new ju(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const h=new Qf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ju(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new Qf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ju(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:o6(u.type),doc:h,oldIndex:f,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ev.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function o6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(n){n=bi(n,je);const t=bi(n.firestore,da);return GV(np(t),n._key).then(e=>wR(t,n,e))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:$e("string",po._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class lx extends a6{constructor(t){super(),this.firestore=t}convertBytes(t){return new xi(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,e)}}function Mi(n){n=bi(n,va);const t=bi(n.firestore,da),e=np(t),i=new lx(t);return gR(n._query),QV(e,n._query).then(s=>new po(t,i,n,s))}function Gu(n,t,e){n=bi(n,je);const i=bi(n.firestore,da),s=xR(n.converter,t,e);return cx(i,[uR(ex(i),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,Vi.none())])}function bR(n){return cx(bi(n.firestore,da),[new Dv(n._key,Vi.none())])}function _R(n,t){const e=bi(n.firestore,da),i=an(n),s=xR(n.converter,t);return cx(e,[uR(ex(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Vi.exists(!1))]).then(()=>i)}function En(n,...t){n=Nn(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||oS(t[i])||(e=t[i++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(oS(t[i])){const h=t[i];t[i]=h.next?.bind(h),t[i+1]=h.error?.bind(h),t[i+2]=h.complete?.bind(h)}let o,l,u;if(n instanceof je)l=bi(n.firestore,da),u=Gm(n._key.path),o={next:h=>{t[i]&&t[i](wR(l,n,h))},error:t[i+1],complete:t[i+2]};else{const h=bi(n,va);l=bi(h.firestore,da),u=h._query;const f=new lx(l);o={next:p=>{t[i]&&t[i](new po(l,f,h,p))},error:t[i+1],complete:t[i+2]},gR(n._query)}return function(f,p,x,b){const w=new Zv(b),E=new Kv(p,w,x);return f.asyncQueue.enqueueAndForget(async()=>Gv(await xm(f),E)),()=>{w.Nu(),f.asyncQueue.enqueueAndForget(async()=>Qv(await xm(f),E))}}(np(l),u,s,o)}function cx(n,t){return function(i,s){const o=new nr;return i.asyncQueue.enqueueAndForget(async()=>PV(await $V(i),s,o)),o.promise}(np(n),t)}function wR(n,t,e){const i=e.docs.get(t._key),s=new lx(n);return new mo(n,s,t._key,i,new ju(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(s){sc=s})(nc),zl(new bo("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new da(new e5(i.getProvider("auth-internal")),new s5(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new yt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(f.options.projectId,p)}(l,s),l);return o={useFetchStreams:e,...o},u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ea(hT,dT,t),ea(hT,dT,"esm2020")})();const c6={apiKey:"AIzaSyBP_0D3EoXJwo2z8BPovx1CKRta3R88Zns",authDomain:"myquiz-23c65.firebaseapp.com",databaseURL:"https://myquiz-23c65-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"myquiz-23c65",storageBucket:"myquiz-23c65.firebasestorage.app",messagingSenderId:"256387568233",appId:"1:256387568233:web:a6fe4234585981ea2908f8",measurementId:"G-NW3ENQJDDJ"},TR=aA(c6),Yt=KV(),cc=HA(TR),SR="/quiz/assets/LogoImage-DW971Bk1.jpg",u6=()=>{const n=jn(),[t,e]=M.useState(""),[i,s]=M.useState(""),[o,l]=M.useState(""),[u,h]=M.useState(""),[f,p]=M.useState(""),[x,b]=M.useState(!1),[w,E]=M.useState(!1),[C,R]=M.useState(!1),j=HA(TR),F=new Xs,B=()=>{E(!0),setTimeout(()=>{b(!x),p(""),E(!1)},300)},X=async Q=>{if(Q.preventDefault(),R(!0),p(""),x){if(i!==o){p("Passwords don't match"),R(!1);return}if(i.length<6){p("Password should be at least 6 characters"),R(!1);return}try{const A=(await Mj(j,t,i)).user;await Oj(A,{nickname:u}),await Gu(an(Yt,"users",A.uid),{uid:A.uid,nickname:u,email:A.email,createdAt:new Date,lastLogin:new Date}),console.log("Sign up successful"),n("/Home")}catch(D){console.error("Sign up error:",D),p(D.message)}}else try{const A=(await Pj(j,t,i)).user;await Gu(an(Yt,"users",A.uid),{lastLogin:new Date},{merge:!0}),console.log("Login successful"),n("/Home")}catch(D){console.error("Login error:",D),p(D.message)}R(!1)},q=async()=>{R(!0),p("");try{const D=(await rO(j,F)).user;await Gu(an(Yt,"users",D.uid),{uid:D.uid,nickname:D.nickname,email:D.email,photoURL:D.photoURL,createdAt:new Date,lastLogin:new Date,provider:"google"},{merge:!0}),console.log("Google authentication successful"),n("/Home")}catch(Q){console.error("Google auth error:",Q),p(Q.message)}R(!1)};return y.jsxs("div",{className:"min-h-screen flex",children:[y.jsx("div",{className:"hidden md:block md:w-3/5 lg:w-3/5 bg-gradient-to-br from-blue-600 to-indigo-900 relative",children:y.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:y.jsxs("div",{className:"text-white text-center max-w-md",children:[y.jsx("h1",{className:"text-4xl font-bold mb-6",children:x?"Join Our Community":"Welcome Back"}),y.jsx("p",{className:"text-xl mb-8",children:x?"Access premium content, connect with other professionals, and grow your career.":"Continue your journey with us and access your personalized dashboard."}),y.jsx("div",{className:"flex justify-center",children:y.jsxs("div",{className:"bg-white/20 p-4 rounded-lg backdrop-blur-sm",children:[y.jsx("div",{className:"text-6xl mb-4",children:x?"":""}),y.jsx("p",{className:"text-sm",children:x?'"This platform transformed my career path in just 3 months!"':`"I've never experienced such a seamless learning platform!"`}),y.jsx("p",{className:"text-xs mt-2",children:"- Sarah Johnson, Senior Developer"})]})})]})})}),y.jsx("div",{className:"w-full md:w-2/5 lg:w-2/5 bg-white dark:bg-gray-900 flex items-center justify-center py-12 px-6 lg:px-8",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"text-center md:hidden mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x?"Create Account":"Welcome Back"}),y.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:x?"Join thousands of users today":"Sign in to continue your journey"})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r "}),y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[y.jsx("img",{src:SR,alt:"Your Company",className:"mx-auto h-10 w-auto"}),y.jsx("h2",{className:"mt-6 text-center text-2xl/9 font-bold tracking-tight text-gray-900 dark:text-white",children:x?"Create your account":"Sign in to your account"})]}),y.jsxs("div",{className:`mt-10 transition-opacity duration-300 ${w?"opacity-0":"opacity-100"}`,children:[y.jsxs("form",{className:"space-y-6",onSubmit:X,children:[x&&y.jsxs("div",{className:"animate-fadeIn",children:[y.jsx("label",{htmlFor:"name",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Nickname"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"name",type:"text",name:"name",required:x,autoComplete:"name",value:u,onChange:Q=>h(Q.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:"CoolStudent123"})})]}),y.jsxs("div",{className:x?"animate-fadeIn":"",children:[y.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Email address"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"email",type:"email",name:"email",required:!0,autoComplete:"email",value:t,onChange:Q=>e(Q.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:"Enter your email"})})]}),y.jsxs("div",{className:x?"animate-fadeIn":"",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Password"}),!x&&y.jsx("div",{className:"text-sm",children:y.jsx("a",{href:"#",className:"font-semibold text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Forgot password?"})})]}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"password",type:"password",name:"password",required:!0,autoComplete:x?"new-password":"current-password",value:i,onChange:Q=>s(Q.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:x?"Create a password":"Enter your password"})})]}),x&&y.jsxs("div",{className:"animate-fadeIn",children:[y.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm/6 font-medium text-gray-900 dark:text-gray-100",children:"Confirm Password"}),y.jsx("div",{className:"mt-2",children:y.jsx("input",{id:"confirmPassword",type:"password",name:"confirmPassword",required:x,autoComplete:"new-password",value:o,onChange:Q=>l(Q.target.value),className:"block w-full rounded-md bg-white dark:bg-gray-700 px-3 py-2.5 text-base text-gray-900 dark:text-white outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6",placeholder:"Confirm your password"})})]}),x&&y.jsxs("div",{className:"flex items-center animate-fadeIn",children:[y.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"}),y.jsxs("label",{htmlFor:"terms",className:"ml-3 block text-sm text-gray-700 dark:text-gray-300",children:["I agree to the"," ",y.jsx("a",{href:"#",className:"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Terms and Conditions"})]})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-colors",children:x?"Create Account":"Sign in"})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6",children:y.jsxs("button",{type:"button",onClick:q,className:"flex w-full justify-center items-center gap-3 rounded-md bg-white px-3 py-2.5 text-sm/6 font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-colors",children:[y.jsxs("svg",{className:"h-5 w-5","aria-hidden":"true",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0303 3.125C17.9502 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21525 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),y.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),y.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),y.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.9351 19.9454 21.0951L16.0804 18.0951C15.0054 18.8201 13.6204 19.2451 12.0004 19.2451C8.8704 19.2451 6.21537 17.1351 5.2654 14.2901L1.2804 17.3901C3.2554 21.3101 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),x?"Sign up with Google":"Sign in with Google"]})})]}),f&&y.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-md animate-fadeIn",children:y.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:f})}),y.jsxs("p",{className:"mt-8 text-center text-sm/6 text-gray-500 dark:text-gray-400",children:[x?"Already have an account?":"Don't have an account?"," ",y.jsx("button",{onClick:B,className:"font-semibold text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 focus:outline-none focus:underline transition-colors",children:x?"Sign in":"Sign up"})]})]})]})]})}),y.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},h6=()=>{const n=jn();return y.jsx("div",{class:"fixed bottom-0 left-0 z-50 w-full h-16 bg-white border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600 block sm:hidden",children:y.jsxs("div",{class:"grid h-full max-w-lg grid-cols-4 mx-auto font-medium",children:[y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home"),children:[y.jsx("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Home"})]}),y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home/quizMenu"),children:[y.jsxs("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"}),y.jsx("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"})]}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Quiz"})]}),y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home/Practice"),children:[y.jsxs("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.96 2.96 0 0 0 .13 5H5Z"}),y.jsx("path",{d:"M6.737 11.061a2.961 2.961 0 0 1 .81-1.515l6.117-6.116A4.839 4.839 0 0 1 16 2.141V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H0v11a1.969 1.969 0 0 0 1.933 2h12.134A1.97 1.97 0 0 0 16 18v-3.093l-1.546 1.546c-.413.413-.94.695-1.513.81l-3.4.679a2.947 2.947 0 0 1-1.85-.227 2.96 2.96 0 0 1-1.635-3.257l.681-3.397Z"}),y.jsx("path",{d:"M8.961 16a.93.93 0 0 0 .189-.019l3.4-.679a.961.961 0 0 0 .49-.263l6.118-6.117a2.884 2.884 0 0 0-4.079-4.078l-6.117 6.117a.96.96 0 0 0-.263.491l-.679 3.4A.961.961 0 0 0 8.961 16Zm7.477-9.8a.958.958 0 0 1 .68-.281.961.961 0 0 1 .682 1.644l-.315.315-1.36-1.36.313-.318Zm-5.911 5.911 4.236-4.236 1.359 1.359-4.236 4.237-1.7.339.341-1.699Z"})]}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Practice"})]}),y.jsxs("button",{type:"button",class:"inline-flex flex-col items-center justify-center px-5 hover:bg-gray-100 dark:hover:bg-gray-800 group",onClick:()=>n("/home/Score"),children:[y.jsx("svg",{class:"w-5 h-5 mb-2 text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"})}),y.jsx("span",{class:"text-sm text-gray-500 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-blue-500",children:"Score"})]})]})})},d6=()=>{const n=jn(),t=async()=>{try{await Uj(cc),n("/")}catch(e){console.error("Logout error:",e)}};return y.jsxs("div",{className:"relative",children:[y.jsx("aside",{id:"separator-sidebar",className:"fixed left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0 bg-gray-50 dark:bg-gray-800","aria-label":"Sidebar",children:y.jsxs("div",{className:"h-full px-3 py-4 overflow-y-auto",children:[y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(Qr,{to:"/home",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsx("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Home"})]})}),y.jsx("li",{children:y.jsxs(Qr,{to:"/home/quizMenu",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsxs("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"}),y.jsx("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"})]}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Quiz"})]})}),y.jsx("li",{children:y.jsxs(Qr,{to:"/home/practice",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsxs("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.96 2.96 0 0 0 .13 5H5Z"}),y.jsx("path",{d:"M6.737 11.061a2.961 2.961 0 0 1 .81-1.515l6.117-6.116A4.839 4.839 0 0 1 16 2.141V2a1.97 1.97 0 0 0-1.933-2H7v5a2 2 0 0 1-2 2H0v11a1.969 1.969 0 0 0 1.933 2h12.134A1.97 1.97 0 0 0 16 18v-3.093l-1.546 1.546c-.413.413-.94.695-1.513.81l-3.4.679a2.947 2.947 0 0 1-1.85-.227 2.96 2.96 0 0 1-1.635-3.257l.681-3.397Z"}),y.jsx("path",{d:"M8.961 16a.93.93 0 0 0 .189-.019l3.4-.679a.961.961 0 0 0 .49-.263l6.118-6.117a2.884 2.884 0 0 0-4.079-4.078l-6.117 6.117a.96.96 0 0 0-.263.491l-.679 3.4A.961.961 0 0 0 8.961 16Zm7.477-9.8a.958.958 0 0 1 .68-.281.961.961 0 0 1 .682 1.644l-.315.315-1.36-1.36.313-.318Zm-5.911 5.911 4.236-4.236 1.359 1.359-4.236 4.237-1.7.339.341-1.699Z"})]}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Practice"}),y.jsx("span",{class:"inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300",children:"3"})]})}),y.jsx("li",{children:y.jsxs(Qr,{to:"/home/score",class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[y.jsx("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z"})}),y.jsx("span",{class:"flex-1 ms-3 whitespace-nowrap",children:"Score"})]})})]}),y.jsxs("ul",{class:"pt-4 mt-4 space-y-2 font-medium border-t border-gray-200 dark:border-gray-700",children:[y.jsx("li",{children:y.jsxs("button",{onClick:t,className:"flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white group",children:[y.jsx("svg",{className:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 17 20",children:y.jsx("path",{d:"M7.958 19.393a7.7 7.7 0 0 1-6.715-3.439c-2.868-4.832 0-9.376.944-10.654l.091-.122a3.286 3.286 0 0 0 .765-3.288A1 1 0 0 1 4.6.8c.133.1.313.212.525.347A10.451 10.451 0 0 1 10.6 9.3c.5-1.06.772-2.213.8-3.385a1 1 0 0 1 1.592-.758c1.636 1.205 4.638 6.081 2.019 10.441a8.177 8.177 0 0 1-7.053 3.795Z"})}),y.jsx("span",{className:"ms-3",children:"Log Out"})]})}),y.jsx("li",{children:y.jsxs("a",{href:"#",class:"flex items-center p-2 text-gray-900 transition duration-75 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white group",children:[y.jsx("svg",{class:"shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 21 21",children:y.jsx("path",{d:"m5.4 2.736 3.429 3.429A5.046 5.046 0 0 1 10.134 6c.356.01.71.06 1.056.147l3.41-3.412c.136-.133.287-.248.45-.344A9.889 9.889 0 0 0 10.269 1c-1.87-.041-3.713.44-5.322 1.392a2.3 2.3 0 0 1 .454.344Zm11.45 1.54-.126-.127a.5.5 0 0 0-.706 0l-2.932 2.932c.029.023.049.054.078.077.236.194.454.41.65.645.034.038.078.067.11.107l2.927-2.927a.5.5 0 0 0 0-.707Zm-2.931 9.81c-.024.03-.057.052-.081.082a4.963 4.963 0 0 1-.633.639c-.041.036-.072.083-.115.117l2.927 2.927a.5.5 0 0 0 .707 0l.127-.127a.5.5 0 0 0 0-.707l-2.932-2.931Zm-1.442-4.763a3.036 3.036 0 0 0-1.383-1.1l-.012-.007a2.955 2.955 0 0 0-1-.213H10a2.964 2.964 0 0 0-2.122.893c-.285.29-.509.634-.657 1.013l-.01.016a2.96 2.96 0 0 0-.21 1 2.99 2.99 0 0 0 .489 1.716c.009.014.022.026.032.04a3.04 3.04 0 0 0 1.384 1.1l.012.007c.318.129.657.2 1 .213.392.015.784-.05 1.15-.192.012-.005.02-.013.033-.018a3.011 3.011 0 0 0 1.676-1.7v-.007a2.89 2.89 0 0 0 0-2.207 2.868 2.868 0 0 0-.27-.515c-.007-.012-.02-.025-.03-.039Zm6.137-3.373a2.53 2.53 0 0 1-.35.447L14.84 9.823c.112.428.166.869.16 1.311-.01.356-.06.709-.147 1.054l3.413 3.412c.132.134.249.283.347.444A9.88 9.88 0 0 0 20 11.269a9.912 9.912 0 0 0-1.386-5.319ZM14.6 19.264l-3.421-3.421c-.385.1-.781.152-1.18.157h-.134c-.356-.01-.71-.06-1.056-.147l-3.41 3.412a2.503 2.503 0 0 1-.443.347A9.884 9.884 0 0 0 9.732 21H10a9.9 9.9 0 0 0 5.044-1.388 2.519 2.519 0 0 1-.444-.348ZM1.735 15.6l3.426-3.426a4.608 4.608 0 0 1-.013-2.367L1.735 6.4a2.507 2.507 0 0 1-.35-.447 9.889 9.889 0 0 0 0 10.1c.1-.164.217-.316.35-.453Zm5.101-.758a4.957 4.957 0 0 1-.651-.645c-.033-.038-.077-.067-.11-.107L3.15 17.017a.5.5 0 0 0 0 .707l.127.127a.5.5 0 0 0 .706 0l2.932-2.933c-.03-.018-.05-.053-.078-.076ZM6.08 7.914c.03-.037.07-.063.1-.1.183-.22.384-.423.6-.609.047-.04.082-.092.129-.13L3.983 4.149a.5.5 0 0 0-.707 0l-.127.127a.5.5 0 0 0 0 .707L6.08 7.914Z"})}),y.jsx("span",{class:"ms-3",children:"Help"})]})})]})]})}),y.jsxs("div",{class:"p-4 sm:ml-64 dark:bg-gray-900 pb-16",children:["  ",y.jsx(yM,{})]})]})},f6=()=>{const[n,t]=M.useState(()=>localStorage.getItem("theme")==="dark");return M.useEffect(()=>{const e=window.document.documentElement;n?(e.classList.add("dark"),localStorage.setItem("theme","dark")):(e.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),y.jsx("div",{class:"sticky top-0 z-50",children:y.jsx("nav",{class:"bg-white border-b border-gray-200 dark:bg-gray-900 dark:border-gray-700",children:y.jsxs("div",{class:"flex flex-wrap items-center justify-between mx-auto p-4",children:[y.jsxs(Qr,{to:"/home",class:"flex items-center space-x-3 rtl:space-x-reverse",children:[y.jsx("img",{src:SR,class:"h-8",alt:"Flowbite Logo"}),y.jsx("span",{class:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:"FivetoTen"})]}),y.jsx("div",{class:"hidden w-full md:block md:w-auto",id:"navbar-default",children:y.jsxs("ul",{class:"font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[y.jsx("li",{children:y.jsx(Qr,{to:"/home",class:"block py-2 px-3 text-white bg-blue-700 rounded-sm md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500","aria-current":"page",children:"Home"})}),y.jsx("li",{children:y.jsx("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",children:"Services"})}),y.jsx("li",{children:y.jsx("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",children:"Pricing"})}),y.jsx("li",{children:y.jsx("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",children:"Contact"})})]})})]})})})},m6=()=>y.jsxs("div",{children:[y.jsx(f6,{}),y.jsx(d6,{}),"   ",y.jsx(h6,{})]}),ER=M.createContext();function ux(){return M.useContext(ER)}function p6({children:n}){const[t,e]=M.useState(null),[i,s]=M.useState(!0);M.useEffect(()=>cc.onAuthStateChanged(u=>{e(u),s(!1)}),[]);const o={currentUser:t};return y.jsx(ER.Provider,{value:o,children:!i&&n})}const g6=()=>{const n=jn(),{currentUser:t}=ux(),[e,i]=M.useState(!1),[s,o]=M.useState(!0);M.useEffect(()=>{(async()=>{if(t){const f=an(Yt,"users",t.uid),p=await l6(f);(!p.exists()||!p.data().nickname)&&i(!0),o(!1)}})()},[t]);const l={completedCourses:3,totalPoints:1240,currentStreak:7,rank:"Novice Explorer"},u=[{title:"Let's Play Quiz",description:"Test your knowledge with interactive quizzes",path:"/home/quizMenu",icon:"",color:"from-blue-500 to-blue-600",textColor:"text-blue-100"},{title:"Practice Questions",description:"Sharpen your skills with practice problems",path:"/home/practice",icon:"",color:"from-green-500 to-green-600",textColor:"text-green-100"},{title:"View Scores",description:"Track your progress and achievements",path:"/home/score",icon:"",color:"from-amber-500 to-amber-600",textColor:"text-amber-100"},{title:"Learning Paths",description:"Explore structured learning journeys",path:"/home/learning-paths",icon:"",color:"from-purple-500 to-purple-600",textColor:"text-purple-100"}];return s?y.jsx("div",{children:"Loading..."}):y.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome back, Learner!"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Continue your learning journey and track your progress"})]}),y.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Courses Completed"}),y.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.completedCourses})]})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Points"}),y.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalPoints})]})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Streak"}),y.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[l.currentStreak," days"]})]})]})}),y.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"p-3 rounded-lg bg-purple-100 dark:bg-purple-900/30 mr-4",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Your Rank"}),y.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:l.rank})]})]})})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((h,f)=>y.jsx("div",{onClick:()=>n(h.path),className:`bg-gradient-to-br ${h.color} rounded-xl p-6 shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl cursor-pointer group`,children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-4xl mb-3 transform group-hover:scale-110 transition-transform",children:h.icon}),y.jsx("h3",{className:`font-bold text-lg mb-2 ${h.textColor}`,children:h.title}),y.jsx("p",{className:`text-sm ${h.textColor} opacity-90`,children:h.description}),y.jsx("div",{className:`mt-4 ${h.textColor} opacity-0 group-hover:opacity-100 transition-opacity`,children:y.jsx("span",{className:"text-sm",children:"Click to explore "})})]})},f))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[y.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg mr-3",children:y.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Completed Algebra Basics quiz"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Scored 85%  2 hours ago"})]})]}),y.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[y.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg mr-3",children:y.jsx("span",{className:"text-green-600 dark:text-green-400",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Earned 50 points in Geometry practice"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Yesterday at 3:45 PM"})]})]}),y.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[y.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg mr-3",children:y.jsx("span",{className:"text-amber-600 dark:text-amber-400",children:""})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"7-day streak achieved!"}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Keep up the good work"})]})]})]})]})]})},y6=()=>y.jsx("div",{children:"WElcome back to react, Kuan!"}),v6=()=>{const[n,t]=M.useState([{name:"Loading...",id:"intializing..."}]);return M.useEffect(()=>{En(on(Yt,"courses"),e=>{t(e.docs.map(i=>({...i.data(),id:i.id})))})}),y.jsxs("div",{children:[y.jsx("button",{className:"px-3 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-500 dark:bg-yellow-400 dark:text-black dark:hover:bg-yellow-300 transition-colors duration-300",children:"New"}),y.jsx("ul",{children:n.map(e=>y.jsxs("li",{children:[y.jsx("a",{href:"",children:"edit"}),e.Subject,e.Tutor]},e.id))})]})},x6="/quiz/assets/math-book-CkyzCvEj.png",b6=()=>{const[n,t]=M.useState([{name:"Loading...",id:"intializing..."}]),e=jn();return console.log(n),M.useEffect(()=>{En(on(Yt,"courses"),i=>{t(i.docs.map(s=>({...s.data(),id:s.id})))})}),y.jsx("div",{children:y.jsxs("div",{class:"min-h-screen p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:["Let's Play! Select Your Courses",y.jsx("button",{onClick:()=>e("/home"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"}),n.map(i=>y.jsxs("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",onClick:()=>e(`/home/courses/${i.id}/chapters`),children:[y.jsx("img",{src:x6,alt:"Math-Class",className:"max-h-[40%] max-w-[40%] object-contain"}),y.jsx("br",{}),"Tutor: ",i.Tutor,y.jsx("br",{}),"Subject: ",i.Subject]},i.id)),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})}),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})})]})})},_6=()=>{const{courseId:n,chapterId:t,sectionId:e}=av(),i=jn(),{currentUser:s}=ux(),[o,l]=M.useState([]),[u,h]=M.useState(null),[f,p]=M.useState(!0),[x,b]=M.useState(null),[w,E]=M.useState(0),[C,R]=M.useState(0),[j,F]=M.useState(null),[B,X]=M.useState(null),[q,Q]=M.useState(!1),[D,A]=M.useState(!1),[I,P]=M.useState(0),[V,L]=M.useState([{name:"Loading...",id:"intializing..."}]),[O,nt]=M.useState([{name:"Loading...",id:"intializing..."}]),[rt,$]=M.useState(!1),J=At=>{if(!At)return null;if(At.includes("youtube.com/embed"))return At;const Dt=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ee=At.match(Dt),Ve=ee&&ee[2].length===11?ee[2]:null;return Ve?`https://www.youtube.com/embed/${Ve}?rel=0`:null};M.useEffect(()=>{const At=an(Yt,"courses",n),Dt=En(At,Mt=>{Mt.exists()&&b(Mt.data())}),ee=an(Yt,"courses",n,"Chapters",t);En(ee,Mt=>{Mt.exists()?L({...Mt.data(),id:Mt.id}):console.log("No such chapter document!")},Mt=>{console.error("Firestore error:",Mt),h(Mt.message)},[n,t]);const Ve=an(Yt,"courses",n,"Chapters",t,"Section",e);En(Ve,Mt=>{Mt.exists()?nt({...Mt.data(),id:Mt.id}):console.log("No such section document!")},Mt=>{console.error("Firestore error:",Mt),h(Mt.message)},[n,t,e]);const _t=on(Yt,"courses",n,"Chapters",t,"Section",e,"Quiz");console.log(_t);const Jt=En(_t,Mt=>{const Ee=Mt.docs.map(Ge=>({id:Ge.id,...Ge.data()}));l(Ee),p(!1)},Mt=>{console.error("Firestore error:",Mt),h(Mt.message)});return()=>{Dt(),Jt()}},[n]);const ct=()=>{P(3);const At=setInterval(()=>{P(Dt=>Dt<=1?(clearInterval(At),A(!0),0):Dt-1)},1e3)},[gt,U]=M.useState(0),it=At=>{F(At),X(o[w].Options[At]);const Dt=o[w];o[w].Options[At].toString()===Dt.CorrectAnswer&&R(Ve=>Ve+1),Q(!0),U(1),setTimeout(()=>{U(2)},1e3)},dt=(At,Dt)=>{if(!q)return"";const ee=o[w].Options[At],Ve=j===At,_t=ee.toString()===Dt.CorrectAnswer;return gt===1?Ve?"":"opacity-50":gt===2?_t?"!bg-green-500 !text-white":_t?"opacity-70":"!bg-red-500/75 !text-white":""},et=async()=>{w<o.length-1?(E(At=>At+1),X(null),Q(!1)):(Q("completed"),await mt())},mt=async()=>{try{const At=cc.currentUser;if(!At)return;const Dt={score:C,totalQuestions:o.length,percentage:Math.round(C/o.length*100),timestamp:new Date,courseId:n,chapterId:t,sectionId:e},ee=on(Yt,"users",At.uid,"quizResults",n,"chapters",t,"sections",e,"attempts"),_t=(await Mi(ee)).docs.map(jt=>({id:jt.id,...jt.data()})),Jt=_t.sort((jt,_s)=>jt.timestamp.toMillis()-_s.timestamp.toMillis()).slice(0,9),Mt=[];if(_t.length>=10){const jt=Jt[0];Mt.push(bR(an(ee,jt.id)))}const Ee=_R(ee,Dt),Ge=an(Yt,"users",At.uid,"allQuizAttempts",`${n}_${t}_${e}`),$n=Gu(Ge,Dt);await Promise.all([...Mt,Ee,$n]),console.log("Quiz results saved successfully!")}catch(At){console.error("Error saving quiz results:",At)}},bt=()=>{window.location.reload()};if(f)return y.jsx("div",{className:"text-center py-8",children:"Loading quiz..."});if(u)return y.jsxs("div",{children:["Error: ",u]});if(!o||o.length===0)return y.jsx("p",{className:"text-center py-8",children:"No quiz questions found."});if(!D)return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto text-center",children:[x&&y.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[y.jsx("h2",{className:"text-xl font-bold",children:x.Subject}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Tutor: ",x.Tutor]}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[o.length," questions ready"]})]}),I>0?y.jsx("div",{className:"text-6xl font-bold my-16 animate-bounce",children:I}):y.jsx(y.Fragment,{children:rt?y.jsxs(y.Fragment,{children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Are you ready?"}),y.jsx("button",{onClick:ct,className:"px-8 py-4 bg-green-600 text-white text-xl rounded-lg hover:bg-green-700",children:"START QUIZ"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:()=>$(!1),className:"px-8 py-4 bg-red-600 text-white text-xl rounded-lg hover:bg-red-700",children:"Back"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Watch This First"}),y.jsx("div",{className:"aspect-w-16 aspect-h-9",children:O.QuizVideoLink?y.jsx("iframe",{className:"w-full h-96 rounded-lg",src:J(O.QuizVideoLink),title:"Quiz Preparation Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):y.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 h-96 flex items-center justify-center rounded-lg",children:y.jsx("p",{children:"Video URL not available"})})})]}),y.jsx("button",{onClick:()=>$(!0),className:"px-8 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700",children:"Next"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:()=>i(`/home/courses/${n}/chapters/${t}/section`),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Exit quiz"})]})})]});if(q==="completed")return y.jsxs("div",{className:"text-center py-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Quiz Completed!"}),y.jsxs("p",{className:"text-xl",children:["Your final score: ",C,"/",o.length]}),y.jsx("br",{}),y.jsx("button",{onClick:bt,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reload Quiz"}),y.jsx("br",{}),y.jsx("br",{}),y.jsx("button",{onClick:()=>i(`/home/courses/${n}/chapters/${t}/section`),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"})]});const ft=o[w];return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[y.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[y.jsx("h2",{className:"text-xl font-bold",children:x.Subject}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Question ",w+1," of ",o.length]}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Score: ",C,"/",o.length]})]}),y.jsxs("div",{className:"p-4 border rounded-lg dark:border-gray-600",children:[y.jsx("h3",{className:"font-semibold text-lg mb-3",children:ft.Question||"No question text available"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(0,ft)} text-white bg-red-400 dark:bg-red-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-0`,name:`q-${ft.id}`,checked:B===0,onChange:()=>it(0),disabled:q,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-0`,className:"ml-3 cursor-pointer",children:ft.Options[0]||"Option 1"})]}),y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(1,ft)} text-white bg-blue-400 dark:bg-blue-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-1`,name:`q-${ft.id}`,checked:B===1,onChange:()=>it(1),disabled:q,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-1`,className:"ml-3 cursor-pointer",children:ft.Options[1]||"Option 2"})]}),y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(2,ft)} text-white bg-yellow-400 dark:bg-yellow-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-2`,name:`q-${ft.id}`,checked:B===2,onChange:()=>it(2),disabled:q,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-2`,className:"ml-3 cursor-pointer",children:ft.Options[2]||"Option 3"})]}),y.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all duration-300 ${dt(3,ft)} text-white bg-green-400 dark:bg-green-900/30`,children:[y.jsx("input",{type:"radio",id:`q-${ft.id}-3`,name:`q-${ft.id}`,checked:B===3,onChange:()=>it(3),disabled:q,className:"h-4 w-4"}),y.jsx("label",{htmlFor:`q-${ft.id}-3`,className:"ml-3 cursor-pointer",children:ft.Options[3]||"Option 4"})]})]}),q&&y.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[y.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded",children:B.toString()===ft.CorrectAnswer?"Correct!":"Incorrect!"}),y.jsx("button",{onClick:et,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:!B,children:w<o.length-1?"Next Question":"Finish Quiz"})]})]})]})},w6="/quiz/assets/chapter-f_ihL1Yx.png",T6=()=>{const{courseId:n}=av(),[t,e]=M.useState([{name:"Loading...",id:"intializing..."}]),i=jn();return M.useEffect(()=>{En(on(Yt,"courses",n,"Chapters"),s=>{e(s.docs.map(o=>({...o.data(),id:o.id})))})}),y.jsx("div",{children:y.jsxs("div",{class:"min-h-screen p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:["Let's Play! Select Your Chapters",y.jsx("button",{onClick:()=>i("/home"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"}),t.map(s=>y.jsxs("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",onClick:()=>i(`/home/courses/${n}/chapters/${s.id}/section`),children:[y.jsx("img",{src:w6,alt:"Math-Class",className:"max-h-[40%] max-w-[40%] object-contain"}),y.jsx("br",{}),"Chapter ",s.Number,y.jsx("br",{}),s.Title]},s.id)),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})}),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})})]})})},S6="/quiz/assets/section-DKe1TQ-N.png",E6=()=>{const{courseId:n,chapterId:t}=av(),[e,i]=M.useState([{name:"Loading...",id:"intializing..."}]),s=jn();return M.useEffect(()=>{En(on(Yt,"courses",n,"Chapters",t,"Section"),o=>{i(o.docs.map(l=>({...l.data(),id:l.id})))})}),y.jsx("div",{children:y.jsxs("div",{class:"min-h-screen p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:["Let's Play! Select Your Sections",y.jsx("button",{onClick:()=>s(`/home/courses/${n}/chapters`),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"}),e.map(o=>y.jsxs("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",onClick:()=>s(`/home/courses/${n}/chapters/${t}/section/${o.id}/quiz`),children:[y.jsx("img",{src:S6,alt:"Math-Class",className:"max-h-[40%] max-w-[40%] object-contain"}),y.jsx("br",{}),"Section ",o.SectionNumber,y.jsx("br",{}),o.SectionName]},o.id)),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})}),y.jsx("div",{class:"flex items-center justify-center h-48 mb-4 rounded-sm bg-gray-50 dark:bg-gray-800",children:y.jsx("p",{class:"text-2xl text-gray-400 dark:text-gray-500",children:y.jsx("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:y.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})})]})})},A6=()=>{const[n,t]=M.useState(!0),[e,i]=M.useState(null),[s,o]=M.useState({});return M.useEffect(()=>{(async()=>{try{t(!0);const u=cc.currentUser;if(!u)throw new Error("User not authenticated");const h=on(Yt,"users",u.uid,"allQuizAttempts"),f=await Mi(h);if(f.empty){o({});return}const p=f.docs.reduce((x,b)=>{const w=b.data(),{courseId:E,chapterId:C}=w;x[E]||(x[E]={chapters:{},stats:{totalAttempts:0,highestScore:0,chaptersCount:0,latestAttempt:null}}),x[E].chapters[C]||(x[E].chapters[C]={attempts:[],stats:{totalAttempts:0,highestScore:0,sectionsCount:new Set,latestAttempt:null}},x[E].stats.chaptersCount++),x[E].chapters[C].attempts.push(w),x[E].chapters[C].stats.totalAttempts++,x[E].chapters[C].stats.sectionsCount.add(w.sectionId),x[E].chapters[C].stats.highestScore=Math.max(x[E].chapters[C].stats.highestScore,w.percentage);const R=w.timestamp.toMillis();return(!x[E].chapters[C].stats.latestAttempt||R>x[E].chapters[C].stats.latestAttempt.timestamp.toMillis())&&(x[E].chapters[C].stats.latestAttempt=w),x[E].stats.totalAttempts++,x[E].stats.highestScore=Math.max(x[E].stats.highestScore,w.percentage),(!x[E].stats.latestAttempt||R>x[E].stats.latestAttempt.timestamp.toMillis())&&(x[E].stats.latestAttempt=w),x},{});o(p)}catch(u){console.error("Error fetching quiz attempts:",u),i(u.message)}finally{t(!1)}})()},[]),{organizedAttempts:s,loading:n,error:e}},hx=n=>{const[t,e]=M.useState({}),[i,s]=M.useState(!0),[o,l]=M.useState(null);return M.useEffect(()=>{if(!n.length){s(!1);return}const u=n.map(h=>En(an(Yt,"courses",h),f=>{e(p=>({...p,[h]:f.exists()?{id:f.id,...f.data()}:null}))}));return()=>u.forEach(h=>h())},[n]),{courses:t,loading:i,error:o}},dx=n=>{const[t,e]=M.useState({}),[i,s]=M.useState(!0),[o,l]=M.useState(null);return M.useEffect(()=>{if(!n.length){s(!1);return}let u=!0;const h=[],f=n.length;let p=0;return n.forEach(({courseId:x,chapterId:b})=>{const w=En(an(Yt,"courses",x,"Chapters",b),E=>{u&&(e(C=>({...C,[b]:E.exists()?{...E.data(),id:E.id}:null})),p++,p===f&&s(!1))},E=>{u&&(l(E.message),s(!1))});h.push(w)}),()=>{u=!1,h.forEach(x=>x())}},[n]),{chapters:t,loading:i,error:o}},fx=n=>{const[t,e]=M.useState({}),[i,s]=M.useState(!0),[o,l]=M.useState(null);return M.useEffect(()=>{if(!n.length){s(!1);return}let u=!0;const h=[],f=n.length;let p=0;return n.forEach(({courseId:x,chapterId:b,sectionId:w})=>{const E=En(an(Yt,"courses",x,"Chapters",b,"Section",w),C=>{u&&(e(R=>({...R,[w]:C.exists()?{...C.data(),id:C.id}:null})),p++,p===f&&s(!1))},C=>{u&&(l(C.message),s(!1))});h.push(E)}),()=>{u=!1,h.forEach(x=>x())}},[n]),{sections:t,loading:i,error:o}},mx=M.createContext({});function px(n){const t=M.useRef(null);return t.current===null&&(t.current=n()),t.current}const gx=typeof window<"u",AR=gx?M.useLayoutEffect:M.useEffect,ip=M.createContext(null);function yx(n,t){n.indexOf(t)===-1&&n.push(t)}function vx(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const lr=(n,t,e)=>e>t?t:e<n?n:e;let xx=()=>{};const cr={},CR=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function RR(n){return typeof n=="object"&&n!==null}const NR=n=>/^0[^.\s]+$/u.test(n);function bx(n){let t;return()=>(t===void 0&&(t=n()),t)}const _i=n=>n,C6=(n,t)=>e=>t(n(e)),Oh=(...n)=>n.reduce(C6),dh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class _x{constructor(){this.subscriptions=[]}add(t){return yx(this.subscriptions,t),()=>vx(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fs=n=>n*1e3,ms=n=>n/1e3;function IR(n,t){return t?n*(1e3/t):0}const kR=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,R6=1e-7,N6=12;function I6(n,t,e,i,s){let o,l,u=0;do l=t+(e-t)/2,o=kR(l,i,s)-n,o>0?e=l:t=l;while(Math.abs(o)>R6&&++u<N6);return l}function Vh(n,t,e,i){if(n===t&&e===i)return _i;const s=o=>I6(o,0,1,n,e);return o=>o===0||o===1?o:kR(s(o),t,i)}const DR=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,MR=n=>t=>1-n(1-t),PR=Vh(.33,1.53,.69,.99),wx=MR(PR),jR=DR(wx),OR=n=>(n*=2)<1?.5*wx(n):.5*(2-Math.pow(2,-10*(n-1))),Tx=n=>1-Math.sin(Math.acos(n)),VR=MR(Tx),LR=DR(Tx),k6=Vh(.42,0,1,1),D6=Vh(0,0,.58,1),UR=Vh(.42,0,.58,1),M6=n=>Array.isArray(n)&&typeof n[0]!="number",zR=n=>Array.isArray(n)&&typeof n[0]=="number",P6={linear:_i,easeIn:k6,easeInOut:UR,easeOut:D6,circIn:Tx,circInOut:LR,circOut:VR,backIn:wx,backInOut:jR,backOut:PR,anticipate:OR},j6=n=>typeof n=="string",uS=n=>{if(zR(n)){xx(n.length===4);const[t,e,i,s]=n;return Vh(t,e,i,s)}else if(j6(n))return P6[n];return n},vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function O6(n,t){let e=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(f.schedule(p),n()),p(u)}const f={schedule:(p,x=!1,b=!1)=>{const E=b&&s?e:i;return x&&l.add(p),E.has(p)||E.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(u=p,s){o=!0;return}s=!0,[e,i]=[i,e],e.forEach(h),e.clear(),s=!1,o&&(o=!1,f.process(p))}};return f}const V6=40;function BR(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,l=vf.reduce((B,X)=>(B[X]=O6(o),B),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:p,update:x,preRender:b,render:w,postRender:E}=l,C=()=>{const B=cr.useManualTiming?s.timestamp:performance.now();e=!1,cr.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(B-s.timestamp,V6),1)),s.timestamp=B,s.isProcessing=!0,u.process(s),h.process(s),f.process(s),p.process(s),x.process(s),b.process(s),w.process(s),E.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(C))},R=()=>{e=!0,i=!0,s.isProcessing||n(C)};return{schedule:vf.reduce((B,X)=>{const q=l[X];return B[X]=(Q,D=!1,A=!1)=>(e||R(),q.schedule(Q,D,A)),B},{}),cancel:B=>{for(let X=0;X<vf.length;X++)l[vf[X]].cancel(B)},state:s,steps:l}}const{schedule:xe,cancel:fa,state:fn,steps:R0}=BR(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0);let Wf;function L6(){Wf=void 0}const Hn={now:()=>(Wf===void 0&&Hn.set(fn.isProcessing||cr.useManualTiming?fn.timestamp:performance.now()),Wf),set:n=>{Wf=n,queueMicrotask(L6)}},FR=n=>t=>typeof t=="string"&&t.startsWith(n),Sx=FR("--"),U6=FR("var(--"),Ex=n=>U6(n)?z6.test(n.split("/*")[0].trim()):!1,z6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},fh={...uc,transform:n=>lr(0,1,n)},xf={...uc,default:1},Qu=n=>Math.round(n*1e5)/1e5,Ax=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B6(n){return n==null}const F6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cx=(n,t)=>e=>!!(typeof e=="string"&&F6.test(e)&&e.startsWith(n)||t&&!B6(e)&&Object.prototype.hasOwnProperty.call(e,t)),HR=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,o,l,u]=i.match(Ax);return{[n]:parseFloat(s),[t]:parseFloat(o),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},H6=n=>lr(0,255,n),N0={...uc,transform:n=>Math.round(H6(n))},co={test:Cx("rgb","red"),parse:HR("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+N0.transform(n)+", "+N0.transform(t)+", "+N0.transform(e)+", "+Qu(fh.transform(i))+")"};function q6(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Ry={test:Cx("#"),parse:q6,transform:co.transform},Lh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Fr=Lh("deg"),ps=Lh("%"),It=Lh("px"),$6=Lh("vh"),G6=Lh("vw"),hS={...ps,parse:n=>ps.parse(n)/100,transform:n=>ps.transform(n*100)},Rl={test:Cx("hsl","hue"),parse:HR("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+ps.transform(Qu(t))+", "+ps.transform(Qu(e))+", "+Qu(fh.transform(i))+")"},He={test:n=>co.test(n)||Ry.test(n)||Rl.test(n),parse:n=>co.test(n)?co.parse(n):Rl.test(n)?Rl.parse(n):Ry.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?co.transform(n):Rl.transform(n),getAnimatableNone:n=>{const t=He.parse(n);return t.alpha=0,He.transform(t)}},Q6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W6(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ax)?.length||0)+(n.match(Q6)?.length||0)>0}const qR="number",$R="color",K6="var",Y6="var(",dS="${}",X6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mh(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let o=0;const u=t.replace(X6,h=>(He.test(h)?(i.color.push(o),s.push($R),e.push(He.parse(h))):h.startsWith(Y6)?(i.var.push(o),s.push(K6),e.push(h)):(i.number.push(o),s.push(qR),e.push(parseFloat(h))),++o,dS)).split(dS);return{values:e,split:u,indexes:i,types:s}}function GR(n){return mh(n).values}function QR(n){const{split:t,types:e}=mh(n),i=t.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],s[l]!==void 0){const u=e[l];u===qR?o+=Qu(s[l]):u===$R?o+=He.transform(s[l]):o+=s[l]}return o}}const Z6=n=>typeof n=="number"?0:He.test(n)?He.getAnimatableNone(n):n;function J6(n){const t=GR(n);return QR(n)(t.map(Z6))}const ma={test:W6,parse:GR,createTransformer:QR,getAnimatableNone:J6};function I0(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function tL({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,o=0,l=0;if(!t)s=o=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,h=2*e-u;s=I0(h,u,n+1/3),o=I0(h,u,n),l=I0(h,u,n-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function _m(n,t){return e=>e>0?t:n}const _e=(n,t,e)=>n+(t-n)*e,k0=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},eL=[Ry,co,Rl],nL=n=>eL.find(t=>t.test(n));function fS(n){const t=nL(n);if(!t)return!1;let e=t.parse(n);return t===Rl&&(e=tL(e)),e}const mS=(n,t)=>{const e=fS(n),i=fS(t);if(!e||!i)return _m(n,t);const s={...e};return o=>(s.red=k0(e.red,i.red,o),s.green=k0(e.green,i.green,o),s.blue=k0(e.blue,i.blue,o),s.alpha=_e(e.alpha,i.alpha,o),co.transform(s))},Ny=new Set(["none","hidden"]);function iL(n,t){return Ny.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function sL(n,t){return e=>_e(n,t,e)}function Rx(n){return typeof n=="number"?sL:typeof n=="string"?Ex(n)?_m:He.test(n)?mS:oL:Array.isArray(n)?WR:typeof n=="object"?He.test(n)?mS:rL:_m}function WR(n,t){const e=[...n],i=e.length,s=n.map((o,l)=>Rx(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)e[l]=s[l](o);return e}}function rL(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=Rx(n[s])(n[s],t[s]));return s=>{for(const o in i)e[o]=i[o](s);return e}}function aL(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=n.indexes[o][i[o]],u=n.values[l]??0;e[s]=u,i[o]++}return e}const oL=(n,t)=>{const e=ma.createTransformer(t),i=mh(n),s=mh(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Ny.has(n)&&!s.values.length||Ny.has(t)&&!i.values.length?iL(n,t):Oh(WR(aL(i,s),s.values),e):_m(n,t)};function KR(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?_e(n,t,e):Rx(n)(n,t)}const lL=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>xe.update(t,e),stop:()=>fa(t),now:()=>fn.isProcessing?fn.timestamp:Hn.now()}},YR=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let o=0;o<s;o++)i+=Math.round(n(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},wm=2e4;function Nx(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<wm;)t+=e,i=n.next(t);return t>=wm?1/0:t}function cL(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(Nx(i),wm);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:ms(s)}}const uL=5;function XR(n,t,e){const i=Math.max(t-uL,0);return IR(e-n(i),t-i)}const Ne={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},D0=.001;function hL({duration:n=Ne.duration,bounce:t=Ne.bounce,velocity:e=Ne.velocity,mass:i=Ne.mass}){let s,o,l=1-t;l=lr(Ne.minDamping,Ne.maxDamping,l),n=lr(Ne.minDuration,Ne.maxDuration,ms(n)),l<1?(s=f=>{const p=f*l,x=p*n,b=p-e,w=Iy(f,l),E=Math.exp(-x);return D0-b/w*E},o=f=>{const x=f*l*n,b=x*e+e,w=Math.pow(l,2)*Math.pow(f,2)*n,E=Math.exp(-x),C=Iy(Math.pow(f,2),l);return(-s(f)+D0>0?-1:1)*((b-w)*E)/C}):(s=f=>{const p=Math.exp(-f*n),x=(f-e)*n+1;return-D0+p*x},o=f=>{const p=Math.exp(-f*n),x=(e-f)*(n*n);return p*x});const u=5/n,h=fL(s,o,u);if(n=fs(n),isNaN(h))return{stiffness:Ne.stiffness,damping:Ne.damping,duration:n};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:n}}}const dL=12;function fL(n,t,e){let i=e;for(let s=1;s<dL;s++)i=i-n(i)/t(i);return i}function Iy(n,t){return n*Math.sqrt(1-t*t)}const mL=["duration","bounce"],pL=["stiffness","damping","mass"];function pS(n,t){return t.some(e=>n[e]!==void 0)}function gL(n){let t={velocity:Ne.velocity,stiffness:Ne.stiffness,damping:Ne.damping,mass:Ne.mass,isResolvedFromDuration:!1,...n};if(!pS(n,pL)&&pS(n,mL))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,o=2*lr(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Ne.mass,stiffness:s,damping:o}}else{const e=hL(n);t={...t,...e,mass:Ne.mass},t.isResolvedFromDuration=!0}return t}function Tm(n=Ne.visualDuration,t=Ne.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const o=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:p,duration:x,velocity:b,isResolvedFromDuration:w}=gL({...e,velocity:-ms(e.velocity||0)}),E=b||0,C=f/(2*Math.sqrt(h*p)),R=l-o,j=ms(Math.sqrt(h/p)),F=Math.abs(R)<5;i||(i=F?Ne.restSpeed.granular:Ne.restSpeed.default),s||(s=F?Ne.restDelta.granular:Ne.restDelta.default);let B;if(C<1){const q=Iy(j,C);B=Q=>{const D=Math.exp(-C*j*Q);return l-D*((E+C*j*R)/q*Math.sin(q*Q)+R*Math.cos(q*Q))}}else if(C===1)B=q=>l-Math.exp(-j*q)*(R+(E+j*R)*q);else{const q=j*Math.sqrt(C*C-1);B=Q=>{const D=Math.exp(-C*j*Q),A=Math.min(q*Q,300);return l-D*((E+C*j*R)*Math.sinh(A)+q*R*Math.cosh(A))/q}}const X={calculatedDuration:w&&x||null,next:q=>{const Q=B(q);if(w)u.done=q>=x;else{let D=q===0?E:0;C<1&&(D=q===0?fs(E):XR(B,q,Q));const A=Math.abs(D)<=i,I=Math.abs(l-Q)<=s;u.done=A&&I}return u.value=u.done?l:Q,u},toString:()=>{const q=Math.min(Nx(X),wm),Q=YR(D=>X.next(q*D).value,q,30);return q+"ms "+Q},toTransition:()=>{}};return X}Tm.applyToOptions=n=>{const t=cL(n,100,Tm);return n.ease=t.ease,n.duration=fs(t.duration),n.type="keyframes",n};function ky({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:p}){const x=n[0],b={done:!1,value:x},w=A=>u!==void 0&&A<u||h!==void 0&&A>h,E=A=>u===void 0?h:h===void 0||Math.abs(u-A)<Math.abs(h-A)?u:h;let C=e*t;const R=x+C,j=l===void 0?R:l(R);j!==R&&(C=j-x);const F=A=>-C*Math.exp(-A/i),B=A=>j+F(A),X=A=>{const I=F(A),P=B(A);b.done=Math.abs(I)<=f,b.value=b.done?j:P};let q,Q;const D=A=>{w(b.value)&&(q=A,Q=Tm({keyframes:[b.value,E(b.value)],velocity:XR(B,A,b.value),damping:s,stiffness:o,restDelta:f,restSpeed:p}))};return D(0),{calculatedDuration:null,next:A=>{let I=!1;return!Q&&q===void 0&&(I=!0,X(A),D(A)),q!==void 0&&A>=q?Q.next(A-q):(!I&&X(A),b)}}}function yL(n,t,e){const i=[],s=e||cr.mix||KR,o=n.length-1;for(let l=0;l<o;l++){let u=s(n[l],n[l+1]);if(t){const h=Array.isArray(t)?t[l]||_i:t;u=Oh(h,u)}i.push(u)}return i}function vL(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const o=n.length;if(xx(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),t=[...t].reverse());const u=yL(t,i,s),h=u.length,f=p=>{if(l&&p<n[0])return t[0];let x=0;if(h>1)for(;x<n.length-2&&!(p<n[x+1]);x++);const b=dh(n[x],n[x+1],p);return u[x](b)};return e?p=>f(lr(n[0],n[o-1],p)):f}function xL(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=dh(0,t,i);n.push(_e(e,1,s))}}function bL(n){const t=[0];return xL(t,n.length-1),t}function _L(n,t){return n.map(e=>e*t)}function wL(n,t){return n.map(()=>t||UR).splice(0,n.length-1)}function Wu({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=M6(i)?i.map(uS):uS(i),o={done:!1,value:t[0]},l=_L(e&&e.length===t.length?e:bL(t),n),u=vL(l,t,{ease:Array.isArray(s)?s:wL(t,s)});return{calculatedDuration:n,next:h=>(o.value=u(h),o.done=h>=n,o)}}const TL=n=>n!==null;function Ix(n,{repeat:t,repeatType:e="loop"},i,s=1){const o=n.filter(TL),u=s<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const SL={decay:ky,inertia:ky,tween:Wu,keyframes:Wu,spring:Tm};function ZR(n){typeof n.type=="string"&&(n.type=SL[n.type])}class kx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const EL=n=>n/100;class Dx extends kx{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ZR(t);const{type:e=Wu,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const h=e||Wu;h!==Wu&&typeof u[0]!="number"&&(this.mixKeyframes=Oh(EL,KR(u[0],u[1])),u=[0,100]);const f=h({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Nx(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:x,repeatType:b,repeatDelay:w,type:E,onUpdate:C,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const j=this.currentTime-f*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?j<0:j>s;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let B=this.currentTime,X=i;if(x){const A=Math.min(this.currentTime,s)/u;let I=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&I--,I=Math.min(I,x+1),!!(I%2)&&(b==="reverse"?(P=1-P,w&&(P-=w/u)):b==="mirror"&&(X=l)),B=lr(0,1,P)*u}const q=F?{done:!1,value:p[0]}:X.next(B);o&&(q.value=o(q.value));let{done:Q}=q;!F&&h!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return D&&E!==ky&&(q.value=Ix(p,this.options,R,this.speed)),C&&C(q.value),D&&this.finish(),q}then(t,e){return this.finished.then(t,e)}get duration(){return ms(this.calculatedDuration)}get time(){return ms(this.currentTime)}set time(t){t=fs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Hn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ms(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=lL,startTime:e}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function AL(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const uo=n=>n*180/Math.PI,Dy=n=>{const t=uo(Math.atan2(n[1],n[0]));return My(t)},CL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Dy,rotateZ:Dy,skewX:n=>uo(Math.atan(n[1])),skewY:n=>uo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},My=n=>(n=n%360,n<0&&(n+=360),n),gS=Dy,yS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),vS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),RL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yS,scaleY:vS,scale:n=>(yS(n)+vS(n))/2,rotateX:n=>My(uo(Math.atan2(n[6],n[5]))),rotateY:n=>My(uo(Math.atan2(-n[2],n[0]))),rotateZ:gS,rotate:gS,skewX:n=>uo(Math.atan(n[4])),skewY:n=>uo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Py(n){return n.includes("scale")?1:0}function jy(n,t){if(!n||n==="none")return Py(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=RL,s=e;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=CL,s=u}if(!s)return Py(t);const o=i[t],l=s[1].split(",").map(IL);return typeof o=="function"?o(l):l[o]}const NL=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return jy(e,t)};function IL(n){return parseFloat(n.trim())}const hc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dc=new Set(hc),xS=n=>n===uc||n===It,kL=new Set(["x","y","z"]),DL=hc.filter(n=>!kL.has(n));function ML(n){const t=[];return DL.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const go={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>jy(t,"x"),y:(n,{transform:t})=>jy(t,"y")};go.translateX=go.x;go.translateY=go.y;const yo=new Set;let Oy=!1,Vy=!1,Ly=!1;function JR(){if(Vy){const n=Array.from(yo).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=ML(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Vy=!1,Oy=!1,yo.forEach(n=>n.complete(Ly)),yo.clear()}function tN(){yo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Vy=!0)})}function PL(){Ly=!0,tN(),JR(),Ly=!1}class Mx{constructor(t,e,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(yo.add(this),Oy||(Oy=!0,xe.read(tN),xe.resolveKeyframes(JR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}AL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),yo.delete(this)}cancel(){this.state==="scheduled"&&(yo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jL=n=>n.startsWith("--");function OL(n,t,e){jL(t)?n.style.setProperty(t,e):n.style[t]=e}const VL=bx(()=>window.ScrollTimeline!==void 0),LL={};function UL(n,t){const e=bx(n);return()=>LL[t]??e()}const eN=UL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ou=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,bS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ou([0,.65,.55,1]),circOut:Ou([.55,0,1,.45]),backIn:Ou([.31,.01,.66,-.59]),backOut:Ou([.33,1.53,.69,.99])};function nN(n,t){if(n)return typeof n=="function"?eN()?YR(n,t):"ease-out":zR(n)?Ou(n):Array.isArray(n)?n.map(e=>nN(e,t)||bS.easeOut):bS[n]}function zL(n,t,e,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:h}={},f=void 0){const p={[t]:e};h&&(p.offset=h);const x=nN(u,s);Array.isArray(x)&&(p.easing=x);const b={delay:i,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),n.animate(p,b)}function iN(n){return typeof n=="function"&&"applyToOptions"in n}function BL({type:n,...t}){return iN(n)&&eN()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class FL extends kx{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,xx(typeof t.type!="string");const f=BL(t);this.animation=zL(e,i,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Ix(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):OL(e,i,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ms(Number(t))}get time(){return ms(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&VL()?(this.animation.timeline=t,_i):e(this)}}const sN={anticipate:OR,backInOut:jR,circInOut:LR};function HL(n){return n in sN}function qL(n){typeof n.ease=="string"&&HL(n.ease)&&(n.ease=sN[n.ease])}const _S=10;class $L extends FL{constructor(t){qL(t),ZR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new Dx({...l,autoplay:!1}),h=fs(this.finishedTime??this.time);e.setWithVelocity(u.sample(h-_S).value,u.sample(h).value,_S),u.stop()}}const wS=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ma.test(n)||n==="0")&&!n.startsWith("url("));function GL(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function QL(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=n[n.length-1],l=wS(s,t),u=wS(o,t);return!l||!u?!1:GL(n)||(e==="spring"||iN(e))&&i}function Uy(n){n.duration=0,n.type}const WL=new Set(["opacity","clipPath","filter","transform"]),KL=bx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function YL(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:o,type:l}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return KL()&&e&&WL.has(e)&&(e!=="transform"||!f)&&!h&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const XL=40;class ZL extends kx{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:h,motionValue:f,element:p,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Hn.now();const b={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:o,repeatType:l,name:h,motionValue:f,element:p,...x},w=p?.KeyframeResolver||Mx;this.keyframeResolver=new w(u,(E,C,R)=>this.onKeyframesResolved(E,C,b,!R),h,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:h,isHandoff:f,onUpdate:p}=i;this.resolvedAt=Hn.now(),QL(t,o,l,u)||((cr.instantAnimations||!h)&&p?.(Ix(t,i,e)),t[0]=t[t.length-1],Uy(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>XL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},w=!f&&YL(b)?new $L({...b,element:b.motionValue.owner.current}):new Dx(b);w.finished.then(()=>this.notifyFinished()).catch(_i),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),PL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const JL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t9(n){const t=JL.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function rN(n,t,e=1){const[i,s]=t9(n);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return CR(l)?parseFloat(l):l}return Ex(s)?rN(s,t,e+1):s}function Px(n,t){return n?.[t]??n?.default??n}const aN=new Set(["width","height","top","left","right","bottom",...hc]),e9={test:n=>n==="auto",parse:n=>n},oN=n=>t=>t.test(n),lN=[uc,It,ps,Fr,G6,$6,e9],TS=n=>lN.find(oN(n));function n9(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||NR(n):!0}const i9=new Set(["brightness","contrast","saturate","opacity"]);function s9(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(Ax)||[];if(!i)return n;const s=e.replace(i,"");let o=i9.has(t)?1:0;return i!==e&&(o*=100),t+"("+o+s+")"}const r9=/\b([a-z-]*)\(.*?\)/gu,zy={...ma,getAnimatableNone:n=>{const t=n.match(r9);return t?t.map(s9).join(" "):n}},SS={...uc,transform:Math.round},a9={rotate:Fr,rotateX:Fr,rotateY:Fr,rotateZ:Fr,scale:xf,scaleX:xf,scaleY:xf,scaleZ:xf,skew:Fr,skewX:Fr,skewY:Fr,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:fh,originX:hS,originY:hS,originZ:It},jx={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,backgroundPositionX:It,backgroundPositionY:It,...a9,zIndex:SS,fillOpacity:fh,strokeOpacity:fh,numOctaves:SS},o9={...jx,color:He,backgroundColor:He,outlineColor:He,fill:He,stroke:He,borderColor:He,borderTopColor:He,borderRightColor:He,borderBottomColor:He,borderLeftColor:He,filter:zy,WebkitFilter:zy},cN=n=>o9[n];function uN(n,t){let e=cN(n);return e!==zy&&(e=ma),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const l9=new Set(["auto","none","0"]);function c9(n,t,e){let i=0,s;for(;i<n.length&&!s;){const o=n[i];typeof o=="string"&&!l9.has(o)&&mh(o).values.length&&(s=n[i]),i++}if(s&&e)for(const o of t)n[o]=uN(e,s)}class u9 extends Mx{constructor(t,e,i,s,o){super(t,e,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),Ex(f))){const p=rN(f,e.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!aN.has(i)||t.length!==2)return;const[s,o]=t,l=TS(s),u=TS(o);if(l!==u)if(xS(l)&&xS(u))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else go[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||n9(t[s]))&&i.push(s);i.length&&c9(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=go[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=go[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{t.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function h9(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=e?.[n]??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const hN=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function dN(n){return RR(n)&&"offsetHeight"in n}const ES=30,d9=n=>!isNaN(parseFloat(n));class f9{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Hn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=d9(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new _x);const i=this.events[t].add(e);return t==="change"?()=>{i(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ES)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,ES);return IR(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wl(n,t){return new f9(n,t)}const{schedule:Ox}=BR(queueMicrotask,!1),Ii={x:!1,y:!1};function fN(){return Ii.x||Ii.y}function m9(n){return n==="x"||n==="y"?Ii[n]?null:(Ii[n]=!0,()=>{Ii[n]=!1}):Ii.x||Ii.y?null:(Ii.x=Ii.y=!0,()=>{Ii.x=Ii.y=!1})}function mN(n,t){const e=h9(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function AS(n){return!(n.pointerType==="touch"||fN())}function p9(n,t,e={}){const[i,s,o]=mN(n,e),l=u=>{if(!AS(u))return;const{target:h}=u,f=t(h,u);if(typeof f!="function"||!h)return;const p=x=>{AS(x)&&(f(x),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const pN=(n,t)=>t?n===t?!0:pN(n,t.parentElement):!1,Vx=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,g9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function y9(n){return g9.has(n.tagName)||n.tabIndex!==-1}const Kf=new WeakSet;function CS(n){return t=>{t.key==="Enter"&&n(t)}}function M0(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const v9=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=CS(()=>{if(Kf.has(e))return;M0(e,"down");const s=CS(()=>{M0(e,"up")}),o=()=>M0(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function RS(n){return Vx(n)&&!fN()}function x9(n,t,e={}){const[i,s,o]=mN(n,e),l=u=>{const h=u.currentTarget;if(!RS(u))return;Kf.add(h);const f=t(h,u),p=(w,E)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),Kf.has(h)&&Kf.delete(h),RS(w)&&typeof f=="function"&&f(w,{success:E})},x=w=>{p(w,h===window||h===document||e.useGlobalTarget||pN(h,w.target))},b=w=>{p(w,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",b,s)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),dN(u)&&(u.addEventListener("focus",f=>v9(f,s)),!y9(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function gN(n){return RR(n)&&"ownerSVGElement"in n}function b9(n){return gN(n)&&n.tagName==="svg"}const An=n=>!!(n&&n.getVelocity),_9=[...lN,He,ma],w9=n=>_9.find(oN(n)),Lx=M.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class T9 extends M.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=dN(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function S9({children:n,isPresent:t,anchorX:e,root:i}){const s=M.useId(),o=M.useRef(null),l=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=M.useContext(Lx);return M.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:x,right:b}=l.current;if(t||!o.current||!h||!f)return;const w=e==="left"?`left: ${x}`:`right: ${b}`;o.current.dataset.motionPopId=s;const E=document.createElement("style");u&&(E.nonce=u);const C=i??document.head;return C.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{C.contains(E)&&C.removeChild(E)}},[t]),y.jsx(T9,{isPresent:t,childRef:o,sizeRef:l,children:M.cloneElement(n,{ref:o})})}const E9=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u,root:h})=>{const f=px(A9),p=M.useId();let x=!0,b=M.useMemo(()=>(x=!1,{id:p,initial:t,isPresent:e,custom:s,onExitComplete:w=>{f.set(w,!0);for(const E of f.values())if(!E)return;i&&i()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[e,f,i]);return o&&x&&(b={...b}),M.useMemo(()=>{f.forEach((w,E)=>f.set(E,!1))},[e]),M.useEffect(()=>{!e&&!f.size&&i&&i()},[e]),l==="popLayout"&&(n=y.jsx(S9,{isPresent:e,anchorX:u,root:h,children:n})),y.jsx(ip.Provider,{value:b,children:n})};function A9(){return new Map}function yN(n=!0){const t=M.useContext(ip);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,o=M.useId();M.useEffect(()=>{if(n)return s(o)},[n]);const l=M.useCallback(()=>n&&i&&i(o),[o,i,n]);return!e&&i?[!1,l]:[!0]}const bf=n=>n.key||"";function NS(n){const t=[];return M.Children.forEach(n,e=>{M.isValidElement(e)&&t.push(e)}),t}const sa=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:h})=>{const[f,p]=yN(l),x=M.useMemo(()=>NS(n),[n]),b=l&&!f?[]:x.map(bf),w=M.useRef(!0),E=M.useRef(x),C=px(()=>new Map),[R,j]=M.useState(x),[F,B]=M.useState(x);AR(()=>{w.current=!1,E.current=x;for(let Q=0;Q<F.length;Q++){const D=bf(F[Q]);b.includes(D)?C.delete(D):C.get(D)!==!0&&C.set(D,!1)}},[F,b.length,b.join("-")]);const X=[];if(x!==R){let Q=[...x];for(let D=0;D<F.length;D++){const A=F[D],I=bf(A);b.includes(I)||(Q.splice(D,0,A),X.push(A))}return o==="wait"&&X.length&&(Q=X),B(NS(Q)),j(x),null}const{forceRender:q}=M.useContext(mx);return y.jsx(y.Fragment,{children:F.map(Q=>{const D=bf(Q),A=l&&!f?!1:x===F||b.includes(D),I=()=>{if(C.has(D))C.set(D,!0);else return;let P=!0;C.forEach(V=>{V||(P=!1)}),P&&(q?.(),B(E.current),l&&p?.(),i&&i())};return y.jsx(E9,{isPresent:A,initial:!w.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:A?void 0:I,anchorX:u,children:Q},D)})})},vN=M.createContext({strict:!1}),IS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kl={};for(const n in IS)Kl[n]={isEnabled:t=>IS[n].some(e=>!!t[e])};function C9(n){for(const t in n)Kl[t]={...Kl[t],...n[t]}}const R9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||R9.has(n)}let xN=n=>!Sm(n);function N9(n){typeof n=="function"&&(xN=t=>t.startsWith("on")?!Sm(t):n(t))}try{N9(require("@emotion/is-prop-valid").default)}catch{}function I9(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(xN(s)||e===!0&&Sm(s)||!t&&!Sm(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const sp=M.createContext({});function rp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ph(n){return typeof n=="string"||Array.isArray(n)}const Ux=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zx=["initial",...Ux];function ap(n){return rp(n.animate)||zx.some(t=>ph(n[t]))}function bN(n){return!!(ap(n)||n.variants)}function k9(n,t){if(ap(n)){const{initial:e,animate:i}=n;return{initial:e===!1||ph(e)?e:void 0,animate:ph(i)?i:void 0}}return n.inherit!==!1?t:{}}function D9(n){const{initial:t,animate:e}=k9(n,M.useContext(sp));return M.useMemo(()=>({initial:t,animate:e}),[kS(t),kS(e)])}function kS(n){return Array.isArray(n)?n.join(" "):n}const gh={};function M9(n){for(const t in n)gh[t]=n[t],Sx(t)&&(gh[t].isCSSVariable=!0)}function _N(n,{layout:t,layoutId:e}){return dc.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!gh[n]||n==="opacity")}const P9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},j9=hc.length;function O9(n,t,e){let i="",s=!0;for(let o=0;o<j9;o++){const l=hc[o],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||e){const f=hN(u,jx[l]);if(!h){s=!1;const p=P9[l]||l;i+=`${p}(${f}) `}e&&(t[l]=f)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function Bx(n,t,e){const{style:i,vars:s,transformOrigin:o}=n;let l=!1,u=!1;for(const h in t){const f=t[h];if(dc.has(h)){l=!0;continue}else if(Sx(h)){s[h]=f;continue}else{const p=hN(f,jx[h]);h.startsWith("origin")?(u=!0,o[h]=p):i[h]=p}}if(t.transform||(l||e?i.transform=O9(t,n.transform,e):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=o;i.transformOrigin=`${h} ${f} ${p}`}}const Fx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wN(n,t,e){for(const i in t)!An(t[i])&&!_N(i,e)&&(n[i]=t[i])}function V9({transformTemplate:n},t){return M.useMemo(()=>{const e=Fx();return Bx(e,t,n),Object.assign({},e.vars,e.style)},[t])}function L9(n,t){const e=n.style||{},i={};return wN(i,e,n),Object.assign(i,V9(n,t)),i}function U9(n,t){const e={},i=L9(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const z9={offset:"stroke-dashoffset",array:"stroke-dasharray"},B9={offset:"strokeDashoffset",array:"strokeDasharray"};function F9(n,t,e=1,i=0,s=!0){n.pathLength=1;const o=s?z9:B9;n[o.offset]=It.transform(-i);const l=It.transform(t),u=It.transform(e);n[o.array]=`${l} ${u}`}function TN(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},h,f,p){if(Bx(n,u,f),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:b}=n;x.transform&&(b.transform=x.transform,delete x.transform),(b.transform||x.transformOrigin)&&(b.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),e!==void 0&&(x.y=e),i!==void 0&&(x.scale=i),s!==void 0&&F9(x,s,o,l,!1)}const SN=()=>({...Fx(),attrs:{}}),EN=n=>typeof n=="string"&&n.toLowerCase()==="svg";function H9(n,t,e,i){const s=M.useMemo(()=>{const o=SN();return TN(o,t,EN(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[t]);if(n.style){const o={};wN(o,n.style,n),s.style={...o,...s.style}}return s}const q9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hx(n){return typeof n!="string"||n.includes("-")?!1:!!(q9.indexOf(n)>-1||/[A-Z]/u.test(n))}function $9(n,t,e,{latestValues:i},s,o=!1){const u=(Hx(n)?H9:U9)(t,i,s,n),h=I9(t,typeof n=="string",o),f=n!==M.Fragment?{...h,...u,ref:e}:{},{children:p}=t,x=M.useMemo(()=>An(p)?p.get():p,[p]);return M.createElement(n,{...f,children:x})}function DS(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function qx(n,t,e,i){if(typeof t=="function"){const[s,o]=DS(i);t=t(e!==void 0?e:n.custom,s,o)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,o]=DS(i);t=t(e!==void 0?e:n.custom,s,o)}return t}function Yf(n){return An(n)?n.get():n}function G9({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:Q9(e,i,s,n),renderState:t()}}function Q9(n,t,e,i){const s={},o=i(n,{});for(const b in o)s[b]=Yf(o[b]);let{initial:l,animate:u}=n;const h=ap(n),f=bN(n);t&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||l===!1;const x=p?u:l;if(x&&typeof x!="boolean"&&!rp(x)){const b=Array.isArray(x)?x:[x];for(let w=0;w<b.length;w++){const E=qx(n,b[w]);if(E){const{transitionEnd:C,transition:R,...j}=E;for(const F in j){let B=j[F];if(Array.isArray(B)){const X=p?B.length-1:0;B=B[X]}B!==null&&(s[F]=B)}for(const F in C)s[F]=C[F]}}}return s}const AN=n=>(t,e)=>{const i=M.useContext(sp),s=M.useContext(ip),o=()=>G9(n,t,i,s);return e?o():px(o)};function $x(n,t,e){const{style:i}=n,s={};for(const o in i)(An(i[o])||t.style&&An(t.style[o])||_N(o,n)||e?.getValue(o)?.liveStyle!==void 0)&&(s[o]=i[o]);return s}const W9=AN({scrapeMotionValuesFromProps:$x,createRenderState:Fx});function CN(n,t,e){const i=$x(n,t,e);for(const s in n)if(An(n[s])||An(t[s])){const o=hc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=n[s]}return i}const K9=AN({scrapeMotionValuesFromProps:CN,createRenderState:SN}),Y9=Symbol.for("motionComponentSymbol");function Nl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function X9(n,t,e){return M.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Nl(e)&&(e.current=i))},[t])}const Gx=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Z9="framerAppearId",RN="data-"+Gx(Z9),NN=M.createContext({});function J9(n,t,e,i,s){const{visualElement:o}=M.useContext(sp),l=M.useContext(vN),u=M.useContext(ip),h=M.useContext(Lx).reducedMotion,f=M.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(n,{visualState:t,parent:o,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,x=M.useContext(NN);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&t7(f.current,e,s,x);const b=M.useRef(!1);M.useInsertionEffect(()=>{p&&b.current&&p.update(e,u)});const w=e[RN],E=M.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return AR(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),E.current&&p.animationState&&p.animationState.animateChanges())}),M.useEffect(()=>{p&&(!E.current&&p.animationState&&p.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),E.current=!1),p.enteringChildren=void 0)}),p}function t7(n,t,e,i){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:IN(n.parent)),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&Nl(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:f})}function IN(n){if(n)return n.options.allowProjection!==!1?n.projection:IN(n.parent)}function P0(n,{forwardMotionProps:t=!1}={},e,i){e&&C9(e);const s=Hx(n)?K9:W9;function o(u,h){let f;const p={...M.useContext(Lx),...u,layoutId:e7(u)},{isStatic:x}=p,b=D9(u),w=s(u,x);if(!x&&gx){n7();const E=i7(p);f=E.MeasureLayout,b.visualElement=J9(n,w,p,i,E.ProjectionNode)}return y.jsxs(sp.Provider,{value:b,children:[f&&b.visualElement?y.jsx(f,{visualElement:b.visualElement,...p}):null,$9(n,u,X9(w,b.visualElement,h),w,x,t)]})}o.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=M.forwardRef(o);return l[Y9]=n,l}function e7({layoutId:n}){const t=M.useContext(mx).id;return t&&n!==void 0?t+"-"+n:n}function n7(n,t){M.useContext(vN).strict}function i7(n){const{drag:t,layout:e}=Kl;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function s7(n,t){if(typeof Proxy>"u")return P0;const e=new Map,i=(o,l)=>P0(o,l,n,t),s=(o,l)=>i(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?i:(e.has(l)||e.set(l,P0(l,void 0,n,t)),e.get(l))})}function kN({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function r7({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function a7(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function j0(n){return n===void 0||n===1}function By({scale:n,scaleX:t,scaleY:e}){return!j0(n)||!j0(t)||!j0(e)}function so(n){return By(n)||DN(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function DN(n){return MS(n.x)||MS(n.y)}function MS(n){return n&&n!=="0%"}function Em(n,t,e){const i=n-e,s=t*i;return e+s}function PS(n,t,e,i,s){return s!==void 0&&(n=Em(n,s,i)),Em(n,e,i)+t}function Fy(n,t=0,e=1,i,s){n.min=PS(n.min,t,e,i,s),n.max=PS(n.max,t,e,i,s)}function MN(n,{x:t,y:e}){Fy(n.x,t.translate,t.scale,t.originPoint),Fy(n.y,e.translate,e.scale,e.originPoint)}const jS=.999999999999,OS=1.0000000000001;function o7(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let o,l;for(let u=0;u<s;u++){o=e[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&kl(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,MN(n,l)),i&&so(o.latestValues)&&kl(n,o.latestValues))}t.x<OS&&t.x>jS&&(t.x=1),t.y<OS&&t.y>jS&&(t.y=1)}function Il(n,t){n.min=n.min+t,n.max=n.max+t}function VS(n,t,e,i,s=.5){const o=_e(n.min,n.max,s);Fy(n,t,e,o,i)}function kl(n,t){VS(n.x,t.x,t.scaleX,t.scale,t.originX),VS(n.y,t.y,t.scaleY,t.scale,t.originY)}function PN(n,t){return kN(a7(n.getBoundingClientRect(),t))}function l7(n,t,e){const i=PN(n,e),{scroll:s}=t;return s&&(Il(i.x,s.offset.x),Il(i.y,s.offset.y)),i}const LS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dl=()=>({x:LS(),y:LS()}),US=()=>({min:0,max:0}),Me=()=>({x:US(),y:US()}),Hy={current:null},jN={current:!1};function c7(){if(jN.current=!0,!!gx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hy.current=n.matches;n.addEventListener("change",t),t()}else Hy.current=!1}const u7=new WeakMap;function h7(n,t,e){for(const i in t){const s=t[i],o=e[i];if(An(s))n.addValue(i,s);else if(An(o))n.addValue(i,Wl(s,{owner:n}));else if(o!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,Wl(l!==void 0?l:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const zS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class d7{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Hn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,xe.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=ap(e),this.isVariantNode=bN(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in x){const w=x[b];h[b]!==void 0&&An(w)&&w.set(h[b])}}mount(t){this.current=t,u7.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),jN.current||c7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fa(this.notifyUpdate),fa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=dc.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&xe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Kl){const e=Kl[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<zS.length;i++){const s=zS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=t[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=h7(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Wl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(CR(i)||NR(i))?i=parseFloat(i):!w9(i)&&ma.test(e)&&(i=uN(t,e)),this.setBaseTarget(t,An(i)?i.get():i)),An(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=qx(this.props,e,this.presenceContext?.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!An(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new _x),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Ox.render(this.render)}}class ON extends d7{constructor(){super(...arguments),this.KeyframeResolver=u9}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function VN(n,{style:t,vars:e},i,s){const o=n.style;let l;for(l in t)o[l]=t[l];s?.applyProjectionStyles(o,i);for(l in e)o.setProperty(l,e[l])}function f7(n){return window.getComputedStyle(n)}class m7 extends ON{constructor(){super(...arguments),this.type="html",this.renderInstance=VN}readValueFromInstance(t,e){if(dc.has(e))return this.projection?.isProjecting?Py(e):NL(t,e);{const i=f7(t),s=(Sx(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return PN(t,e)}build(t,e,i){Bx(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return $x(t,e,i)}}const LN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function p7(n,t,e,i){VN(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(LN.has(s)?s:Gx(s),t.attrs[s])}class g7 extends ON{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Me}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(dc.has(e)){const i=cN(e);return i&&i.default||0}return e=LN.has(e)?e:Gx(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return CN(t,e,i)}build(t,e,i){TN(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){p7(t,e,i,s)}mount(t){this.isSVGTag=EN(t.tagName),super.mount(t)}}const y7=(n,t)=>Hx(n)?new g7(t):new m7(t,{allowProjection:n!==M.Fragment});function Vl(n,t,e){const i=n.getProps();return qx(i,t,e!==void 0?e:i.custom,n)}const qy=n=>Array.isArray(n);function v7(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Wl(e))}function x7(n){return qy(n)?n[n.length-1]||0:n}function b7(n,t){const e=Vl(n,t);let{transitionEnd:i={},transition:s={},...o}=e||{};o={...o,...i};for(const l in o){const u=x7(o[l]);v7(n,l,u)}}function _7(n){return!!(An(n)&&n.add)}function $y(n,t){const e=n.getValue("willChange");if(_7(e))return e.add(t);if(!e&&cr.WillChange){const i=new cr.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function UN(n){return n.props[RN]}const w7=n=>n!==null;function T7(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(w7),o=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[o]}const S7={type:"spring",stiffness:500,damping:25,restSpeed:10},E7=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),A7={type:"keyframes",duration:.8},C7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R7=(n,{keyframes:t})=>t.length>2?A7:dc.has(n)?n.startsWith("scale")?E7(t[1]):S7:C7;function N7({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const Qx=(n,t,e,i={},s,o)=>l=>{const u=Px(i,n)||{},h=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-fs(h);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:t,element:o?void 0:s};N7(u)||Object.assign(p,R7(n,p)),p.duration&&(p.duration=fs(p.duration)),p.repeatDelay&&(p.repeatDelay=fs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Uy(p),p.delay===0&&(x=!0)),(cr.instantAnimations||cr.skipAnimations)&&(x=!0,Uy(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,x&&!o&&t.get()!==void 0){const b=T7(p.keyframes,u);if(b!==void 0){xe.update(()=>{p.onUpdate(b),p.onComplete()});return}}return u.isSync?new Dx(p):new ZL(p)};function I7({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function zN(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:l,...u}=t;i&&(o=i);const h=[],f=s&&n.animationState&&n.animationState.getState()[s];for(const p in u){const x=n.getValue(p,n.latestValues[p]??null),b=u[p];if(b===void 0||f&&I7(f,p))continue;const w={delay:e,...Px(o||{},p)},E=x.get();if(E!==void 0&&!x.isAnimating&&!Array.isArray(b)&&b===E&&!w.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const j=UN(n);if(j){const F=window.MotionHandoffAnimation(j,p,xe);F!==null&&(w.startTime=F,C=!0)}}$y(n,p),x.start(Qx(p,x,b,n.shouldReduceMotion&&aN.has(p)?{type:!1}:w,n,C));const R=x.animation;R&&h.push(R)}return l&&Promise.all(h).then(()=>{xe.update(()=>{l&&b7(n,l)})}),h}function BN(n,t,e,i=0,s=1){const o=Array.from(n).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),l=n.size,u=(l-1)*i;return typeof e=="function"?e(o,l):s===1?o*i:u-o*i}function Gy(n,t,e={}){const i=Vl(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const o=i?()=>Promise.all(zN(n,i,e)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:x}=s;return k7(n,t,h,f,p,x,e)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,f]=u==="beforeChildren"?[o,l]:[l,o];return h().then(()=>f())}else return Promise.all([o(),l(e.delay)])}function k7(n,t,e=0,i=0,s=0,o=1,l){const u=[];for(const h of n.variantChildren)h.notify("AnimationStart",t),u.push(Gy(h,t,{...l,delay:e+(typeof i=="function"?0:i)+BN(n.variantChildren,h,i,s,o)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(u)}function D7(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>Gy(n,o,e));i=Promise.all(s)}else if(typeof t=="string")i=Gy(n,t,e);else{const s=typeof t=="function"?Vl(n,t,e.custom):t;i=Promise.all(zN(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function FN(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const M7=zx.length;function HN(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?HN(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<M7;e++){const i=zx[e],s=n.props[i];(ph(s)||s===!1)&&(t[i]=s)}return t}const P7=[...Ux].reverse(),j7=Ux.length;function O7(n){return t=>Promise.all(t.map(({animation:e,options:i})=>D7(n,e,i)))}function V7(n){let t=O7(n),e=BS(),i=!0;const s=h=>(f,p)=>{const x=Vl(n,p,h==="exit"?n.presenceContext?.custom:void 0);if(x){const{transition:b,transitionEnd:w,...E}=x;f={...f,...E,...w}}return f};function o(h){t=h(n)}function l(h){const{props:f}=n,p=HN(n.parent)||{},x=[],b=new Set;let w={},E=1/0;for(let R=0;R<j7;R++){const j=P7[R],F=e[j],B=f[j]!==void 0?f[j]:p[j],X=ph(B),q=j===h?F.isActive:null;q===!1&&(E=R);let Q=B===p[j]&&B!==f[j]&&X;if(Q&&i&&n.manuallyAnimateOnMount&&(Q=!1),F.protectedKeys={...w},!F.isActive&&q===null||!B&&!F.prevProp||rp(B)||typeof B=="boolean")continue;const D=L7(F.prevProp,B);let A=D||j===h&&F.isActive&&!Q&&X||R>E&&X,I=!1;const P=Array.isArray(B)?B:[B];let V=P.reduce(s(j),{});q===!1&&(V={});const{prevResolvedValues:L={}}=F,O={...L,...V},nt=J=>{A=!0,b.has(J)&&(I=!0,b.delete(J)),F.needsAnimating[J]=!0;const ct=n.getValue(J);ct&&(ct.liveStyle=!1)};for(const J in O){const ct=V[J],gt=L[J];if(w.hasOwnProperty(J))continue;let U=!1;qy(ct)&&qy(gt)?U=!FN(ct,gt):U=ct!==gt,U?ct!=null?nt(J):b.add(J):ct!==void 0&&b.has(J)?nt(J):F.protectedKeys[J]=!0}F.prevProp=B,F.prevResolvedValues=V,F.isActive&&(w={...w,...V}),i&&n.blockInitialAnimation&&(A=!1);const rt=Q&&D;A&&(!rt||I)&&x.push(...P.map(J=>{const ct={type:j};if(typeof J=="string"&&i&&!rt&&n.manuallyAnimateOnMount&&n.parent){const{parent:gt}=n,U=Vl(gt,J);if(gt.enteringChildren&&U){const{delayChildren:it}=U.transition||{};ct.delay=BN(gt.enteringChildren,n,it)}}return{animation:J,options:ct}}))}if(b.size){const R={};if(typeof f.initial!="boolean"){const j=Vl(n,Array.isArray(f.initial)?f.initial[0]:f.initial);j&&j.transition&&(R.transition=j.transition)}b.forEach(j=>{const F=n.getBaseTarget(j),B=n.getValue(j);B&&(B.liveStyle=!0),R[j]=F??null}),x.push({animation:R})}let C=!!x.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?t(x):Promise.resolve()}function u(h,f){if(e[h].isActive===f)return Promise.resolve();n.variantChildren?.forEach(x=>x.animationState?.setActive(h,f)),e[h].isActive=f;const p=l(h);for(const x in e)e[x].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>e,reset:()=>{e=BS(),i=!0}}}function L7(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!FN(t,n):!1}function Ja(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BS(){return{animate:Ja(!0),whileInView:Ja(),whileHover:Ja(),whileTap:Ja(),whileDrag:Ja(),whileFocus:Ja(),exit:Ja()}}class xa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class U7 extends xa{constructor(t){super(t),t.animationState||(t.animationState=V7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();rp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let z7=0;class B7 extends xa{constructor(){super(...arguments),this.id=z7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const F7={animation:{Feature:U7},exit:{Feature:B7}};function yh(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function Uh(n){return{point:{x:n.pageX,y:n.pageY}}}const H7=n=>t=>Vx(t)&&n(t,Uh(t));function Ku(n,t,e,i){return yh(n,t,H7(e),i)}const qN=1e-4,q7=1-qN,$7=1+qN,$N=.01,G7=0-$N,Q7=0+$N;function Pn(n){return n.max-n.min}function W7(n,t,e){return Math.abs(n-t)<=e}function FS(n,t,e,i=.5){n.origin=i,n.originPoint=_e(t.min,t.max,n.origin),n.scale=Pn(e)/Pn(t),n.translate=_e(e.min,e.max,n.origin)-n.originPoint,(n.scale>=q7&&n.scale<=$7||isNaN(n.scale))&&(n.scale=1),(n.translate>=G7&&n.translate<=Q7||isNaN(n.translate))&&(n.translate=0)}function Yu(n,t,e,i){FS(n.x,t.x,e.x,i?i.originX:void 0),FS(n.y,t.y,e.y,i?i.originY:void 0)}function HS(n,t,e){n.min=e.min+t.min,n.max=n.min+Pn(t)}function K7(n,t,e){HS(n.x,t.x,e.x),HS(n.y,t.y,e.y)}function qS(n,t,e){n.min=t.min-e.min,n.max=n.min+Pn(t)}function Xu(n,t,e){qS(n.x,t.x,e.x),qS(n.y,t.y,e.y)}function yi(n){return[n("x"),n("y")]}const GN=({current:n})=>n?n.ownerDocument.defaultView:null,$S=(n,t)=>Math.abs(n-t);function Y7(n,t){const e=$S(n.x,t.x),i=$S(n.y,t.y);return Math.sqrt(e**2+i**2)}class QN{constructor(t,e,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=V0(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,E=Y7(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!E)return;const{point:C}=b,{timestamp:R}=fn;this.history.push({...C,timestamp:R});const{onStart:j,onMove:F}=this.handlers;w||(j&&j(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=O0(w,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=V0(b.type==="pointercancel"?this.lastMoveEventInfo:O0(w,this.transformPagePoint),this.history);this.startEvent&&E&&E(b,j),C&&C(b,j)},!Vx(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const u=Uh(t),h=O0(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=fn;this.history=[{...f,timestamp:p}];const{onSessionStart:x}=e;x&&x(t,V0(h,this.history)),this.removeListeners=Oh(Ku(this.contextWindow,"pointermove",this.handlePointerMove),Ku(this.contextWindow,"pointerup",this.handlePointerUp),Ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fa(this.updatePoint)}}function O0(n,t){return t?{point:t(n.point)}:n}function GS(n,t){return{x:n.x-t.x,y:n.y-t.y}}function V0({point:n},t){return{point:n,delta:GS(n,WN(t)),offset:GS(n,X7(t)),velocity:Z7(t,.1)}}function X7(n){return n[0]}function WN(n){return n[n.length-1]}function Z7(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=WN(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>fs(t)));)e--;if(!i)return{x:0,y:0};const o=ms(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function J7(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?_e(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?_e(e,n,i.max):Math.min(n,e)),n}function QS(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function t8(n,{top:t,left:e,bottom:i,right:s}){return{x:QS(n.x,e,s),y:QS(n.y,t,i)}}function WS(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function e8(n,t){return{x:WS(n.x,t.x),y:WS(n.y,t.y)}}function n8(n,t){let e=.5;const i=Pn(n),s=Pn(t);return s>i?e=dh(t.min,t.max-i,n.min):i>s&&(e=dh(n.min,n.max-s,t.min)),lr(0,1,e)}function i8(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Qy=.35;function s8(n=Qy){return n===!1?n=0:n===!0&&(n=Qy),{x:KS(n,"left","right"),y:KS(n,"top","bottom")}}function KS(n,t,e){return{min:YS(n,t),max:YS(n,e)}}function YS(n,t){return typeof n=="number"?n:n[t]||0}const r8=new WeakMap;class a8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Me(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=x=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Uh(x).point)},l=(x,b)=>{const{drag:w,dragPropagation:E,onDragStart:C}=this.getProps();if(w&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m9(w),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yi(j=>{let F=this.getAxisMotionValue(j).get()||0;if(ps.test(F)){const{projection:B}=this.visualElement;if(B&&B.layout){const X=B.layout.layoutBox[j];X&&(F=Pn(X)*(parseFloat(F)/100))}}this.originPoint[j]=F}),C&&xe.postRender(()=>C(x,b)),$y(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:E,onDirectionLock:C,onDrag:R}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:j}=b;if(E&&this.currentDirection===null){this.currentDirection=o8(j),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),R&&R(x,b)},h=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b,this.stop(x,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>yi(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new QN(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:GN(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,s=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&xe.postRender(()=>u(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!_f(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=J7(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Nl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=t8(i.layoutBox,t):this.constraints=!1,this.elastic=s8(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&yi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=i8(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Nl(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=l7(i,s.root,this.visualElement.getTransformPagePoint());let l=e8(s.layout.layoutBox,o);if(e){const u=e(r7(l));this.hasMutatedConstraints=!!u,u&&(l=kN(u))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=yi(p=>{if(!_f(p,e,this.currentDirection))return;let x=h&&h[p]||{};l&&(x={min:0,max:0});const b=s?200:1e6,w=s?40:1e7,E={type:"inertia",velocity:i?t[p]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(p,E)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return $y(this.visualElement,t),i.start(Qx(t,i,0,e,this.visualElement,!1))}stopAnimation(){yi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){yi(e=>{const{drag:i}=this.getProps();if(!_f(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(e);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[e];o.set(t[e]-_e(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Nl(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};yi(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=n8({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),yi(l=>{if(!_f(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(_e(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;r8.set(this.visualElement,this);const t=this.visualElement.current,e=Ku(t,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Nl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xe.read(i);const l=yh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(yi(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=h[p].translate,x.set(x.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),e(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Qy,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function _f(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function o8(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class l8 extends xa{constructor(t){super(t),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new a8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const XS=n=>(t,e)=>{n&&xe.postRender(()=>n(t,e))};class c8 extends xa{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(t){this.session=new QN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:XS(t),onStart:XS(e),onMove:i,onEnd:(o,l)=>{delete this.session,s&&xe.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Ku(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZS(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Su={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(It.test(n))n=parseFloat(n);else return n;const e=ZS(n,t.target.x),i=ZS(n,t.target.y);return`${e}% ${i}%`}},u8={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=ma.parse(n);if(s.length>5)return i;const o=ma.createTransformer(n),l=typeof s[0]!="number"?1:0,u=e.x.scale*t.x,h=e.y.scale*t.y;s[0+l]/=u,s[1+l]/=h;const f=_e(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};let L0=!1;class h8 extends M.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;M9(d8),o&&(e.group&&e.group.add(o),i&&i.register&&s&&i.register(o),L0&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,L0=!0,s||t.layoutDependency!==e||e===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||xe.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ox.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;L0=!0,s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KN(n){const[t,e]=yN(),i=M.useContext(mx);return y.jsx(h8,{...n,layoutGroup:i,switchLayoutGroup:M.useContext(NN),isPresent:t,safeToRemove:e})}const d8={borderRadius:{...Su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Su,borderTopRightRadius:Su,borderBottomLeftRadius:Su,borderBottomRightRadius:Su,boxShadow:u8};function f8(n,t,e){const i=An(n)?n:Wl(n);return i.start(Qx("",i,t,e)),i.animation}const m8=(n,t)=>n.depth-t.depth;class p8{constructor(){this.children=[],this.isDirty=!1}add(t){yx(this.children,t),this.isDirty=!0}remove(t){vx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(m8),this.isDirty=!1,this.children.forEach(t)}}function g8(n,t){const e=Hn.now(),i=({timestamp:s})=>{const o=s-e;o>=t&&(fa(i),n(o-t))};return xe.setup(i,!0),()=>fa(i)}const YN=["TopLeft","TopRight","BottomLeft","BottomRight"],y8=YN.length,JS=n=>typeof n=="string"?parseFloat(n):n,tE=n=>typeof n=="number"||It.test(n);function v8(n,t,e,i,s,o){s?(n.opacity=_e(0,e.opacity??1,x8(i)),n.opacityExit=_e(t.opacity??1,0,b8(i))):o&&(n.opacity=_e(t.opacity??1,e.opacity??1,i));for(let l=0;l<y8;l++){const u=`border${YN[l]}Radius`;let h=eE(t,u),f=eE(e,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||tE(h)===tE(f)?(n[u]=Math.max(_e(JS(h),JS(f),i),0),(ps.test(f)||ps.test(h))&&(n[u]+="%")):n[u]=f}(t.rotate||e.rotate)&&(n.rotate=_e(t.rotate||0,e.rotate||0,i))}function eE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const x8=XN(0,.5,VR),b8=XN(.5,.95,_i);function XN(n,t,e){return i=>i<n?0:i>t?1:e(dh(n,t,i))}function nE(n,t){n.min=t.min,n.max=t.max}function pi(n,t){nE(n.x,t.x),nE(n.y,t.y)}function iE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function sE(n,t,e,i,s){return n-=t,n=Em(n,1/e,i),s!==void 0&&(n=Em(n,1/s,i)),n}function _8(n,t=0,e=1,i=.5,s,o=n,l=n){if(ps.test(t)&&(t=parseFloat(t),t=_e(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=_e(o.min,o.max,i);n===o&&(u-=t),n.min=sE(n.min,t,e,u,s),n.max=sE(n.max,t,e,u,s)}function rE(n,t,[e,i,s],o,l){_8(n,t[e],t[i],t[s],t.scale,o,l)}const w8=["x","scaleX","originX"],T8=["y","scaleY","originY"];function aE(n,t,e,i){rE(n.x,t,w8,e?e.x:void 0,i?i.x:void 0),rE(n.y,t,T8,e?e.y:void 0,i?i.y:void 0)}function oE(n){return n.translate===0&&n.scale===1}function ZN(n){return oE(n.x)&&oE(n.y)}function lE(n,t){return n.min===t.min&&n.max===t.max}function S8(n,t){return lE(n.x,t.x)&&lE(n.y,t.y)}function cE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function JN(n,t){return cE(n.x,t.x)&&cE(n.y,t.y)}function uE(n){return Pn(n.x)/Pn(n.y)}function hE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class E8{constructor(){this.members=[]}add(t){yx(this.members,t),t.scheduleRender()}remove(t){if(vx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A8(n,t,e){let i="";const s=n.x.translate/t.x,o=n.y.translate/t.y,l=e?.z||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:x,rotateY:b,skewX:w,skewY:E}=e;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),x&&(i+=`rotateX(${x}deg) `),b&&(i+=`rotateY(${b}deg) `),w&&(i+=`skewX(${w}deg) `),E&&(i+=`skewY(${E}deg) `)}const u=n.x.scale*t.x,h=n.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const U0=["","X","Y","Z"],C8=1e3;let R8=0;function z0(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function tI(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=UN(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",xe,!(s||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&tI(i)}function eI({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=t?.()){this.id=R8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(k8),this.nodes.forEach(j8),this.nodes.forEach(O8),this.nodes.forEach(D8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new p8)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new _x),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=gN(l)&&!b9(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let p,x=0;const b=()=>this.root.updateBlockedByResize=!1;xe.read(()=>{x=window.innerWidth}),n(l,()=>{const w=window.innerWidth;w!==x&&(x=w,this.root.updateBlockedByResize=!0,p&&p(),p=g8(b,250),Xf.hasAnimatedSinceResize&&(Xf.hasAnimatedSinceResize=!1,this.nodes.forEach(mE)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||f.getDefaultTransition()||B8,{onLayoutAnimationStart:C,onLayoutAnimationComplete:R}=f.getProps(),j=!this.targetLayout||!JN(this.targetLayout,w),F=!x&&b;if(this.options.layoutRoot||this.resumeFrom||F||x&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Px(E,"layout"),onPlay:C,onComplete:R};(f.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(p,F)}else x||mE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(V8),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(P8),this.nodes.forEach(N8),this.nodes.forEach(I8)):this.nodes.forEach(fE),this.clearAllSnapshots();const u=Hn.now();fn.delta=lr(0,1e3/60,u-fn.timestamp),fn.timestamp=u,fn.isProcessing=!0,R0.update.process(fn),R0.preRender.process(fn),R0.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ox.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(M8),this.sharedNodes.forEach(L8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pn(this.snapshot.measuredBox.x)&&!Pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!ZN(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||so(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),F8(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Me();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(H8))){const{scroll:f}=this.root;f&&(Il(u.x,f.offset.x),Il(u.y,f.offset.y))}return u}removeElementScroll(l){const u=Me();if(pi(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:x}=f;f!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&pi(u,l),Il(u.x,p.offset.x),Il(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const h=Me();pi(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&kl(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),so(p.latestValues)&&kl(h,p.latestValues)}return so(this.latestValues)&&kl(h,this.latestValues),h}removeTransform(l){const u=Me();pi(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!so(f.latestValues))continue;By(f.latestValues)&&f.updateSnapshot();const p=Me(),x=f.measurePageBox();pi(p,x),aE(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return so(this.latestValues)&&aE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),Xu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Me(),this.targetWithTransforms=Me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),K7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pi(this.target,this.layout.layoutBox),MN(this.target,this.targetDelta)):pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),Xu(this.relativeTargetOrigin,this.target,b.target),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||By(this.parent.latestValues)||DN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;pi(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;o7(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Me());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iE(this.prevProjectionDelta.x,this.projectionDelta.x),iE(this.prevProjectionDelta.y,this.projectionDelta.y)),Yu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!hE(this.projectionDelta.x,this.prevProjectionDelta.x)||!hE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dl(),this.projectionDelta=Dl(),this.projectionDeltaWithTransform=Dl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},x=Dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Me(),w=h?h.source:void 0,E=this.layout?this.layout.source:void 0,C=w!==E,R=this.getStack(),j=!R||R.members.length<=1,F=!!(C&&!j&&this.options.crossfade===!0&&!this.path.some(z8));this.animationProgress=0;let B;this.mixTargetDelta=X=>{const q=X/1e3;pE(x.x,l.x,q),pE(x.y,l.y,q),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U8(this.relativeTarget,this.relativeTargetOrigin,b,q),B&&S8(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Me()),pi(B,this.relativeTarget)),C&&(this.animationValues=p,v8(p,f,this.latestValues,q,F,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(fa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{Xf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wl(0)),this.currentAnimation=f8(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:p}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&nI(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Me();const x=Pn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+x;const b=Pn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+b}pi(u,h),kl(u,p),Yu(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new E8),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&z0("z",l,f,this.animationValues);for(let p=0;p<U0.length;p++)z0(`rotate${U0[p]}`,l,f,this.animationValues),z0(`skew${U0[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Yf(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Yf(u?.pointerEvents)||""),this.hasProjected&&!so(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let x=A8(this.projectionDeltaWithTransform,this.treeScale,p);h&&(x=h(p,x)),l.transform=x;const{x:b,y:w}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const E in gh){if(p[E]===void 0)continue;const{correct:C,applyTo:R,isCSSVariable:j}=gh[E],F=x==="none"?p[E]:C(p[E],f);if(R){const B=R.length;for(let X=0;X<B;X++)l[R[X]]=F}else j?this.options.visualElement.renderState.vars[E]=F:l[E]=F}this.options.layoutId&&(l.pointerEvents=f===this?Yf(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(dE),this.root.sharedNodes.clear()}}}function N8(n){n.updateLayout()}function I8(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?yi(p=>{const x=o?t.measuredBox[p]:t.layoutBox[p],b=Pn(x);x.min=e[p].min,x.max=x.min+b}):nI(s,t.layoutBox,e)&&yi(p=>{const x=o?t.measuredBox[p]:t.layoutBox[p],b=Pn(e[p]);x.max=x.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+b)});const l=Dl();Yu(l,e,t.layoutBox);const u=Dl();o?Yu(u,n.applyTransform(i,!0),t.measuredBox):Yu(u,e,t.layoutBox);const h=!ZN(l);let f=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:b}=p;if(x&&b){const w=Me();Xu(w,t.layoutBox,x.layoutBox);const E=Me();Xu(E,e,b.layoutBox),JN(w,E)||(f=!0),p.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=w,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function k8(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function D8(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function M8(n){n.clearSnapshot()}function dE(n){n.clearMeasurements()}function fE(n){n.isLayoutDirty=!1}function P8(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function mE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function j8(n){n.resolveTargetDelta()}function O8(n){n.calcProjection()}function V8(n){n.resetSkewAndRotation()}function L8(n){n.removeLeadSnapshot()}function pE(n,t,e){n.translate=_e(t.translate,0,e),n.scale=_e(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function gE(n,t,e,i){n.min=_e(t.min,e.min,i),n.max=_e(t.max,e.max,i)}function U8(n,t,e,i){gE(n.x,t.x,e.x,i),gE(n.y,t.y,e.y,i)}function z8(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const B8={duration:.45,ease:[.4,0,.1,1]},yE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),vE=yE("applewebkit/")&&!yE("chrome/")?Math.round:_i;function xE(n){n.min=vE(n.min),n.max=vE(n.max)}function F8(n){xE(n.x),xE(n.y)}function nI(n,t,e){return n==="position"||n==="preserve-aspect"&&!W7(uE(t),uE(e),.2)}function H8(n){return n!==n.root&&n.scroll?.wasRoot}const q8=eI({attachResizeListener:(n,t)=>yh(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),B0={current:void 0},iI=eI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!B0.current){const n=new q8({});n.mount(window),n.setOptions({layoutScroll:!0}),B0.current=n}return B0.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),$8={pan:{Feature:c8},drag:{Feature:l8,ProjectionNode:iI,MeasureLayout:KN}};function bE(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,o=i[s];o&&xe.postRender(()=>o(t,Uh(t)))}class G8 extends xa{mount(){const{current:t}=this.node;t&&(this.unmount=p9(t,(e,i)=>(bE(this.node,i,"Start"),s=>bE(this.node,s,"End"))))}unmount(){}}class Q8 extends xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oh(yh(this.node.current,"focus",()=>this.onFocus()),yh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _E(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),o=i[s];o&&xe.postRender(()=>o(t,Uh(t)))}class W8 extends xa{mount(){const{current:t}=this.node;t&&(this.unmount=x9(t,(e,i)=>(_E(this.node,i,"Start"),(s,{success:o})=>_E(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wy=new WeakMap,F0=new WeakMap,K8=n=>{const t=Wy.get(n.target);t&&t(n)},Y8=n=>{n.forEach(K8)};function X8({root:n,...t}){const e=n||document;F0.has(e)||F0.set(e,{});const i=F0.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Y8,{root:n,...t})),i[s]}function Z8(n,t,e){const i=X8(t);return Wy.set(n,e),i.observe(n),()=>{Wy.delete(n),i.unobserve(n)}}const J8={some:0,all:1};class tU extends xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:J8[s]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),b=f?p:x;b&&b(h)};return Z8(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(eU(t,e))&&this.startObserver()}unmount(){}}function eU({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const nU={inView:{Feature:tU},tap:{Feature:W8},focus:{Feature:Q8},hover:{Feature:G8}},iU={layout:{ProjectionNode:iI,MeasureLayout:KN}},sU={...F7,...nU,...$8,...iU},kt=s7(sU,y7),rU=()=>{const n=jn(),{organizedAttempts:t,loading:e,error:i}=A6(),s=M.useMemo(()=>Object.keys(t),[t]),{courses:o,loading:l}=hx(s),u=M.useMemo(()=>Object.entries(t).flatMap(([rt,$])=>Object.keys($.chapters).map(J=>({courseId:rt,chapterId:J}))),[t]),{chapters:h,loading:f}=dx(u),p=M.useMemo(()=>Object.entries(t).flatMap(([rt,$])=>Object.entries($.chapters).flatMap(([J,ct])=>ct.attempts.map(gt=>({courseId:rt,chapterId:J,sectionId:gt.sectionId})))),[t]),{sections:x,loading:b}=fx(p),[w,E]=M.useState({}),[C,R]=M.useState({}),j=M.useMemo(()=>{let rt=0,$=0,J=0,ct=0;Object.values(t).forEach(U=>{rt+=U.stats.totalAttempts,ct=Math.max(ct,U.stats.highestScore),Object.values(U.chapters).forEach(it=>{it.attempts.forEach(dt=>{$+=dt.score,J+=dt.totalQuestions})})});const gt=rt>0?Math.round($/J*100):0;return{totalAttempts:rt,averageScore:gt,highestScore:ct}},[t]),F=rt=>o[rt]?.Subject||rt,B=rt=>h[rt]?.Title||rt,X=rt=>x[rt]?.SectionName||rt,q=rt=>{E($=>({...$,[rt]:!$[rt]}))},Q=(rt,$)=>{R(J=>({...J,[`${rt}-${$}`]:!J[`${rt}-${$}`]}))},D=rt=>{if(!rt)return"N/A";try{return rt=rt.toDate?rt.toDate():rt,rt.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return"N/A"}},A=(rt,$)=>Math.round(rt/$*100),I=rt=>rt>=80?"text-green-600":rt>=60?"text-yellow-600":"text-red-600",P=rt=>rt>=80?"":rt>=60?"":"",V=rt=>{const $=cc.currentUser;n("/home/score/sectionScore",{state:{courseId:rt.courseId,chapterId:rt.chapterId,sectionId:rt.sectionId,userId:$.uid}})},L={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},O={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.4}}},nt={hidden:{opacity:0,height:0,transition:{duration:.3}},visible:{opacity:1,height:"auto",transition:{duration:.4}}};return e||l||f||b?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Loading Results"}),y.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your quiz data..."})]})}):i?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:y.jsxs(kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-lg p-8 max-w-md text-center",children:[y.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Results"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your quiz attempts. Please try again later."}),y.jsx("button",{onClick:()=>n("/home"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Return Home"})]})}):Object.keys(t).length===0?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-8 max-w-md text-center",children:[y.jsx("div",{className:"text-gray-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Quiz Results Yet"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't completed any quizzes yet. Start practicing to see your results here!"}),y.jsx("button",{onClick:()=>n("/home/practice"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium mr-3",children:"Start Practicing"}),y.jsx("button",{onClick:()=>n("/home"),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"Return Home"})]})}):y.jsx("div",{className:"min-h-screen bg-gradient-to-br p-4 md:p-6",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs(kt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quiz Results"}),y.jsx("p",{className:"text-gray-600",children:"Review your performance across all courses"})]}),y.jsx("button",{onClick:()=>n("/home"),className:"hidden md:block mt-4 md:mt-0 px-5 py-2.5 bg-white text-blue-600 rounded-lg border border-blue-200 hover:bg-blue-50 font-medium shadow-sm",children:" Back to Home"})]}),y.jsxs(kt.div,{variants:L,initial:"hidden",animate:"visible",className:"hidden md:block bg-white rounded-2xl shadow-lg p-6 mb-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Overall Performance"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs(kt.div,{variants:O,className:"bg-blue-50 rounded-xl p-5 text-center",children:[y.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:j.totalAttempts}),y.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Total Attempts"})]}),y.jsxs(kt.div,{variants:O,className:"bg-green-50 rounded-xl p-5 text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[j.averageScore,"%"]}),y.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Average Score"})]}),y.jsxs(kt.div,{variants:O,className:"bg-purple-50 rounded-xl p-5 text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[j.highestScore,"%"]}),y.jsx("p",{className:"text-sm text-purple-800 font-medium",children:"Highest Score"})]})]})]}),y.jsx(kt.div,{variants:L,initial:"hidden",animate:"visible",className:"space-y-6",children:Object.entries(t).map(([rt,$])=>y.jsxs(kt.div,{variants:O,className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors border-b border-gray-200",onClick:()=>q(rt),children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"bg-blue-100 p-3 rounded-xl mr-4",children:y.jsx("span",{className:"text-blue-600 text-xl",children:""})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:F(rt)}),y.jsxs("p",{className:"text-gray-600",children:[$.stats.chaptersCount," chapters"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsxs("div",{className:"mr-4 text-right",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Best Score"}),y.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[$.stats.highestScore,"%"]})]}),y.jsx("span",{className:"text-gray-500 text-xl",children:w[rt]?"":""})]})]})}),y.jsx(sa,{children:w[rt]&&y.jsx(kt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:nt,className:"p-6 bg-gray-50",children:Object.entries($.chapters).map(([J,ct])=>y.jsxs(kt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 last:mb-0 bg-white rounded-xl shadow-sm overflow-hidden",children:[y.jsx("div",{className:"p-5 cursor-pointer hover:bg-gray-50 transition-colors border-b border-gray-200",onClick:()=>Q(rt,J),children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"bg-green-100 p-2.5 rounded-lg mr-4",children:y.jsx("span",{className:"text-green-600",children:""})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:B(J)}),y.jsxs("p",{className:"text-sm text-gray-600",children:[ct.stats.totalAttempts," attempts"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsxs("div",{className:"mr-4 text-right",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Best Score"}),y.jsxs("p",{className:"font-bold text-green-600",children:[ct.stats.highestScore,"%"]})]}),y.jsx("span",{className:"text-gray-500",children:C[`${rt}-${J}`]?"":""})]})]})}),y.jsx(sa,{children:C[`${rt}-${J}`]&&y.jsxs(kt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:nt,className:"p-5 bg-gray-50",children:[y.jsxs("h4",{className:"font-medium text-gray-700 mb-4 flex items-center",children:[y.jsx("span",{className:"mr-2",children:""})," Recent Attempts"]}),y.jsx("div",{className:"space-y-4",children:ct.attempts.sort((gt,U)=>U.timestamp?.toMillis()-gt.timestamp?.toMillis()).slice(0,5).map((gt,U)=>{const it=A(gt.score,gt.totalQuestions);return y.jsx(kt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:U*.1},className:"bg-white rounded-lg p-4 shadow border border-gray-200 hover:shadow-md transition-shadow",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[y.jsxs("div",{className:"mb-3 md:mb-0 md:flex-1",children:[y.jsxs("div",{className:"flex items-center mb-2",children:[y.jsx("span",{className:"text-xl mr-3",children:P(it)}),y.jsx("h5",{className:"font-medium text-gray-800",children:X(gt.sectionId)})]}),y.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[y.jsxs("span",{children:[y.jsx("span",{className:"font-medium",children:"Score:"})," ",gt.score,"/",gt.totalQuestions]}),y.jsxs("span",{className:I(it),children:[y.jsx("span",{className:"font-medium",children:"Percentage:"})," ",it,"%"]}),y.jsxs("span",{children:[y.jsx("span",{className:"font-medium",children:"Date:"})," ",D(gt.timestamp)]})]})]}),y.jsx("button",{className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium whitespace-nowrap",onClick:()=>V(gt),children:"View Details"})]})},U)})})]})})]},J))})})]},rt))})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function zh(n){return n+.5|0}const Yr=(n,t,e)=>Math.max(Math.min(n,e),t);function Vu(n){return Yr(zh(n*2.55),0,255)}function ra(n){return Yr(zh(n*255),0,255)}function Ys(n){return Yr(zh(n/2.55)/100,0,1)}function wE(n){return Yr(zh(n*100),0,100)}const gi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ky=[..."0123456789ABCDEF"],aU=n=>Ky[n&15],oU=n=>Ky[(n&240)>>4]+Ky[n&15],wf=n=>(n&240)>>4===(n&15),lU=n=>wf(n.r)&&wf(n.g)&&wf(n.b)&&wf(n.a);function cU(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&gi[n[1]]*17,g:255&gi[n[2]]*17,b:255&gi[n[3]]*17,a:t===5?gi[n[4]]*17:255}:(t===7||t===9)&&(e={r:gi[n[1]]<<4|gi[n[2]],g:gi[n[3]]<<4|gi[n[4]],b:gi[n[5]]<<4|gi[n[6]],a:t===9?gi[n[7]]<<4|gi[n[8]]:255})),e}const uU=(n,t)=>n<255?t(n):"";function hU(n){var t=lU(n)?aU:oU;return n?"#"+t(n.r)+t(n.g)+t(n.b)+uU(n.a,t):void 0}const dU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sI(n,t,e){const i=t*Math.min(e,1-e),s=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function fU(n,t,e){const i=(s,o=(s+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function mU(n,t,e){const i=sI(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function pU(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function Wx(n){const e=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(e,i,s),l=Math.min(e,i,s),u=(o+l)/2;let h,f,p;return o!==l&&(p=o-l,f=u>.5?p/(2-o-l):p/(o+l),h=pU(e,i,s,p,o),h=h*60+.5),[h|0,f||0,u]}function Kx(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ra)}function Yx(n,t,e){return Kx(sI,n,t,e)}function gU(n,t,e){return Kx(mU,n,t,e)}function yU(n,t,e){return Kx(fU,n,t,e)}function rI(n){return(n%360+360)%360}function vU(n){const t=dU.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Vu(+t[5]):ra(+t[5]));const s=rI(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=gU(s,o,l):t[1]==="hsv"?i=yU(s,o,l):i=Yx(s,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function xU(n,t){var e=Wx(n);e[0]=rI(e[0]+t),e=Yx(e),n.r=e[0],n.g=e[1],n.b=e[2]}function bU(n){if(!n)return;const t=Wx(n),e=t[0],i=wE(t[1]),s=wE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${Ys(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const TE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},SE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _U(){const n={},t=Object.keys(SE),e=Object.keys(TE);let i,s,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)o=e[s],u=u.replace(o,TE[o]);o=parseInt(SE[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Tf;function wU(n){Tf||(Tf=_U(),Tf.transparent=[0,0,0,0]);const t=Tf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const TU=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function SU(n){const t=TU.exec(n);let e=255,i,s,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Vu(l):Yr(l*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?Vu(i):Yr(i,0,255)),s=255&(t[4]?Vu(s):Yr(s,0,255)),o=255&(t[6]?Vu(o):Yr(o,0,255)),{r:i,g:s,b:o,a:e}}}function EU(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ys(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const H0=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Tl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function AU(n,t,e){const i=Tl(Ys(n.r)),s=Tl(Ys(n.g)),o=Tl(Ys(n.b));return{r:ra(H0(i+e*(Tl(Ys(t.r))-i))),g:ra(H0(s+e*(Tl(Ys(t.g))-s))),b:ra(H0(o+e*(Tl(Ys(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Sf(n,t,e){if(n){let i=Wx(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Yx(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function aI(n,t){return n&&Object.assign(t||{},n)}function EE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ra(n[3]))):(t=aI(n,{r:0,g:0,b:0,a:1}),t.a=ra(t.a)),t}function CU(n){return n.charAt(0)==="r"?SU(n):vU(n)}class vh{constructor(t){if(t instanceof vh)return t;const e=typeof t;let i;e==="object"?i=EE(t):e==="string"&&(i=cU(t)||wU(t)||CU(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=aI(this._rgb);return t&&(t.a=Ys(t.a)),t}set rgb(t){this._rgb=EE(t)}rgbString(){return this._valid?EU(this._rgb):void 0}hexString(){return this._valid?hU(this._rgb):void 0}hslString(){return this._valid?bU(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,h=i.a-s.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-f,i.r=255&f*i.r+o*s.r+.5,i.g=255&f*i.g+o*s.g+.5,i.b=255&f*i.b+o*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=AU(this._rgb,t._rgb,e)),this}clone(){return new vh(this.rgb)}alpha(t){return this._rgb.a=ra(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=zh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Sf(this._rgb,2,t),this}darken(t){return Sf(this._rgb,2,-t),this}saturate(t){return Sf(this._rgb,1,t),this}desaturate(t){return Sf(this._rgb,1,-t),this}rotate(t){return xU(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Qs(){}const RU=(()=>{let n=0;return()=>n++})();function we(n){return n==null}function gn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Zt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ti(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ss(n,t){return Ti(n)?n:t}function Kt(n,t){return typeof n>"u"?t:n}const NU=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function pe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function oe(n,t,e,i){let s,o,l;if(gn(n))for(o=n.length,s=0;s<o;s++)t.call(e,n[s],s);else if(Zt(n))for(l=Object.keys(n),o=l.length,s=0;s<o;s++)t.call(e,n[l[s]],l[s])}function Am(n,t){let e,i,s,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],o=t[e],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Cm(n){if(gn(n))return n.map(Cm);if(Zt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=Cm(n[e[s]]);return t}return n}function oI(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function IU(n,t,e,i){if(!oI(n))return;const s=t[n],o=e[n];Zt(s)&&Zt(o)?xh(s,o,i):t[n]=Cm(o)}function xh(n,t,e){const i=gn(t)?t:[t],s=i.length;if(!Zt(n))return n;e=e||{};const o=e.merger||IU;let l;for(let u=0;u<s;++u){if(l=i[u],!Zt(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)o(h[f],n,l,e)}return n}function Zu(n,t){return xh(n,t,{merger:kU})}function kU(n,t,e){if(!oI(n))return;const i=t[n],s=e[n];Zt(i)&&Zt(s)?Zu(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Cm(s))}const AE={"":n=>n,x:n=>n.x,y:n=>n.y};function DU(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function MU(n){const t=DU(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Rm(n,t){return(AE[t]||(AE[t]=MU(t)))(n)}function Xx(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Nm=n=>typeof n<"u",pa=n=>typeof n=="function",CE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function PU(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Cn=Math.PI,gs=2*Cn,jU=gs+Cn,Im=Number.POSITIVE_INFINITY,OU=Cn/180,Pi=Cn/2,to=Cn/4,RE=Cn*2/3,lI=Math.log10,Yl=Math.sign;function Ju(n,t,e){return Math.abs(n-t)<e}function NE(n){const t=Math.round(n);n=Ju(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(lI(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function VU(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,o)=>s-o).pop(),t}function LU(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function km(n){return!LU(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function UU(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function zU(n,t,e){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ho(n){return n*(Cn/180)}function BU(n){return n*(180/Cn)}function IE(n){if(!Ti(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function FU(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Cn&&(o+=gs),{angle:o,distance:s}}function Yy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function HU(n,t){return(n-t+jU)%gs-Cn}function Hr(n){return(n%gs+gs)%gs}function cI(n,t,e,i){const s=Hr(n),o=Hr(t),l=Hr(e),u=Hr(o-s),h=Hr(l-s),f=Hr(s-o),p=Hr(s-l);return s===o||s===l||i&&o===l||u>h&&f<p}function ji(n,t,e){return Math.max(t,Math.min(e,n))}function qU(n){return ji(n,-32768,32767)}function fo(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Zx(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,e(o)?s=o:i=o;return{lo:s,hi:i}}const Xy=(n,t,e,i)=>Zx(n,e,i?s=>{const o=n[s][t];return o<e||o===e&&n[s+1][t]===e}:s=>n[s][t]<e),$U=(n,t,e)=>Zx(n,e,i=>n[i][t]>=e);function GU(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const uI=["push","pop","shift","splice","unshift"];function QU(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),uI.forEach(e=>{const i="_onData"+Xx(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=s.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function kE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(uI.forEach(o=>{delete n[o]}),delete n._chartjs)}function WU(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const hI=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function dI(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,hI.call(window,()=>{i=!1,n.apply(t,e)}))}}function KU(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const fI=n=>n==="start"?"left":n==="end"?"right":"center",ei=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,YU=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Ef=n=>n===0||n===1,DE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*gs/e)),ME=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*gs/e)+1,th={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Pi)+1,easeOutSine:n=>Math.sin(n*Pi),easeInOutSine:n=>-.5*(Math.cos(Cn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ef(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ef(n)?n:DE(n,.075,.3),easeOutElastic:n=>Ef(n)?n:ME(n,.075,.3),easeInOutElastic(n){return Ef(n)?n:n<.5?.5*DE(n*2,.1125,.45):.5+.5*ME(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-th.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?th.easeInBounce(n*2)*.5:th.easeOutBounce(n*2-1)*.5+.5};function Jx(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function PE(n){return Jx(n)?n:new vh(n)}function q0(n){return Jx(n)?n:new vh(n).saturate(.5).darken(.1).hexString()}const XU=["x","y","borderWidth","radius","tension"],ZU=["color","borderColor","backgroundColor"];function JU(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:ZU},numbers:{type:"number",properties:XU}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function tz(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jE=new Map;function ez(n,t){t=t||{};const e=n+JSON.stringify(t);let i=jE.get(e);return i||(i=new Intl.NumberFormat(n,t),jE.set(e,i)),i}function mI(n,t,e){return ez(t,e).format(n)}const nz={values(n){return gn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),o=iz(n,e)}const l=lI(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),mI(n,i,h)}};function iz(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var pI={formatters:nz};function sz(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Eo=Object.create(null),Zy=Object.create(null);function eh(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function $0(n,t,e){return typeof t=="string"?xh(eh(n,t),e):xh(eh(n,""),t)}class rz{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>q0(s.backgroundColor),this.hoverBorderColor=(i,s)=>q0(s.borderColor),this.hoverColor=(i,s)=>q0(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return $0(this,t,e)}get(t){return eh(this,t)}describe(t,e){return $0(Zy,t,e)}override(t,e){return $0(Eo,t,e)}route(t,e,i,s){const o=eh(this,t),l=eh(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],f=l[s];return Zt(h)?Object.assign({},f,h):Kt(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var Oe=new rz({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[JU,tz,sz]);function az(n){return!n||we(n.size)||we(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function OE(n,t,e,i,s){let o=t[s];return o||(o=t[s]=n.measureText(s).width,e.push(s)),o>i&&(i=o),i}function eo(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function VE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Jy(n,t,e,i){gI(n,t,e,i,null)}function gI(n,t,e,i,s){let o,l,u,h,f,p,x,b;const w=t.pointStyle,E=t.rotation,C=t.radius;let R=(E||0)*OU;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),w){default:s?n.ellipse(e,i,s/2,C,0,0,gs):n.arc(e,i,C,0,gs),n.closePath();break;case"triangle":p=s?s/2:C,n.moveTo(e+Math.sin(R)*p,i-Math.cos(R)*C),R+=RE,n.lineTo(e+Math.sin(R)*p,i-Math.cos(R)*C),R+=RE,n.lineTo(e+Math.sin(R)*p,i-Math.cos(R)*C),n.closePath();break;case"rectRounded":f=C*.516,h=C-f,l=Math.cos(R+to)*h,x=Math.cos(R+to)*(s?s/2-f:h),u=Math.sin(R+to)*h,b=Math.sin(R+to)*(s?s/2-f:h),n.arc(e-x,i-u,f,R-Cn,R-Pi),n.arc(e+b,i-l,f,R-Pi,R),n.arc(e+x,i+u,f,R,R+Pi),n.arc(e-b,i+l,f,R+Pi,R+Cn),n.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*C,p=s?s/2:h,n.rect(e-p,i-h,2*p,2*h);break}R+=to;case"rectRot":x=Math.cos(R)*(s?s/2:C),l=Math.cos(R)*C,u=Math.sin(R)*C,b=Math.sin(R)*(s?s/2:C),n.moveTo(e-x,i-u),n.lineTo(e+b,i-l),n.lineTo(e+x,i+u),n.lineTo(e-b,i+l),n.closePath();break;case"crossRot":R+=to;case"cross":x=Math.cos(R)*(s?s/2:C),l=Math.cos(R)*C,u=Math.sin(R)*C,b=Math.sin(R)*(s?s/2:C),n.moveTo(e-x,i-u),n.lineTo(e+x,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l);break;case"star":x=Math.cos(R)*(s?s/2:C),l=Math.cos(R)*C,u=Math.sin(R)*C,b=Math.sin(R)*(s?s/2:C),n.moveTo(e-x,i-u),n.lineTo(e+x,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l),R+=to,x=Math.cos(R)*(s?s/2:C),l=Math.cos(R)*C,u=Math.sin(R)*C,b=Math.sin(R)*(s?s/2:C),n.moveTo(e-x,i-u),n.lineTo(e+x,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l);break;case"line":l=s?s/2:Math.cos(R)*C,u=Math.sin(R)*C,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(s?s/2:C),i+Math.sin(R)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function bh(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function tb(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function eb(n){n.restore()}function oz(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function lz(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function cz(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),we(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function uz(n,t,e,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,h=e-o.actualBoundingBoxAscent,f=e+o.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function hz(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Dm(n,t,e,i,s,o={}){const l=gn(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(n.save(),n.font=s.string,cz(n,o),h=0;h<l.length;++h)f=l[h],o.backdrop&&hz(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),we(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,e,i,o.maxWidth)),n.fillText(f,e,i,o.maxWidth),uz(n,e,i,f,o),i+=Number(s.lineHeight);n.restore()}function Mm(n,t){const{x:e,y:i,w:s,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Cn,Cn,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Cn,Pi,!0),n.lineTo(e+s-l.bottomRight,i+o),n.arc(e+s-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Pi,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-Pi,!0),n.lineTo(e+l.topLeft,i)}const dz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mz(n,t){const e=(""+n).match(dz);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const pz=n=>+n||0;function yI(n,t){const e={},i=Zt(t),s=i?Object.keys(t):t,o=Zt(n)?i?l=>Kt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=pz(o(l));return e}function vI(n){return yI(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ll(n){return yI(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ui(n){const t=vI(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qn(n,t){n=n||{},t=t||Oe.font;let e=Kt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Kt(n.style,t.style);i&&!(""+i).match(fz)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Kt(n.family,t.family),lineHeight:mz(Kt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Kt(n.weight,t.weight),string:""};return s.string=az(s),s}function Af(n,t,e,i){let s,o,l;for(s=0,o=n.length;s<o;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function gz(n,t,e){const{min:i,max:s}=n,o=NU(t,(s-i)/2),l=(u,h)=>e&&u===0?0:u+h;return{min:l(i,-Math.abs(o)),max:l(s,o)}}function Io(n,t){return Object.assign(Object.create(n),t)}function nb(n,t=[""],e,i,s=()=>n[0]){const o=e||n;typeof i>"u"&&(i=wI("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:u=>nb([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return bI(u,h,()=>Sz(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return UE(u).includes(h)},ownKeys(u){return UE(u)},set(u,h,f){const p=u._storage||(u._storage=s());return u[h]=p[h]=f,delete u._keys,!0}})}function Xl(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:xI(n,i),setContext:o=>Xl(n,o,e,i),override:o=>Xl(n.override(o),t,e,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return bI(o,l,()=>vz(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function xI(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:pa(e)?e:()=>e,isIndexable:pa(i)?i:()=>i}}const yz=(n,t)=>n?n+Xx(t):t,ib=(n,t)=>Zt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function bI(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function vz(n,t,e){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=n;let u=i[t];return pa(u)&&l.isScriptable(t)&&(u=xz(t,u,n,e)),gn(u)&&u.length&&(u=bz(t,u,n,l.isIndexable)),ib(t,u)&&(u=Xl(u,s,o&&o[t],l)),u}function xz(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(o,l||i);return u.delete(n),ib(n,h)&&(h=sb(s._scopes,s,n,h)),h}function bz(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Zt(t[0])){const h=t,f=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const x=sb(f,s,n,p);t.push(Xl(x,o,l&&l[n],u))}}return t}function _I(n,t,e){return pa(n)?n(t,e):n}const _z=(n,t)=>n===!0?t:typeof n=="string"?Rm(t,n):void 0;function wz(n,t,e,i,s){for(const o of t){const l=_z(e,o);if(l){n.add(l);const u=_I(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function sb(n,t,e,i){const s=t._rootScopes,o=_I(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let h=LE(u,l,e,o||e,i);return h===null||typeof o<"u"&&o!==e&&(h=LE(u,l,o,h,i),h===null)?!1:nb(Array.from(u),[""],s,o,()=>Tz(t,e,i))}function LE(n,t,e,i,s){for(;e;)e=wz(n,t,e,i,s);return e}function Tz(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return gn(s)&&Zt(e)?e:s||{}}function Sz(n,t,e,i){let s;for(const o of t)if(s=wI(yz(o,n),e),typeof s<"u")return ib(n,s)?sb(e,i,n,s):s}function wI(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function UE(n){let t=n._keys;return t||(t=n._keys=Ez(n._scopes)),t}function Ez(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const Az=Number.EPSILON||1e-14,Zl=(n,t)=>t<n.length&&!n[t].skip&&n[t],TI=n=>n==="x"?"y":"x";function Cz(n,t,e,i){const s=n.skip?t:n,o=t,l=e.skip?t:e,u=Yy(o,s),h=Yy(l,o);let f=u/(u+h),p=h/(u+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const x=i*f,b=i*p;return{previous:{x:o.x-x*(l.x-s.x),y:o.y-x*(l.y-s.y)},next:{x:o.x+b*(l.x-s.x),y:o.y+b*(l.y-s.y)}}}function Rz(n,t,e){const i=n.length;let s,o,l,u,h,f=Zl(n,0);for(let p=0;p<i-1;++p)if(h=f,f=Zl(n,p+1),!(!h||!f)){if(Ju(t[p],0,Az)){e[p]=e[p+1]=0;continue}s=e[p]/t[p],o=e[p+1]/t[p],u=Math.pow(s,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[p]=s*l*t[p],e[p+1]=o*l*t[p])}}function Nz(n,t,e="x"){const i=TI(e),s=n.length;let o,l,u,h=Zl(n,0);for(let f=0;f<s;++f){if(l=u,u=h,h=Zl(n,f+1),!u)continue;const p=u[e],x=u[i];l&&(o=(p-l[e])/3,u[`cp1${e}`]=p-o,u[`cp1${i}`]=x-o*t[f]),h&&(o=(h[e]-p)/3,u[`cp2${e}`]=p+o,u[`cp2${i}`]=x+o*t[f])}}function Iz(n,t="x"){const e=TI(t),i=n.length,s=Array(i).fill(0),o=Array(i);let l,u,h,f=Zl(n,0);for(l=0;l<i;++l)if(u=h,h=f,f=Zl(n,l+1),!!h){if(f){const p=f[t]-h[t];s[l]=p!==0?(f[e]-h[e])/p:0}o[l]=u?f?Yl(s[l-1])!==Yl(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}Rz(n,s,o),Nz(n,o,t)}function Cf(n,t,e){return Math.max(Math.min(n,e),t)}function kz(n,t){let e,i,s,o,l,u=bh(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&bh(n[e+1],t),o&&(s=n[e],l&&(s.cp1x=Cf(s.cp1x,t.left,t.right),s.cp1y=Cf(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=Cf(s.cp2x,t.left,t.right),s.cp2y=Cf(s.cp2y,t.top,t.bottom)))}function Dz(n,t,e,i,s){let o,l,u,h;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")Iz(n,s);else{let f=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],h=Cz(f,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}t.capBezierPoints&&kz(n,e)}function rb(){return typeof window<"u"&&typeof document<"u"}function ab(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Pm(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const op=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Mz(n,t){return op(n).getPropertyValue(t)}const Pz=["top","right","bottom","left"];function vo(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const o=Pz[s];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const jz=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Oz(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:o}=i;let l=!1,u,h;if(jz(s,o,n.target))u=s,h=o;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function ro(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=op(e),o=s.boxSizing==="border-box",l=vo(s,"padding"),u=vo(s,"border","width"),{x:h,y:f,box:p}=Oz(n,e),x=l.left+(p&&u.left),b=l.top+(p&&u.top);let{width:w,height:E}=t;return o&&(w-=l.width+u.width,E-=l.height+u.height),{x:Math.round((h-x)/w*e.width/i),y:Math.round((f-b)/E*e.height/i)}}function Vz(n,t,e){let i,s;if(t===void 0||e===void 0){const o=n&&ab(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=op(o),h=vo(u,"border","width"),f=vo(u,"padding");t=l.width-f.width-h.width,e=l.height-f.height-h.height,i=Pm(u.maxWidth,o,"clientWidth"),s=Pm(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Im,maxHeight:s||Im}}const Rf=n=>Math.round(n*10)/10;function Lz(n,t,e,i){const s=op(n),o=vo(s,"margin"),l=Pm(s.maxWidth,n,"clientWidth")||Im,u=Pm(s.maxHeight,n,"clientHeight")||Im,h=Vz(n,t,e);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const b=vo(s,"border","width"),w=vo(s,"padding");f-=w.width+b.width,p-=w.height+b.height}return f=Math.max(0,f-o.width),p=Math.max(0,i?f/i:p-o.height),f=Rf(Math.min(f,l,h.maxWidth)),p=Rf(Math.min(p,u,h.maxHeight)),f&&!p&&(p=Rf(f/2)),(t!==void 0||e!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=Rf(Math.floor(p*i))),{width:f,height:p}}function zE(n,t,e){const i=t||1,s=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==o?(n.currentDevicePixelRatio=i,l.height=s,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Uz=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};rb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function BE(n,t){const e=Mz(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ao(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function zz(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Bz(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=ao(n,s,e),u=ao(s,o,e),h=ao(o,t,e),f=ao(l,u,e),p=ao(u,h,e);return ao(f,p,e)}const Fz=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Hz=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ul(n,t,e){return n?Fz(t,e):Hz()}function SI(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function EI(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function AI(n){return n==="angle"?{between:cI,compare:HU,normalize:Hr}:{between:fo,compare:(t,e)=>t-e,normalize:t=>t}}function FE({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function qz(n,t,e){const{property:i,start:s,end:o}=e,{between:l,normalize:u}=AI(i),h=t.length;let{start:f,end:p,loop:x}=n,b,w;if(x){for(f+=h,p+=h,b=0,w=h;b<w&&l(u(t[f%h][i]),s,o);++b)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:x,style:n.style}}function $z(n,t,e){if(!e)return[n];const{property:i,start:s,end:o}=e,l=t.length,{compare:u,between:h,normalize:f}=AI(i),{start:p,end:x,loop:b,style:w}=qz(n,t,e),E=[];let C=!1,R=null,j,F,B;const X=()=>h(s,B,j)&&u(s,B)!==0,q=()=>u(o,j)===0||h(o,B,j),Q=()=>C||X(),D=()=>!C||q();for(let A=p,I=p;A<=x;++A)F=t[A%l],!F.skip&&(j=f(F[i]),j!==B&&(C=h(j,s,o),R===null&&Q()&&(R=u(j,s)===0?A:I),R!==null&&D()&&(E.push(FE({start:R,end:A,loop:b,count:l,style:w})),R=null),I=A,B=j));return R!==null&&E.push(FE({start:R,end:x,loop:b,count:l,style:w})),E}function Gz(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const o=$z(i[s],n.points,t);o.length&&e.push(...o)}return e}function Qz(n,t,e,i){let s=0,o=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(o+=s);o>s&&n[o%t].skip;)o--;return o%=t,{start:s,end:o}}function Wz(n,t,e,i){const s=n.length,o=[];let l=t,u=n[t],h;for(h=t+1;h<=e;++h){const f=n[h%s];f.skip||f.stop?u.skip||(i=!1,o.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,u.skip&&(t=h)),u=f}return l!==null&&o.push({start:t%s,end:l%s,loop:i}),o}function Kz(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const o=!!n._loop,{start:l,end:u}=Qz(e,s,o,i);if(i===!0)return HE(n,[{start:l,end:u,loop:o}],e,t);const h=u<l?u+s:u,f=!!n._fullLoop&&l===0&&u===s-1;return HE(n,Wz(e,l,h,f),e,t)}function HE(n,t,e,i){return!i||!i.setContext||!e?t:Yz(n,t,e,i)}function Yz(n,t,e,i){const s=n._chart.getContext(),o=qE(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=e.length,f=[];let p=o,x=t[0].start,b=x;function w(E,C,R,j){const F=u?-1:1;if(E!==C){for(E+=h;e[E%h].skip;)E-=F;for(;e[C%h].skip;)C+=F;E%h!==C%h&&(f.push({start:E%h,end:C%h,loop:R,style:j}),p=j,x=C%h)}}for(const E of t){x=u?x:E.start;let C=e[x%h],R;for(b=x+1;b<=E.end;b++){const j=e[b%h];R=qE(i.setContext(Io(s,{type:"segment",p0:C,p1:j,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:l}))),Xz(R,p)&&w(x,b-1,E.loop,p),C=j,p=R}x<b-1&&w(x,b-1,E.loop,p)}return f}function qE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Xz(n,t){if(!t)return!1;const e=[],i=function(s,o){return Jx(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Nf(n,t,e){return n.options.clip?n[e]:t[e]}function Zz(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Nf(e,t,"left"),right:Nf(e,t,"right"),top:Nf(i,t,"top"),bottom:Nf(i,t,"bottom")}:t}function Jz(n,t){const e=t._clip;if(e.disabled)return!1;const i=Zz(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class tB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const o=e.listeners[s],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=hI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ws=new tB;const $E="transparent",eB={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=PE(n||$E),s=i.valid&&PE(t||$E);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class nB{constructor(t,e,i,s){const o=e[i];s=Af([t.to,s,o,t.from]);const l=Af([t.from,o,s]);this._active=!0,this._fn=t.fn||eB[t.type||typeof l],this._easing=th[t.easing]||th.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Af([t.to,e,s,t.from]),this._from=Af([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,o=this._from,l=this._loop,u=this._to;let h;if(this._active=o!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=o;return}h=e/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(o,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class CI{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Zt(t))return;const e=Object.keys(Oe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!Zt(o))return;const l={};for(const u of e)l[u]=o[u];(gn(o.properties)&&o.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=sB(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&iB(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,e));continue}const p=e[f];let x=o[f];const b=i.get(f);if(x)if(b&&x.active()){x.update(b,p,u);continue}else x.cancel();if(!b||!b.duration){t[f]=p;continue}o[f]=x=new nB(b,t,f,p),s.push(x)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ws.add(this._chart,i),!0}}function iB(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function sB(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function GE(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function rB(n,t,e){if(e===!1)return!1;const i=GE(n,e),s=GE(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function aB(n){let t,e,i,s;return Zt(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function RI(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)e.push(i[s].index);return e}function QE(n,t,e,i={}){const s=n.keys,o=i.mode==="single";let l,u,h,f;if(t===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===e){if(p=!0,i.all)continue;break}f=n.values[h],Ti(f)&&(o||t===0||Yl(t)===Yl(f))&&(t+=f)}return!p&&!i.all?0:t}function oB(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],u[h]={[s]:p,[o]:n[p]};return u}function G0(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function lB(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function cB(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function uB(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function WE(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(e&&o>0||!e&&o<0)return s.index}return null}function KE(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,h=o.axis,f=l.axis,p=lB(o,l,i),x=t.length;let b;for(let w=0;w<x;++w){const E=t[w],{[h]:C,[f]:R}=E,j=E._stacks||(E._stacks={});b=j[f]=uB(s,p,C),b[u]=R,b._top=WE(b,l,!0,i.type),b._bottom=WE(b,l,!1,i.type);const F=b._visualValues||(b._visualValues={});F[u]=R}}function Q0(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function hB(n,t){return Io(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function dB(n,t,e){return Io(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Eu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const W0=n=>n==="reset"||n==="none",YE=(n,t)=>t?n:Object.assign({},n),fB=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:RI(e,!0),values:null};class mB{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=G0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Eu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(x,b,w,E)=>x==="x"?b:x==="r"?E:w,o=e.xAxisID=Kt(i.xAxisID,Q0(t,"x")),l=e.yAxisID=Kt(i.yAxisID,Q0(t,"y")),u=e.rAxisID=Kt(i.rAxisID,Q0(t,"r")),h=e.indexAxis,f=e.iAxisID=s(h,o,l,u),p=e.vAxisID=s(h,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&kE(this._data,this),t._stacked&&Eu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Zt(e)){const s=this._cachedMeta;this._data=oB(e,s)}else if(i!==e){if(i){kE(i,this);const s=this._cachedMeta;Eu(s),s._parsed=[]}e&&Object.isExtensible(e)&&QU(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=e._stacked;e._stacked=G0(e.vScale,e),e.stack!==i.stack&&(s=!0,Eu(e),e.stack=i.stack),this._resyncElements(t),(s||o!==e._stacked)&&(KE(this,e._parsed),e._stacked=G0(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:l}=i,u=o.axis;let h=t===0&&e===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,x,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{gn(s[t])?b=this.parseArrayData(i,s,t,e):Zt(s[t])?b=this.parseObjectData(i,s,t,e):b=this.parsePrimitiveData(i,s,t,e);const w=()=>x[u]===null||f&&x[u]<f[u];for(p=0;p<e;++p)i._parsed[p+t]=x=b[p],h&&(w()&&(h=!1),f=x);i._sorted=h}l&&KE(this,b)}parsePrimitiveData(t,e,i,s){const{iScale:o,vScale:l}=t,u=o.axis,h=l.axis,f=o.getLabels(),p=o===l,x=new Array(s);let b,w,E;for(b=0,w=s;b<w;++b)E=b+i,x[b]={[u]:p||o.parse(f[E],E),[h]:l.parse(e[E],E)};return x}parseArrayData(t,e,i,s){const{xScale:o,yScale:l}=t,u=new Array(s);let h,f,p,x;for(h=0,f=s;h<f;++h)p=h+i,x=e[p],u[h]={x:o.parse(x[0],p),y:l.parse(x[1],p)};return u}parseObjectData(t,e,i,s){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,x,b,w;for(p=0,x=s;p<x;++p)b=p+i,w=e[b],f[p]={x:o.parse(Rm(w,u),b),y:l.parse(Rm(w,h),b)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:RI(s,!0),values:e._stacks[t.axis]._visualValues};return QE(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const o=i[e.axis];let l=o===null?NaN:o;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=QE(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),h=fB(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=cB(u);let b,w;function E(){w=s[b];const C=w[u.axis];return!Ti(w[t.axis])||p>C||x<C}for(b=0;b<l&&!(!E()&&(this.updateRangeFromParsed(f,t,w,h),o));++b);if(o){for(b=l-1;b>=0;--b)if(!E()){this.updateRangeFromParsed(f,t,w,h);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,o,l;for(s=0,o=e.length;s<o;++s)l=e[s][t.axis],Ti(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=aB(Kt(this.options.clip,rB(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,h),p=u;p<u+h;++p){const x=s[p];x.hidden||(x.active&&f?l.push(x):x.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=dB(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=hB(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],h=this.enableOptionSharing&&Nm(i);if(u)return YE(u,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),x=s?[`${t}Hover`,"hover",t,""]:[t,""],b=f.getOptionScopes(this.getDataset(),p),w=Object.keys(Oe.elements[t]),E=()=>this.getContext(i,s,e),C=f.resolveNamedOptions(b,w,E,x);return C.$shared&&(C.$shared=h,o[l]=Object.freeze(YE(C,h))),C}_resolveAnimations(t,e,i){const s=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let h;if(s.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,e),b=p.getOptionScopes(this.getDataset(),x);h=p.createResolver(b,this.getContext(t,i,e))}const f=new CI(s,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||W0(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==s;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,s){W0(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!W0(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const o=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const s=i.length,o=e.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,e,i=!0){const s=this._cachedMeta,o=s.data,l=t+e;let u;const h=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(h(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Eu(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function no(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ob{static override(t){Object.assign(ob.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return no()}parse(){return no()}format(){return no()}add(){return no()}diff(){return no()}startOf(){return no()}endOf(){return no()}}var pB={_date:ob};function gB(n,t,e,i){const{controller:s,data:o,_sorted:l}=n,u=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const f=u._reversePixels?$U:Xy;if(i){if(s._sharedOptions){const p=o[0],x=typeof p.getRange=="function"&&p.getRange(t);if(x){const b=f(o,t,e-x),w=f(o,t,e+x);return{lo:b.lo,hi:w.hi}}}}else{const p=f(o,t,e);if(h){const{vScale:x}=s._cachedMeta,{_parsed:b}=n,w=b.slice(0,p.lo+1).reverse().findIndex(C=>!we(C[x.axis]));p.lo-=Math.max(0,w);const E=b.slice(p.hi).findIndex(C=>!we(C[x.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:o.length-1}}function lp(n,t,e,i,s){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,h=o.length;u<h;++u){const{index:f,data:p}=o[u],{lo:x,hi:b}=gB(o[u],t,l,s);for(let w=x;w<=b;++w){const E=p[w];E.skip||i(E,f,w)}}}function yB(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function K0(n,t,e,i,s){const o=[];return!s&&!n.isPointInArea(t)||lp(n,e,t,function(u,h,f){!s&&!bh(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:h,index:f})},!0),o}function vB(n,t,e,i){let s=[];function o(l,u,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:x}=FU(l,{x:t.x,y:t.y});cI(x,f,p)&&s.push({element:l,datasetIndex:u,index:h})}return lp(n,e,t,o),s}function xB(n,t,e,i,s,o){let l=[];const u=yB(e);let h=Number.POSITIVE_INFINITY;function f(p,x,b){const w=p.inRange(t.x,t.y,s);if(i&&!w)return;const E=p.getCenterPoint(s);if(!(!!o||n.isPointInArea(E))&&!w)return;const R=u(t,E);R<h?(l=[{element:p,datasetIndex:x,index:b}],h=R):R===h&&l.push({element:p,datasetIndex:x,index:b})}return lp(n,e,t,f),l}function Y0(n,t,e,i,s,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?vB(n,t,e,s):xB(n,t,e,i,s,o)}function XE(n,t,e,i,s){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return lp(n,e,t,(h,f,p)=>{h[l]&&h[l](t[e],s)&&(o.push({element:h,datasetIndex:f,index:p}),u=u||h.inRange(t.x,t.y,s))}),i&&!u?[]:o}var bB={modes:{index(n,t,e,i){const s=ro(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?K0(n,s,o,i,l):Y0(n,s,o,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,x=f.data[p];x&&!x.skip&&h.push({element:x,datasetIndex:f.index,index:p})}),h):[]},dataset(n,t,e,i){const s=ro(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?K0(n,s,o,i,l):Y0(n,s,o,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:h,index:p})}return u},point(n,t,e,i){const s=ro(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return K0(n,s,o,i,l)},nearest(n,t,e,i){const s=ro(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Y0(n,s,o,e.intersect,i,l)},x(n,t,e,i){const s=ro(t,n);return XE(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=ro(t,n);return XE(n,s,"y",e.intersect,i)}}};const NI=["left","top","right","bottom"];function Au(n,t){return n.filter(e=>e.pos===t)}function ZE(n,t){return n.filter(e=>NI.indexOf(e.pos)===-1&&e.box.axis===t)}function Cu(n,t){return n.sort((e,i)=>{const s=t?i:e,o=t?e:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function _B(n){const t=[];let e,i,s,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&o+l,stackWeight:u});return t}function wB(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:o}=e;if(!i||!NI.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function TB(n,t){const e=wB(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:h}=u.box,f=e[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:h&&t.availableWidth,u.height=s):(u.width=i,u.height=p?p*s:h&&t.availableHeight)}return e}function SB(n){const t=_B(n),e=Cu(t.filter(f=>f.box.fullSize),!0),i=Cu(Au(t,"left"),!0),s=Cu(Au(t,"right")),o=Cu(Au(t,"top"),!0),l=Cu(Au(t,"bottom")),u=ZE(t,"x"),h=ZE(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:Au(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:o.concat(l).concat(u)}}function JE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function II(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function EB(n,t,e,i){const{pos:s,box:o}=e,l=n.maxPadding;if(!Zt(s)){e.size&&(n[s]-=e.size);const x=i[e.stack]||{size:0,count:1};x.size=Math.max(x.size,e.horizontal?o.height:o.width),e.size=x.size/x.count,n[s]+=e.size}o.getPadding&&II(l,o.getPadding());const u=Math.max(0,t.outerWidth-JE(l,n,"left","right")),h=Math.max(0,t.outerHeight-JE(l,n,"top","bottom")),f=u!==n.w,p=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:f,other:p}:{same:p,other:f}}function AB(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function CB(n,t){const e=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function Lu(n,t,e,i){const s=[];let o,l,u,h,f,p;for(o=0,l=n.length,f=0;o<l;++o){u=n[o],h=u.box,h.update(u.width||t.w,u.height||t.h,CB(u.horizontal,t));const{same:x,other:b}=EB(t,e,u,i);f|=x&&s.length,p=p||b,h.fullSize||s.push(u)}return f&&Lu(s,t,e,i)||p}function If(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function t2(n,t,e,i){const s=e.padding;let{x:o,y:l}=t;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const x=t.w*p,b=f.size||h.height;Nm(f.start)&&(l=f.start),h.fullSize?If(h,s.left,l,e.outerWidth-s.right-s.left,b):If(h,t.left+f.placed,l,x,b),f.start=l,f.placed+=x,l=h.bottom}else{const x=t.h*p,b=f.size||h.width;Nm(f.start)&&(o=f.start),h.fullSize?If(h,o,s.top,b,e.outerHeight-s.bottom-s.top):If(h,o,t.top+f.placed,b,x),f.start=o,f.placed+=x,o=h.right}}t.x=o,t.y=l}var Xr={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=Ui(n.options.layout.padding),o=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=SB(n.boxes),h=u.vertical,f=u.horizontal;oe(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const p=h.reduce((C,R)=>R.box.options&&R.box.options.display===!1?C:C+1,0)||1,x=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},s);II(b,Ui(i));const w=Object.assign({maxPadding:b,w:o,h:l,x:s.left,y:s.top},s),E=TB(h.concat(f),x);Lu(u.fullSize,w,x,E),Lu(h,w,x,E),Lu(f,w,x,E)&&Lu(h,w,x,E),AB(w),t2(u.leftAndTop,w,x,E),w.x+=w.w,w.y+=w.h,t2(u.rightAndBottom,w,x,E),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},oe(u.chartArea,C=>{const R=C.box;Object.assign(R,n.chartArea),R.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class kI{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class RB extends kI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Zf="$chartjs",NB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},e2=n=>n===null||n==="";function IB(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Zf]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",e2(s)){const o=BE(n,"width");o!==void 0&&(n.width=o)}if(e2(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=BE(n,"height");o!==void 0&&(n.height=o)}return n}const DI=Uz?{passive:!0}:!1;function kB(n,t,e){n&&n.addEventListener(t,e,DI)}function DB(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,DI)}function MB(n,t){const e=NB[n.type]||n.type,{x:i,y:s}=ro(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function jm(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function PB(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||jm(u.addedNodes,i),l=l&&!jm(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function jB(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||jm(u.removedNodes,i),l=l&&!jm(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const _h=new Map;let n2=0;function MI(){const n=window.devicePixelRatio;n!==n2&&(n2=n,_h.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function OB(n,t){_h.size||window.addEventListener("resize",MI),_h.set(n,t)}function VB(n){_h.delete(n),_h.size||window.removeEventListener("resize",MI)}function LB(n,t,e){const i=n.canvas,s=i&&ab(i);if(!s)return;const o=dI((u,h)=>{const f=s.clientWidth;e(u,h),f<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(s),OB(n,o),l}function X0(n,t,e){e&&e.disconnect(),t==="resize"&&VB(n)}function UB(n,t,e){const i=n.canvas,s=dI(o=>{n.ctx!==null&&e(MB(o,n))},n);return kB(i,t,s),s}class zB extends kI{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(IB(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Zf])return!1;const i=e[Zf].initial;["height","width"].forEach(o=>{const l=i[o];we(l)?e.removeAttribute(o):e.setAttribute(o,l)});const s=i.style||{};return Object.keys(s).forEach(o=>{e.style[o]=s[o]}),e.width=e.width,delete e[Zf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:PB,detach:jB,resize:LB}[e]||UB;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:X0,detach:X0,resize:X0}[e]||DB)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return Lz(t,e,i,s)}isAttached(t){const e=t&&ab(t);return!!(e&&e.isConnected)}}function BB(n){return!rb()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?RB:zB}let ko=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return km(this.x)&&km(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}};function FB(n,t){const e=n.options.ticks,i=HB(n),s=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?$B(t):[],l=o.length,u=o[0],h=o[l-1],f=[];if(l>s)return GB(t,f,o,l/s),f;const p=qB(o,t,s);if(l>0){let x,b;const w=l>1?Math.round((h-u)/(l-1)):null;for(kf(t,f,p,we(w)?0:u-w,u),x=0,b=l-1;x<b;x++)kf(t,f,p,o[x],o[x+1]);return kf(t,f,p,h,we(w)?t.length:h+w),f}return kf(t,f,p),f}function HB(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function qB(n,t,e){const i=QB(n),s=t.length/e;if(!i)return Math.max(s,1);const o=VU(i);for(let l=0,u=o.length-1;l<u;l++){const h=o[l];if(h>s)return h}return Math.max(s,1)}function $B(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function GB(n,t,e,i){let s=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),s++,o=e[s*i])}function kf(n,t,e,i,s){const o=Kt(i,0),l=Math.min(Kt(s,n.length),n.length);let u=0,h,f,p;for(e=Math.ceil(e),s&&(h=s-i,e=h/Math.floor(h/e)),p=o;p<0;)u++,p=Math.round(o+u*e);for(f=Math.max(o,0);f<l;f++)f===p&&(t.push(n[f]),u++,p=Math.round(o+u*e))}function QB(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const WB=n=>n==="left"?"right":n==="right"?"left":n,i2=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,s2=(n,t)=>Math.min(t||n,n);function r2(n,t){const e=[],i=n.length/t,s=n.length;let o=0;for(;o<s;o+=i)e.push(n[Math.floor(o)]);return e}function KB(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(s),f;if(!(e&&(i===1?f=Math.max(h-o,l-h):t===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<o-u||h>l+u)))return h}function YB(n,t){oe(n,e=>{const i=e.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete e.data[i[o]];i.splice(0,s)}})}function Ru(n){return n.drawTicks?n.tickLength:0}function a2(n,t){if(!n.display)return 0;const e=qn(n.font,t),i=Ui(n.padding);return(gn(n.text)?n.text.length:1)*e.lineHeight+i.height}function XB(n,t){return Io(n,{scale:t,type:"scale"})}function ZB(n,t,e){return Io(n,{tick:e,index:t,type:"tick"})}function JB(n,t,e){let i=fI(n);return(e&&t!=="right"||!e&&t==="right")&&(i=WB(i)),i}function tF(n,t,e,i){const{top:s,left:o,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:p}=h;let x=0,b,w,E;const C=l-s,R=u-o;if(n.isHorizontal()){if(w=ei(i,o,u),Zt(e)){const j=Object.keys(e)[0],F=e[j];E=p[j].getPixelForValue(F)+C-t}else e==="center"?E=(f.bottom+f.top)/2+C-t:E=i2(n,e,t);b=u-o}else{if(Zt(e)){const j=Object.keys(e)[0],F=e[j];w=p[j].getPixelForValue(F)-R+t}else e==="center"?w=(f.left+f.right)/2-R+t:w=i2(n,e,t);E=ei(i,l,s),x=e==="left"?-Pi:Pi}return{titleX:w,titleY:E,maxWidth:b,rotation:x}}class fc extends ko{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=ss(t,Number.POSITIVE_INFINITY),e=ss(e,Number.NEGATIVE_INFINITY),i=ss(i,Number.POSITIVE_INFINITY),s=ss(s,Number.NEGATIVE_INFINITY),{min:ss(t,i),max:ss(e,s),minDefined:Ti(t),maxDefined:Ti(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),l;if(s&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=s&&e>i?e:i,{min:ss(e,ss(i,e)),max:ss(i,ss(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gz(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?r2(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=FB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pe(this.options.afterUpdate,[this])}beforeSetDimensions(){pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),pe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=pe(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=s2(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,o=e.maxRotation;let l=s,u,h,f;if(!this._isVisible()||!e.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),x=p.widest.width,b=p.highest.height,w=ji(this.chart.width-x,0,this.maxWidth);u=t.offset?this.maxWidth/i:w/(i-1),x+6>u&&(u=w/(i-(t.offset?.5:1)),h=this.maxHeight-Ru(t.grid)-e.padding-a2(t.title,this.chart.options.font),f=Math.sqrt(x*x+b*b),l=BU(Math.min(Math.asin(ji((p.highest.height+6)/u,-1,1)),Math.asin(ji(h/f,-1,1))-Math.asin(ji(b/f,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=a2(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=Ru(o)+h):(t.height=this.maxHeight,t.width=Ru(o)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:x,highest:b}=this._getLabelSizes(),w=i.padding*2,E=ho(this.labelRotation),C=Math.cos(E),R=Math.sin(E);if(u){const j=i.mirror?0:R*x.width+C*b.height;t.height=Math.min(this.maxHeight,t.height+j+w)}else{const j=i.mirror?0:C*x.width+R*b.height;t.width=Math.min(this.maxWidth,t.width+j+w)}this._calculatePadding(f,p,R,C)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:o,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;h?f?(b=s*t.width,w=i*e.height):(b=i*t.height,w=s*e.width):o==="start"?w=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,w=e.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((w-x+l)*this.width/(this.width-x),0)}else{let p=e.height/2,x=t.height/2;o==="start"?(p=0,x=t.height):o==="end"&&(p=e.height,x=0),this.paddingTop=p+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)we(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=r2(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:o}=this,l=[],u=[],h=Math.floor(e/s2(e,i));let f=0,p=0,x,b,w,E,C,R,j,F,B,X,q;for(x=0;x<e;x+=h){if(E=t[x].label,C=this._resolveTickFontOptions(x),s.font=R=C.string,j=o[R]=o[R]||{data:{},gc:[]},F=C.lineHeight,B=X=0,!we(E)&&!gn(E))B=OE(s,j.data,j.gc,B,E),X=F;else if(gn(E))for(b=0,w=E.length;b<w;++b)q=E[b],!we(q)&&!gn(q)&&(B=OE(s,j.data,j.gc,B,q),X+=F);l.push(B),u.push(X),f=Math.max(B,f),p=Math.max(X,p)}YB(o,e);const Q=l.indexOf(f),D=u.indexOf(p),A=I=>({width:l[I]||0,height:u[I]||0});return{first:A(0),last:A(e-1),widest:A(Q),highest:A(D),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return qU(this._alignToPixels?eo(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=ZB(this.getContext(),t,i))}return this.$context||(this.$context=XB(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ho(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:o,position:l,border:u}=s,h=o.offset,f=this.isHorizontal(),x=this.ticks.length+(h?1:0),b=Ru(o),w=[],E=u.setContext(this.getContext()),C=E.display?E.width:0,R=C/2,j=function($){return eo(i,$,C)};let F,B,X,q,Q,D,A,I,P,V,L,O;if(l==="top")F=j(this.bottom),D=this.bottom-b,I=F-R,V=j(t.top)+R,O=t.bottom;else if(l==="bottom")F=j(this.top),V=t.top,O=j(t.bottom)-R,D=F+R,I=this.top+b;else if(l==="left")F=j(this.right),Q=this.right-b,A=F-R,P=j(t.left)+R,L=t.right;else if(l==="right")F=j(this.left),P=t.left,L=j(t.right)-R,Q=F+R,A=this.left+b;else if(e==="x"){if(l==="center")F=j((t.top+t.bottom)/2+.5);else if(Zt(l)){const $=Object.keys(l)[0],J=l[$];F=j(this.chart.scales[$].getPixelForValue(J))}V=t.top,O=t.bottom,D=F+R,I=D+b}else if(e==="y"){if(l==="center")F=j((t.left+t.right)/2);else if(Zt(l)){const $=Object.keys(l)[0],J=l[$];F=j(this.chart.scales[$].getPixelForValue(J))}Q=F-R,A=Q-b,P=t.left,L=t.right}const nt=Kt(s.ticks.maxTicksLimit,x),rt=Math.max(1,Math.ceil(x/nt));for(B=0;B<x;B+=rt){const $=this.getContext(B),J=o.setContext($),ct=u.setContext($),gt=J.lineWidth,U=J.color,it=ct.dash||[],dt=ct.dashOffset,et=J.tickWidth,mt=J.tickColor,bt=J.tickBorderDash||[],ft=J.tickBorderDashOffset;X=KB(this,B,h),X!==void 0&&(q=eo(i,X,gt),f?Q=A=P=L=q:D=I=V=O=q,w.push({tx1:Q,ty1:D,tx2:A,ty2:I,x1:P,y1:V,x2:L,y2:O,width:gt,color:U,borderDash:it,borderDashOffset:dt,tickWidth:et,tickColor:mt,tickBorderDash:bt,tickBorderDashOffset:ft}))}return this._ticksLength=x,this._borderValue=F,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:p,mirror:x}=o,b=Ru(i.grid),w=b+p,E=x?-p:w,C=-ho(this.labelRotation),R=[];let j,F,B,X,q,Q,D,A,I,P,V,L,O="middle";if(s==="top")Q=this.bottom-E,D=this._getXAxisLabelAlignment();else if(s==="bottom")Q=this.top+E,D=this._getXAxisLabelAlignment();else if(s==="left"){const rt=this._getYAxisLabelAlignment(b);D=rt.textAlign,q=rt.x}else if(s==="right"){const rt=this._getYAxisLabelAlignment(b);D=rt.textAlign,q=rt.x}else if(e==="x"){if(s==="center")Q=(t.top+t.bottom)/2+w;else if(Zt(s)){const rt=Object.keys(s)[0],$=s[rt];Q=this.chart.scales[rt].getPixelForValue($)+w}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")q=(t.left+t.right)/2-w;else if(Zt(s)){const rt=Object.keys(s)[0],$=s[rt];q=this.chart.scales[rt].getPixelForValue($)}D=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(h==="start"?O="top":h==="end"&&(O="bottom"));const nt=this._getLabelSizes();for(j=0,F=u.length;j<F;++j){B=u[j],X=B.label;const rt=o.setContext(this.getContext(j));A=this.getPixelForTick(j)+o.labelOffset,I=this._resolveTickFontOptions(j),P=I.lineHeight,V=gn(X)?X.length:1;const $=V/2,J=rt.color,ct=rt.textStrokeColor,gt=rt.textStrokeWidth;let U=D;l?(q=A,D==="inner"&&(j===F-1?U=this.options.reverse?"left":"right":j===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?f==="near"||C!==0?L=-V*P+P/2:f==="center"?L=-nt.highest.height/2-$*P+P:L=-nt.highest.height+P/2:f==="near"||C!==0?L=P/2:f==="center"?L=nt.highest.height/2-$*P:L=nt.highest.height-V*P,x&&(L*=-1),C!==0&&!rt.showLabelBackdrop&&(q+=P/2*Math.sin(C))):(Q=A,L=(1-V)*P/2);let it;if(rt.showLabelBackdrop){const dt=Ui(rt.backdropPadding),et=nt.heights[j],mt=nt.widths[j];let bt=L-dt.top,ft=0-dt.left;switch(O){case"middle":bt-=et/2;break;case"bottom":bt-=et;break}switch(D){case"center":ft-=mt/2;break;case"right":ft-=mt;break;case"inner":j===F-1?ft-=mt:j>0&&(ft-=mt/2);break}it={left:ft,top:bt,width:mt+dt.width,height:et+dt.height,color:rt.backdropColor}}R.push({label:X,font:I,textOffset:L,options:{rotation:C,color:J,strokeColor:ct,strokeWidth:gt,textAlign:U,textBaseline:O,translation:[q,Q],backdrop:it}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ho(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,h=l.widest.width;let f,p;return e==="left"?s?(p=this.right+o,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):e==="right"?s?(p=this.left+o,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=s.length;o<l;++o){const h=s[o];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,x,b;this.isHorizontal()?(f=eo(t,this.left,l)-l/2,p=eo(t,this.right,u)+u/2,x=b=h):(x=eo(t,this.top,l)-l/2,b=eo(t,this.bottom,u)+u/2,f=p=h),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(f,x),e.lineTo(p,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&tb(i,s);const o=this.getLabelItems(t);for(const l of o){const u=l.options,h=l.font,f=l.label,p=l.textOffset;Dm(i,f,0,p,h,u)}s&&eb(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const o=qn(i.font),l=Ui(i.padding),u=i.align;let h=o.lineHeight/2;e==="bottom"||e==="center"||Zt(e)?(h+=l.bottom,gn(i.text)&&(h+=o.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:x,rotation:b}=tF(this,h,e,u);Dm(t,i.text,0,0,o,{color:i.color,maxWidth:x,rotation:b,textAlign:JB(u,e,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Kt(t.grid&&t.grid.z,-1),s=Kt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==fc.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return qn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Df{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;iF(e)&&(i=this.register(e));const s=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,eF(t,l,i),this.override&&Oe.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Oe[s]&&(delete Oe[s][i],this.override&&delete Eo[i])}}function eF(n,t,e){const i=xh(Object.create(null),[e?Oe.get(e):{},Oe.get(t),n.defaults]);Oe.set(t,i),n.defaultRoutes&&nF(t,n.defaultRoutes),n.descriptors&&Oe.describe(t,n.descriptors)}function nF(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),h=l.join(".");Oe.route(o,s,h,u)})}function iF(n){return"id"in n&&"defaults"in n}class sF{constructor(){this.controllers=new Df(mB,"datasets",!0),this.elements=new Df(ko,"elements"),this.plugins=new Df(Object,"plugins"),this.scales=new Df(fc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):oe(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=Xx(t);pe(i["before"+s],[],i),e[t](i),pe(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var as=new sF;class rF{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const o of t){const l=o.plugin,u=l[i],h=[e,s,o.options];if(pe(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){we(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=Kt(i.options&&i.options.plugins,{}),o=aF(i);return s===!1&&!e?[]:lF(t,o,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(o,l)=>o.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function aF(n){const t={},e=[],i=Object.keys(as.plugins.items);for(let o=0;o<i.length;o++)e.push(as.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const l=s[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function oF(n,t){return!t&&n===!1?null:n===!0?{}:n}function lF(n,{plugins:t,localIds:e},i,s){const o=[],l=n.getContext();for(const u of t){const h=u.id,f=oF(i[h],s);f!==null&&o.push({plugin:u,options:cF(n.config,{plugin:u,local:e[h]},f,l)})}return o}function cF(n,{plugin:t,local:e},i,s){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function tv(n,t){const e=Oe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function uF(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function hF(n,t){return n===t?"_index_":"_value_"}function o2(n){if(n==="x"||n==="y"||n==="r")return n}function dF(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ev(n,...t){if(o2(n))return n;for(const e of t){const i=e.axis||dF(e.position)||n.length>1&&o2(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function l2(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function fF(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return l2(n,"x",e[0])||l2(n,"y",e[0])}return{}}function mF(n,t){const e=Eo[n.type]||{scales:{}},i=t.scales||{},s=tv(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Zt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=ev(l,u,fF(l,n),Oe.scales[u.type]),f=hF(h,s),p=e.scales||{};o[l]=Zu(Object.create(null),[{axis:h},u,p[h],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||tv(u,t),p=(Eo[u]||{}).scales||{};Object.keys(p).forEach(x=>{const b=uF(x,h),w=l[b+"AxisID"]||b;o[w]=o[w]||Object.create(null),Zu(o[w],[{axis:b},i[w],p[x]])})}),Object.keys(o).forEach(l=>{const u=o[l];Zu(u,[Oe.scales[u.type],Oe.scale])}),o}function PI(n){const t=n.options||(n.options={});t.plugins=Kt(t.plugins,{}),t.scales=mF(n,t)}function jI(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function pF(n){return n=n||{},n.data=jI(n.data),PI(n),n}const c2=new Map,OI=new Set;function Mf(n,t){let e=c2.get(n);return e||(e=t(),c2.set(n,e),OI.add(e)),e}const Nu=(n,t,e)=>{const i=Rm(t,e);i!==void 0&&n.add(i)};class gF{constructor(t){this._config=pF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=jI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),PI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Mf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Mf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Mf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Mf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const h=new Set;e.forEach(p=>{t&&(h.add(t),p.forEach(x=>Nu(h,t,x))),p.forEach(x=>Nu(h,s,x)),p.forEach(x=>Nu(h,Eo[o]||{},x)),p.forEach(x=>Nu(h,Oe,x)),p.forEach(x=>Nu(h,Zy,x))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),OI.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Eo[e]||{},Oe.datasets[e]||{},{type:e},Oe,Zy]}resolveNamedOptions(t,e,i,s=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=u2(this._resolverCache,t,s);let h=l;if(vF(l,e)){o.$shared=!1,i=pa(i)?i():i;const f=this.createResolver(t,i,u);h=Xl(l,i,f)}for(const f of e)o[f]=h[f];return o}createResolver(t,e,i=[""],s){const{resolver:o}=u2(this._resolverCache,t,i);return Zt(e)?Xl(o,e,void 0,s):o}}function u2(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let o=i.get(s);return o||(o={resolver:nb(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,o)),o}const yF=n=>Zt(n)&&Object.getOwnPropertyNames(n).some(t=>pa(n[t]));function vF(n,t){const{isScriptable:e,isIndexable:i}=xI(n);for(const s of t){const o=e(s),l=i(s),u=(l||o)&&n[s];if(o&&(pa(u)||yF(u))||l&&gn(u))return!0}return!1}var xF="4.5.0";const bF=["top","bottom","left","right","chartArea"];function h2(n,t){return n==="top"||n==="bottom"||bF.indexOf(n)===-1&&t==="x"}function d2(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function f2(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),pe(e&&e.onComplete,[n],t)}function _F(n){const t=n.chart,e=t.options.animation;pe(e&&e.onProgress,[n],t)}function VI(n){return rb()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Jf={},m2=n=>{const t=VI(n);return Object.values(Jf).filter(e=>e.canvas===t).pop()};function wF(n,t,e){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=t){const l=n[s];delete n[s],(e>0||o>t)&&(n[o+e]=l)}}}function TF(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let lb=class{static defaults=Oe;static instances=Jf;static overrides=Eo;static registry=as;static version=xF;static getChart=m2;static register(...t){as.add(...t),p2()}static unregister(...t){as.remove(...t),p2()}constructor(t,e){const i=this.config=new gF(e),s=VI(t),o=m2(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||BB(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,p=h&&h.width;if(this.id=RU(),this.ctx=u,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=KU(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],Jf[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ws.listen(this,"complete",f2),Ws.listen(this,"progress",_F),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:o}=this;return we(t)?e&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return as}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VE(this.canvas,this.ctx),this}stop(){return Ws.stop(this),this}resize(t,e){Ws.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,zE(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),pe(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};oe(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],h=ev(l,u),f=h==="r",p=h==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),oe(o,l=>{const u=l.options,h=u.id,f=ev(h,u),p=Kt(u.type,l.dtype);(u.position===void 0||h2(u.position,f)!==h2(l.dposition))&&(u.position=l.dposition),s[h]=!0;let x=null;if(h in i&&i[h].type===p)x=i[h];else{const b=as.getScale(p);x=new b({id:h,type:p,ctx:this.ctx,chart:this}),i[x.id]=x}x.init(u,t)}),oe(s,(l,u)=>{l||delete i[u]}),oe(i,l=>{Xr.configure(this,l,l.options),Xr.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(d2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||tv(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=as.getController(u),{datasetElementType:f,dataElementType:p}=Oe.datasets[u];Object.assign(h,{dataElementType:as.getElement(p),datasetElementType:f&&as.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){oe(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:x}=this.getDatasetMeta(f),b=!s&&o.indexOf(x)===-1;x.buildOrUpdateElements(b),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||oe(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(d2("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){oe(this.scales,t=>{Xr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!CE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of e){const l=i==="_removeElements"?-o:o;wF(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let o=1;o<e;o++)if(!CE(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xr.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],oe(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,pa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ws.has(this)?this.attached&&!Ws.running(this)&&Ws.start(this):(this.draw(),f2({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,o;for(s=0,o=e.length;s<o;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=Jz(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&tb(e,s),t.controller.draw(),s&&eb(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return bh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const o=bB.modes[e];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Io(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);Nm(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ws.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),VE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Jf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},s=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};oe(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,f)=>{e.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(e.removeEventListener(this,h,f),delete t[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){oe(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},oe(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let o,l,u,h;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Am(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,o=(h,f)=>h.filter(p=>!f.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:o}=this,l=e,u=this._getActiveElements(t,s,i,l),h=PU(t),f=TF(t,this._lastEvent,i,h);i&&(this._lastEvent=null,pe(o.onHover,[t,u,this],this),h&&pe(o.onClick,[t,u,this],this));const p=!Am(u,s);return(p||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}};function p2(){return oe(lb.instances,n=>n._plugins.invalidate())}function LI(n,t,e=t){n.lineCap=Kt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Kt(e.borderDash,t.borderDash)),n.lineDashOffset=Kt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Kt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Kt(e.borderWidth,t.borderWidth),n.strokeStyle=Kt(e.borderColor,t.borderColor)}function SF(n,t,e){n.lineTo(e.x,e.y)}function EF(n){return n.stepped?oz:n.tension||n.cubicInterpolationMode==="monotone"?lz:SF}function UI(n,t,e={}){const i=n.length,{start:s=0,end:o=i-1}=e,{start:l,end:u}=t,h=Math.max(s,l),f=Math.min(o,u),p=s<l&&o<l||s>u&&o>u;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function AF(n,t,e,i){const{points:s,options:o}=t,{count:l,start:u,loop:h,ilen:f}=UI(s,e,i),p=EF(o);let{move:x=!0,reverse:b}=i||{},w,E,C;for(w=0;w<=f;++w)E=s[(u+(b?f-w:w))%l],!E.skip&&(x?(n.moveTo(E.x,E.y),x=!1):p(n,C,E,b,o.stepped),C=E);return h&&(E=s[(u+(b?f:0))%l],p(n,C,E,b,o.stepped)),!!h}function CF(n,t,e,i){const s=t.points,{count:o,start:l,ilen:u}=UI(s,e,i),{move:h=!0,reverse:f}=i||{};let p=0,x=0,b,w,E,C,R,j;const F=X=>(l+(f?u-X:X))%o,B=()=>{C!==R&&(n.lineTo(p,R),n.lineTo(p,C),n.lineTo(p,j))};for(h&&(w=s[F(0)],n.moveTo(w.x,w.y)),b=0;b<=u;++b){if(w=s[F(b)],w.skip)continue;const X=w.x,q=w.y,Q=X|0;Q===E?(q<C?C=q:q>R&&(R=q),p=(x*p+X)/++x):(B(),n.lineTo(X,q),E=Q,x=0,C=R=q),j=q}B()}function nv(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?CF:AF}function RF(n){return n.stepped?zz:n.tension||n.cubicInterpolationMode==="monotone"?Bz:ao}function NF(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),LI(n,t.options),n.stroke(s)}function IF(n,t,e,i){const{segments:s,options:o}=t,l=nv(t);for(const u of s)LI(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const kF=typeof Path2D=="function";function DF(n,t,e,i){kF&&!t.options.segment?NF(n,t,e,i):IF(n,t,e,i)}class MF extends ko{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;Dz(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Kz(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],o=this.points,l=Gz(this,{property:e,start:s,end:s});if(!l.length)return;const u=[],h=RF(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:x,end:b}=l[f],w=o[x],E=o[b];if(w===E){u.push(w);continue}const C=Math.abs((s-w[e])/(E[e]-w[e])),R=h(w,E,C,i.stepped);R[e]=t[e],u.push(R)}return u.length===1?u[0]:u}pathSegment(t,e,i){return nv(this)(t,this,e,i)}path(t,e,i){const s=this.segments,o=nv(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of s)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),DF(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function g2(n,t,e,i){const s=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<s.radius+s.hitRadius}class PF extends ko{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return g2(this,t,"x",e)}inYRange(t,e){return g2(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!bh(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Jy(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function zI(n,t){const{x:e,y:i,base:s,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,h,f,p,x;return n.horizontal?(x=l/2,u=Math.min(e,s),h=Math.max(e,s),f=i-x,p=i+x):(x=o/2,u=e-x,h=e+x,f=Math.min(i,s),p=Math.max(i,s)),{left:u,top:f,right:h,bottom:p}}function Zr(n,t,e,i){return n?0:ji(t,e,i)}function jF(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,o=vI(i);return{t:Zr(s.top,o.top,0,e),r:Zr(s.right,o.right,0,t),b:Zr(s.bottom,o.bottom,0,e),l:Zr(s.left,o.left,0,t)}}function OF(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,o=Ll(s),l=Math.min(t,e),u=n.borderSkipped,h=i||Zt(s);return{topLeft:Zr(!h||u.top||u.left,o.topLeft,0,l),topRight:Zr(!h||u.top||u.right,o.topRight,0,l),bottomLeft:Zr(!h||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Zr(!h||u.bottom||u.right,o.bottomRight,0,l)}}function VF(n){const t=zI(n),e=t.right-t.left,i=t.bottom-t.top,s=jF(n,e/2,i/2),o=OF(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Z0(n,t,e,i){const s=t===null,o=e===null,u=n&&!(s&&o)&&zI(n,i);return u&&(s||fo(t,u.left,u.right))&&(o||fo(e,u.top,u.bottom))}function LF(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function UF(n,t){n.rect(t.x,t.y,t.w,t.h)}function J0(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+o,h:n.h+l,radius:n.radius}}class zF extends ko{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:l}=VF(this),u=LF(l.radius)?Mm:UF;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,J0(l,e,o)),t.clip(),u(t,J0(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,J0(o,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Z0(this,t,e,i)}inXRange(t,e){return Z0(this,t,null,e)}inYRange(t,e){return Z0(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+s)/2:e,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const y2=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},BF=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class v2 extends ko{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=pe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=qn(i.font),o=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=y2(i,o);let f,p;e.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,u,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+u;let x=t;o.textAlign="left",o.textBaseline="middle";let b=-1,w=-p;return this.legendItems.forEach((E,C)=>{const R=i+e/2+o.measureText(E.text).width;(C===0||f[f.length-1]+R+2*u>l)&&(x+=p,f[f.length-(C>0?0:1)]=0,w+=p,b++),h[C]={left:0,top:w,row:b,width:R,height:s},f[f.length-1]+=R+u}),x}_fitCols(t,e,i,s){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let x=u,b=0,w=0,E=0,C=0;return this.legendItems.forEach((R,j)=>{const{itemWidth:F,itemHeight:B}=FF(i,e,o,R,s);j>0&&w+B+2*u>p&&(x+=b+u,f.push({width:b,height:w}),E+=b+u,C++,b=w=0),h[j]={left:E,top:w,col:C,width:F,height:B},b=Math.max(b,F),w+=B+u}),x+=b,f.push({width:b,height:w}),x}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:o}}=this,l=Ul(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=ei(i,this.left+s,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,h=ei(i,this.left+s,this.right-this.lineWidths[u])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let u=0,h=ei(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,h=ei(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;tb(t,this),this._draw(),eb(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:o,labels:l}=t,u=Oe.color,h=Ul(t.rtl,this.left,this.width),f=qn(l.font),{padding:p}=l,x=f.size,b=x/2;let w;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:E,boxHeight:C,itemHeight:R}=y2(l,x),j=function(Q,D,A){if(isNaN(E)||E<=0||isNaN(C)||C<0)return;s.save();const I=Kt(A.lineWidth,1);if(s.fillStyle=Kt(A.fillStyle,u),s.lineCap=Kt(A.lineCap,"butt"),s.lineDashOffset=Kt(A.lineDashOffset,0),s.lineJoin=Kt(A.lineJoin,"miter"),s.lineWidth=I,s.strokeStyle=Kt(A.strokeStyle,u),s.setLineDash(Kt(A.lineDash,[])),l.usePointStyle){const P={radius:C*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:I},V=h.xPlus(Q,E/2),L=D+b;gI(s,P,V,L,l.pointStyleWidth&&E)}else{const P=D+Math.max((x-C)/2,0),V=h.leftForLtr(Q,E),L=Ll(A.borderRadius);s.beginPath(),Object.values(L).some(O=>O!==0)?Mm(s,{x:V,y:P,w:E,h:C,radius:L}):s.rect(V,P,E,C),s.fill(),I!==0&&s.stroke()}s.restore()},F=function(Q,D,A){Dm(s,A.text,Q,D+R/2,f,{strikethrough:A.hidden,textAlign:h.textAlign(A.textAlign)})},B=this.isHorizontal(),X=this._computeTitleHeight();B?w={x:ei(o,this.left+p,this.right-i[0]),y:this.top+p+X,line:0}:w={x:this.left+p,y:ei(o,this.top+X+p,this.bottom-e[0].height),line:0},SI(this.ctx,t.textDirection);const q=R+p;this.legendItems.forEach((Q,D)=>{s.strokeStyle=Q.fontColor,s.fillStyle=Q.fontColor;const A=s.measureText(Q.text).width,I=h.textAlign(Q.textAlign||(Q.textAlign=l.textAlign)),P=E+b+A;let V=w.x,L=w.y;h.setWidth(this.width),B?D>0&&V+P+p>this.right&&(L=w.y+=q,w.line++,V=w.x=ei(o,this.left+p,this.right-i[w.line])):D>0&&L+q>this.bottom&&(V=w.x=V+e[w.line].width+p,w.line++,L=w.y=ei(o,this.top+X+p,this.bottom-e[w.line].height));const O=h.x(V);if(j(O,L,Q),V=YU(I,V+E+b,B?V+P:this.right,t.rtl),F(h.x(V),L,Q),B)w.x+=P+p;else if(typeof Q.text!="string"){const nt=f.lineHeight;w.y+=BI(Q,nt)+p}else w.y+=q}),EI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=qn(e.font),s=Ui(e.padding);if(!e.display)return;const o=Ul(t.rtl,this.left,this.width),l=this.ctx,u=e.position,h=i.size/2,f=s.top+h;let p,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+f,x=ei(t.align,x,this.right-b);else{const E=this.columnSizes.reduce((C,R)=>Math.max(C,R.height),0);p=f+ei(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const w=ei(u,x,x+b);l.textAlign=o.textAlign(fI(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Dm(l,e.text,w,p,i)}_computeTitleHeight(){const t=this.options.title,e=qn(t.font),i=Ui(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,o;if(fo(t,this.left,this.right)&&fo(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],fo(t,s.left,s.left+s.width)&&fo(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!$F(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=BF(s,i);s&&!o&&pe(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&pe(e.onHover,[t,i,this],this)}else i&&pe(e.onClick,[t,i,this],this)}}function FF(n,t,e,i,s){const o=HF(i,n,t,e),l=qF(s,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function HF(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(s).width}function qF(n,t,e){let i=n;return typeof t.text!="string"&&(i=BI(t,e)),i}function BI(n,t){const e=n.text?n.text.length:0;return t*e}function $F(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var GF={id:"legend",_element:v2,start(n,t,e){const i=n.legend=new v2({ctx:n.ctx,options:e,chart:n});Xr.configure(n,i,e),Xr.addBox(n,i)},stop(n){Xr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Xr.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(e?0:void 0),p=Ui(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Uu={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=Yy(t,f);p<s&&(s=p,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function rs(n,t){return t&&(gn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ks(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function QF(n,t){const{element:e,datasetIndex:i,index:s}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(s);return{chart:n,label:l,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function x2(n,t){const e=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:l,boxHeight:u}=t,h=qn(t.bodyFont),f=qn(t.titleFont),p=qn(t.footerFont),x=o.length,b=s.length,w=i.length,E=Ui(t.padding);let C=E.height,R=0,j=i.reduce((X,q)=>X+q.before.length+q.lines.length+q.after.length,0);if(j+=n.beforeBody.length+n.afterBody.length,x&&(C+=x*f.lineHeight+(x-1)*t.titleSpacing+t.titleMarginBottom),j){const X=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;C+=w*X+(j-w)*h.lineHeight+(j-1)*t.bodySpacing}b&&(C+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let F=0;const B=function(X){R=Math.max(R,e.measureText(X).width+F)};return e.save(),e.font=f.string,oe(n.title,B),e.font=h.string,oe(n.beforeBody.concat(n.afterBody),B),F=t.displayColors?l+2+t.boxPadding:0,oe(i,X=>{oe(X.before,B),oe(X.lines,B),oe(X.after,B)}),F=0,e.font=p.string,oe(n.footer,B),e.restore(),R+=E.width,{width:R,height:C}}function WF(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function KF(n,t,e,i){const{x:s,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+o+l>t.width||n==="right"&&s-o-l<0)return!0}function YF(n,t,e,i){const{x:s,width:o}=e,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=s<=(u+h)/2?"left":"right":s<=o/2?f="left":s>=l-o/2&&(f="right"),KF(f,n,t,e)&&(f="center"),f}function b2(n,t,e){const i=e.yAlign||t.yAlign||WF(n,e);return{xAlign:e.xAlign||t.xAlign||YF(n,t,e,i),yAlign:i}}function XF(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function ZF(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function _2(n,t,e,i){const{caretSize:s,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:h}=e,f=s+o,{topLeft:p,topRight:x,bottomLeft:b,bottomRight:w}=Ll(l);let E=XF(t,u);const C=ZF(t,h,f);return h==="center"?u==="left"?E+=f:u==="right"&&(E-=f):u==="left"?E-=Math.max(p,b)+s:u==="right"&&(E+=Math.max(x,w)+s),{x:ji(E,0,i.width-t.width),y:ji(C,0,i.height-t.height)}}function Pf(n,t,e){const i=Ui(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function w2(n){return rs([],Ks(n))}function JF(n,t,e){return Io(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function T2(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const FI={beforeTitle:Qs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Qs,beforeBody:Qs,beforeLabel:Qs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return we(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Qs,afterBody:Qs,beforeFooter:Qs,footer:Qs,afterFooter:Qs};function zn(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?FI[t].call(e,i):s}class S2 extends ko{static positioners=Uu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,o=new CI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=JF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=zn(i,"beforeTitle",this,t),o=zn(i,"title",this,t),l=zn(i,"afterTitle",this,t);let u=[];return u=rs(u,Ks(s)),u=rs(u,Ks(o)),u=rs(u,Ks(l)),u}getBeforeBody(t,e){return w2(zn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return oe(t,o=>{const l={before:[],lines:[],after:[]},u=T2(i,o);rs(l.before,Ks(zn(u,"beforeLabel",this,o))),rs(l.lines,zn(u,"label",this,o)),rs(l.after,Ks(zn(u,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,e){return w2(zn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=zn(i,"beforeFooter",this,t),o=zn(i,"footer",this,t),l=zn(i,"afterFooter",this,t);let u=[];return u=rs(u,Ks(s)),u=rs(u,Ks(o)),u=rs(u,Ks(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],o=[],l=[];let u=[],h,f;for(h=0,f=e.length;h<f;++h)u.push(QF(this.chart,e[h]));return t.filter&&(u=u.filter((p,x,b)=>t.filter(p,x,b,i))),t.itemSort&&(u=u.sort((p,x)=>t.itemSort(p,x,i))),oe(u,p=>{const x=T2(t.callbacks,p);s.push(zn(x,"labelColor",this,p)),o.push(zn(x,"labelPointStyle",this,p)),l.push(zn(x,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const u=Uu[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=x2(this,i),f=Object.assign({},u,h),p=b2(this.chart,i,f),x=_2(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const o=this.getCaretPosition(t,i,s);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:x}=Ll(u),{x:b,y:w}=t,{width:E,height:C}=e;let R,j,F,B,X,q;return o==="center"?(X=w+C/2,s==="left"?(R=b,j=R-l,B=X+l,q=X-l):(R=b+E,j=R+l,B=X-l,q=X+l),F=R):(s==="left"?j=b+Math.max(h,p)+l:s==="right"?j=b+E-Math.max(f,x)-l:j=this.caretX,o==="top"?(B=w,X=B-l,R=j-l,F=j+l):(B=w+C,X=B+l,R=j+l,F=j-l),q=B),{x1:R,x2:j,x3:F,y1:B,y2:X,y3:q}}drawTitle(t,e,i){const s=this.title,o=s.length;let l,u,h;if(o){const f=Ul(i.rtl,this.x,this.width);for(t.x=Pf(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=qn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,h=0;h<o;++h)e.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,h+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=o,p=qn(o.bodyFont),x=Pf(this,"left",o),b=s.x(x),w=h<p.lineHeight?(p.lineHeight-h)/2:0,E=e.y+w;if(o.usePointStyle){const C={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},R=s.leftForLtr(b,f)+f/2,j=E+h/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Jy(t,C,R,j),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Jy(t,C,R,j)}else{t.lineWidth=Zt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const C=s.leftForLtr(b,f),R=s.leftForLtr(s.xPlus(b,1),f-2),j=Ll(l.borderRadius);Object.values(j).some(F=>F!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Mm(t,{x:C,y:E,w:f,h,radius:j}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Mm(t,{x:R,y:E+1,w:f-2,h:h-2,radius:j}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,E,f,h),t.strokeRect(C,E,f,h),t.fillStyle=l.backgroundColor,t.fillRect(R,E+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:p}=i,x=qn(i.bodyFont);let b=x.lineHeight,w=0;const E=Ul(i.rtl,this.x,this.width),C=function(A){e.fillText(A,E.x(t.x+w),t.y+b/2),t.y+=b+o},R=E.textAlign(l);let j,F,B,X,q,Q,D;for(e.textAlign=l,e.textBaseline="middle",e.font=x.string,t.x=Pf(this,R,i),e.fillStyle=i.bodyColor,oe(this.beforeBody,C),w=u&&R!=="right"?l==="center"?f/2+p:f+2+p:0,X=0,Q=s.length;X<Q;++X){for(j=s[X],F=this.labelTextColors[X],e.fillStyle=F,oe(j.before,C),B=j.lines,u&&B.length&&(this._drawColorBox(e,t,X,E,i),b=Math.max(x.lineHeight,h)),q=0,D=B.length;q<D;++q)C(B[q]),b=x.lineHeight;oe(j.after,C)}w=0,b=x.lineHeight,oe(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const s=this.footer,o=s.length;let l,u;if(o){const h=Ul(i.rtl,this.x,this.width);for(t.x=Pf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",l=qn(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(s[u],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:o,yAlign:l}=this,{x:u,y:h}=t,{width:f,height:p}=i,{topLeft:x,topRight:b,bottomLeft:w,bottomRight:E}=Ll(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+x,h),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+f-b,h),e.quadraticCurveTo(u+f,h,u+f,h+b),l==="center"&&o==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+f,h+p-E),e.quadraticCurveTo(u+f,h+p,u+f-E,h+p),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+w,h+p),e.quadraticCurveTo(u,h+p,u,h+p-w),l==="center"&&o==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,h+x),e.quadraticCurveTo(u,h,u+x,h),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const l=Uu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=x2(this,t),h=Object.assign({},l,this._size),f=b2(e,t,h),p=_2(t,h,f,e);(s._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ui(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,e),SI(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),EI(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),o=!Am(i,s),l=this._positionChanged(s,e);(o||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),h=e||!Am(l,o)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:o}=this,l=Uu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}var tH={id:"tooltip",_element:S2,positioners:Uu,afterInit(n,t,e){e&&(n.tooltip=new S2({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:FI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const eH=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function nH(n,t,e,i){const s=n.indexOf(t);if(s===-1)return eH(n,t,e,i);const o=n.lastIndexOf(t);return s!==o?e:s}const iH=(n,t)=>n===null?null:ji(Math.round(n),0,t);function E2(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class sH extends fc{static id="category";static defaults={ticks:{callback:E2}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:o}of e)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(we(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:nH(i,t,Kt(e,t),this._addedLabels),iH(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return E2.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function rH(n,t){const e=[],{bounds:s,step:o,min:l,max:u,precision:h,count:f,maxTicks:p,maxDigits:x,includeBounds:b}=n,w=o||1,E=p-1,{min:C,max:R}=t,j=!we(l),F=!we(u),B=!we(f),X=(R-C)/(x+1);let q=NE((R-C)/E/w)*w,Q,D,A,I;if(q<1e-14&&!j&&!F)return[{value:C},{value:R}];I=Math.ceil(R/q)-Math.floor(C/q),I>E&&(q=NE(I*q/E/w)*w),we(h)||(Q=Math.pow(10,h),q=Math.ceil(q*Q)/Q),s==="ticks"?(D=Math.floor(C/q)*q,A=Math.ceil(R/q)*q):(D=C,A=R),j&&F&&o&&UU((u-l)/o,q/1e3)?(I=Math.round(Math.min((u-l)/q,p)),q=(u-l)/I,D=l,A=u):B?(D=j?l:D,A=F?u:A,I=f-1,q=(A-D)/I):(I=(A-D)/q,Ju(I,Math.round(I),q/1e3)?I=Math.round(I):I=Math.ceil(I));const P=Math.max(IE(q),IE(D));Q=Math.pow(10,we(h)?P:h),D=Math.round(D*Q)/Q,A=Math.round(A*Q)/Q;let V=0;for(j&&(b&&D!==l?(e.push({value:l}),D<l&&V++,Ju(Math.round((D+V*q)*Q)/Q,l,A2(l,X,n))&&V++):D<l&&V++);V<I;++V){const L=Math.round((D+V*q)*Q)/Q;if(F&&L>u)break;e.push({value:L})}return F&&b&&A!==u?e.length&&Ju(e[e.length-1].value,u,A2(u,X,n))?e[e.length-1].value=u:e.push({value:u}):(!F||A===u)&&e.push({value:A}),e}function A2(n,t,{horizontal:e,minRotation:i}){const s=ho(i),o=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class aH extends fc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return we(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const l=h=>s=e?s:h,u=h=>o=i?o:h;if(t){const h=Yl(s),f=Yl(o);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(s===o){let h=o===0?1:Math.abs(o*.05);u(o+h),t||l(s-h)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=rH(s,o);return t.bounds==="ticks"&&zU(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return mI(t,this.chart.options.locale,this.options.ticks.format)}}class oH extends aH{static id="linear";static defaults={ticks:{callback:pI.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ti(t)?t:0,this.max=Ti(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ho(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const cp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fn=Object.keys(cp);function C2(n,t){return n-t}function R2(n,t){if(we(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ti(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(km(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,s)),+l)}function N2(n,t,e,i){const s=Fn.length;for(let o=Fn.indexOf(n);o<s-1;++o){const l=cp[Fn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Fn[o]}return Fn[s-1]}function lH(n,t,e,i,s){for(let o=Fn.length-1;o>=Fn.indexOf(e);o--){const l=Fn[o];if(cp[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return Fn[e?Fn.indexOf(e):0]}function cH(n){for(let t=Fn.indexOf(n)+1,e=Fn.length;t<e;++t)if(cp[Fn[t]].common)return Fn[t]}function I2(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=Zx(e,t),o=e[i]>=t?e[i]:e[s];n[o]=!0}}function uH(n,t,e,i){const s=n._adapter,o=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,h;for(u=o;u<=l;u=+s.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}function k2(n,t,e){const i=[],s={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return o===0||!e?i:uH(n,i,s,e)}class D2 extends fc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new pB._date(t.adapters.date);s.init(e),Zu(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:R2(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Ti(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),o=Ti(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=this.max,u=GU(s,o,l);return this._unit=e.unit||(i.autoSkip?N2(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):lH(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:cH(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),k2(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=ji(e,0,l),i=ji(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,o=s.time,l=o.unit||N2(o.minUnit,e,i,this._getLabelCapacity(e)),u=Kt(s.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,f=km(h)||h===!0,p={};let x=e,b,w;if(f&&(x=+t.startOf(x,"isoWeek",h)),x=+t.startOf(x,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(b=x,w=0;b<i;b=+t.add(b,u,l),w++)I2(p,b,E);return(b===i||s.bounds==="ticks"||w===1)&&I2(p,b,E),Object.keys(p).sort(C2).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,o=this._unit,l=e||s[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const o=this.options,l=o.ticks.callback;if(l)return pe(l,[t,e,i],this);const u=o.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&u[h],x=f&&u[f],b=i[e],w=f&&x&&b&&b.major;return this._adapter.format(t,s||(w?x:p))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=ho(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,k2(this,[t],this._majorUnit),s),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(R2(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return WU(t.sort(C2))}}function jf(n,t,e){let i=0,s=n.length-1,o,l,u,h;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Xy(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:h}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Xy(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:h}=n[s]);const f=l-o;return f?u+(h-u)*(t-o)/f:u}class CH extends D2{static id="timeseries";static defaults=D2.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=jf(e,this.min),this._tableRange=jf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],o=[];let l,u,h,f,p;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&s.push(f);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(jf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return jf(this._table,i*this._tableRange+this._minPos,!0)}}const HI="label";function M2(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function hH(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function qI(n,t){n.labels=t}function $I(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HI;const i=[];n.datasets=t.map(s=>{const o=n.datasets.find(l=>l[e]===s[e]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function dH(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HI;const e={labels:[],datasets:[]};return qI(e,n.labels),$I(e,n.datasets,t),e}function fH(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:l,data:u,options:h,plugins:f=[],fallbackContent:p,updateMode:x,...b}=n,w=M.useRef(null),E=M.useRef(null),C=()=>{w.current&&(E.current=new lb(w.current,{type:l,data:dH(u,o),options:h&&{...h},plugins:f}),M2(t,E.current))},R=()=>{M2(t,null),E.current&&(E.current.destroy(),E.current=null)};return M.useEffect(()=>{!s&&E.current&&h&&hH(E.current,h)},[s,h]),M.useEffect(()=>{!s&&E.current&&qI(E.current.config.data,u.labels)},[s,u.labels]),M.useEffect(()=>{!s&&E.current&&u.datasets&&$I(E.current.config.data,u.datasets,o)},[s,u.datasets]),M.useEffect(()=>{E.current&&(s?(R(),setTimeout(C)):E.current.update(x))},[s,h,u.labels,u.datasets,x]),M.useEffect(()=>{E.current&&(R(),setTimeout(C))},[l]),M.useEffect(()=>(C(),()=>R()),[]),sv.createElement("canvas",{ref:w,role:"img",height:e,width:i,...b},p)}const mH=M.forwardRef(fH);lb.register(zF,MF,PF,oH,sH,tH,GF);const pH=({attempts:n})=>{const{labels:t,scores:e,percentages:i,maxQuestions:s,formattedDates:o}=M.useMemo(()=>{const h=[...n].sort((f,p)=>f.timestamp?.seconds-p.timestamp?.seconds);return{labels:h.map((f,p)=>`Attempt ${p+1}`),scores:h.map(f=>f.score),percentages:h.map(f=>f.percentage),maxQuestions:h[0]?.totalQuestions||1,formattedDates:h.map(f=>new Date(f.timestamp?.seconds*1e3).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}))}},[n]),l=M.useMemo(()=>({labels:t,datasets:[{type:"bar",label:"Score",data:e,backgroundColor:"rgba(54, 162, 235, 0.7)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,yAxisID:"y"},{type:"line",label:"Percentage",data:i,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.7)",borderWidth:2,pointRadius:4,pointHoverRadius:6,yAxisID:"y1"}]}),[t,e,i]),u=M.useMemo(()=>({responsive:!0,animation:{duration:2e3},plugins:{legend:{position:"top",labels:{usePointStyle:!0}},tooltip:{callbacks:{title:h=>o[h[0].dataIndex],label:h=>{let f=h.dataset.label||"";return f+=": ",f+=h.datasetIndex===0?`${h.raw}/${s}`:`${h.raw}%`,f}}}},scales:{y:{type:"linear",position:"left",title:{display:!0,text:"Score"},max:s,min:0},y1:{type:"linear",position:"right",title:{display:!0,text:"Percentage (%)"},max:100,min:0,grid:{drawOnChartArea:!1}}}}),[o,s]);return y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quiz Performance Timeline"}),y.jsx("div",{className:"h-64",children:y.jsx(mH,{type:"bar",data:l,options:u,fallbackContent:y.jsx("div",{className:"text-center py-8",children:"Loading chart..."})})}),y.jsx("div",{className:"mt-2 text-sm text-gray-500",children:n.length>0&&`From ${o[0]} to ${o[o.length-1]}`})]})},gH=sv.memo(pH),yH=()=>{const n=bs(),t=jn(),{courseId:e,chapterId:i,sectionId:s,userId:o}=n.state||{},{courses:l}=hx([e]),{chapters:u}=dx([{courseId:e,chapterId:i}]),{sections:h}=fx([{courseId:e,chapterId:i,sectionId:s}]),[f,p]=M.useState([]),[x,b]=M.useState(!0),[w,E]=M.useState(null),[C,R]=M.useState(null),[j,F]=M.useState(!1),B=nt=>l[nt]?.Subject||nt,X=nt=>u[nt]?.Title||nt,q=nt=>h[nt]?.SectionName||nt;M.useEffect(()=>{if(!e||!i||!s||!o){E("Missing required parameters"),b(!1);return}(async()=>{try{b(!0);const rt=`users/${o}/quizResults/${e}/chapters/${i}/sections/${s}/attempts`,$=on(Yt,rt),J=Kr($,r6("timestamp","desc")),gt=(await Mi(J)).docs.map(U=>({id:U.id,...U.data(),date:U.data().timestamp?.toDate()}));p(gt)}catch(rt){console.error("Error fetching attempts:",rt),E(rt.message)}finally{b(!1)}})()},[e,i,s,o]);const Q=(nt,rt)=>Math.round(nt/rt*100),D=nt=>nt?.toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})||"N/A",A=(nt,rt)=>{const $=Q(nt,rt);return $>=80?"text-green-600":$>=60?"text-yellow-600":"text-red-600"},I=(nt,rt)=>{const $=Q(nt,rt);return $>=80?"":$>=60?"":""},P=(nt,rt,$)=>{const J=Q(nt.score,nt.totalQuestions),ct=$-rt;return J>=90?`Exceptional Performance #${ct}`:J>=80?`Great Work #${ct}`:J>=70?`Solid Effort #${ct}`:J>=60?`Good Try #${ct}`:J>=50?`Practice Needed #${ct}`:`Let's Improve #${ct}`},V=nt=>{const rt=new Date,$=new Date(nt),J=Math.floor((rt-$)/(1e3*60*60));if(J<1)return"Just now";if(J<24)return`${J} hours ago`;if(J<48)return"Yesterday";const ct=Math.floor(J/24);return ct<7?`${ct} days ago`:D(nt)},L=j?f:f.slice(0,3),O={collapsed:{opacity:0,height:0,transition:{duration:.4}},expanded:{opacity:1,height:"auto",transition:{duration:.4}}};return x?y.jsxs("div",{className:"flex justify-center items-center h-64",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("span",{className:"ml-3 text-gray-600",children:"Loading your results..."})]}):w?y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative max-w-md",children:y.jsxs("span",{className:"block sm:inline",children:[" Error: ",w]})})}):y.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[y.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[y.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200 transform hover:-translate-x-1",children:[y.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Scores"]}),y.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[y.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Attempt Details"]}),y.jsx("div",{className:"w-24"})," "]}),y.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-200 transition-all duration-300 hover:shadow-lg",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold",children:B(e)})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold",children:X(i)})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold",children:q(s)})]})]})]})}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Quiz Attempts"]}),f.length===0?y.jsxs("div",{className:"text-center py-8 text-gray-500 bg-gray-100 rounded-lg animate-pulse",children:[y.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),y.jsx("p",{className:"mt-2",children:"No attempts found for this section"})]}):y.jsxs(y.Fragment,{children:[f.slice(0,3).map((nt,rt)=>y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden transition-all duration-300 hover:shadow-md",children:[y.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>R(C===nt.id?null:nt.id),children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-2xl mr-3",children:I(nt.score,nt.totalQuestions)}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:P(nt,rt,f.length)}),y.jsx("p",{className:"text-sm text-gray-500",children:V(nt.date)}),y.jsxs("p",{className:`text-sm font-semibold ${A(nt.score,nt.totalQuestions)}`,children:["Score: ",nt.score,"/",nt.totalQuestions," (",Q(nt.score,nt.totalQuestions),"%)"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-gray-500 mr-2 text-sm",children:C===nt.id?"Hide details":"Show details"}),y.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform duration-300 ${C===nt.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),y.jsx(sa,{children:C===nt.id&&y.jsx(kt.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:O,className:"p-4 border-t border-gray-200 bg-gray-50 animate-fadeIn",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Date Completed"}),y.jsx("p",{children:D(nt.date)})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Time Spent"}),y.jsx("p",{children:nt.timeSpent||"N/A"})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Correct Answers"}),y.jsxs("p",{children:[nt.score,"/",nt.totalQuestions]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Percentage"}),y.jsxs("p",{className:A(nt.score,nt.totalQuestions),children:[Q(nt.score,nt.totalQuestions),"%"]})]})]})]})},"extraAttempts")})]},nt.id)),y.jsx(sa,{children:j&&y.jsx(kt.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:O,className:"space-y-4 overflow-hidden",children:L.slice(3).map((nt,rt)=>y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden transition-all duration-300 hover:shadow-md",children:[y.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>R(C===nt.id?null:nt.id),children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-2xl mr-3",children:I(nt.score,nt.totalQuestions)}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:P(nt,rt,f.length-3)}),y.jsx("p",{className:"text-sm text-gray-500",children:V(nt.date)}),y.jsxs("p",{className:`text-sm font-semibold ${A(nt.score,nt.totalQuestions)}`,children:["Score: ",nt.score,"/",nt.totalQuestions," (",Q(nt.score,nt.totalQuestions),"%)"]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-gray-500 mr-2 text-sm",children:C===nt.id?"Hide details":"Show details"}),y.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform duration-300 ${C===nt.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),y.jsx(sa,{children:C===nt.id&&y.jsx(kt.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:O,className:"p-4 border-t border-gray-200 bg-gray-50 animate-fadeIn",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Date Completed"}),y.jsx("p",{children:D(nt.date)})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Time Spent"}),y.jsx("p",{children:nt.timeSpent||"N/A"})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Correct Answers"}),y.jsxs("p",{children:[nt.score,"/",nt.totalQuestions]})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Percentage"}),y.jsxs("p",{className:A(nt.score,nt.totalQuestions),children:[Q(nt.score,nt.totalQuestions),"%"]})]})]})]})},"extraAttempts")})]},nt.id))},"extraAttempts")}),f.length>3&&y.jsx("div",{className:"flex justify-center mt-6",children:y.jsx("button",{onClick:()=>F(!j),className:"px-6 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors duration-200 flex items-center",children:j?y.jsxs(y.Fragment,{children:[y.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),"Show Less"]}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"View All"]})})})]}),y.jsx(gH,{attempts:f})]}),y.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-in-out;
        }
      `})]})},vH=()=>{const n=jn(),[t,e]=M.useState(!0),[i,s]=M.useState(null),[o,l]=M.useState(null),[u,h]=M.useState([]),[f,p]=M.useState({}),[x,b]=M.useState({}),[w,E]=M.useState({}),[C,R]=M.useState({});M.useEffect(()=>{(async()=>{const I=Kr(on(Yt,"courses")),V=(await Mi(I)).docs.map(nt=>({id:nt.id,...nt.data()})),L={},O={};for(const nt of V){const rt=Kr(on(Yt,`courses/${nt.id}/Chapters`)),$=await Mi(rt);L[nt.id]=$.size;const J=$.docs.map(ct=>({id:ct.id,...ct.data()})).sort((ct,gt)=>{const U=parseFloat(ct.Number),it=parseFloat(gt.Number);return U-it});p(ct=>({...ct,[nt.id]:J}));for(const ct of J){const gt=Kr(on(Yt,`courses/${nt.id}/Chapters/${ct.id}/Section`)),U=await Mi(gt),it=`${nt.id}-${ct.id}`;O[it]=U.size;const dt=U.docs.map(et=>({id:et.id,...et.data()})).sort((et,mt)=>et.SectionNumber.localeCompare(mt.SectionNumber,void 0,{numeric:!0,sensitivity:"base"}));b(et=>({...et,[it]:dt}))}}E(L),R(O),h(V),e(!1)})()},[]);const j=async(A,I)=>{const P=`${A}-${I}`;if(x[P])return;const V=Kr(on(Yt,`courses/${A}/Chapters/${I}/Section`)),O=(await Mi(V)).docs.map(nt=>({id:nt.id,...nt.data()})).sort((nt,rt)=>nt.SectionNumber.localeCompare(rt.SectionNumber,void 0,{numeric:!0,sensitivity:"base"}));b(nt=>({...nt,[P]:O})),R(nt=>({...nt,[P]:O.length}))},F=A=>{i===A?(s(null),l(null)):(s(A),l(null))},B=async(A,I)=>{o===I?l(null):(await j(A,I),l(I))},X=A=>{const I=["blue","green","purple","orange","red","indigo"];return I[A%I.length]},q={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Q={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.3}}},D={hidden:{opacity:0,height:0,transition:{duration:.2}},visible:{opacity:1,height:"auto",transition:{duration:.3}}};return t?y.jsx("div",{className:"p-6 max-w-5xl mx-auto flex justify-center items-center h-96",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Loading courses..."})]})}):y.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[y.jsxs(kt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-10 text-center",children:[y.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-3",children:"Practice Questions"}),y.jsx("p",{className:"text-xl text-gray-600",children:"Select a course and chapter to practice questions"})]}),y.jsxs(kt.div,{variants:q,initial:"hidden",animate:"visible",className:"hidden md:grid grid-cols-1 md:grid-cols-3 gap-5 mb-10",children:[y.jsxs(kt.div,{variants:Q,className:"bg-white rounded-xl p-5 shadow-md border border-gray-200 flex items-center",children:[y.jsx("div",{className:"p-4 rounded-xl bg-blue-100 text-blue-600 mr-5",children:y.jsx("i",{className:"fas fa-book text-2xl"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-base text-gray-500",children:"Active Courses"}),y.jsx("p",{className:"text-2xl font-bold text-gray-800",children:u.length})]})]}),y.jsxs(kt.div,{variants:Q,className:"bg-white rounded-xl p-5 shadow-md border border-gray-200 flex items-center",children:[y.jsx("div",{className:"p-4 rounded-xl bg-green-100 text-green-600 mr-5",children:y.jsx("i",{className:"fas fa-check-circle text-2xl"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-base text-gray-500",children:"Completed Chapters"}),y.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["0/",Object.values(f).flat().length]})]})]}),y.jsxs(kt.div,{variants:Q,className:"bg-white rounded-xl p-5 shadow-md border border-gray-200 flex items-center",children:[y.jsx("div",{className:"p-4 rounded-xl bg-purple-100 text-purple-600 mr-5",children:y.jsx("i",{className:"fas fa-trophy text-2xl"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-base text-gray-500",children:"Average Score"}),y.jsx("p",{className:"text-2xl font-bold text-gray-800",children:"0%"})]})]})]}),y.jsx(kt.div,{variants:q,initial:"hidden",animate:"visible",className:"space-y-6",children:u.map((A,I)=>{const P=X(I),V=`border-${P}-500 bg-${P}-100 text-${P}-600`;return y.jsxs(kt.div,{variants:Q,className:`course-card bg-white rounded-xl shadow-md border-l-5 border-${P}-500 overflow-hidden`,children:[y.jsxs("div",{className:"p-5 flex justify-between items-center cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>F(A.id),children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h2",{className:"font-semibold text-gray-800 text-xl",children:A.Subject}),y.jsxs("span",{className:`text-base font-medium px-3 py-1.5 rounded-full ${V}`,children:[f[A.id]?.length||"0"," Chapters"]})]}),y.jsxs("p",{className:"text-base text-gray-600 mb-3",children:["Tutor: ",A.Tutor]}),y.jsxs("div",{className:"mt-3",children:[y.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[y.jsx("span",{children:"Progress"}),y.jsx("span",{children:"0%"})]}),y.jsx("div",{className:"progress-bar bg-gray-200 w-full h-2.5 rounded-full",children:y.jsx("div",{className:`progress-fill bg-${P}-500 h-full rounded-full transition-all duration-500`,style:{width:"0%"}})})]})]}),y.jsx("div",{className:"ml-5 text-gray-400 text-xl",children:y.jsx("i",{className:`fas fa-chevron-down transition-transform duration-300 ${i===A.id?"rotate-180":""}`})})]}),y.jsx(sa,{children:i===A.id&&y.jsx(kt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:D,className:"border-t border-gray-200 overflow-hidden",children:f[A.id]?.map(L=>y.jsxs("div",{className:"chapter-item p-5 bg-gray-50 border-b border-gray-200",children:[y.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>B(A.id,L.id),children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("h3",{className:"font-medium text-gray-800 text-lg",children:[L.Number,". ",L.Title]}),y.jsxs("div",{className:"flex items-center mt-2",children:[y.jsx("span",{className:"text-sm font-medium px-2.5 py-1 rounded-full bg-gray-100 text-gray-700 mr-3",children:"Not started"}),y.jsxs("span",{className:"text-sm text-gray-500",children:[x[`${A.id}-${L.id}`]?.length||"0"," sections"]})]})]}),y.jsx("div",{className:"ml-5 text-gray-400 text-lg",children:y.jsx("i",{className:`fas fa-chevron-down transition-transform duration-300 ${o===L.id?"rotate-180":""}`})})]}),y.jsx(sa,{children:o===L.id&&y.jsx(kt.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:D,className:"mt-4 pl-5 space-y-4 overflow-hidden",children:x[`${A.id}-${L.id}`]?.map(O=>y.jsxs(kt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:"p-4 bg-white rounded-lg border border-gray-200 flex justify-between items-center shadow-sm",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"font-medium text-gray-800 text-base",children:[O.SectionNumber," ",O.SectionName]}),O.QuizVideoLink&&y.jsxs("a",{href:O.QuizVideoLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline inline-flex items-center mt-2",children:[y.jsx("i",{className:"fas fa-video mr-2 text-xs"})," Watch Video"]})]}),y.jsxs("div",{className:"flex space-x-3",children:[O.QuizVideoLink&&y.jsx("button",{className:"p-2.5 text-blue-500 hover:bg-blue-50 rounded-full transition-colors duration-200",onClick:nt=>{nt.stopPropagation(),window.open(O.QuizVideoLink,"_blank")},children:y.jsx("i",{className:"fas fa-video text-lg"})}),y.jsx("button",{onClick:()=>n("/home/practice/quiz",{state:{courseId:A.id,chapterId:L.id,sectionId:O.id}}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-base font-medium transition-colors duration-200",children:"Practice"})]})]},O.id))})})]},L.id))})})]},A.id)})})]})},xH=()=>{const{state:n}=bs(),{courseId:t,chapterId:e,sectionId:i}=n||{},s=jn(),[o,l]=M.useState([]),[u,h]=M.useState(0),[f,p]=M.useState(null),[x,b]=M.useState(!1),[w,E]=M.useState(0),[C,R]=M.useState(!0),[j,F]=M.useState(null),[B,X]=M.useState(!1),[q,Q]=M.useState(!1),[D,A]=M.useState(!1),[I,P]=M.useState([]),{courses:V}=hx([t]),{chapters:L}=dx([{courseId:t,chapterId:e}]),{sections:O}=fx([{courseId:t,chapterId:e,sectionId:i}]),nt=et=>V[et]?.Subject||et,rt=et=>V[et]?.Tutor||et,$=et=>L[et]?.Title||et,J=et=>O[et]?.SectionName||et;M.useEffect(()=>{if(!t||!e||!i){F("Missing required parameters"),R(!1);return}const et=on(Yt,"courses",t,"Chapters",e,"Section",i,"Quiz"),mt=En(et,bt=>{const ft=bt.docs.map(At=>({id:At.id,...At.data()}));l(ft),R(!1)},bt=>{console.error("Firestore error:",bt),F(bt.message),R(!1)});return()=>mt()},[t,e,i]);const ct=et=>{p(et),b(!0),P(mt=>[...mt,{question:o[u].Question,selected:et,correct:et===o[u].CorrectAnswer}]),et===o[u].CorrectAnswer&&!q&&Q(!0)},gt=()=>{A(!0),b(!1),setTimeout(()=>{q===!0&&(E(et=>et+1),Q(!1)),u<o.length-1?(h(et=>et+1),p(null)):X(!0),A(!1)},500)},U=()=>{h(0),p(null),b(!1),E(0),X(!1),Q(!1),A(!1),P([])};if(C)return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Quiz"}),y.jsx("p",{className:"text-gray-600",children:"Preparing your questions..."})]})});if(j)return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error Loading Quiz"}),y.jsx("p",{className:"text-gray-600 mb-6",children:j}),y.jsx("button",{onClick:()=>s("/home/practice"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Back to Practice"})]})});if(o.length===0)return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"text-gray-500 text-5xl mb-4",children:""}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Questions Available"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"This section doesn't have any quiz questions yet."}),y.jsx("button",{onClick:()=>s("/home/practice"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Back to Practice"})]})});if(B){const et=Math.round(w/o.length*100);let mt="",bt="text-yellow-600",ft="Good effort!";return et>=90?(mt="",bt="text-green-600",ft="Outstanding!"):et>=70?(mt="",bt="text-blue-600",ft="Well done!"):et>=50&&(mt="",bt="text-yellow-600",ft="Good effort!"),y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex flex-col items-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:[y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"block md:hidden mb-6 p-6 bg-white rounded-2xl shadow-lg border border-gray-200 text-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:nt(t)}),y.jsxs("p",{className:"text-gray-600",children:["Tutor: ",rt(t)]}),y.jsxs("div",{className:"mt-4 bg-blue-100 text-blue-800 px-4 py-2 rounded-full inline-block",children:[y.jsx("i",{className:"fas fa-question-circle mr-2"}),o.length," questions completed"]})]}),y.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-md p-6 mb-8 border border-gray-200",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold text-blue-700",children:nt(t)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold text-green-700",children:$(e)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold text-purple-700",children:J(i)})]})]})}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("span",{className:"text-6xl",children:mt}),y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-2",children:"Practice Complete"}),y.jsx("p",{className:`text-xl font-semibold mt-2 ${bt}`,children:ft})]}),y.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[w,"/",o.length]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[et,"%"]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Percentage"})]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${et}%`}})})})]}),y.jsxs("div",{className:"flex flex-col space-y-3",children:[y.jsx("button",{onClick:U,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-medium",children:"Try Again"}),y.jsx("button",{onClick:()=>s("/home/practice"),className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 font-medium",children:"Back to Practice"}),y.jsx("button",{onClick:()=>s("/home/quizMenu"),className:"px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 font-medium",children:"Play Quiz Now"})]})]})]})})}const it=o[u],dt=u/o.length*100;return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("button",{onClick:()=>s("/home/practice"),className:"flex items-center text-gray-600 hover:text-gray-800",children:[y.jsx("span",{className:"mr-2",children:""})," Back"]}),y.jsxs("div",{className:"flex-1 mx-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Question ",u+1," of ",o.length]}),y.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Score: ",w,"/",u]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${dt}%`}})})]})]}),y.jsx("div",{className:"hidden md:block bg-white rounded-2xl shadow-md p-6 mb-8 border border-gray-200",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold text-blue-700",children:nt(t)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold text-green-700",children:$(e)})]}),y.jsxs("div",{className:"text-center md:text-left",children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-1",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold text-purple-700",children:J(i)})]})]})}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-8 border border-gray-200",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Question ",u+1]}),y.jsx("p",{className:"text-lg text-gray-700",children:it.Question})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:it.Options.map((et,mt)=>{const bt=f===et,ft=et===it.CorrectAnswer,At=x&&(bt||ft);let Dt="bg-white border-gray-300 hover:bg-gray-50";return At?Dt=ft?"bg-green-100 border-green-500":"bg-red-100 border-red-500":bt&&(Dt="bg-blue-100 border-blue-500"),y.jsx("button",{onClick:()=>!D&&!x&&ct(et),disabled:D||x,className:`p-4 rounded-xl border text-left transition-all duration-200 ${Dt} ${D||x?"cursor-default":"cursor-pointer"}`,children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center mr-3 font-medium",children:String.fromCharCode(65+mt)}),y.jsx("span",{className:"text-gray-800",children:et})]})},mt)})}),x&&y.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 mb-6 border border-blue-200 animate-fadeIn",children:[y.jsx("h4",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Explanation"}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("span",{className:`text-2xl mr-3 ${f===it.CorrectAnswer?"text-green-500":"text-red-500"}`,children:f===it.CorrectAnswer?"":""}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-blue-800",children:["The correct answer is ",y.jsx("span",{className:"font-bold",children:it.CorrectAnswer})]}),it.Explanation&&y.jsx("p",{className:"mt-2 text-blue-700",children:it.Explanation})]})]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("button",{onClick:()=>!D&&b(!1),disabled:!x||D,className:`px-5 py-2.5 rounded-lg font-medium ${x&&!D?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Redo Question"}),y.jsx("button",{onClick:gt,disabled:!x||D,className:`px-5 py-2.5 rounded-lg font-medium ${x&&!D?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-300 text-white cursor-not-allowed"}`,children:u<o.length-1?"Next Question ":"See Results"})]})]}),y.jsx("div",{className:"flex justify-center space-x-2 mb-8",children:o.map((et,mt)=>y.jsx("div",{className:`w-3 h-3 rounded-full ${mt===u?"bg-blue-600":mt<u?"bg-green-500":"bg-gray-300"}`},mt))})]})})},bH=()=>{const n=jn(),[t,e]=M.useState(!0),[i,s]=M.useState([]),[o,l]=M.useState({}),[u,h]=M.useState({}),[f,p]=M.useState(null),[x,b]=M.useState(null),[w,E]=M.useState(null),[C,R]=M.useState([]),[j,F]=M.useState(!1);M.useEffect(()=>{(async()=>{try{const V=Kr(on(Yt,"courses")),O=(await Mi(V)).docs.map(rt=>({id:rt.id,...rt.data()}));s(O);const nt={};for(const rt of O){const $=Kr(on(Yt,`courses/${rt.id}/Chapters`)),ct=(await Mi($)).docs.map(U=>({id:U.id,...U.data()})).sort((U,it)=>{const dt=parseFloat(U.Number),et=parseFloat(it.Number);return dt-et});nt[rt.id]=ct;const gt={};for(const U of ct){const it=Kr(on(Yt,`courses/${rt.id}/Chapters/${U.id}/Section`)),et=(await Mi(it)).docs.map(mt=>({id:mt.id,...mt.data()})).sort((mt,bt)=>mt.SectionNumber.localeCompare(bt.SectionNumber,void 0,{numeric:!0,sensitivity:"base"}));gt[`${rt.id}-${U.id}`]=et}h(U=>({...U,...gt}))}l(nt),e(!1)}catch(V){console.error("Error fetching data:",V),e(!1)}})()},[]);const B=async P=>{F(!0),p(P),R([{type:"course",data:P}]),setTimeout(()=>F(!1),300)},X=async P=>{F(!0),b(P),R(V=>[...V,{type:"chapter",data:P}]),setTimeout(()=>F(!1),300)},q=P=>{E(P),n("/home/quizMenu/quizGame",{state:{courseId:f.id,chapterId:x.id,sectionId:P.id}})},Q=(P=1)=>{if(F(!0),C.length<=P)p(null),b(null),R([]);else{const V=C.slice(0,C.length-P),L=V[V.length-1];L?L.type==="course"?(p(L.data),b(null)):L.type==="chapter"&&b(L.data):(p(null),b(null)),R(V)}setTimeout(()=>F(!1),300)},D=P=>{const V=["blue","green","purple","orange","red","indigo"];return V[P%V.length]},A={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},I={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.3}}};return t?y.jsx("div",{className:"p-6 max-w-5xl mx-auto flex justify-center items-center h-96",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Loading courses..."})]})}):y.jsxs("div",{className:"p-6 max-w-5xl mx-auto min-h-screen",children:[y.jsxs(kt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-10 text-center",children:[y.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-3",children:"Quiz Questions"}),y.jsx("p",{className:"text-xl text-gray-600 hidden sm:block",children:"Test your knowledge with quiz today!"})]}),C.length>0&&y.jsxs(kt.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6 flex items-center justify-center",children:[y.jsxs("button",{onClick:()=>Q(1),className:"flex items-center text-blue-600 hover:text-blue-800 font-medium mr-4 px-4 py-2 bg-blue-100 rounded-full",children:[y.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back"]}),y.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[y.jsx("span",{className:`cursor-pointer hover:text-blue-600 ${C.length>1?"font-medium":""}`,onClick:()=>Q(C.length),children:"All Courses"}),C.map((P,V)=>y.jsxs(sv.Fragment,{children:[y.jsx("i",{className:"fas fa-chevron-right mx-2 text-xs"}),y.jsx("span",{className:`cursor-pointer hover:text-blue-600 ${V===C.length-1?"font-bold text-blue-700":""}`,onClick:()=>Q(C.length-1-V),children:P.data.Subject||P.data.Title||P.data.SectionName})]},V))]})]}),y.jsx("div",{className:"relative min-h-96",children:y.jsx(sa,{mode:"wait",children:!j&&y.jsxs(kt.div,{initial:{opacity:0,x:C.length>0?50:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:C.length>0?-50:50},transition:{duration:.3},className:"absolute inset-0",children:[!f&&y.jsx(kt.div,{variants:A,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((P,V)=>{const L=D(V);return y.jsxs(kt.div,{variants:I,whileHover:{scale:1.03},whileTap:{scale:.98},className:`bg-white rounded-2xl p-6 shadow-lg border-l-8 border-${L}-500 cursor-pointer transition-all duration-300 hover:shadow-xl`,onClick:()=>B(P),children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("div",{className:`p-3 rounded-xl bg-${L}-100 text-${L}-600 mr-4`,children:y.jsx("i",{className:"fas fa-book text-2xl"})}),y.jsx("h2",{className:"text-xl font-bold text-gray-800",children:P.Subject})]}),y.jsxs("p",{className:"text-gray-600 mb-4",children:["Tutor: ",P.Tutor]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("span",{className:`text-sm font-medium px-3 py-1 rounded-full bg-${L}-100 text-${L}-700`,children:[o[P.id]?.length||"0"," Chapters"]}),y.jsxs("button",{className:`px-4 py-2 bg-${L}-500 text-white rounded-lg font-medium`,children:["Choose ",y.jsx("i",{className:"fas fa-arrow-right ml-2"})]})]})]},P.id)})}),f&&!x&&y.jsxs(kt.div,{variants:A,initial:"hidden",animate:"visible",className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-200 mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 flex items-center",children:[y.jsx("div",{className:"p-2 rounded-xl bg-blue-100 text-blue-600 mr-3",children:y.jsx("i",{className:"fas fa-book"})}),f.Subject]}),y.jsx("p",{className:"text-gray-600",children:"Select a chapter to practice"})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:o[f.id]?.map((P,V)=>{const L=D(V);return y.jsx(kt.div,{variants:I,whileHover:{scale:1.02},whileTap:{scale:.98},className:`bg-white rounded-xl p-5 shadow-sm border-l-4 border-${L}-500 cursor-pointer transition-all duration-300 hover:shadow-md`,onClick:()=>X(P),children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg py-1.5 text-gray-800",children:[P.Number,". ",P.Title]}),y.jsxs("p",{className:`text-sm font-medium px-3 py-1 rounded-full text-${L}-700`,children:[u[`${f.id}-${P.id}`]?.length||"0"," sections available"]})]}),y.jsxs("button",{className:`px-4 py-2 bg-${L}-500 text-white rounded-lg font-medium`,children:["Select ",y.jsx("i",{className:"fas fa-arrow-right ml-2"})]})]})},P.id)})})]}),f&&x&&y.jsxs(kt.div,{variants:A,initial:"hidden",animate:"visible",className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-200 mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 flex items-center",children:[y.jsx("div",{className:"p-2 rounded-xl bg-green-100 text-green-600 mr-3",children:y.jsx("i",{className:"fas fa-layer-group"})}),f.Subject," - Chapter ",x.Number]}),y.jsx("p",{className:"text-gray-600",children:"Select a section to practice"})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:u[`${f.id}-${x.id}`]?.map((P,V)=>{const L=D(V);return y.jsx(kt.div,{variants:I,whileHover:{scale:1.02},whileTap:{scale:.98},className:`bg-white rounded-xl p-5 shadow-sm border-l-4 border-${L}-500 transition-all duration-300 hover:shadow-md`,children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("h3",{className:"font-bold text-lg text-gray-800",children:[P.SectionNumber," ",P.SectionName]}),y.jsxs("div",{className:"flex items-center mt-2",children:[y.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Status: "}),y.jsx("span",{className:"text-sm font-medium px-2.5 py-1 rounded-full bg-gray-100 text-gray-700",children:"Not started"})]}),P.QuizVideoLink&&y.jsxs("a",{href:P.QuizVideoLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm hover:underline inline-flex items-center mt-2",onClick:O=>O.stopPropagation(),children:[y.jsx("i",{className:"fas fa-video mr-2 text-xs"})," Watch Video"]})]}),y.jsxs("div",{className:"flex space-x-3",children:[P.QuizVideoLink&&y.jsx("button",{className:"p-2.5 text-blue-500 hover:bg-blue-50 rounded-full transition-colors duration-200",onClick:O=>{O.stopPropagation(),window.open(P.QuizVideoLink,"_blank")},children:y.jsx("i",{className:"fas fa-video text-lg"})}),y.jsx("button",{onClick:()=>q(P),className:`px-4 py-2 bg-${L}-500 text-white rounded-lg font-medium hover:bg-${L}-600 transition-colors duration-200`,children:"Play Quiz"})]})]})},P.id)})})]})]},C.length)})})]})},_H=()=>{const{state:n}=bs(),{courseId:t,chapterId:e,sectionId:i}=n||{},s=jn(),{currentUser:o}=ux(),[l,u]=M.useState([]),[h,f]=M.useState(null),[p,x]=M.useState(!0),[b,w]=M.useState(null),[E,C]=M.useState(0),[R,j]=M.useState(0),[F,B]=M.useState(null),[X,q]=M.useState(null),[Q,D]=M.useState(!1),[A,I]=M.useState(!1),[P,V]=M.useState(0),[L,O]=M.useState([{name:"Loading...",id:"intializing..."}]),[nt,rt]=M.useState([{name:"Loading...",id:"intializing..."}]),[$,J]=M.useState(!1),[ct,gt]=M.useState(0),[U]=M.useState(window.innerWidth<768),it=_t=>_t>=80?"text-green-600":_t>=60?"text-yellow-600":"text-red-600",dt=_t=>{if(!_t)return null;if(_t.includes("youtube.com/embed"))return _t;const Jt=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Mt=_t.match(Jt),Ee=Mt&&Mt[2].length===11?Mt[2]:null;return Ee?`https://www.youtube.com/embed/${Ee}?rel=0`:null};M.useEffect(()=>{const _t=an(Yt,"courses",t),Jt=En(_t,jt=>{jt.exists()&&w(jt.data())}),Mt=an(Yt,"courses",t,"Chapters",e);En(Mt,jt=>{jt.exists()?O({...jt.data(),id:jt.id}):console.log("No such chapter document!")},jt=>{console.error("Firestore error:",jt),f(jt.message)},[t,e]);const Ee=an(Yt,"courses",t,"Chapters",e,"Section",i);En(Ee,jt=>{jt.exists()?rt({...jt.data(),id:jt.id}):console.log("No such section document!")},jt=>{console.error("Firestore error:",jt),f(jt.message)},[t,e,i]);const Ge=on(Yt,"courses",t,"Chapters",e,"Section",i,"Quiz");console.log(Ge);const $n=En(Ge,jt=>{const _s=jt.docs.map(Bi=>({id:Bi.id,...Bi.data()}));u(_s),x(!1)},jt=>{console.error("Firestore error:",jt),f(jt.message)});return()=>{Jt(),$n()}},[t]);const et=()=>{V(3);const _t=setInterval(()=>{V(Jt=>Jt<=1?(clearInterval(_t),I(!0),0):Jt-1)},1e3)},mt=_t=>{B(_t),q(l[E].Options[_t]);const Jt=l[E];l[E].Options[_t].toString()===Jt.CorrectAnswer&&j(Ee=>Ee+1),D(!0),gt(1),setTimeout(()=>{gt(2)},1e3)},bt=(_t,Jt)=>{if(!Q)return _t===0?"bg-red-400 text-white":_t===1?"bg-blue-400 text-white":_t===2?"bg-yellow-400 text-white":"bg-green-400 text-white";const Mt=l[E].Options[_t],Ee=F===_t,Ge=Mt.toString()===Jt.CorrectAnswer;if(ct===1){const $n=_t===0?"bg-red-400":_t===1?"bg-blue-400":_t===2?"bg-yellow-400":"bg-green-400";return Ee?`${$n} text-white`:`${$n} text-white opacity-50`}else if(ct===2)return Ge?"!bg-green-500 !text-white":Ee&&!Ge?"!bg-red-500/75 !text-white":"bg-gray-300 opacity-70";return""},ft=async()=>{E<l.length-1?(C(_t=>_t+1),q(null),D(!1),gt(0)):(D("completed"),await At())},At=async()=>{try{const _t=cc.currentUser;if(!_t)return;const Jt={score:R,totalQuestions:l.length,percentage:Math.round(R/l.length*100),timestamp:new Date,courseId:t,chapterId:e,sectionId:i},Mt=on(Yt,"users",_t.uid,"quizResults",t,"chapters",e,"sections",i,"attempts"),Ge=(await Mi(Mt)).docs.map(On=>({id:On.id,...On.data()})),$n=Ge.sort((On,mc)=>On.timestamp.toMillis()-mc.timestamp.toMillis()).slice(0,9),jt=[];if(Ge.length>=10){const On=$n[0];jt.push(bR(an(Mt,On.id)))}const _s=_R(Mt,Jt),Bi=an(Yt,"users",_t.uid,"allQuizAttempts",`${t}_${e}_${i}`),dr=Gu(Bi,Jt);await Promise.all([...jt,_s,dr]),console.log("Quiz results saved successfully!")}catch(_t){console.error("Error saving quiz results:",_t)}},Dt=()=>{window.location.reload()};if(p)return y.jsxs("div",{className:"flex justify-center items-center h-64",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),y.jsx("span",{className:"ml-3 text-gray-600",children:"Loading quiz..."})]});if(h)return y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative max-w-md",children:y.jsxs("span",{className:"block sm:inline",children:[" Error: ",h]})})});if(!l||l.length===0)return y.jsxs("div",{className:"text-center py-8",children:[y.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded max-w-md mx-auto",children:y.jsx("p",{children:"No quiz questions found."})}),y.jsx("button",{onClick:()=>s(-1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]});if(!A)return y.jsxs("div",{className:"p-6 max-w-4xl mx-auto text-center",children:[b&&y.jsxs("div",{children:[y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"block md:hidden mb-6 p-6 bg-white rounded-2xl shadow-lg border border-gray-200",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:b.Subject}),y.jsxs("p",{className:"text-gray-600",children:["Tutor: ",b.Tutor]}),y.jsxs("div",{className:"mt-4 bg-blue-100 text-blue-800 px-4 py-2 rounded-full inline-block",children:[y.jsx("i",{className:"fas fa-question-circle mr-2"}),l.length," questions ready"]})]}),y.jsx("div",{children:y.jsx(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hidden md:block bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-200 transition-all duration-300 hover:shadow-lg text-left",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold",children:b.Subject})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold",children:L.Title})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold",children:nt.SectionName})]})]})]})})})]}),P>0?y.jsx(kt.div,{initial:{scale:0},animate:{scale:1},className:"text-8xl font-bold my-16 text-blue-600",children:P},P):y.jsx(y.Fragment,{children:$?y.jsxs(kt.div,{initial:{opacity:0},animate:{opacity:1},children:[y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-200 mb-8",children:[y.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Are you ready?"}),y.jsx("div",{className:"text-5xl mb-6",children:""}),y.jsxs("p",{className:"text-gray-600 mb-6",children:["You'll answer ",l.length," questions. Do your best!"]}),y.jsxs("button",{onClick:et,className:"px-8 py-4 bg-green-600 text-white text-xl rounded-lg hover:bg-green-700 flex items-center mx-auto",children:[y.jsx("i",{className:"fas fa-play mr-2"}),"START QUIZ"]})]}),y.jsxs("div",{className:"flex justify-center space-x-4",children:[y.jsxs("button",{onClick:()=>J(!1),className:"px-6 py-3 bg-gray-300 text-gray-700 text-lg rounded-lg hover:bg-gray-400 flex items-center",children:[y.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Back to Video"]}),y.jsxs("button",{onClick:()=>s(-1),className:"px-6 py-3 bg-red-500 text-white text-lg rounded-lg hover:bg-red-600 flex items-center",children:[y.jsx("i",{className:"fas fa-times mr-2"}),"Exit Quiz"]})]})]}):y.jsxs(kt.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8",children:[y.jsxs("h2",{className:"text-3xl font-bold mb-6 text-gray-800 flex items-center justify-center",children:[y.jsx("i",{className:"fas fa-video mr-3 text-blue-500"}),"Watch This First"]}),y.jsx("div",{className:"mb-6",children:nt.QuizVideoLink?y.jsx("div",{className:"relative pb-[56.25%] h-0 overflow-hidden rounded-xl shadow-lg",children:y.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:dt(nt.QuizVideoLink),title:"Quiz Preparation Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):y.jsx("div",{className:"bg-gray-100 h-64 flex items-center justify-center rounded-xl",children:y.jsx("p",{className:"text-gray-500",children:"No video available"})})}),y.jsxs("div",{className:"flex justify-center space-x-4",children:[y.jsxs("button",{onClick:()=>J(!0),className:"px-6 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700 flex items-center",children:[y.jsx("i",{className:"fas fa-arrow-right mr-2"}),"Next"]}),y.jsxs("button",{onClick:()=>s(-1),className:"px-6 py-3 bg-red-500 text-white text-lg rounded-lg hover:bg-red-600 flex items-center",children:[y.jsx("i",{className:"fas fa-times mr-2"}),"Exit Quiz"]})]})]})})]});if(Q==="completed"){const _t=Math.round(R/l.length*100);return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto text-center",children:[b&&y.jsxs("div",{children:[y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"block md:hidden mb-6 p-6 bg-white rounded-2xl shadow-lg border border-gray-200",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:b.Subject}),y.jsxs("p",{className:"text-gray-600",children:["Tutor: ",b.Tutor]}),y.jsxs("div",{className:"mt-4 bg-blue-100 text-blue-800 px-4 py-2 rounded-full inline-block",children:[y.jsx("i",{className:"fas fa-question-circle mr-2"}),l.length," questions ready"]})]}),y.jsx("div",{children:y.jsx(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hidden md:block bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-200 transition-all duration-300 hover:shadow-lg text-left",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Course"}),y.jsx("p",{className:"text-lg font-semibold",children:b.Subject})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Chapter"}),y.jsx("p",{className:"text-lg font-semibold",children:L.Title})]})]}),y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Section"}),y.jsx("p",{className:"text-lg font-semibold",children:nt.SectionName})]})]})]})})})]}),y.jsxs(kt.div,{initial:{scale:.5},animate:{scale:1},className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-200",children:[y.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:["Quiz Completed! ",_t>=80?"":_t>=60?"":""]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("div",{className:"text-6xl font-bold mb-2",children:y.jsxs("span",{className:it(_t),children:[R,"/",l.length]})}),y.jsxs("div",{className:"text-xl text-gray-600",children:["(",_t,"% Correct)"]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:y.jsx("div",{className:`h-4 rounded-full ${_t>=80?"bg-green-500":_t>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${_t}%`}})}),y.jsxs("div",{className:"flex justify-center space-x-4",children:[y.jsxs("button",{onClick:Dt,className:"px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[y.jsx("i",{className:"fas fa-redo mr-2"}),"Play Again"]}),y.jsxs("button",{onClick:()=>s("/home/Practice"),className:"px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:bg-gray-400 flex items-center",children:[y.jsx("i",{className:"fas fa-book-open mr-2"}),"Practice Quiz"]}),y.jsxs("button",{onClick:()=>s("/home/Score"),className:"px-4 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:bg-gray-400 flex items-center",children:[y.jsx("i",{className:"fas fa-chart-line mr-2"}),"View Score"]})]})]})]})}const ee=l[E],Ve=(E+1)/l.length*100;return y.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[y.jsxs("div",{className:"mb-6 bg-white rounded-xl p-4 shadow-md border border-gray-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Question ",E+1," of ",l.length]}),y.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Score: ",R]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${Ve}%`}})})]}),y.jsxs(kt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200 mb-6",children:[y.jsx("h3",{className:"font-bold text-xl mb-6 text-gray-800 text-center",children:ee.Question||"No question text available"}),y.jsx("div",{className:"space-y-4",children:ee.Options.map((_t,Jt)=>y.jsxs(kt.div,{whileHover:{scale:Q?1:1.02},whileTap:{scale:Q?1:.98},className:`flex items-center p-4 rounded-xl cursor-pointer transition-all duration-300 ${bt(Jt,ee)}`,onClick:()=>!Q&&mt(Jt),children:[y.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full mr-4 ${!Q||ct===1?"bg-white/20":""}`,children:y.jsx("span",{className:"font-bold",children:String.fromCharCode(65+Jt)})}),y.jsx("span",{className:"text-lg",children:_t||`Option ${Jt+1}`})]},Jt))}),Q&&y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 flex justify-between items-center",children:[y.jsx("div",{className:`p-3 rounded-lg ${X.toString()===ee.CorrectAnswer?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:X.toString()===ee.CorrectAnswer?y.jsxs("span",{children:[y.jsx("i",{className:"fas fa-check-circle mr-2"})," Correct!"]}):y.jsxs("span",{children:[y.jsx("i",{className:"fas fa-times-circle mr-2"})," Incorrect! The correct answer is: ",ee.CorrectAnswer]})}),y.jsx("button",{onClick:ft,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:E<l.length-1?y.jsxs(y.Fragment,{children:["Next ",y.jsx("i",{className:"fas fa-arrow-right ml-2"})]}):y.jsxs(y.Fragment,{children:["Finish ",y.jsx("i",{className:"fas fa-flag-checkered ml-2"})]})})]})]},E)]})},wH=()=>{const[n,t]=M.useState(()=>localStorage.getItem("theme")==="dark");return M.useEffect(()=>{const e=window.document.documentElement;n?(e.classList.add("dark"),localStorage.setItem("theme","dark")):(e.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),y.jsx(p6,{children:y.jsx(FM,{children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg ring shadow-xl ring-gray-900/5 min-h-screen",children:[y.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"}),y.jsxs(xM,{children:[y.jsx(wn,{path:"/",element:y.jsx(u6,{})}),y.jsxs(wn,{path:"/home",element:y.jsxs(y.Fragment,{children:[y.jsx(m6,{})," "]}),children:[y.jsx(wn,{index:!0,element:y.jsx(g6,{})}),y.jsx(wn,{path:"testing",element:y.jsx(v6,{})}),y.jsx(wn,{path:"courses",element:y.jsx(b6,{})}),y.jsx(wn,{path:"courses/:courseId/chapters",element:y.jsx(T6,{})}),y.jsx(wn,{path:"courses/:courseId/chapters/:chapterId/section",element:y.jsx(E6,{})}),y.jsx(wn,{path:"courses/:courseId/chapters/:chapterId/section/:sectionId/quiz",element:y.jsx(_6,{})}),y.jsx(wn,{path:"quizMenu",element:y.jsx(bH,{})}),y.jsx(wn,{path:"quizMenu/quizGame",element:y.jsx(_H,{})}),y.jsx(wn,{path:"score",element:y.jsx(rU,{})}),y.jsx(wn,{path:"score/sectionScore",element:y.jsx(yH,{})}),y.jsx(wn,{path:"practice",element:y.jsx(vH,{})}),y.jsx(wn,{path:"practice/quiz",element:y.jsx(xH,{})}),y.jsx(wn,{path:"settings",element:y.jsx(y6,{})})]})]})]})})})};AD.createRoot(document.getElementById("root")).render(y.jsx(M.StrictMode,{children:y.jsx(wH,{})}));
